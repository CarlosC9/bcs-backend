(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var i=n("mrSG"),r=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new r.a;this.instancesDeferred.set(e,n);try{var i=this.getOrInitializeService(e);i&&n.resolve(i)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(i.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,r=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(r);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(u){}try{for(var r=Object(i.h)(this.instancesDeferred.entries()),o=r.next();!o.done;o=r.next()){var s=Object(i.e)(o.value,2),a=s[1],c=this.normalizeInstanceIdentifier(s[0]);try{var l=this.getOrInitializeService(c);a.resolve(l)}catch(u){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(i.b)(this,void 0,void 0,function(){var t;return Object(i.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(i.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"0z79":function(t,e,n){const i=n("AdPF"),r=n("CUme"),o=n("cpc2"),{pick:s}=n("Eexf"),a=n("2UHX"),c=n("NOtv")("engine.io-client:polling-xhr");function l(){}const u=null!=new i({xdomain:!1}).responseType;class h extends o{constructor(t,e){super(),this.opts=e,this.method=e.method||"GET",this.uri=t,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.create()}create(){const t=s(this.opts,"agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const e=this.xhr=new i(t);try{c("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0);for(let t in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(t)&&e.setRequestHeader(t,this.opts.extraHeaders[t])}}catch(n){}if("POST"===this.method)try{e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(n){}try{e.setRequestHeader("Accept","*/*")}catch(n){}"withCredentials"in e&&(e.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(e.timeout=this.opts.requestTimeout),this.hasXDR()?(e.onload=()=>{this.onLoad()},e.onerror=()=>{this.onError(e.responseText)}):e.onreadystatechange=()=>{4===e.readyState&&(200===e.status||1223===e.status?this.onLoad():setTimeout(()=>{this.onError("number"==typeof e.status?e.status:0)},0))},c("xhr data %s",this.data),e.send(this.data)}catch(n){return void setTimeout(()=>{this.onError(n)},0)}"undefined"!=typeof document&&(this.index=h.requestsCount++,h.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(t){this.emit("data",t),this.onSuccess()}onError(t){this.emit("error",t),this.cleanup(!0)}cleanup(t){if(null!=this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=l:this.xhr.onreadystatechange=l,t)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete h.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&this.onData(t)}hasXDR(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR}abort(){this.cleanup()}}function d(){for(let t in h.requests)h.requests.hasOwnProperty(t)&&h.requests[t].abort()}h.requestsCount=0,h.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",d):"function"==typeof addEventListener&&addEventListener("onpagehide"in a?"pagehide":"unload",d,!1)),t.exports=class extends r{constructor(t){if(super(t),"undefined"!=typeof location){const e="https:"===location.protocol;let n=location.port;n||(n=e?443:80),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||n!==t.port,this.xs=t.secure!==e}this.supportsBinary=u&&!(t&&t.forceBase64)}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new h(this.uri(),t)}doWrite(t,e){const n=this.request({method:"POST",data:t});n.on("success",e),n.on("error",t=>{this.onError("xhr post error",t)})}doPoll(){c("xhr poll");const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",t=>{this.onError("xhr poll error",t)}),this.pollXhr=t}},t.exports.Request=h},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2UHX":function(t,e){t.exports="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},"2Vo4":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("XNiG"),r=n("9ppp");class o extends i.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new r.a;return this._value}next(t){super.next(this._value=t)}}},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return r});let i=!1;const r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}}},"2pII":function(t,e,n){const i=n("akSB"),r=n("cpc2"),o=n("NOtv")("engine.io-client:socket"),s=n("KoVT"),a=n("Uxeu"),c=n("TypT");class l extends r{constructor(t,e={}){super(),t&&"object"==typeof t&&(e=t,t=null),t?(t=a(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=a(e.host).host),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.transports=e.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},e),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=c.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){o('creating transport "%s"',t);const e=function(t){const e={};for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.opts.query);e.EIO=s.protocol,e.transport=t,this.id&&(e.sid=this.id);const n=Object.assign({},this.opts.transportOptions[t],this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return o("options: %j",n),new i[t](n)}open(){let t;if(this.opts.rememberUpgrade&&l.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void setTimeout(()=>{this.emit("error","No transports available")},0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(e){return o("error while creating transport: %s",e),this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){o("setting transport %s",t.name),this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",()=>{this.onClose("transport close")})}probe(t){o('probing transport "%s"',t);let e=this.createTransport(t,{probe:1}),n=!1;l.priorWebsocketSuccess=!1;const i=()=>{n||(o('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",i=>{if(!n)if("pong"===i.type&&"probe"===i.data){if(o('probe transport "%s" pong',t),this.upgrading=!0,this.emit("upgrading",e),!e)return;l.priorWebsocketSuccess="websocket"===e.name,o('pausing current transport "%s"',this.transport.name),this.transport.pause(()=>{n||"closed"!==this.readyState&&(o("changing transport and sending upgrade packet"),h(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emit("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{o('probe transport "%s" failed',t);const n=new Error("probe error");n.transport=e.name,this.emit("upgradeError",n)}}))};function r(){n||(n=!0,h(),e.close(),e=null)}const s=n=>{const i=new Error("probe error: "+n);i.transport=e.name,r(),o('probe transport "%s" failed because of error: %s',t,n),this.emit("upgradeError",i)};function a(){s("transport closed")}function c(){s("socket closed")}function u(t){e&&t.name!==e.name&&(o('"%s" works - aborting "%s"',t.name,e.name),r())}const h=()=>{e.removeListener("open",i),e.removeListener("error",s),e.removeListener("close",a),this.removeListener("close",c),this.removeListener("upgrading",u)};e.once("open",i),e.once("error",s),e.once("close",a),this.once("close",c),this.once("upgrading",u),e.open()}onOpen(){if(o("socket open"),this.readyState="open",l.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){o("starting upgrade probes");let t=0;const e=this.upgrades.length;for(;t<e;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emit("pong");break;case"error":const e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else o('packet received with socket readyState "%s"',this.readyState)}onHandshake(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=setTimeout(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()}flush(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))}write(t,e,n){return this.sendPacket("message",t,e,n),this}send(t,e,n){return this.sendPacket("message",t,e,n),this}sendPacket(t,e,n,i){if("function"==typeof e&&(i=e,e=void 0),"function"==typeof n&&(i=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const r={type:t,data:e,options:n};this.emit("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this.onClose("forced close"),o("socket closing - telling transport to close"),this.transport.close()},e=()=>{this.removeListener("upgrade",e),this.removeListener("upgradeError",e),t()},n=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}onError(t){o("socket error %j",t),l.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)}onClose(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(o('socket close with reason: "%s"',t),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const e=[];let n=0;const i=t.length;for(;n<i;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}}l.priorWebsocketSuccess=!1,l.protocol=s.protocol,t.exports=l},"3JDX":function(t,e,n){t.exports=function(t){function e(t){let n,r=null;function o(...t){if(!o.enabled)return;const i=o,r=Number(new Date);i.diff=r-(n||r),i.prev=n,i.curr=r,n=r,t[0]=e.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let s=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(n,r)=>{if("%%"===n)return"%";s++;const o=e.formatters[r];return"function"==typeof o&&(n=o.call(i,t[s]),t.splice(s,1),s--),n}),e.formatArgs.call(i,t),(i.log||e.log).apply(i,t)}return o.namespace=t,o.useColors=e.useColors(),o.color=e.selectColor(t),o.extend=i,o.destroy=e.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null===r?e.enabled(t):r,set:t=>{r=t}}),"function"==typeof e.init&&e.init(o),o}function i(t,n){const i=e(this.namespace+(void 0===n?":":n)+t);return i.log=this.log,i}function r(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){const t=[...e.names.map(r),...e.skips.map(r).map(t=>"-"+t)].join(",");return e.enable(""),t},e.enable=function(t){let n;e.save(t),e.names=[],e.skips=[];const i=("string"==typeof t?t:"").split(/[\s,]+/),r=i.length;for(n=0;n<r;n++)i[n]&&("-"===(t=i[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){if("*"===t[t.length-1])return!0;let n,i;for(n=0,i=e.skips.length;n<i;n++)if(e.skips[n].test(t))return!1;for(n=0,i=e.names.length;n<i;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n("FGiv"),e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(n=>{e[n]=t[n]}),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(t){let n=0;for(let e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;return e.colors[Math.abs(n)%e.colors.length]},e.enable(e.load()),e}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("quSY");class r extends i.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends r{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,i=!1;try{this.work(t)}catch(r){i=!0,n=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"4I5i":function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},"4Trj":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StrictEventEmitter=void 0;const i=n("cpc2");e.StrictEventEmitter=class extends i{on(t,e){return super.on(t,e),this}once(t,e){return super.once(t,e),this}emit(t,...e){return super.emit(t,...e),this}emitReserved(t,...e){return super.emit(t,...e),this}listeners(t){return super.listeners(t)}}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("lJxs"),r=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(r.a)(t(n,o)).pipe(Object(i.a)((t,i)=>e(n,t,o,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const i=Object(o.c)(t,e);i!==e&&n.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return p});let i=1;const r=(()=>Promise.resolve())(),o={};function s(t){return t in o&&(delete o[t],!0)}const a={setImmediate(t){const e=i++;return o[e]=!0,r.then(()=>s(e)&&t()),e},clearImmediate(t){s(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var u=n("IjjT");class h extends u.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(l),p=d},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("n6bG"),r=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class l extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=r.a;break;case 1:if(!t){this.destination=r.a;break}if("object"==typeof t){t instanceof l?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const i=new l(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class u extends l{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(i.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==r.a&&(a=Object.create(e),Object(i.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(Object(c.a)(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},AdPF:function(t,e,n){const i=n("yeub"),r=n("2UHX");t.exports=function(t){const e=t.xdomain,n=t.xscheme,o=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||i))return new XMLHttpRequest}catch(s){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(s){}if(!e)try{return new(r[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(s){}}},Aplp:function(t,e,n){"use strict";var i,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o={},s=0,a=0;function c(t){var e="";do{e=r[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function l(){var t=c(+new Date);return t!==i?(s=0,i=t):t+"."+c(s++)}for(;a<64;a++)o[r[a]]=a;l.encode=c,l.decode=function(t){var e=0;for(a=0;a<t.length;a++)e=64*e+o[t.charAt(a)];return e},t.exports=l},Byvj:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.on=void 0,e.on=function(t,e,n){return t.on(e,n),function(){t.off(e,n)}}},C2QD:function(t,e){function n(t){this.ms=(t=t||{}).min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}},CIKq:function(t,e,n){const i=n("Gbct"),r=n("KoVT"),o=n("TypT"),s=n("Aplp"),{pick:a}=n("Eexf"),{WebSocket:c,usingBrowserWebSocket:l,defaultBinaryType:u}=n("X071"),h=n("NOtv")("engine.io-client:websocket"),d="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class p extends i{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),e=this.opts.protocols,n=d?{}:a(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=l&&!d?e?new c(t,e):new c(t):new c(t,e,n)}catch(i){return this.emit("error",i)}this.ws.binaryType=this.socket.binaryType||u,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],i=e===t.length-1;r.encodePacket(n,this.supportsBinary,t=>{const e={};!l&&(n.options&&(e.compress=n.options.compress),this.opts.perMessageDeflate)&&("string"==typeof t?Buffer.byteLength(t):t.length)<this.opts.perMessageDeflate.threshold&&(e.compress=!1);try{l?this.ws.send(t):this.ws.send(t,e)}catch(r){h("websocket closed before onclose event")}i&&setTimeout(()=>{this.writable=!0,this.emit("drain")},0)})}}onClose(){i.prototype.onClose.call(this)}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const e=this.opts.secure?"wss":"ws";let n="";return this.opts.port&&("wss"===e&&443!==Number(this.opts.port)||"ws"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=s()),this.supportsBinary||(t.b64=1),t=o.encode(t),t.length&&(t="?"+t),e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+t}check(){return!(!c||"__initialize"in c&&this.name===p.prototype.name)}}t.exports=p},CUme:function(t,e,n){const i=n("Gbct"),r=n("TypT"),o=n("KoVT"),s=n("Aplp"),a=n("NOtv")("engine.io-client:polling");t.exports=class extends i{get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const e=()=>{a("paused"),this.readyState="paused",t()};if(this.polling||!this.writable){let t=0;this.polling&&(a("we are currently polling - waiting to pause"),t++,this.once("pollComplete",function(){a("pre-pause polling complete"),--t||e()})),this.writable||(a("we are currently writing - waiting to pause"),t++,this.once("drain",function(){a("pre-pause writing complete"),--t||e()}))}else e()}poll(){a("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}onData(t){a("polling got data %s",t),o.decodePayload(t,this.socket.binaryType).forEach(t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose(),!1;this.onPacket(t)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():a('ignoring poll - transport state "%s"',this.readyState))}doClose(){const t=()=>{a("writing close packet"),this.write([{type:"close"}])};"open"===this.readyState?(a("transport open - closing"),t()):(a("transport not open - deferring close"),this.once("open",t))}write(t){this.writable=!1,o.encodePayload(t,t=>{this.doWrite(t,()=>{this.writable=!0,this.emit("drain")})})}uri(){let t=this.query||{};const e=this.opts.secure?"https":"http";let n="";return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=s()),this.supportsBinary||t.sid||(t.b64=1),t=r.encode(t),this.opts.port&&("https"===e&&443!==Number(this.opts.port)||"http"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),t.length&&(t="?"+t),e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+t}}},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n("HDdC"),r=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),c=n("Lhse"),l=n("c2HN"),u=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new i.a(n=>{const i=new o.a;return i.add(e.schedule(()=>{const r=t[s.a]();i.add(r.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if(Object(l.a)(t))return function(t,e){return new i.a(n=>{const i=new o.a;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i})}(t,e);if(Object(u.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new i.a(n=>{const i=new o.a;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=t[c.a](),i.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=r.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof i.a?t:new i.a(Object(r.a)(t))}},Cl5A:function(t,e,n){const i=n("CUme"),r=n("2UHX"),o=/\n/g,s=/\\n/g;let a;t.exports=class extends i{constructor(t){super(t),this.query=this.query||{},a||(a=r.___eio=r.___eio||[]),this.index=a.length,a.push(this.onData.bind(this)),this.query.j=this.index}get supportsBinary(){return!1}doClose(){this.script&&(this.script.onerror=()=>{},this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),super.doClose()}doPoll(){const t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=t=>{this.onError("jsonp poll error",t)};const e=document.getElementsByTagName("script")[0];e?e.parentNode.insertBefore(t,e):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){const t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)}doWrite(t,e){let n;if(!this.form){const t=document.createElement("form"),e=document.createElement("textarea"),n=this.iframeId="eio_iframe_"+this.index;t.className="socketio",t.style.position="absolute",t.style.top="-1000px",t.style.left="-1000px",t.target=n,t.method="POST",t.setAttribute("accept-charset","utf-8"),e.name="d",t.appendChild(e),document.body.appendChild(t),this.form=t,this.area=e}function i(){r(),e()}this.form.action=this.uri();const r=()=>{if(this.iframe)try{this.form.removeChild(this.iframe)}catch(t){this.onError("jsonp polling iframe removal error",t)}try{n=document.createElement('<iframe src="javascript:0" name="'+this.iframeId+'">')}catch(t){n=document.createElement("iframe"),n.name=this.iframeId,n.src="javascript:0"}n.id=this.iframeId,this.form.appendChild(n),this.iframe=n};r(),t=t.replace(s,"\\\n"),this.area.value=t.replace(o,"\\n");try{this.form.submit()}catch(a){}this.iframe.attachEvent?this.iframe.onreadystatechange=()=>{"complete"===this.iframe.readyState&&i()}:this.iframe.onload=i}}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o});var i=n("3N8a");const r=new(n("IjjT").a)(i.a),o=r},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var i=n("HDdC");const r=new i.a(t=>t.complete());function o(t){return t?function(t){return new i.a(e=>t.schedule(()=>e.complete()))}(t):r}},Eexf:function(t,e){t.exports.pick=(t,...e)=>e.reduce((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e),{})},FGiv:function(t,e){var n=1e3,i=60*n,r=60*i,o=24*r;function s(t,e,n,i){var r=e>=1.5*n;return Math.round(t/n)+" "+i+(r?"s":"")}t.exports=function(t,e){e=e||{};var a,c,l=typeof t;if("string"===l&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*i;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(t);if("number"===l&&isFinite(t))return e.long?(a=t,(c=Math.abs(a))>=o?s(a,c,o,"day"):c>=r?s(a,c,r,"hour"):c>=i?s(a,c,i,"minute"):c>=n?s(a,c,n,"second"):a+" ms"):function(t){var e=Math.abs(t);return e>=o?Math.round(t/o)+"d":e>=r?Math.round(t/r)+"h":e>=i?Math.round(t/i)+"m":e>=n?Math.round(t/n)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},GPJE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){try{this.base=new URL(t),this.params=new URLSearchParams(this.base.search.slice(1))}catch(e){console.error("Un-parsable URL",e)}}return t.prototype.appendQueryParam=function(t,e){this.params.append(t,e?e.toString():"")},t.prototype.clearQueryParams=function(){return this.params=new URLSearchParams,this},t.prototype.deleteQueryParam=function(t){this.params.delete(t)},t.prototype.getBase=function(){return this.base},t.prototype.getPath=function(){return this.base.pathname},t.prototype.getHostname=function(){return this.base.hostname},t.prototype.getParams=function(){return this.params},t.prototype.getQueryParam=function(t){if(!this.params)return"";var e=this.params.get(t);return e&&"undefined"!==e&&"null"!==e?e:void 0},t.prototype.getQueryString=function(){return this.params.toString()},t.prototype.setPath=function(t){return this.base.pathname=t,this},t.prototype.setQueryParam=function(t,e){return this.params.set(t,e?e.toString():""),this},t.prototype.setQueryString=function(t){if(t)return"?"===t[0]&&(t=t.slice(1)),this.params=new URLSearchParams(t),this},t.prototype.toString=function(){var t=this.params.toString();return this.base.search=""===t?"":"?"+t,this.base.toString()},t}();e.URLBuilder=i},Gbct:function(t,e,n){const i=n("KoVT"),r=n("cpc2"),o=n("NOtv")("engine.io-client:transport");t.exports=class extends r{constructor(t){super(),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,e){const n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState?this.write(t):o("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,this.emit("open")}onData(t){const e=i.decodePacket(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){this.emit("packet",t)}onClose(){this.readyState="closed",this.emit("close")}}},GyhO:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("LRne"),r=n("bHdf");function o(...t){return Object(r.a)(1)(Object(i.a)(...t))}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("7o/Q"),r=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),c=n("2fFW");let l=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[r.a])return t[r.a]()}return t||e||n?new i.a(t,e,n):new i.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof i.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=u(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(r){n(r),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=u(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function u(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=t=>t&&"number"==typeof t.length&&"function"!=typeof t},Iab2:function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function(){"use strict";function e(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){s(i.response,e,n)},i.onerror=function(){console.error("could not download file")},i.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function i(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,o=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(t,o,s){var a=r.URL||r.webkitURL,c=document.createElement("a");c.download=o=o||t.name||"download",c.rel="noopener","string"==typeof t?(c.href=t,c.origin===location.origin?i(c):n(c.href)?e(t,o,s):i(c,c.target="_blank")):(c.href=a.createObjectURL(t),setTimeout(function(){a.revokeObjectURL(c.href)},4e4),setTimeout(function(){i(c)},0))}:"msSaveOrOpenBlob"in navigator?function(t,r,o){if(r=r||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,o),r);else if(n(t))e(t,r,o);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout(function(){i(s)})}}:function(t,n,i,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,i);var a="application/octet-stream"===t.type,c=/constructor/i.test(r.HTMLElement)||r.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&c||o)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=t:location=t,s=null},u.readAsDataURL(t)}else{var h=r.URL||r.webkitURL,d=h.createObjectURL(t);s?s.location=d:location.href=d,s=null,setTimeout(function(){h.revokeObjectURL(d)},4e4)}});r.saveAs=s.saveAs=s,t.exports=s})?i.apply(e,[]):i)||(t.exports=r)},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return r});let i=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class r extends i{constructor(t,e=i.now){super(t,()=>r.delegate&&r.delegate!==this?r.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return r.delegate&&r.delegate!==this?r.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},IzEk:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("7o/Q"),r=n("4I5i"),o=n("EY2u");function s(t){return e=>0===t?Object(o.b)():e.lift(new a(t))}class a{constructor(t){if(this.total=t,this.total<0)throw new r.a}call(t,e){return e.subscribe(new c(t,this.total))}}class c extends i.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},JIr8:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("zx2A");function r(t){return function(e){const n=new o(t),i=e.lift(n);return n.caught=i}}class o{constructor(t){this.selector=t}call(t,e){return e.subscribe(new s(t,this.selector,this.caught))}}class s extends i.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new i.a(this);this.add(r);const o=Object(i.c)(n,r);o!==r&&this.add(o)}}}},JX91:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("GyhO"),r=n("z+Ro");function o(...t){const e=t[t.length-1];return Object(r.a)(e)?(t.pop(),n=>Object(i.a)(t,n,e)):e=>Object(i.a)(t,e)}},JaUx:function(t,e,n){t.exports=function(){"use strict";function t(t,i,r,o,s){!function t(n,i,r,o,s){for(;o>r;){if(o-r>600){var a=o-r+1,c=i-r+1,l=Math.log(a),u=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*u*(a-u)/a)*(c-a/2<0?-1:1);t(n,i,Math.max(r,Math.floor(i-c*u/a+h)),Math.min(o,Math.floor(i+(a-c)*u/a+h)),s)}var d=n[i],p=r,f=o;for(e(n,r,i),s(n[o],d)>0&&e(n,r,o);p<f;){for(e(n,p,f),p++,f--;s(n[p],d)<0;)p++;for(;s(n[f],d)>0;)f--}0===s(n[r],d)?e(n,r,f):e(n,++f,o),f<=i&&(r=f+1),i<=f&&(o=f-1)}}(t,i,r||0,o||t.length-1,s||n)}function e(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function n(t,e){return t<e?-1:t>e?1:0}var i=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function r(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function o(t,e){s(t,0,t.children.length,e,t)}function s(t,e,n,i,r){r||(r=f(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o=e;o<n;o++){var s=t.children[o];a(r,t.leaf?i(s):s)}return r}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function c(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function u(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function f(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,n,i,r,o){for(var s=[n,i];s.length;)if(!((i=s.pop())-(n=s.pop())<=r)){var a=n+Math.ceil((i-n)/r/2)*r;t(e,a,n,i,o),s.push(n,a,a,i)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(t){var e=this.data,n=[];if(!p(t,e))return n;for(var i=this.toBBox,r=[];e;){for(var o=0;o<e.children.length;o++){var s=e.children[o],a=e.leaf?i(s):s;p(t,a)&&(e.leaf?n.push(s):d(t,a)?this._all(s,n):r.push(s))}e=r.pop()}return n},i.prototype.collides=function(t){var e=this.data;if(!p(t,e))return!1;for(var n=[];e;){for(var i=0;i<e.children.length;i++){var r=e.children[i],o=e.leaf?this.toBBox(r):r;if(p(t,o)){if(e.leaf||d(t,o))return!0;n.push(r)}}e=n.pop()}return!1},i.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},i.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},i.prototype.clear=function(){return this.data=f([]),this},i.prototype.remove=function(t,e){if(!t)return this;for(var n,i,o,s=this.data,a=this.toBBox(t),c=[],l=[];s||c.length;){if(s||(s=c.pop(),i=c[c.length-1],n=l.pop(),o=!0),s.leaf){var u=r(t,s.children,e);if(-1!==u)return s.children.splice(u,1),c.push(s),this._condense(c),this}o||s.leaf||!d(s,a)?i?(n++,s=i.children[n],o=!1):s=null:(c.push(s),l.push(n),n=0,i=s,s=s.children[0])}return this},i.prototype.toBBox=function(t){return t},i.prototype.compareMinX=function(t,e){return t.minX-e.minX},i.prototype.compareMinY=function(t,e){return t.minY-e.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(t){return this.data=t,this},i.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},i.prototype._build=function(t,e,n,i){var r,s=n-e+1,a=this._maxEntries;if(s<=a)return o(r=f(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,i-1))),(r=f([])).leaf=!1,r.height=i;var c=Math.ceil(s/a),l=c*Math.ceil(Math.sqrt(a));g(t,e,n,l,this.compareMinX);for(var u=e;u<=n;u+=l){var h=Math.min(u+l-1,n);g(t,u,h,c,this.compareMinY);for(var d=u;d<=h;d+=c){var p=Math.min(d+c-1,h);r.children.push(this._build(t,d,p,i-1))}}return o(r,this.toBBox),r},i.prototype._chooseSubtree=function(t,e,n,i){for(;i.push(e),!e.leaf&&i.length-1!==n;){for(var r=1/0,o=1/0,s=void 0,a=0;a<e.children.length;a++){var c=e.children[a],l=u(c),h=(d=t,p=c,(Math.max(p.maxX,d.maxX)-Math.min(p.minX,d.minX))*(Math.max(p.maxY,d.maxY)-Math.min(p.minY,d.minY))-l);h<o?(o=h,r=l<r?l:r,s=c):h===o&&l<r&&(r=l,s=c)}e=s||e.children[0]}var d,p;return e},i.prototype._insert=function(t,e,n){var i=n?t:this.toBBox(t),r=[],o=this._chooseSubtree(i,this.data,e,r);for(o.children.push(t),a(o,i);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(i,r,e)},i.prototype._split=function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var s=this._chooseSplitIndex(n,r,i),a=f(n.children.splice(s,n.children.length-s));a.height=n.height,a.leaf=n.leaf,o(n,this.toBBox),o(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},i.prototype._splitRoot=function(t,e){this.data=f([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(t,e,n){for(var i,r,o,a,c,l,h,d=1/0,p=1/0,f=e;f<=n-e;f++){var g=s(t,0,f,this.toBBox),m=s(t,f,n,this.toBBox),b=(r=g,o=m,a=Math.max(r.minX,o.minX),c=Math.max(r.minY,o.minY),l=Math.min(r.maxX,o.maxX),h=Math.min(r.maxY,o.maxY),Math.max(0,l-a)*Math.max(0,h-c)),y=u(g)+u(m);b<d?(d=b,i=f,p=y<p?y:p):b===d&&y<p&&(p=y,i=f)}return i||n-e},i.prototype._chooseSplitAxis=function(t,e,n){var i=t.leaf?this.compareMinX:c,r=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},i.prototype._allDistMargin=function(t,e,n,i){t.children.sort(i);for(var r=this.toBBox,o=s(t,0,e,r),c=s(t,n-e,n,r),l=h(o)+h(c),u=e;u<n-e;u++){var d=t.children[u];a(o,t.leaf?r(d):d),l+=h(o)}for(var p=n-e-1;p>=e;p--){var f=t.children[p];a(c,t.leaf?r(f):f),l+=h(c)}return l},i.prototype._adjustParentBBoxes=function(t,e,n){for(var i=n;i>=0;i--)a(e[i],t)},i.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},i}()},Jgta:function(t,e,n){"use strict";var i=n("zIRd");n.d(e,"a",function(){return i.a}),i.a.registerVersion("firebase","8.2.4","app")},KFhd:function(t,e,n){const{PACKET_TYPES:i}=n("gC2B"),r="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),o="function"==typeof ArrayBuffer,s=(t,e)=>{const n=new FileReader;return n.onload=function(){const t=n.result.split(",")[1];e("b"+t)},n.readAsDataURL(t)};t.exports=({type:t,data:e},n,a)=>{return r&&e instanceof Blob?n?a(e):s(e,a):o&&(e instanceof ArrayBuffer||(c=e,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(c):c&&c.buffer instanceof ArrayBuffer))?n?a(e instanceof ArrayBuffer?e:e.buffer):s(new Blob([e]),a):a(i[t]+(e||""));var c}},KoVT:function(t,e,n){const i=n("KFhd"),r=n("fP3r"),o=String.fromCharCode(30);t.exports={protocol:4,encodePacket:i,encodePayload:(t,e)=>{const n=t.length,r=new Array(n);let s=0;t.forEach((t,a)=>{i(t,!1,t=>{r[a]=t,++s===n&&e(r.join(o))})})},decodePacket:r,decodePayload:(t,e)=>{const n=t.split(o),i=[];for(let o=0;o<n.length;o++){const t=r(n[o],e);if(i.push(t),"error"===t.type)break}return i}}},Kqap:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new o(t,e,n))}}class o{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new s(t,this.accumulator,this.seed,this.hasSeed))}}class s extends i.a{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}},KqfI:function(t,e,n){"use strict";function i(){}n.d(e,"a",function(){return i})},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("z+Ro"),r=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(i.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(r.a)(t)}},Lhse:function(t,e,n){"use strict";function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return r});const r=i()},NJ4a:function(t,e,n){"use strict";function i(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return i})},NOtv:function(t,e,n){e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let i=0,r=0;e[0].replace(/%[a-zA-Z%]/g,t=>{"%%"!==t&&(i++,"%c"===t&&(r=i))}),e.splice(r,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(n){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(n){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t},e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage=function(){try{return localStorage}catch(t){}}(),e.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=n("3JDX")(e);const{formatters:i}=t.exports;i.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},NXyV:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("HDdC"),r=n("Cfvw"),o=n("EY2u");function s(t){return new i.a(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?Object(r.a)(n):Object(o.b)()).subscribe(e)})}},PVQj:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Manager=void 0;const i=n("lKxJ"),r=n("eFEk"),o=n("ggWO"),s=n("Byvj"),a=n("C2QD"),c=n("4Trj"),l=n("NOtv")("socket.io-client:manager");e.Manager=class extends c.StrictEventEmitter{constructor(t,e){super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new a({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=t;const n=e.parser||o;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(l("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=i(this.uri,this.opts);const e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=s.on(e,"open",function(){n.onopen(),t&&t()}),o=s.on(e,"error",e=>{l("error"),n.cleanup(),n._readyState="closed",this.emitReserved("error",e),t?t(e):n.maybeReconnectOnOpen()});if(!1!==this._timeout){const t=this._timeout;l("connect attempt will timeout after %d",t),0===t&&r();const n=setTimeout(()=>{l("connect attempt timed out after %d",t),r(),e.close(),e.emit("error",new Error("timeout"))},t);this.opts.autoUnref&&n.unref(),this.subs.push(function(){clearTimeout(n)})}return this.subs.push(r),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){l("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(s.on(t,"ping",this.onping.bind(this)),s.on(t,"data",this.ondata.bind(this)),s.on(t,"error",this.onerror.bind(this)),s.on(t,"close",this.onclose.bind(this)),s.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){this.decoder.add(t)}ondecoded(t){this.emitReserved("packet",t)}onerror(t){l("error",t),this.emitReserved("error",t)}socket(t,e){let n=this.nsps[t];return n||(n=new r.Socket(this,t,e),this.nsps[t]=n),n}_destroy(t){const e=Object.keys(this.nsps);for(const n of e)if(this.nsps[n].active)return void l("socket %s is still active, skipping close",n);this._close()}_packet(t){l("writing packet %j",t);const e=this.encoder.encode(t);for(let n=0;n<e.length;n++)this.engine.write(e[n],t.options)}cleanup(){l("cleanup"),this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){l("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,"opening"===this._readyState&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t){l("onclose"),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();l("will wait %dms before reconnect attempt",e),this._reconnecting=!0;const n=setTimeout(()=>{t.skipReconnect||(l("attempting reconnect"),this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open(e=>{e?(l("reconnect attempt error"),t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):(l("reconnect success"),t.onreconnect())}))},e);this.opts.autoUnref&&n.unref(),this.subs.push(function(){clearTimeout(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("ngJS"),r=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),c=n("c2HN"),l=n("XoHu");const u=t=>{if(t&&"function"==typeof t[s.a])return u=t,t=>{const e=u[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(i.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,r.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(i){return t.error(i),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(l.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,u}},SpAZ:function(t,e,n){"use strict";function i(t){return t}n.d(e,"a",function(){return i})},SxV6:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("sVev"),r=n("pLZG"),o=n("IzEk"),s=n("xbPD"),a=n("XDbj"),c=n("SpAZ");function l(t,e){const n=arguments.length>=2;return l=>l.pipe(t?Object(r.a)((e,n)=>t(e,n,l)):c.a,Object(o.a)(1),n?Object(s.a)(e):Object(a.a)(()=>new i.a))}},TypT:function(t,e){e.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split("&"),i=0,r=n.length;i<r;i++){var o=n[i].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}},Uxeu:function(t,e){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e,r,o=t,s=t.indexOf("["),a=t.indexOf("]");-1!=s&&-1!=a&&(t=t.substring(0,s)+t.substring(s,a).replace(/:/g,";")+t.substring(a,t.length));for(var c,l=n.exec(t||""),u={},h=14;h--;)u[i[h]]=l[h]||"";return-1!=s&&-1!=a&&(u.source=o,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u.pathNames=(r=(e=u.path).replace(/\/{2,9}/g,"/").split("/"),"/"!=e.substr(0,1)&&0!==e.length||r.splice(0,1),"/"==e.substr(e.length-1,1)&&r.splice(r.length-1,1),r),u.queryKey=(c={},u.query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(t,e,n){e&&(c[e]=n)}),c),u}},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("HDdC"),r=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(r.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof i.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("EY2u"),r=n("LRne"),o=n("z6cu");let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(r.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},X071:function(t,e,n){const i=n("2UHX");t.exports={WebSocket:i.WebSocket||i.MozWebSocket,usingBrowserWebSocket:!0,defaultBinaryType:"arraybuffer"}},XDbj:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("sVev"),r=n("7o/Q");function o(t=c){return e=>e.lift(new s(t))}class s{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new a(t,this.errorFactory))}}class a extends r.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function c(){return new i.a}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return u});var i=n("HDdC"),r=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class l extends r.a{constructor(t){super(t),this.destination=t}}let u=(()=>{class t extends i.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new l(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new i.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends u{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function i(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return i})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("DH7j");function r(t){return!Object(i.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("quSY");class r extends i.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},akSB:function(t,e,n){const i=n("AdPF"),r=n("0z79"),o=n("Cl5A"),s=n("CIKq");e.polling=function(t){let e,n=!1,s=!1;const a=!1!==t.jsonp;if("undefined"!=typeof location){const e="https:"===location.protocol;let i=location.port;i||(i=e?443:80),n=t.hostname!==location.hostname||i!==t.port,s=t.secure!==e}if(t.xdomain=n,t.xscheme=s,e=new i(t),"open"in e&&!t.forceJSONP)return new r(t);if(!a)throw new Error("JSONP disabled");return new o(t)},e.websocket=s},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("5+tZ"),r=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(i.a)(r.a,t)}},bOdf:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("5+tZ");function r(t,e){return Object(i.a)(t,e,1)}},c2HN:function(t,e,n){"use strict";function i(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return i})},cpc2:function(t,e,n){function i(t){if(t)return function(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}(t)}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},i.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<i.length;r++)if((n=i[r])===e||n.fn===e){i.splice(r,1);break}return 0===i.length&&delete this._callbacks["$"+t],this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){i=0;for(var r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,e)}return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},eFEk:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Socket=void 0;const i=n("ggWO"),r=n("Byvj"),o=n("4Trj"),s=n("NOtv")("socket.io-client:socket"),a=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});e.Socket=class extends o.StrictEventEmitter{constructor(t,e,n){super(),this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;const t=this.io;this.subs=[r.on(t,"open",this.onopen.bind(this)),r.on(t,"packet",this.onpacket.bind(this)),r.on(t,"error",this.onerror.bind(this)),r.on(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){if(a.hasOwnProperty(t))throw new Error('"'+t+'" is a reserved event name');e.unshift(t);const n={type:i.PacketType.EVENT,data:e,options:{}};return n.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(s("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),!this.flags.volatile||this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable&&this.connected?this.connected?this.packet(n):this.sendBuffer.push(n):s("discard packet as the transport is not currently writable"),this.flags={},this}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){s("transport is open - connecting"),"function"==typeof this.auth?this.auth(t=>{this.packet({type:i.PacketType.CONNECT,data:t})}):this.packet({type:i.PacketType.CONNECT,data:this.auth})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t){s("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",t)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case i.PacketType.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case i.PacketType.EVENT:case i.PacketType.BINARY_EVENT:this.onevent(t);break;case i.PacketType.ACK:case i.PacketType.BINARY_ACK:this.onack(t);break;case i.PacketType.DISCONNECT:this.ondisconnect();break;case i.PacketType.CONNECT_ERROR:const e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e)}}onevent(t){const e=t.data||[];s("emitting event %j",e),null!=t.id&&(s("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const n of e)n.apply(this,t)}super.emit.apply(this,t)}ack(t){const e=this;let n=!1;return function(...r){n||(n=!0,s("sending ack %j",r),e.packet({type:i.PacketType.ACK,id:t,data:r}))}}onack(t){const e=this.acks[t.id];"function"==typeof e?(s("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):s("bad ack %s",t.id)}onconnect(t){s("socket connected with id %s",t),this.id=t,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>this.packet(t)),this.sendBuffer=[]}ondisconnect(){s("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(s("performing disconnect (%s)",this.nsp),this.packet({type:i.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}},eIep:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("lJxs"),r=n("Cfvw"),o=n("zx2A");function s(t,e){return"function"==typeof e?n=>n.pipe(s((n,o)=>Object(r.a)(t(n,o)).pipe(Object(i.a)((t,i)=>e(n,t,o,i))))):e=>e.lift(new a(t))}class a{constructor(t){this.project=t}call(t,e){return e.subscribe(new c(t,this.project))}}class c extends o.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new o.a(this),i=this.destination;i.add(n),this.innerSubscription=Object(o.c)(t,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}},f7yz:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.url=void 0;const i=n("Uxeu"),r=n("NOtv")("socket.io-client:url");e.url=function(t,e="",n){let o=t;n=n||"undefined"!=typeof location&&location,null==t&&(t=n.protocol+"//"+n.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(r("protocol-less url %s",t),t=void 0!==n?n.protocol+"//"+t:"https://"+t),r("parse %s",t),o=i(t)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/";const s=-1!==o.host.indexOf(":")?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+s+":"+o.port+e,o.href=o.protocol+"://"+s+(n&&n.port===o.port?"":":"+o.port),o}},fP3r:function(t,e,n){const{PACKET_TYPES_REVERSE:i,ERROR_PACKET:r}=n("gC2B");let o;"function"==typeof ArrayBuffer&&(o=n("g5Dd"));const s=(t,e)=>{if(o){const n=o.decode(t);return a(n,e)}return{base64:!0,data:t}},a=(t,e)=>{switch(e){case"blob":return t instanceof ArrayBuffer?new Blob([t]):t;case"arraybuffer":default:return t}};t.exports=(t,e)=>{if("string"!=typeof t)return{type:"message",data:a(t,e)};const n=t.charAt(0);return"b"===n?{type:"message",data:s(t.substring(1),e)}:i[n]?t.length>1?{type:i[n],data:t.substring(1)}:{type:i[n]}:r}},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return on}),n.d(e,"b",function(){return bl}),n.d(e,"c",function(){return dl}),n.d(e,"d",function(){return ul}),n.d(e,"e",function(){return hl}),n.d(e,"f",function(){return uu}),n.d(e,"g",function(){return tu}),n.d(e,"h",function(){return ec}),n.d(e,"i",function(){return Tl}),n.d(e,"j",function(){return xa}),n.d(e,"k",function(){return _l}),n.d(e,"l",function(){return Ea}),n.d(e,"m",function(){return zi}),n.d(e,"n",function(){return Bc}),n.d(e,"o",function(){return lo}),n.d(e,"p",function(){return xn}),n.d(e,"q",function(){return O}),n.d(e,"r",function(){return rn}),n.d(e,"s",function(){return Oo}),n.d(e,"t",function(){return Ka}),n.d(e,"u",function(){return Ya}),n.d(e,"v",function(){return vl}),n.d(e,"w",function(){return dc}),n.d(e,"x",function(){return nu}),n.d(e,"y",function(){return hc}),n.d(e,"z",function(){return Gl}),n.d(e,"A",function(){return Dl}),n.d(e,"B",function(){return On}),n.d(e,"C",function(){return ml}),n.d(e,"D",function(){return gl}),n.d(e,"E",function(){return Uc}),n.d(e,"F",function(){return Ma}),n.d(e,"G",function(){return Da}),n.d(e,"H",function(){return ki}),n.d(e,"I",function(){return Aa}),n.d(e,"J",function(){return gi}),n.d(e,"K",function(){return kn}),n.d(e,"L",function(){return ou}),n.d(e,"M",function(){return ac}),n.d(e,"N",function(){return jl}),n.d(e,"O",function(){return sn}),n.d(e,"P",function(){return La}),n.d(e,"Q",function(){return Pa}),n.d(e,"R",function(){return fc}),n.d(e,"S",function(){return M}),n.d(e,"T",function(){return Yl}),n.d(e,"U",function(){return b}),n.d(e,"V",function(){return Hl}),n.d(e,"W",function(){return p}),n.d(e,"X",function(){return zn}),n.d(e,"Y",function(){return $l}),n.d(e,"Z",function(){return cu}),n.d(e,"ab",function(){return Wl}),n.d(e,"bb",function(){return yl}),n.d(e,"cb",function(){return ho}),n.d(e,"db",function(){return da}),n.d(e,"eb",function(){return pi}),n.d(e,"fb",function(){return Yn}),n.d(e,"gb",function(){return Nn}),n.d(e,"hb",function(){return Wn}),n.d(e,"ib",function(){return Un}),n.d(e,"jb",function(){return Bn}),n.d(e,"kb",function(){return qn}),n.d(e,"lb",function(){return Xn}),n.d(e,"mb",function(){return ca}),n.d(e,"nb",function(){return au}),n.d(e,"ob",function(){return la}),n.d(e,"pb",function(){return ua}),n.d(e,"qb",function(){return Vn}),n.d(e,"rb",function(){return F}),n.d(e,"sb",function(){return Lo}),n.d(e,"tb",function(){return as}),n.d(e,"ub",function(){return os}),n.d(e,"vb",function(){return ss}),n.d(e,"wb",function(){return aa}),n.d(e,"xb",function(){return Ct}),n.d(e,"yb",function(){return u}),n.d(e,"zb",function(){return jn}),n.d(e,"Ab",function(){return To}),n.d(e,"Bb",function(){return bt}),n.d(e,"Cb",function(){return za}),n.d(e,"Db",function(){return dr}),n.d(e,"Eb",function(){return Bo}),n.d(e,"Fb",function(){return Ls}),n.d(e,"Gb",function(){return Zs}),n.d(e,"Hb",function(){return ta}),n.d(e,"Ib",function(){return ea}),n.d(e,"Jb",function(){return Rs}),n.d(e,"Kb",function(){return il}),n.d(e,"Lb",function(){return K}),n.d(e,"Mb",function(){return et}),n.d(e,"Nb",function(){return m}),n.d(e,"Ob",function(){return y}),n.d(e,"Pb",function(){return J}),n.d(e,"Qb",function(){return nt}),n.d(e,"Rb",function(){return Ko}),n.d(e,"Sb",function(){return ts}),n.d(e,"Tb",function(){return is}),n.d(e,"Ub",function(){return ns}),n.d(e,"Vb",function(){return es}),n.d(e,"Wb",function(){return Zo}),n.d(e,"Xb",function(){return Jo}),n.d(e,"Yb",function(){return rs}),n.d(e,"Zb",function(){return tn}),n.d(e,"ac",function(){return na}),n.d(e,"bc",function(){return wn}),n.d(e,"cc",function(){return en}),n.d(e,"dc",function(){return ll}),n.d(e,"ec",function(){return Go}),n.d(e,"fc",function(){return cs}),n.d(e,"gc",function(){return rl}),n.d(e,"hc",function(){return ye}),n.d(e,"ic",function(){return be}),n.d(e,"jc",function(){return ps}),n.d(e,"kc",function(){return Fc}),n.d(e,"lc",function(){return jc}),n.d(e,"mc",function(){return Nc}),n.d(e,"nc",function(){return Vc}),n.d(e,"oc",function(){return ms}),n.d(e,"pc",function(){return gs}),n.d(e,"qc",function(){return Yo}),n.d(e,"rc",function(){return bs}),n.d(e,"sc",function(){return ys}),n.d(e,"tc",function(){return vs}),n.d(e,"uc",function(){return Ec}),n.d(e,"vc",function(){return Ic}),n.d(e,"wc",function(){return Dc}),n.d(e,"xc",function(){return Mc}),n.d(e,"yc",function(){return Rc}),n.d(e,"zc",function(){return el}),n.d(e,"Ac",function(){return Ho}),n.d(e,"Bc",function(){return xi}),n.d(e,"Cc",function(){return Bt}),n.d(e,"Dc",function(){return mi}),n.d(e,"Ec",function(){return bi}),n.d(e,"Fc",function(){return Z}),n.d(e,"Gc",function(){return As}),n.d(e,"Hc",function(){return Ms}),n.d(e,"Ic",function(){return ls}),n.d(e,"Jc",function(){return ia}),n.d(e,"Kc",function(){return $o}),n.d(e,"Lc",function(){return cl}),n.d(e,"Mc",function(){return Gs}),n.d(e,"Nc",function(){return Ys}),n.d(e,"Oc",function(){return Qs}),n.d(e,"Pc",function(){return Js}),n.d(e,"Qc",function(){return nl});var i=n("XNiG"),r=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("w1tV");function c(t){for(let e in t)if(t[e]===c)return e;throw Error("Could not find renamed property on target object.")}function l(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function u(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(u).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=c({__forward_ref__:c});function p(t){return t.__forward_ref__=p,t.toString=function(){return u(this())},t}function f(t){return g(t)?t():t}function g(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===p}function m(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}const b=m;function y(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function v(t){return _(t,z)||_(t,S)}function _(t,e){return t.hasOwnProperty(e)?t[e]:null}function w(t){return t&&(t.hasOwnProperty(C)||t.hasOwnProperty(x))?t[C]:null}const z=c({"\u0275prov":c}),C=c({"\u0275inj":c}),S=c({ngInjectableDef:c}),x=c({ngInjectorDef:c});var O=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let k;function T(t){const e=k;return k=t,e}function E(t,e,n){const i=v(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&O.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${u(t)}]`)}function I(t){return{toString:t}.toString()}var D=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),M=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const R="undefined"!=typeof globalThis&&globalThis,A="undefined"!=typeof window&&window,P="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,L="undefined"!=typeof global&&global,F=R||L||A||P,j={},N=[],V=c({"\u0275cmp":c}),W=c({"\u0275dir":c}),q=c({"\u0275pipe":c}),B=c({"\u0275mod":c}),X=c({"\u0275loc":c}),U=c({"\u0275fac":c}),$=c({__NG_ELEMENT_ID__:c});let H=0;function K(t){return I(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===D.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||N,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||M.Emulated,id:"c",styles:t.styles||N,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,r=t.features,o=t.pipes;return n.id+=H++,n.inputs=tt(t.inputs,e),n.outputs=tt(t.outputs),r&&r.forEach(t=>t(n)),n.directiveDefs=i?()=>("function"==typeof i?i():i).map(G):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(Y):null,n})}function G(t){return it(t)||function(t){return t[W]||null}(t)}function Y(t){return function(t){return t[q]||null}(t)}const Q={};function J(t){const e={type:t.type,bootstrap:t.bootstrap||N,declarations:t.declarations||N,imports:t.imports||N,exports:t.exports||N,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&I(()=>{Q[t.id]=t.type}),e}function Z(t,e){return I(()=>{const n=rt(t,!0);n.declarations=e.declarations||N,n.imports=e.imports||N,n.exports=e.exports||N})}function tt(t,e){if(null==t)return j;const n={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,e&&(e[r]=o)}return n}const et=K;function nt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function it(t){return t[V]||null}function rt(t,e){const n=t[B]||null;if(!n&&!0===e)throw new Error(`Type ${u(t)} does not have '\u0275mod' property.`);return n}function ot(t){return Array.isArray(t)&&"object"==typeof t[1]}function st(t){return Array.isArray(t)&&!0===t[1]}function at(t){return 0!=(8&t.flags)}function ct(t){return 2==(2&t.flags)}function lt(t){return 1==(1&t.flags)}function ut(t){return null!==t.template}function ht(t,e){return t.hasOwnProperty(U)?t[U]:null}class dt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function pt(t){return"string"==typeof t?t:null==t?"":String(t)}function ft(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():pt(t)}function gt(t,e){const n=e?` in ${e}`:"";throw new dt("201",`No provider for ${ft(t)} found${n}`)}class mt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function bt(){return yt}function yt(t){return t.type.prototype.ngOnChanges&&(t.setInput=_t),vt}function vt(){const t=wt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===j)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function _t(t,e,n,i){const r=wt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:j,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[n],c=s[a];o[a]=new mt(c&&c.currentValue,e,s===j),t[i]=e}function wt(t){return t.__ngSimpleChanges__||null}let zt;function Ct(t){zt=t}function St(){return void 0!==zt?zt:"undefined"!=typeof document?document:void 0}function xt(t){return!!t.listen}bt.ngInherit=!0;const Ot={createRenderer:(t,e)=>St()};function kt(t){for(;Array.isArray(t);)t=t[0];return t}function Tt(t,e){return kt(e[t])}function Et(t,e){return kt(e[t.index])}function It(t,e){return t.data[e]}function Dt(t,e){return t[e]}function Mt(t,e){const n=e[t];return ot(n)?n:n[0]}function Rt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function At(t){return 4==(4&t[2])}function Pt(t){return 128==(128&t[2])}function Lt(t,e){return null==e?null:t[e]}function Ft(t){t[18]=0}function jt(t,e){t[5]+=e;let n=t,i=t[3];for(;null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}const Nt={lFrame:ue(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Vt(){return Nt.bindingsEnabled}function Wt(){return Nt.lFrame.lView}function qt(){return Nt.lFrame.tView}function Bt(t){Nt.lFrame.contextLView=t}function Xt(){let t=Ut();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ut(){return Nt.lFrame.currentTNode}function $t(t,e){const n=Nt.lFrame;n.currentTNode=t,n.isParent=e}function Ht(){return Nt.lFrame.isParent}function Kt(){Nt.lFrame.isParent=!1}function Gt(){return Nt.isInCheckNoChangesMode}function Yt(t){Nt.isInCheckNoChangesMode=t}function Qt(){const t=Nt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Jt(){return Nt.lFrame.bindingIndex}function Zt(){return Nt.lFrame.bindingIndex++}function te(t){const e=Nt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ee(t,e){const n=Nt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ne(e)}function ne(t){Nt.lFrame.currentDirectiveIndex=t}function ie(t){const e=Nt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function re(){return Nt.lFrame.currentQueryIndex}function oe(t){Nt.lFrame.currentQueryIndex=t}function se(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ae(t,e,n){if(n&O.SkipSelf){let i=e,r=t;for(;i=i.parent,!(null!==i||n&O.Host||(i=se(r),null===i)||(r=r[15],10&i.type)););if(null===i)return!1;e=i,t=r}const i=Nt.lFrame=le();return i.currentTNode=e,i.lView=t,!0}function ce(t){const e=le(),n=t[1];Nt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function le(){const t=Nt.lFrame,e=null===t?null:t.child;return null===e?ue(t):e}function ue(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function he(){const t=Nt.lFrame;return Nt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const de=he;function pe(){const t=he();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fe(){return Nt.lFrame.selectedIndex}function ge(t){Nt.lFrame.selectedIndex=t}function me(){const t=Nt.lFrame;return It(t.tView,t.selectedIndex)}function be(){Nt.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function ye(){Nt.lFrame.currentNamespace=null}function ve(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:r,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;i&&(t.contentHooks||(t.contentHooks=[])).push(-n,i),r&&((t.contentHooks||(t.contentHooks=[])).push(n,r),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,r)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function _e(t,e,n){Ce(t,e,3,n)}function we(t,e,n,i){(3&t[2])===n&&Ce(t,e,n,i)}function ze(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ce(t,e,n,i){const r=null!=i?i:-1,o=e.length-1;let s=0;for(let a=void 0!==i?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=i&&s>=i)break}else e[a]<0&&(t[18]+=65536),(s<r||-1==r)&&(Se(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Se(t,e,n,i){const r=n[i]<0,o=n[i+1],s=t[r?-n[i]:n[i]];r?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}class xe{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Oe(t,e,n){const i=xt(t);let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const s=n[r++],a=n[r++],c=n[r++];i?t.setAttribute(e,a,c,s):e.setAttributeNS(s,a,c)}else{const s=o,a=n[++r];Te(s)?i&&t.setProperty(e,s,a):i?t.setAttribute(e,s,a):e.setAttribute(s,a),r++}}return r}function ke(t){return 3===t||4===t||6===t}function Te(t){return 64===t.charCodeAt(0)}function Ee(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?n=r:0===n||Ie(t,n,r,null,-1===n||2===n?e[++i]:null)}}return t}function Ie(t,e,n,i,r){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===i)return void(null!==r&&(t[o+1]=r));if(i===t[o+1])return void(t[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==i&&t.splice(o++,0,i),null!==r&&t.splice(o++,0,r)}function De(t){return-1!==t}function Me(t){return 32767&t}function Re(t,e){let n=t>>16,i=e;for(;n>0;)i=i[15],n--;return i}let Ae=!0;function Pe(t){const e=Ae;return Ae=t,e}let Le=0;function Fe(t,e){const n=Ne(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,je(i.data,t),je(e,null),je(i.blueprint,null));const r=Ve(t,e),o=t.injectorIndex;if(De(r)){const t=Me(r),n=Re(r,e),i=n[1].data;for(let r=0;r<8;r++)e[o+r]=n[t+r]|i[t+r]}return e[o+8]=r,o}function je(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ne(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ve(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;null!==r;){const t=r[1],e=t.type;if(i=2===e?t.declTNode:1===e?r[6]:null,null===i)return-1;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function We(t,e,n){!function(t,e,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty($)&&(i=n[$]),null==i&&(i=n[$]=Le++);const r=255&i,o=1<<r,s=64&r,a=32&r,c=e.data;128&r?s?a?c[t+7]|=o:c[t+6]|=o:a?c[t+5]|=o:c[t+4]|=o:s?a?c[t+3]|=o:c[t+2]|=o:a?c[t+1]|=o:c[t]|=o}(t,e,n)}function qe(t,e,n){if(n&O.Optional)return t;gt(e,"NodeInjector")}function Be(t,e,n,i){if(n&O.Optional&&void 0===i&&(i=null),0==(n&(O.Self|O.Host))){const r=t[9],o=T(void 0);try{return r?r.get(e,i,n&O.Optional):E(e,i,n&O.Optional)}finally{T(o)}}return qe(i,e,n)}function Xe(t,e,n,i=O.Default,r){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty($)?t[$]:void 0;return"number"==typeof e?e>=0?255&e:$e:e}(n);if("function"==typeof o){if(!ae(e,t,i))return i&O.Host?qe(r,n,i):Be(e,n,i,r);try{const t=o();if(null!=t||i&O.Optional)return t;gt(n)}finally{de()}}else if("number"==typeof o){let r=null,s=Ne(t,e),a=-1,c=i&O.Host?e[16][6]:null;for((-1===s||i&O.SkipSelf)&&(a=-1===s?Ve(t,e):e[s+8],-1!==a&&Qe(i,!1)?(r=e[1],s=Me(a),e=Re(a,e)):s=-1);-1!==s;){const t=e[1];if(Ye(o,s,t.data)){const t=He(s,e,n,r,i,c);if(t!==Ue)return t}a=e[s+8],-1!==a&&Qe(i,e[1].data[s+8]===c)&&Ye(o,s,e)?(r=t,s=Me(a),e=Re(a,e)):s=-1}}}return Be(e,n,i,r)}const Ue={};function $e(){return new Je(Xt(),Wt())}function He(t,e,n,i,r,o){const s=e[1],a=s.data[t+8],c=Ke(a,s,n,null==i?ct(a)&&Ae:i!=s&&0!=(3&a.type),r&O.Host&&o===a);return null!==c?Ge(e,s,c,a):Ue}function Ke(t,e,n,i,r){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,l=o>>20,u=r?a+l:t.directiveEnd;for(let h=i?a:a+l;h<u;h++){const t=s[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(r){const t=s[c];if(t&&ut(t)&&t.type===n)return c}return null}function Ge(t,e,n,i){let r=t[n];const o=e.data;if(r instanceof xe){const s=r;s.resolving&&function(t,e){throw new dt("200",`Circular dependency in DI detected for ${t}`)}(ft(o[n]));const a=Pe(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?T(s.injectImpl):null;ae(t,i,O.Default);try{r=t[n]=s.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const i=yt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,r),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==c&&T(c),Pe(a),s.resolving=!1,de()}}return r}function Ye(t,e,n){const i=64&t,r=32&t;let o;return o=128&t?i?r?n[e+7]:n[e+6]:r?n[e+5]:n[e+4]:i?r?n[e+3]:n[e+2]:r?n[e+1]:n[e],!!(o&1<<t)}function Qe(t,e){return!(t&O.Self||t&O.Host&&e)}class Je{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Xe(this._tNode,this._lView,t,void 0,e)}}function Ze(t){const e=t;if(g(t))return()=>{const t=Ze(f(e));return t?t():null};let n=ht(e);if(null===n){const t=w(e);n=t&&t.factory}return n||null}function tn(t){return I(()=>{const e=t.prototype.constructor,n=e[U]||Ze(e),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const t=r[U]||Ze(r);if(t&&t!==n)return t;r=Object.getPrototypeOf(r)}return t=>new t})}function en(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let i=0;for(;i<t;){const r=n[i];if(ke(r))break;if(0===r)i+=2;else if("number"==typeof r)for(i++;i<t&&"string"==typeof n[i];)i++;else{if(r===e)return n[i+1];i+=2}}}return null}(Xt(),t)}function nn(t,e,n){return I(()=>{const i=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function r(...t){if(this instanceof r)return i.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,i){const r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}class rn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=m({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const on=new rn("AnalyzeForEntryComponents"),sn=Function;function an(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)?(e===t&&(e=t.slice(0,n)),an(i,e)):e!==t&&e.push(i)}return e}function cn(t,e){t.forEach(t=>Array.isArray(t)?cn(t,e):e(t))}function ln(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function un(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function hn(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}function dn(t,e,n){let i=fn(t,e);return i>=0?t[1|i]=n:(i=~i,function(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(t,i,e,n)),i}function pn(t,e){const n=fn(t,e);if(n>=0)return t[1|n]}function fn(t,e){return function(t,e,n){let i=0,r=t.length>>1;for(;r!==i;){const n=i+(r-i>>1),o=t[n<<1];if(e===o)return n<<1;o>e?r=n:i=n+1}return~(r<<1)}(t,e)}const gn={},mn=/\n/gm,bn=c({provide:String,useValue:c});let yn;function vn(t){const e=yn;return yn=t,e}function _n(t,e=O.Default){if(void 0===yn)throw new Error("inject() must be called from an injection context");return null===yn?E(t,void 0,e):yn.get(t,e&O.Optional?null:void 0,e)}function wn(t,e=O.Default){return(k||_n)(f(t),e)}const zn=wn;function Cn(t){const e=[];for(let n=0;n<t.length;n++){const i=f(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let t,n=O.Default;for(let e=0;e<i.length;e++){const r=i[e],o=r.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=r.token:n|=o:t=r}e.push(wn(t,n))}else e.push(wn(i))}return e}function Sn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const xn=Sn(nn("Inject",t=>({token:t})),-1),On=Sn(nn("Optional"),8),kn=Sn(nn("SkipSelf"),4);let Tn,En;function In(t){var e;return(null===(e=function(){if(void 0===Tn&&(Tn=null,F.trustedTypes))try{Tn=F.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Tn}())||void 0===e?void 0:e.createHTML(t))||t}function Dn(t){var e;return(null===(e=function(){if(void 0===En&&(En=null,F.trustedTypes))try{En=F.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return En}())||void 0===e?void 0:e.createHTML(t))||t}class Mn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Rn extends Mn{getTypeName(){return"HTML"}}class An extends Mn{getTypeName(){return"Style"}}class Pn extends Mn{getTypeName(){return"Script"}}class Ln extends Mn{getTypeName(){return"URL"}}class Fn extends Mn{getTypeName(){return"ResourceURL"}}function jn(t){return t instanceof Mn?t.changingThisBreaksApplicationSecurity:t}function Nn(t,e){const n=Vn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Vn(t){return t instanceof Mn&&t.getTypeName()||null}function Wn(t){return new Rn(t)}function qn(t){return new An(t)}function Bn(t){return new Pn(t)}function Xn(t){return new Ln(t)}function Un(t){return new Fn(t)}class $n{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(In(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Hn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=In(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=In(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Kn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Gn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Yn(t){return(t=String(t)).match(Kn)||t.match(Gn)?t:"unsafe:"+t}function Qn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Jn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Zn=Qn("area,br,col,hr,img,wbr"),ti=Qn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ei=Qn("rp,rt"),ni=Jn(ei,ti),ii=Jn(Zn,Jn(ti,Qn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jn(ei,Qn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ni),ri=Qn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),oi=Qn("srcset"),si=Jn(ri,oi,Qn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ai=Qn("script,style,template");class ci{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ii.hasOwnProperty(e))return this.sanitizedSomething=!0,!ai.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,o=e.toLowerCase();if(!si.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;ri[o]&&(s=Yn(s)),oi[o]&&(i=s,s=(i=String(i)).split(",").map(t=>Yn(t.trim())).join(", ")),this.buf.push(" ",e,'="',hi(s),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ii.hasOwnProperty(e)&&!Zn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(hi(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const li=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ui=/([^\#-~ |!])/g;function hi(t){return t.replace(/&/g,"&amp;").replace(li,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(ui,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let di;function pi(t,e){let n=null;try{di=di||function(t){const e=new Hn(t);return function(){try{return!!(new window.DOMParser).parseFromString(In(""),"text/html")}catch(t){return!1}}()?new $n(e):e}(t);let i=e?String(e):"";n=di.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=di.getInertBodyElement(i)}while(i!==o);return In((new ci).sanitizeChildren(fi(n)||n))}finally{if(n){const t=fi(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function fi(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var gi=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function mi(t){const e=yi();return e?Dn(e.sanitize(gi.HTML,t)||""):Nn(t,"HTML")?Dn(jn(t)):pi(St(),pt(t))}function bi(t){const e=yi();return e?e.sanitize(gi.URL,t)||"":Nn(t,"URL")?jn(t):Yn(pt(t))}function yi(){const t=Wt();return t&&t[12]}function vi(t){return t.ngDebugContext}function _i(t){return t.ngOriginalError}function wi(t,...e){t.error(...e)}class zi{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||wi}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?vi(t)?vi(t):this._findContext(_i(t)):null}_findOriginalError(t){let e=_i(t);for(;e&&_i(e);)e=_i(e);return e}}function Ci(t,e){t.__ngContext__=e}const Si=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(F))();function xi(t){return{name:"body",target:t.ownerDocument.body}}function Oi(t){return t instanceof Function?t():t}var ki=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Ti(t,e){return(void 0)(t,e)}function Ei(t){const e=t[3];return st(e)?e[3]:e}function Ii(t){return Mi(t[13])}function Di(t){return Mi(t[4])}function Mi(t){for(;null!==t&&!st(t);)t=t[4];return t}function Ri(t,e,n,i,r){if(null!=i){let o,s=!1;st(i)?o=i:ot(i)&&(s=!0,i=i[0]);const a=kt(i);0===t&&null!==n?null==r?Wi(e,n,a):Vi(e,n,a,r||null,!0):1===t&&null!==n?Vi(e,n,a,r||null,!0):2===t?function(t,e,n){const i=Bi(t,e);i&&function(t,e,n,i){xt(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,i,r){const o=n[7];o!==kt(n)&&Ri(e,t,i,o,r);for(let s=10;s<n.length;s++){const r=n[s];Yi(r[1],r,t,e,i,o)}}(e,t,o,n,r)}}function Ai(t,e,n){return xt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Pi(t,e){const n=t[9],i=n.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,jt(r,-1)),n.splice(i,1)}function Li(t,e){if(t.length<=10)return;const n=10+e,i=t[n];if(i){const o=i[17];null!==o&&o!==t&&Pi(o,i),e>0&&(t[n-1][4]=i[4]);const s=un(t,10+e);Yi(i[1],r=i,r[11],2,null,null),r[0]=null,r[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}var r;return i}function Fi(t,e){if(!(256&e[2])){const n=e[11];xt(n)&&n.destroyNode&&Yi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return ji(t[1],t);for(;e;){let n=null;if(ot(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ot(e)&&ji(e[1],e),e=e[3];null===e&&(e=t),ot(e)&&ji(e[1],e),n=e&&e[4]}e=n}}(e)}}function ji(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const t=e[n[i]];if(!(t instanceof xe)){const e=n[i+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,i=e[7];let r=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):kt(e[t]),a=i[r=n[o+2]],c=n[o+3];"boolean"==typeof c?s.removeEventListener(n[o],a,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),o+=2}else{const t=i[r=n[o+1]];n[o].call(t)}if(null!==i){for(let t=r+1;t<i.length;t++)(0,i[t])();e[7]=null}}(t,e),1===e[1].type&&xt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&st(e[3])){n!==e[3]&&Pi(n,e);const i=e[19];null!==i&&i.detachView(t)}}}function Ni(t,e,n){return function(t,e,n){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[0];if(2&i.flags){const e=t.data[i.directiveStart].encapsulation;if(e===M.None||e===M.Emulated)return null}return Et(i,n)}(t,e.parent,n)}function Vi(t,e,n,i,r){xt(t)?t.insertBefore(e,n,i,r):e.insertBefore(n,i,r)}function Wi(t,e,n){xt(t)?t.appendChild(e,n):e.appendChild(n)}function qi(t,e,n,i,r){null!==i?Vi(t,e,n,i,r):Wi(t,e,n)}function Bi(t,e){return xt(t)?t.parentNode(e):e.parentNode}function Xi(t,e,n){return Ui(t,e,n)}let Ui=function(t,e,n){return 40&t.type?Et(t,n):null};function $i(t,e,n,i){const r=Ni(t,i,e),o=e[11],s=Xi(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(n))for(let a=0;a<n.length;a++)qi(o,r,n[a],s,!1);else qi(o,r,n,s,!1)}function Hi(t,e){if(null!==e){const n=e.type;if(3&n)return Et(e,t);if(4&n)return Ki(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Hi(t,n);{const n=t[e.index];return st(n)?Ki(-1,n):kt(n)}}if(32&n)return Ti(e,t)()||kt(t[e.index]);{const n=t[16],i=n[6],r=Ei(n),o=i.projection[e.projection];return null!=o?Hi(r,o):Hi(t,e.next)}}return null}function Ki(t,e){const n=10+t+1;if(n<e.length){const t=e[n],i=t[1].firstChild;if(null!==i)return Hi(t,i)}return e[7]}function Gi(t,e,n,i,r,o,s){for(;null!=n;){const a=i[n.index],c=n.type;if(s&&0===e&&(a&&Ci(kt(a),i),n.flags|=4),64!=(64&n.flags))if(8&c)Gi(t,e,n.child,i,r,o,!1),Ri(e,t,r,a,o);else if(32&c){const s=Ti(n,i);let c;for(;c=s();)Ri(e,t,r,c,o);Ri(e,t,r,a,o)}else 16&c?Qi(t,e,i,n,r,o):Ri(e,t,r,a,o);n=s?n.projectionNext:n.next}}function Yi(t,e,n,i,r,o){Gi(n,i,t.firstChild,e,r,o,!1)}function Qi(t,e,n,i,r,o){const s=n[16],a=s[6].projection[i.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Ri(e,t,r,a[c],o);else Gi(t,e,a,s[3],r,o,!0)}function Ji(t,e,n){xt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Zi(t,e,n){xt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function tr(t,e,n){let i=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const n=e.length;if(r+n===i||t.charCodeAt(r+n)<=32)return r}n=r+1}}function er(t,e,n){let i=0;for(;i<t.length;){let r=t[i++];if(n&&"class"===r){if(r=t[i],-1!==tr(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function nr(t){return 4===t.type&&"ng-template"!==t.value}function ir(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function rr(t,e,n){let i=4;const r=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(ke(t[e]))return e;return t.length}(r);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!ir(t,c,n)||""===c&&1===e.length){if(or(i))return!1;s=!0}}else{const l=8&i?c:e[++a];if(8&i&&null!==t.attrs){if(!er(t.attrs,l,n)){if(or(i))return!1;s=!0}continue}const u=sr(8&i?"class":c,r,nr(t),n);if(-1===u){if(or(i))return!1;s=!0;continue}if(""!==l){let t;t=u>o?"":r[u+1].toLowerCase();const e=8&i?t:null;if(e&&-1!==tr(e,l,0)||2&i&&l!==t){if(or(i))return!1;s=!0}}}}else{if(!s&&!or(i)&&!or(c))return!1;if(s&&or(c))continue;s=!1,i=c|1&i}}return or(i)||s}function or(t){return 0==(1&t)}function sr(t,e,n,i){if(null===e)return-1;let r=0;if(i||!n){let n=!1;for(;r<e.length;){const i=e[r];if(i===t)return r;if(3===i||6===i)n=!0;else{if(1===i||2===i){let t=e[++r];for(;"string"==typeof t;)t=e[++r];continue}if(4===i)break;if(0===i){r+=4;continue}}r+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function ar(t,e,n=!1){for(let i=0;i<e.length;i++)if(rr(t,e[i],n))return!0;return!1}function cr(t,e){t:for(let n=0;n<e.length;n++){const i=e[n];if(t.length===i.length){for(let e=0;e<t.length;e++)if(t[e]!==i[e])continue t;return!0}}return!1}function lr(t,e){return t?":not("+e.trim()+")":e}function ur(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&i){const e=t[++n];r+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""===r||or(s)||(e+=lr(o,r),r=""),i=s,o=o||!or(i);n++}return""!==r&&(e+=lr(o,r)),e}const hr={};function dr(t){pr(qt(),Wt(),fe()+t,Gt())}function pr(t,e,n,i){if(!i)if(3==(3&e[2])){const i=t.preOrderCheckHooks;null!==i&&_e(e,i,n)}else{const i=t.preOrderHooks;null!==i&&we(e,i,0,n)}ge(n)}function fr(t,e){return t<<17|e<<2}function gr(t){return t>>17&32767}function mr(t){return 2|t}function br(t){return(131068&t)>>2}function yr(t,e){return-131069&t|e<<2}function vr(t){return 1|t}function _r(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],o=n[i+1];if(-1!==o){const n=t.data[o];oe(r),n.contentQueries(2,e[o],o)}}}function wr(t,e,n,i,r,o,s,a,c,l){const u=e.blueprint.slice();return u[0]=r,u[2]=140|i,Ft(u),u[3]=u[15]=t,u[8]=n,u[10]=s||t&&t[10],u[11]=a||t&&t[11],u[12]=c||t&&t[12]||null,u[9]=l||t&&t[9]||null,u[6]=o,u[16]=2==e.type?t[16]:u,u}function zr(t,e,n,i,r){let o=t.data[e];if(null===o)o=function(t,e,n,i,r){const o=Ut(),s=Ht(),a=t.data[e]=function(t,e,n,i,r,o){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,i,r);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,i,r),Nt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=i,o.attrs=r;const t=function(){const t=Nt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return $t(o,!0),o}function Cr(t,e,n,i){if(0===n)return-1;const r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function Sr(t,e,n){ce(e);try{const i=t.viewQuery;null!==i&&to(1,i,n);const r=t.template;null!==r&&kr(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&_r(t,e),t.staticViewQueries&&to(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Gr(t,e[n])}(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),i}finally{e[2]&=-5,pe()}}function xr(t,e,n,i){const r=e[2];if(256==(256&r))return;ce(e);const o=Gt();try{Ft(e),Nt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&kr(t,e,n,2,i);const s=3==(3&r);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&_e(e,n,null)}else{const n=t.preOrderHooks;null!==n&&we(e,n,0,null),ze(e,0)}if(function(t){for(let e=Ii(t);null!==e;e=Di(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],i=n[3];0==(1024&n[2])&&jt(i,1),n[2]|=1024}}}(e),function(t){for(let e=Ii(t);null!==e;e=Di(e))for(let t=10;t<e.length;t++){const n=e[t],i=n[1];Pt(n)&&xr(i,n,i.template,n[8])}}(e),null!==t.contentQueries&&_r(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&_e(e,n)}else{const n=t.contentHooks;null!==n&&we(e,n,1),ze(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const i=n[t];if(i<0)ge(~i);else{const r=i,o=n[++t],s=n[++t];ee(o,r),s(2,e[r])}}}finally{ge(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Hr(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&to(2,c,i),!o)if(s){const n=t.viewCheckHooks;null!==n&&_e(e,n)}else{const n=t.viewHooks;null!==n&&we(e,n,2),ze(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,jt(e[3],-1))}finally{pe()}}function Or(t,e,n,i){const r=e[10],o=!Gt(),s=At(e);try{o&&!s&&r.begin&&r.begin(),s&&Sr(t,e,i),xr(t,e,n,i)}finally{o&&!s&&r.end&&r.end()}}function kr(t,e,n,i,r){const o=fe();try{ge(-1),2&i&&e.length>20&&pr(t,e,20,Gt()),n(i,r)}finally{ge(o)}}function Tr(t,e,n){if(at(e)){const i=e.directiveEnd;for(let r=e.directiveStart;r<i;r++){const e=t.data[r];e.contentQueries&&e.contentQueries(1,n[r],r)}}}function Er(t,e,n){Vt()&&(function(t,e,n,i){const r=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Fe(n,e),Ci(i,e);const s=n.initialInputs;for(let a=r;a<o;a++){const i=t.data[a],o=ut(i);o&&Br(e,n,i);const c=Ge(e,t,a,n);Ci(c,e),null!==s&&Xr(0,a-r,c,i,0,s),o&&(Mt(n.index,e)[8]=c)}}(t,e,n,Et(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,r=n.directiveEnd,o=n.index,s=Nt.lFrame.currentDirectiveIndex;try{ge(o);for(let n=i;n<r;n++){const i=t.data[n],r=e[n];ne(n),null===i.hostBindings&&0===i.hostVars&&null===i.hostAttrs||jr(i,r)}}finally{ge(-1),ne(s)}}(t,e,n))}function Ir(t,e,n=Et){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?n(e,t):t[s];t[r++]=a}}}function Dr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Mr(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Mr(t,e,n,i,r,o,s,a,c,l){const u=20+i,h=u+r,d=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:hr);return n}(u,h),p="function"==typeof l?l():l;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1}}function Rr(t,e,n,i){const r=no(e);null===n?r.push(i):(r.push(n),t.firstCreatePass&&io(t).push(i,r.length-1))}function Ar(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function Pr(t,e,n,i,r,o,s,a){const c=Et(e,n);let l,u=e.inputs;!a&&null!=u&&(l=u[i])?(so(t,n,l,i,r),ct(e)&&function(t,e){const n=Mt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(i=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),r=null!=s?s(r,e.value||"",i):r,xt(o)?o.setProperty(c,i,r):Te(i)||(c.setProperty?c.setProperty(i,r):c[i]=r))}function Lr(t,e,n,i){let r=!1;if(Vt()){const o=function(t,e,n){const i=t.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];ar(n,s.selectors,!1)&&(r||(r=[]),We(Fe(n,e),t,s.type),ut(s)?(Nr(t,n),r.unshift(s)):r.push(s))}return r}(t,e,n),s=null===i?null:{"":-1};if(null!==o){r=!0,Wr(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let i=!1,a=!1,c=Cr(t,e,o.length,null);for(let r=0;r<o.length;r++){const l=o[r];n.mergedAttrs=Ee(n.mergedAttrs,l.hostAttrs),qr(t,n,e,c,l),Vr(c,l,s),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const u=l.type.prototype;!i&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),i=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(t,e){const n=e.directiveEnd,i=t.data,r=e.attrs,o=[];let s=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=i[c],n=t.inputs,l=null===r||nr(e)?null:Ur(n,r);o.push(l),s=Ar(n,c,s),a=Ar(t.outputs,c,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const i=t.localNames=[];for(let t=0;t<e.length;t+=2){const r=n[e[t+1]];if(null==r)throw new dt("301",`Export of name '${e[t+1]}' not found!`);i.push(e[t],r)}}}(n,i,s)}return n.mergedAttrs=Ee(n.mergedAttrs,n.attrs),r}function Fr(t,e,n,i,r,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(i,r,s)}}function jr(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Nr(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Vr(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;ut(e)&&(n[""]=t)}}function Wr(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function qr(t,e,n,i,r){t.data[i]=r;const o=r.factory||(r.factory=ht(r.type)),s=new xe(o,ut(r),null);t.blueprint[i]=s,n[i]=s,Fr(t,e,0,i,Cr(t,n,r.hostVars,hr),r)}function Br(t,e,n){const i=Et(e,t),r=Dr(n),o=t[10],s=Yr(t,wr(t,r,null,n.onPush?64:16,i,e,o,o.createRenderer(i,n),null,null));t[e.index]=s}function Xr(t,e,n,i,r,o){const s=o[e];if(null!==s){const t=i.setInput;for(let e=0;e<s.length;){const r=s[e++],o=s[e++],a=s[e++];null!==t?i.setInput(n,a,r,o):n[o]=a}}}function Ur(t,e){let n=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function $r(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function Hr(t,e){const n=Mt(e,t);if(Pt(n)){const t=n[1];80&n[2]?xr(t,n,t.template,n[8]):n[5]>0&&Kr(n)}}function Kr(t){for(let n=Ii(t);null!==n;n=Di(n))for(let t=10;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];xr(t,e,t.template,e[8])}else e[5]>0&&Kr(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const i=Mt(e[n],t);Pt(i)&&i[5]>0&&Kr(i)}}function Gr(t,e){const n=Mt(e,t),i=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),Sr(i,n,n[8])}function Yr(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Qr(t){for(;t;){t[2]|=64;const e=Ei(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Jr(t,e,n){const i=e[10];i.begin&&i.begin();try{xr(t,e,t.template,n)}catch(r){throw oo(e,r),r}finally{i.end&&i.end()}}function Zr(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=Rt(n),r=i[1];Or(r,i,r.template,n)}}(t[8])}function to(t,e,n){oe(0),e(t,n)}const eo=(()=>Promise.resolve(null))();function no(t){return t[7]||(t[7]=[])}function io(t){return t.cleanup||(t.cleanup=[])}function ro(t,e,n){return(null===t||ut(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function oo(t,e){const n=t[9],i=n?n.get(zi,null):null;i&&i.handleError(e)}function so(t,e,n,i,r){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],c=e[s],l=t.data[s];null!==l.setInput?l.setInput(c,r,i,a):c[a]=r}}function ao(t,e,n){const i=Tt(e,t);!function(t,e,n){xt(t)?t.setValue(e,n):e.textContent=n}(t[11],i,n)}function co(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?r=h(r,t):2==o&&(i=h(i,t+": "+e[++s]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}const lo=new rn("INJECTOR",-1);class uo{get(t,e=gn){if(e===gn){const e=new Error(`NullInjectorError: No provider for ${u(t)}!`);throw e.name="NullInjectorError",e}return e}}const ho=new rn("Set Injector scope."),po={},fo={},go=[];let mo;function bo(){return void 0===mo&&(mo=new uo),mo}function yo(t,e=null,n=null,i){return new vo(t,n,e||bo(),i)}class vo{constructor(t,e,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&cn(e,n=>this.processProvider(n,t,e)),cn([t],t=>this.processInjectorType(t,[],r)),this.records.set(lo,zo(void 0,this));const o=this.records.get(ho);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof t?null:u(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=gn,n=O.Default){this.assertNotDestroyed();const i=vn(this);try{if(!(n&O.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(r=t)||"object"==typeof r&&r instanceof rn)&&v(t);e=n&&this.injectableDefInScope(n)?zo(_o(t),po):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&O.Self?bo():this.parent).get(t,e=n&O.Optional&&e===gn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(u(t)),i)throw o;return function(t,e,n,i){const r=t.ngTempTokenPath;throw e.__source&&r.unshift(e.__source),t.message=function(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=u(e);if(Array.isArray(e))r=e.map(u).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):u(i)))}r=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(mn,"\n  ")}`}("\n"+t.message,r,n,i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{vn(i)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(u(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=f(t)))return!1;let i=w(t);const r=null==i&&t.ngModule||void 0,o=void 0===r?t:r,s=-1!==n.indexOf(o);if(void 0!==r&&(i=w(r)),null==i)return!1;if(null!=i.imports&&!s){let t;n.push(o);try{cn(i.imports,i=>{this.processInjectorType(i,e,n)&&(void 0===t&&(t=[]),t.push(i))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:i}=t[e];cn(i,t=>this.processProvider(t,n,i||go))}}this.injectorDefTypes.add(o),this.records.set(o,zo(i.factory,po));const a=i.providers;if(null!=a&&!s){const e=t;cn(a,t=>this.processProvider(t,e,a))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,n){let i=So(t=f(t))?t:f(t&&t.provide);const r=function(t,e,n){return Co(t)?zo(void 0,t.useValue):zo(wo(t),po)}(t);if(So(t)||!0!==t.multi)this.records.get(i);else{let e=this.records.get(i);e||(e=zo(void 0,po,!0),e.factory=()=>Cn(e.multi),this.records.set(i,e)),i=t,e.multi.push(t)}this.records.set(i,r)}hydrate(t,e){var n;return e.value===po&&(e.value=fo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function _o(t){const e=v(t),n=null!==e?e.factory:ht(t);if(null!==n)return n;const i=w(t);if(null!==i)return i.factory;if(t instanceof rn)throw new Error(`Token ${u(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=hn(e,"?");throw new Error(`Can't resolve all parameters for ${u(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[z]||t[S]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function wo(t,e,n){let i;if(So(t)){const e=f(t);return ht(e)||_o(e)}if(Co(t))i=()=>f(t.useValue);else if((r=t)&&r.useFactory)i=()=>t.useFactory(...Cn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>wn(f(t.useExisting));else{const e=f(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ht(e)||_o(e);i=()=>new e(...Cn(t.deps))}var r;return i}function zo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Co(t){return null!==t&&"object"==typeof t&&bn in t}function So(t){return"function"==typeof t}const xo=function(t,e,n){return function(t,e=null,n=null,i){const r=yo(t,e,n,i);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)};let Oo=(()=>{class t{static create(t,e){return Array.isArray(t)?xo(t,e,""):xo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=gn,t.NULL=new uo,t.\u0275prov=m({token:t,providedIn:"any",factory:()=>wn(lo)}),t.__NG_ELEMENT_ID__=-1,t})();function ko(t,e){ve(Rt(t)[1],Xt())}function To(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const i=[t];for(;e;){let r;if(ut(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);const e=t;e.inputs=Eo(t.inputs),e.declaredInputs=Eo(t.declaredInputs),e.outputs=Eo(t.outputs);const n=r.hostBindings;n&&Mo(t,n);const o=r.viewQuery,s=r.contentQueries;if(o&&Io(t,o),s&&Do(t,s),l(t.inputs,r.inputs),l(t.declaredInputs,r.declaredInputs),l(t.outputs,r.outputs),ut(r)&&r.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(r.data.animation)}}const e=r.features;if(e)for(let i=0;i<e.length;i++){const r=e[i];r&&r.ngInherit&&r(t),r===To&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Ee(r.hostAttrs,n=Ee(n,r.hostAttrs))}}(i)}function Eo(t){return t===j?{}:t===N?[]:t}function Io(t,e){const n=t.viewQuery;t.viewQuery=n?(t,i)=>{e(t,i),n(t,i)}:e}function Do(t,e){const n=t.contentQueries;t.contentQueries=n?(t,i,r)=>{e(t,i,r),n(t,i,r)}:e}function Mo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,i)=>{e(t,i),n(t,i)}:e}let Ro=null;function Ao(){if(!Ro){const t=F.Symbol;if(t&&t.iterator)Ro=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ro=n)}}}return Ro}class Po{constructor(t){this.wrapped=t}static wrap(t){return new Po(t)}static unwrap(t){return Po.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Po}}function Lo(t){return!!Fo(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ao()in t)}function Fo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function jo(t,e,n){return t[e]=n}function No(t,e){return t[e]}function Vo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Wo(t,e,n,i){const r=Vo(t,e,n);return Vo(t,e+1,i)||r}function qo(t,e,n,i,r,o){const s=Wo(t,e,n,i);return Wo(t,e+2,r,o)||s}function Bo(t,e,n,i){const r=Wt();return Vo(r,Zt(),e)&&(qt(),function(t,e,n,i,r,o){const s=Et(t,e);!function(t,e,n,i,r,o,s){if(null==o)xt(t)?t.removeAttribute(e,r,n):e.removeAttribute(r);else{const a=null==s?pt(o):s(o,i||"",r);xt(t)?t.setAttribute(e,r,a,n):n?e.setAttributeNS(n,r,a):e.setAttribute(r,a)}}(e[11],s,o,t.value,n,i,r)}(me(),r,t,e,n,i)),Bo}function Xo(t,e,n,i){return Vo(t,Zt(),n)?e+pt(n)+i:hr}function Uo(t,e,n,i,r,o){const s=Wo(t,Jt(),n,r);return te(2),s?e+pt(n)+i+pt(r)+o:hr}function $o(t,e,n,i,r,o,s,a){const c=Wt(),l=qt(),u=t+20,h=l.firstCreatePass?function(t,e,n,i,r,o,s,a,c){const l=e.consts,u=zr(e,t,4,s||null,Lt(l,a));Lr(e,n,u,Lt(l,c)),ve(e,u);const h=u.tViews=Mr(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,i,r,o,s):l.data[u];$t(h,!1);const d=c[11].createComment("");$i(l,c,d,h),Ci(d,c),Yr(c,c[u]=$r(d,c,d,h)),lt(h)&&Er(l,c,h),null!=s&&Ir(c,h,a)}function Ho(t){return Dt(Nt.lFrame.contextLView,20+t)}function Ko(t,e=O.Default){const n=Wt();return null===n?wn(t,e):Xe(Xt(),n,f(t),e)}function Go(){throw new Error("invalid")}function Yo(t,e,n){const i=Wt();return Vo(i,Zt(),e)&&Pr(qt(),me(),i,t,e,i[11],n,!1),Yo}function Qo(t,e,n,i,r){const o=r?"class":"style";so(t,n,e.inputs[o],o,i)}function Jo(t,e,n,i){const r=Wt(),o=qt(),s=20+t,a=r[11],c=r[s]=Ai(a,e,Nt.lFrame.currentNamespace),l=o.firstCreatePass?function(t,e,n,i,r,o,s){const a=e.consts,c=zr(e,t,2,r,Lt(a,o));return Lr(e,n,c,Lt(a,s)),null!==c.attrs&&co(c,c.attrs,!1),null!==c.mergedAttrs&&co(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,r,0,e,n,i):o.data[s];$t(l,!0);const u=l.mergedAttrs;null!==u&&Oe(a,c,u);const h=l.classes;null!==h&&Zi(a,c,h);const d=l.styles;null!==d&&Ji(a,c,d),64!=(64&l.flags)&&$i(o,r,c,l),0===Nt.lFrame.elementDepthCount&&Ci(c,r),Nt.lFrame.elementDepthCount++,lt(l)&&(Er(o,r,l),Tr(o,l,r)),null!==i&&Ir(r,l)}function Zo(){let t=Xt();Ht()?Kt():(t=t.parent,$t(t,!1));const e=t;Nt.lFrame.elementDepthCount--;const n=qt();n.firstCreatePass&&(ve(n,t),at(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Qo(n,e,Wt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Qo(n,e,Wt(),e.stylesWithoutHost,!1)}function ts(t,e,n,i){Jo(t,e,n,i),Zo()}function es(t,e,n){const i=Wt(),r=qt(),o=t+20,s=r.firstCreatePass?function(t,e,n,i,r){const o=e.consts,s=Lt(o,i),a=zr(e,t,8,"ng-container",s);return null!==s&&co(a,s,!0),Lr(e,n,a,Lt(o,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,r,i,e,n):r.data[o];$t(s,!0);const a=i[o]=i[11].createComment("");$i(r,i,a,s),Ci(a,i),lt(s)&&(Er(r,i,s),Tr(r,s,i)),null!=n&&Ir(i,s)}function ns(){let t=Xt();const e=qt();Ht()?Kt():(t=t.parent,$t(t,!1)),e.firstCreatePass&&(ve(e,t),at(t)&&e.queries.elementEnd(t))}function is(t,e,n){es(t,e,n),ns()}function rs(){return Wt()}function os(t){return!!t&&"function"==typeof t.then}function ss(t){return!!t&&"function"==typeof t.subscribe}const as=ss;function cs(t,e,n=!1,i){const r=Wt(),o=qt(),s=Xt();return us(o,r,r[11],s,t,e,n,i),cs}function ls(t,e,n=!1,i){const r=Xt(),o=Wt(),s=qt();return us(s,o,ro(ie(s.data),r,o),r,t,e,n,i),ls}function us(t,e,n,i,r,o,s=!1,a){const c=lt(i),l=t.firstCreatePass&&io(t),u=no(e);let h=!0;if(3&i.type){const d=Et(i,e),p=a?a(d):j,f=p.target||d,g=u.length,m=a?t=>a(kt(t[i.index])).target:i.index;if(xt(n)){let s=null;if(!a&&c&&(s=function(t,e,n,i){const r=t.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const t=r[o];if(t===n&&r[o+1]===i){const t=e[7],n=r[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,r,i.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=ds(i,e,o,!1);const t=n.listen(p.name||f,r,o);u.push(o,t),l&&l.push(r,m,g,g+1)}}else o=ds(i,e,o,!0),f.addEventListener(r,o,s),u.push(o),l&&l.push(r,m,g,s)}else o=ds(i,e,o,!1);const d=i.outputs;let p;if(h&&null!==d&&(p=d[r])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(o),s=u.length;u.push(o,t),l&&l.push(r,i.index,s,-(s+1))}}}function hs(t,e,n){try{return!1!==e(n)}catch(i){return oo(t,i),!1}}function ds(t,e,n,i){return function r(o){if(o===Function)return n;const s=2&t.flags?Mt(t.index,e):e;0==(32&e[2])&&Qr(s);let a=hs(e,n,o),c=r.__ngNextListenerFn__;for(;c;)a=hs(e,c,o)&&a,c=c.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function ps(t=1){return function(t){return(Nt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Nt.lFrame.contextLView))[8]}(t)}function fs(t,e){let n=null;const i=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?ar(t,o,!0):cr(i,o))return r}else n=r}return n}function gs(t){const e=Wt()[16][6];if(!e.projection){const n=e.projection=hn(t?t.length:1,null),i=n.slice();let r=e.child;for(;null!==r;){const e=t?fs(r,t):0;null!==e&&(i[e]?i[e].projectionNext=r:n[e]=r,i[e]=r),r=r.next}}}function ms(t,e=0,n){const i=Wt(),r=qt(),o=zr(r,20+t,16,null,n||null);null===o.projection&&(o.projection=e),Kt(),64!=(64&o.flags)&&function(t,e,n){Qi(e[11],0,e,n,Ni(t,n,e),Xi(n.parent||e[6],n,e))}(r,i,o)}function bs(t,e,n){return ys(t,"",e,"",n),bs}function ys(t,e,n,i,r){const o=Wt(),s=Xo(o,e,n,i);return s!==hr&&Pr(qt(),me(),o,t,s,o[11],r,!1),ys}function vs(t,e,n,i,r,o,s){const a=Wt(),c=Uo(a,e,n,i,r,o);return c!==hr&&Pr(qt(),me(),a,t,c,a[11],s,!1),vs}const _s=[];function ws(t,e,n,i,r){const o=t[n+1],s=null===e;let a=i?gr(o):br(o),c=!1;for(;0!==a&&(!1===c||s);){const n=t[a+1];zs(t[a],e)&&(c=!0,t[a+1]=i?vr(n):mr(n)),a=i?gr(n):br(n)}c&&(t[n+1]=i?mr(o):vr(o))}function zs(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&fn(t,e)>=0}const Cs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ss(t){return t.substring(Cs.key,Cs.keyEnd)}function xs(t){return t.substring(Cs.value,Cs.valueEnd)}function Os(t,e){const n=Cs.textEnd;return n===e?-1:(e=Cs.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Cs.key=e,n),Es(t,e,n))}function ks(t,e){const n=Cs.textEnd;let i=Cs.key=Es(t,e,n);return n===i?-1:(i=Cs.keyEnd=function(t,e,n){let i;for(;e<n&&(45===(i=t.charCodeAt(e))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)e++;return e}(t,i,n),i=Is(t,i,n),i=Cs.value=Es(t,i,n),i=Cs.valueEnd=function(t,e,n){let i=-1,r=-1,o=-1,s=e,a=s;for(;s<n;){const c=t.charCodeAt(s++);if(59===c)return a;34===c||39===c?a=s=Ds(t,c,s,n):e===s-4&&85===o&&82===r&&76===i&&40===c?a=s=Ds(t,41,s,n):c>32&&(a=s),o=r,r=i,i=-33&c}return a}(t,i,n),Is(t,i,n))}function Ts(t){Cs.key=0,Cs.keyEnd=0,Cs.value=0,Cs.valueEnd=0,Cs.textEnd=t.length}function Es(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Is(t,e,n,i){return(e=Es(t,e,n))<n&&e++,e}function Ds(t,e,n,i){let r=-1,o=n;for(;o<i;){const n=t.charCodeAt(o++);if(n==e&&92!==r)return o;r=92==n&&92===r?0:n}throw new Error}function Ms(t,e,n){return js(t,e,n,!1),Ms}function Rs(t,e){return js(t,e,null,!0),Rs}function As(t){Ns(Xs,Ps,t,!1)}function Ps(t,e){for(let n=function(t){return Ts(t),ks(t,Es(t,0,Cs.textEnd))}(e);n>=0;n=ks(e,n))Xs(t,Ss(e),xs(e))}function Ls(t){Ns(dn,Fs,t,!0)}function Fs(t,e){for(let n=function(t){return Ts(t),Os(t,Es(t,0,Cs.textEnd))}(e);n>=0;n=Os(e,n))dn(t,Ss(e),!0)}function js(t,e,n,i){const r=Wt(),o=qt(),s=te(2);o.firstUpdatePass&&Ws(o,t,s,i),e!==hr&&Vo(r,s,e)&&Us(o,o.data[fe()],r,r[11],t,r[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=u(jn(t)))),t}(e,n),i,s)}function Ns(t,e,n,i){const r=qt(),o=te(2);r.firstUpdatePass&&Ws(r,null,o,i);const s=Wt();if(n!==hr&&Vo(s,o,n)){const a=r.data[fe()];if(Ks(a,i)&&!Vs(r,o)){let t=i?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=h(t,n||"")),Qo(r,a,s,n,i)}else!function(t,e,n,i,r,o,s,a){r===hr&&(r=_s);let c=0,l=0,u=0<r.length?r[0]:null,h=0<o.length?o[0]:null;for(;null!==u||null!==h;){const d=c<r.length?r[c+1]:void 0,p=l<o.length?o[l+1]:void 0;let f,g=null;u===h?(c+=2,l+=2,d!==p&&(g=h,f=p)):null===h||null!==u&&u<h?(c+=2,g=u):(l+=2,g=h,f=p),null!==g&&Us(t,e,n,i,g,f,s,a),u=c<r.length?r[c]:null,h=l<o.length?o[l]:null}}(r,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return _s;const i=[],r=jn(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else"string"==typeof r&&e(i,r);return i}(t,e,n),i,o)}}function Vs(t,e){return e>=t.expandoStartIndex}function Ws(t,e,n,i){const r=t.data;if(null===r[n+1]){const o=r[fe()],s=Vs(t,n);Ks(o,i)&&null===e&&!s&&(e=!1),e=function(t,e,n,i){const r=ie(t);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=Bs(n=qs(null,t,e,n,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==r)if(n=qs(r,t,e,n,i),null===o){let n=function(t,e,n){const i=n?e.classBindings:e.styleBindings;if(0!==br(i))return t[gr(i)]}(t,e,i);void 0!==n&&Array.isArray(n)&&(n=qs(null,t,e,n[1],i),n=Bs(n,e.attrs,i),function(t,e,n,i){t[gr(n?e.classBindings:e.styleBindings)]=i}(t,e,i,n))}else o=function(t,e,n){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=Bs(i,t[o].hostAttrs,n);return Bs(i,e.attrs,n)}(t,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),n}(r,o,e,i),function(t,e,n,i,r,o){let s=o?e.classBindings:e.styleBindings,a=gr(s),c=br(s);t[i]=n;let l,u=!1;if(Array.isArray(n)){const t=n;l=t[1],(null===l||fn(t,l)>0)&&(u=!0)}else l=n;if(r)if(0!==c){const e=gr(t[a+1]);t[i+1]=fr(e,a),0!==e&&(t[e+1]=yr(t[e+1],i)),t[a+1]=131071&t[a+1]|i<<17}else t[i+1]=fr(a,0),0!==a&&(t[a+1]=yr(t[a+1],i)),a=i;else t[i+1]=fr(c,0),0===a?a=i:t[c+1]=yr(t[c+1],i),c=i;u&&(t[i+1]=mr(t[i+1])),ws(t,l,i,!0),ws(t,l,i,!1),function(t,e,n,i,r){const o=r?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&fn(o,e)>=0&&(n[i+1]=vr(n[i+1]))}(e,l,t,i,o),s=fr(a,c),o?e.classBindings=s:e.styleBindings=s}(r,o,e,n,s,i)}}function qs(t,e,n,i,r){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],i=Bs(i,o.hostAttrs,r),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),i}function Bs(t,e,n){const i=n?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),dn(t,s,!!n||e[++o]))}return void 0===t?null:t}function Xs(t,e,n){dn(t,e,jn(n))}function Us(t,e,n,i,r,o,s,a){if(!(3&e.type))return;const c=t.data,l=c[a+1];Hs(1==(1&l)?$s(c,e,n,r,br(l),s):void 0)||(Hs(o)||2==(2&l)&&(o=$s(c,null,n,r,a,s)),function(t,e,n,i,r){const o=xt(t);if(e)r?o?t.addClass(n,i):n.classList.add(i):o?t.removeClass(n,i):n.classList.remove(i);else{let e=-1===i.indexOf("-")?void 0:ki.DashCase;if(null==r)o?t.removeStyle(n,i,e):n.style.removeProperty(i);else{const s="string"==typeof r&&r.endsWith("!important");s&&(r=r.slice(0,-10),e|=ki.Important),o?t.setStyle(n,i,r,e):n.style.setProperty(i,r,s?"important":"")}}}(i,s,Tt(fe(),n),r,o))}function $s(t,e,n,i,r,o){const s=null===e;let a;for(;r>0;){const e=t[r],o=Array.isArray(e),c=o?e[1]:e,l=null===c;let u=n[r+1];u===hr&&(u=l?_s:void 0);let h=l?pn(u,i):c===i?u:void 0;if(o&&!Hs(h)&&(h=pn(e,i)),Hs(h)&&(a=h,s))return a;const d=t[r+1];r=s?gr(d):br(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=pn(t,i))}return a}function Hs(t){return void 0!==t}function Ks(t,e){return 0!=(t.flags&(e?16:32))}function Gs(t,e=""){const n=Wt(),i=qt(),r=t+20,o=i.firstCreatePass?zr(i,r,1,e,null):i.data[r],s=n[r]=function(t,e){return xt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);$i(i,n,s,o),$t(o,!1)}function Ys(t){return Qs("",t,""),Ys}function Qs(t,e,n){const i=Wt(),r=Xo(i,t,e,n);return r!==hr&&ao(i,fe(),r),Qs}function Js(t,e,n,i,r){const o=Wt(),s=Uo(o,t,e,n,i,r);return s!==hr&&ao(o,fe(),s),Js}function Zs(t,e,n){Ns(dn,Fs,Xo(Wt(),t,e,n),!0)}function ta(t,e,n,i,r){Ns(dn,Fs,Uo(Wt(),t,e,n,i,r),!0)}function ea(t,e,n,i,r,o,s,a,c){Ns(dn,Fs,function(t,e,n,i,r,o,s,a,c,l){const u=qo(t,Jt(),n,r,s,c);return te(4),u?e+pt(n)+i+pt(r)+o+pt(s)+a+pt(c)+l:hr}(Wt(),t,e,n,i,r,o,s,a,c),!0)}function na(t,e,n){const i=Wt();return Vo(i,Zt(),e)&&Pr(qt(),me(),i,t,e,i[11],n,!0),na}function ia(t,e,n){const i=Wt();if(Vo(i,Zt(),e)){const r=qt(),o=me();Pr(r,o,i,t,e,ro(ie(r.data),o,i),n,!0)}return ia}const ra=void 0;var oa=["en",[["a","p"],["AM","PM"],ra],[["AM","PM"],ra,ra],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ra,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ra,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ra,"{1} 'at' {0}",ra],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let sa={};function aa(t,e,n){"string"!=typeof e&&(n=e,e=t[da.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),sa[e]=t,n&&(sa[e][da.ExtraData]=n)}function ca(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ha(e);if(n)return n;const i=e.split("-")[0];if(n=ha(i),n)return n;if("en"===i)return oa;throw new Error(`Missing locale data for the locale "${t}".`)}function la(t){return ca(t)[da.CurrencyCode]||null}function ua(t){return ca(t)[da.PluralCase]}function ha(t){return t in sa||(sa[t]=F.ng&&F.ng.common&&F.ng.common.locales&&F.ng.common.locales[t]),sa[t]}var da=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});let pa="en-US";function fa(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(pa=t.toLowerCase().replace(/_/g,"-"))}function ga(t,e,n,i,r){if(t=f(t),Array.isArray(t))for(let o=0;o<t.length;o++)ga(t[o],e,n,i,r);else{const o=qt(),s=Wt();let a=So(t)?t:f(t.provide),c=wo(t);const l=Xt(),u=1048575&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>20;if(So(t)||!t.multi){const i=new xe(c,r,Ko),p=ya(a,e,r?u:u+d,h);-1===p?(We(Fe(l,s),o,a),ma(o,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(i),s.push(i)):(n[p]=i,s[p]=i)}else{const p=ya(a,e,u+d,h),f=ya(a,e,u,u+d),g=p>=0&&n[p],m=f>=0&&n[f];if(r&&!m||!r&&!g){We(Fe(l,s),o,a);const u=function(t,e,n,i,r){const o=new xe(t,n,Ko);return o.multi=[],o.index=e,o.componentProviders=0,ba(o,r,i&&!n),o}(r?_a:va,n.length,r,i,c);!r&&m&&(n[f].providerFactory=u),ma(o,t,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(u),s.push(u)}else ma(o,t,p>-1?p:f,ba(n[r?f:p],c,!r&&i));!r&&i&&m&&n[f].componentProviders++}}}function ma(t,e,n,i){const r=So(e);if(r||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[i,o]):s[t+1].push(i,o)}else s.push(n,o)}}}function ba(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ya(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function va(t,e,n,i){return wa(this.multi,[])}function _a(t,e,n,i){const r=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ge(n,n[1],this.providerFactory.index,i);o=e.slice(0,t),wa(r,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],wa(r,o);return o}function wa(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function za(t,e=[]){return n=>{n.providersResolver=(n,i)=>function(t,e,n){const i=qt();if(i.firstCreatePass){const r=ut(t);ga(n,i.data,i.blueprint,r,!0),ga(e,i.data,i.blueprint,r,!1)}}(n,i?i(t):t,e)}}class Ca{}class Sa{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${u(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let xa=(()=>{class t{}return t.NULL=new Sa,t})();function Oa(...t){}function ka(t,e){return new Ea(Et(t,e))}const Ta=function(){return ka(Xt(),Wt())};let Ea=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Ta,t})();function Ia(t){return t instanceof Ea?t.nativeElement:t}class Da{}let Ma=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ra(),t})();const Ra=function(){const t=Wt(),e=Mt(Xt().index,t);return function(t){return t[11]}(ot(e)?e:t)};let Aa=(()=>{class t{}return t.\u0275prov=m({token:t,providedIn:"root",factory:()=>null}),t})();class Pa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const La=new Pa("11.1.0");class Fa{constructor(){}supports(t){return Lo(t)}create(t){return new Na(t)}}const ja=(t,e)=>e;class Na{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ja}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,r=null;for(;e||n;){const o=!n||e&&e.currentIndex<Ba(n,i,r)?e:n,s=Ba(o,i,r),a=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{r||(r=[]);const t=s-i,e=a-i;if(t!=e){for(let n=0;n<t;n++){const i=n<r.length?r[n]:r[n]=0,o=i+n;e<=o&&o<t&&(r[n]=i+1)}r[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Lo(t))throw new Error(`Error trying to diff '${u(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],i=this._trackByFn(e,n),null!==r&&Object.is(r.trackById,i)?(o&&(r=this._verifyReinsertion(r,n,i,e)),Object.is(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,e),o=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ao()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==r&&Object.is(r.trackById,i)?(o&&(r=this._verifyReinsertion(r,t,i,e)),Object.is(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,i,e),o=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new Va(e,n),r,i),t}_verifyReinsertion(t,e,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new qa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Va{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Wa{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class qa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Wa,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ba(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class Xa{constructor(){}supports(t){return t instanceof Map||Fo(t)}create(){return new Ua}}class Ua{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Fo(t)))throw new Error(`Error trying to diff '${u(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new $a(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class $a{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ha(){return new Ka([new Fa])}let Ka=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ha()),deps:[[t,new kn,new On]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=m({token:t,providedIn:"root",factory:Ha}),t})();function Ga(){return new Ya([new Xa])}let Ya=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ga()),deps:[[t,new kn,new On]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=m({token:t,providedIn:"root",factory:Ga}),t})();function Qa(t,e,n,i,r=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&i.push(kt(o)),st(o))for(let t=10;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Qa(e[1],e,n,i)}const s=n.type;if(8&s)Qa(t,e,n.child,i);else if(32&s){const t=Ti(n,e);let r;for(;r=t();)i.push(r)}else if(16&s){const t=e[16],r=t[6].projection[n.projection];if(Array.isArray(r))i.push(...r);else{const e=Ei(t);Qa(e[1],e,r,i,!0)}}n=r?n.projectionNext:n.next}return i}class Ja{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Qa(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(st(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Li(t,n),un(e,n))}this._attachedToViewContainer=!1}Fi(this._lView[1],this._lView)}onDestroy(t){Rr(this._lView[1],this._lView,null,t)}markForCheck(){Qr(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Jr(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Yt(!0);try{Jr(t,e,n)}finally{Yt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Yi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Za extends Ja{constructor(t){super(t),this._view=t}detectChanges(){Zr(this._view)}checkNoChanges(){!function(t){Yt(!0);try{Zr(t)}finally{Yt(!1)}}(this._view)}get context(){return null}}const tc=nc;let ec=(()=>{class t{}return t.__NG_ELEMENT_ID__=tc,t.__ChangeDetectorRef__=!0,t})();function nc(t=!1){return function(t,e,n){if(!n&&ct(t)){const n=Mt(t.index,e);return new Ja(n,n)}return 47&t.type?new Ja(e[16],e):null}(Xt(),Wt(),t)}const ic=[new Xa],rc=new Ka([new Fa]),oc=new Ya(ic),sc=function(){return uc(Xt(),Wt())};let ac=(()=>{class t{}return t.__NG_ELEMENT_ID__=sc,t})();const cc=ac,lc=class extends cc{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=wr(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(e)),Sr(e,n,t),new Ja(n)}};function uc(t,e){return 4&t.type?new lc(e,t,ka(t,e)):null}class hc{}class dc{}const pc=function(){return vc(Xt(),Wt())};let fc=(()=>{class t{}return t.__NG_ELEMENT_ID__=pc,t})();const gc=fc,mc=class extends gc{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return ka(this._hostTNode,this._hostLView)}get injector(){return new Je(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ve(this._hostTNode,this._hostLView);if(De(t)){const e=Re(t,this._hostLView),n=Me(t);return new Je(e[1].data[n+8],e)}return new Je(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=bc(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,r){const o=n||this.parentInjector;if(!r&&null==t.ngModule&&o){const t=o.get(hc,null);t&&(r=t)}const s=t.create(o,i,void 0,r);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,i=n[1];if(st(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],i=new mc(e,e[6],e[3]);i.detach(i.indexOf(t))}}const r=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,i){const r=10+i,o=n.length;i>0&&(n[r-1][4]=e),i<o-10?(e[4]=n[r],ln(n,10+i,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,n,o,r);const s=Ki(r,o),a=n[11],c=Bi(a,o[7]);return null!==c&&function(t,e,n,i,r,o){i[0]=r,i[6]=e,Yi(t,i,n,1,r,o)}(i,o[6],a,n,c,s),t.attachToViewContainerRef(),ln(yc(o),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=bc(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Li(this._lContainer,e);n&&(un(yc(this._lContainer),e),Fi(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Li(this._lContainer,e);return n&&null!=un(yc(this._lContainer),e)?new Ja(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function bc(t){return t[8]}function yc(t){return t[8]||(t[8]=[])}function vc(t,e){let n;const i=e[t.index];if(st(i))n=i;else{let r;if(8&t.type)r=kt(i);else{const n=e[11];r=n.createComment("");const i=Et(t,e);Vi(n,Bi(n,i),r,function(t,e){return xt(t)?t.nextSibling(e):e.nextSibling}(n,i),!1)}e[t.index]=n=$r(i,e,r,t),Yr(e,n)}return new mc(n,t,e)}const _c={};class wc extends xa{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=it(t);return new Sc(e,this.ngModule)}}function zc(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Cc=new rn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Si});class Sc extends Ca{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ur).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return zc(this.componentDef.inputs)}get outputs(){return zc(this.componentDef.outputs)}create(t,e,n,i){const r=(i=i||this.ngModule)?function(t,e){return{get:(n,i,r)=>{const o=t.get(n,_c,r);return o!==_c||i===_c?o:e.get(n,i,r)}}}(t,i.injector):t,o=r.get(Da,Ot),s=r.get(Aa,null),a=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=n?function(t,e,n){if(xt(t))return t.selectRootElement(e,n===M.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(a,n,this.componentDef.encapsulation):Ai(o.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:Si,clean:eo,playerHandler:null,flags:0},d=Mr(0,null,null,1,0,null,null,null,null,null),p=wr(null,d,h,u,null,null,o,a,s,r);let f,g;ce(p);try{const t=function(t,e,n,i,r,o){const s=n[1];n[20]=t;const a=zr(s,20,2,"#host",null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(co(a,c,!0),null!==t&&(Oe(r,t,c),null!==a.classes&&Zi(r,t,a.classes),null!==a.styles&&Ji(r,t,a.styles)));const l=i.createRenderer(t,e),u=wr(n,Dr(e),null,e.onPush?64:16,n[20],a,i,l,null,null);return s.firstCreatePass&&(We(Fe(a,n),s,e.type),Nr(s,a),Wr(a,n.length,1)),Yr(n,u),n[20]=u}(l,this.componentDef,p,o,a);if(l)if(n)Oe(a,l,["ng-version",La.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let i=1,r=2;for(;i<t.length;){let o=t[i];if("string"==typeof o)2===r?""!==o&&e.push(o,t[++i]):8===r&&n.push(o);else{if(!or(r))break;r=o}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Oe(a,l,t),e&&e.length>0&&Zi(a,l,e.join(" "))}if(g=It(d,20),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=e[n];t.push(null!=i?Array.from(i):null)}}f=function(t,e,n,i,r){const o=n[1],s=function(t,e,n){const i=Xt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),qr(t,i,e,Cr(t,e,1,null),n));const r=Ge(e,t,i.directiveStart,i);Ci(r,e);const o=Et(i,e);return o&&Ci(o,e),r}(o,n,e);if(i.components.push(s),t[8]=s,r&&r.forEach(t=>t(s,e)),e.contentQueries){const t=Xt();e.contentQueries(1,s,t.directiveStart)}const a=Xt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ge(a.index),Fr(n[1],a,0,a.directiveStart,a.directiveEnd,e),jr(e,s)),s}(t,this.componentDef,p,h,[ko]),Sr(d,p,null)}finally{pe()}return new xc(this.componentType,f,ka(g,p),p,g)}}class xc extends class{}{constructor(t,e,n,i,r){super(),this.location=n,this._rootLView=i,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new Za(i),this.componentType=t}get injector(){return new Je(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Oc=new Map;class kc extends hc{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new wc(this);const n=rt(t),i=t[X]||null;i&&fa(i),this._bootstrapComponents=Oi(n.bootstrap),this._r3Injector=yo(t,e,[{provide:hc,useValue:this},{provide:xa,useValue:this.componentFactoryResolver}],u(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Oo.THROW_IF_NOT_FOUND,n=O.Default){return t===Oo||t===hc||t===lo?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Tc extends dc{constructor(t){super(),this.moduleType=t,null!==rt(t)&&function(t){const e=new Set;!function t(n){const i=rt(n,!0),r=i.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${u(e)} vs ${u(e.name)}`)}(r,Oc.get(r),n),Oc.set(r,n));const o=Oi(i.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new kc(this.moduleType,t)}}function Ec(t,e,n){const i=Qt()+t,r=Wt();return r[i]===hr?jo(r,i,n?e.call(n):e()):No(r,i)}function Ic(t,e,n,i){return Pc(Wt(),Qt(),t,e,n,i)}function Dc(t,e,n,i,r){return Lc(Wt(),Qt(),t,e,n,i,r)}function Mc(t,e,n,i,r,o){return function(t,e,n,i,r,o,s,a){const c=e+n;return function(t,e,n,i,r){const o=Wo(t,e,n,i);return Vo(t,e+2,r)||o}(t,c,r,o,s)?jo(t,c+3,a?i.call(a,r,o,s):i(r,o,s)):Ac(t,c+3)}(Wt(),Qt(),t,e,n,i,r,o)}function Rc(t,e,n,i,r,o,s,a,c){const l=Qt()+t,u=Wt(),h=qo(u,l,n,i,r,o);return Wo(u,l+4,s,a)||h?jo(u,l+6,c?e.call(c,n,i,r,o,s,a):e(n,i,r,o,s,a)):No(u,l+6)}function Ac(t,e){const n=t[e];return n===hr?void 0:n}function Pc(t,e,n,i,r,o){const s=e+n;return Vo(t,s,r)?jo(t,s+1,o?i.call(o,r):i(r)):Ac(t,s+1)}function Lc(t,e,n,i,r,o,s){const a=e+n;return Wo(t,a,r,o)?jo(t,a+2,s?i.call(s,r,o):i(r,o)):Ac(t,a+2)}function Fc(t,e){const n=qt();let i;const r=t+20;n.firstCreatePass?(i=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const i=e[n];if(t===i.name)return i}throw new dt("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,i.onDestroy)):i=n.data[r];const o=i.factory||(i.factory=ht(i.type)),s=T(Ko);try{const t=Pe(!1),e=o();return Pe(t),function(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}(n,Wt(),r,e),e}finally{T(s)}}function jc(t,e,n){const i=t+20,r=Wt(),o=Dt(r,i);return qc(r,Wc(r,i)?Pc(r,Qt(),e,o.transform,n,o):o.transform(n))}function Nc(t,e,n,i){const r=t+20,o=Wt(),s=Dt(o,r);return qc(o,Wc(o,r)?Lc(o,Qt(),e,s.transform,n,i,s):s.transform(n,i))}function Vc(t,e,n,i,r,o){const s=t+20,a=Wt(),c=Dt(a,s);return qc(a,Wc(a,s)?function(t,e,n,i,r,o,s,a,c){const l=e+n;return qo(t,l,r,o,s,a)?jo(t,l+4,c?i.call(c,r,o,s,a):i(r,o,s,a)):Ac(t,l+4)}(a,Qt(),e,c.transform,n,i,r,o,c):c.transform(n,i,r,o))}function Wc(t,e){return t[1].data[e].pure}function qc(t,e){return Po.isWrapped(e)&&(e=Po.unwrap(e),t[Jt()]=hr),e}const Bc=class extends i.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let i,o=t=>null,s=()=>null;t&&"object"==typeof t?(i=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(i,o,s);return t instanceof r.a&&t.add(a),a}};function Xc(){return this._results[Ao()]()}class Uc{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ao(),n=Uc.prototype;n[e]||(n[e]=Xc)}get changes(){return this._changes||(this._changes=new Bc)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;const n=an(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=e[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class $c{constructor(t){this.queryList=t,this.matches=null}clone(){return new $c(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);i.push(this.queries[n.indexInDeclarationView].clone())}return new Hc(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==al(t,e).matches&&this.queries[e].setDirty()}}class Kc{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Gc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const i=null!==e?e.length:0,r=this.getByIndex(n).embeddedTView(t,i);r&&(r.indexInDeclarationView=n,null!==e?e.push(r):e=[r])}return null!==e?new Gc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Yc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Yc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){const r=n[i];this.matchTNodeWithReadOption(t,e,Qc(e,r)),this.matchTNodeWithReadOption(t,e,Ke(e,t,r,!1,!1))}else n===ac?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ke(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===Ea||i===fc||i===ac&&4&e.type)this.addMatch(e.index,-2);else{const n=Ke(e,t,i,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Qc(t,e){const n=t.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function Jc(t,e,n,i){return-1===n?function(t,e){return 11&t.type?ka(t,e):4&t.type?uc(t,e):null}(e,t):-2===n?function(t,e,n){return n===Ea?ka(e,t):n===ac?uc(e,t):n===fc?vc(e,t):void 0}(t,e,i):Ge(t,t[1],n,e)}function Zc(t,e,n,i){const r=e[19].queries[i];if(null===r.matches){const i=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const r=o[t];s.push(r<0?null:Jc(e,i[r],o[t+1],n.metadata.read))}r.matches=s}return r.matches}function tl(t,e,n,i){const r=t.queries.getByIndex(n),o=r.matches;if(null!==o){const s=Zc(t,e,r,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)i.push(s[t/2]);else{const r=o[t+1],s=e[-n];for(let t=10;t<s.length;t++){const e=s[t];e[17]===e[3]&&tl(e[1],e,r,i)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];tl(n[1],n,r,i)}}}}}return i}function el(t){const e=Wt(),n=qt(),i=re();oe(i+1);const r=al(n,i);if(t.dirty&&At(e)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{const o=r.crossesNgTemplate?tl(n,e,i,[]):Zc(n,e,r,i);t.reset(o,Ia),t.notifyOnChanges()}return!0}return!1}function nl(t,e,n){const i=qt();i.firstCreatePass&&(sl(i,new Kc(t,e,n),-1),2==(2&e)&&(i.staticViewQueries=!0)),ol(i,Wt(),e)}function il(t,e,n,i){const r=qt();if(r.firstCreatePass){const o=Xt();sl(r,new Kc(e,n,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(r,t),2==(2&n)&&(r.staticContentQueries=!0)}ol(r,Wt(),n)}function rl(){return t=Wt(),e=re(),t[19].queries[e].queryList;var t,e}function ol(t,e,n){const i=new Uc(4==(4&n));Rr(t,e,i,i.destroy),null===e[19]&&(e[19]=new Hc),e[19].queries.push(new $c(i))}function sl(t,e,n){null===t.queries&&(t.queries=new Gc),t.queries.track(new Yc(e,n))}function al(t,e){return t.queries.getByIndex(e)}function cl(t,e){return uc(t,e)}function ll(t=O.Default){const e=nc(!0);if(null!=e||t&O.Optional)return e;gt("ChangeDetectorRef")}const ul=new rn("Application Initializer");let hl=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Oa,this.reject=Oa,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();os(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(wn(ul,8))},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();const dl=new rn("AppId"),pl={provide:dl,useFactory:function(){return`${fl()}${fl()}${fl()}`},deps:[]};function fl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const gl=new rn("Platform Initializer"),ml=new rn("Platform ID"),bl=new rn("appBootstrapListener");let yl=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();const vl=new rn("LocaleId"),_l=new rn("DefaultCurrencyCode");class wl{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const zl=function(t){return new Tc(t)},Cl=zl,Sl=function(t){return Promise.resolve(zl(t))},xl=function(t){const e=zl(t),n=Oi(rt(t).declarations).reduce((t,e)=>{const n=it(e);return n&&t.push(new Sc(n)),t},[]);return new wl(e,n)},Ol=xl,kl=function(t){return Promise.resolve(xl(t))};let Tl=(()=>{class t{constructor(){this.compileModuleSync=Cl,this.compileModuleAsync=Sl,this.compileModuleAndAllComponentsSync=Ol,this.compileModuleAndAllComponentsAsync=kl}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();const El=(()=>Promise.resolve(0))();function Il(t){"undefined"==typeof Zone?El.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Dl{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bc(!1),this.onMicrotaskEmpty=new Bc(!1),this.onStable=new Bc(!1),this.onError=new Bc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!n&&e,this.shouldCoalesceRunChangeDetection=n,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=F.requestAnimationFrame,e=F.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(F,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Al(t),Rl(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Al(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,s,a)=>{try{return Pl(t),n.invokeTask(r,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Ll(t)}},onInvoke:(n,i,r,o,s,a,c)=>{try{return Pl(t),n.invoke(r,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Ll(t)}},onHasTask:(e,n,i,r)=>{e.hasTask(i,r),n===i&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,Al(t),Rl(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,i,r)=>(e.handleError(i,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Dl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Dl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,t,Ml,Oa,Oa);try{return r.runTask(o,e,n)}finally{r.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Ml={};function Rl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Al(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Pl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ll(t){t._nesting--,Rl(t)}class Fl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bc,this.onMicrotaskEmpty=new Bc,this.onStable=new Bc,this.onError=new Bc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,i){return t.apply(e,n)}}let jl=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Dl.assertNotInAngularZone(),Il(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Il(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(wn(Dl))},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})(),Nl=(()=>{class t{constructor(){this._applications=new Map,Bl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Bl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();class Vl{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Wl(t){Bl=t}let ql,Bl=new Vl,Xl=!0,Ul=!1;function $l(){return Ul=!0,Xl}function Hl(){if(Ul)throw new Error("Cannot enable prod mode after platform setup.");Xl=!1}const Kl=new rn("AllowMultipleToken");class Gl{constructor(t,e){this.name=t,this.token=e}}function Yl(t,e,n=[]){const i=`Platform: ${e}`,r=new rn(i);return(e=[])=>{let o=Ql();if(!o||o.injector.get(Kl,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0},{provide:ho,useValue:"platform"});!function(t){if(ql&&!ql.destroyed&&!ql.injector.get(Kl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ql=t.get(Jl);const e=t.get(gl,null);e&&e.forEach(t=>t())}(Oo.create({providers:t,name:i}))}return function(t){const e=Ql();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function Ql(){return ql&&!ql.destroyed?ql:null}let Jl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Fl:("zone.js"===t?void 0:t)||new Dl({enableLongStackTrace:$l(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),i=[{provide:Dl,useValue:n}];return n.run(()=>{const e=Oo.create({providers:i,parent:this.injector,name:t.moduleType.name}),r=t.create(e),o=r.injector.get(zi,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});r.onDestroy(()=>{eu(this._modules,r),t.unsubscribe()})}),function(t,e,n){try{const i=n();return os(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(o,n,()=>{const t=r.injector.get(hl);return t.runInitializers(),t.donePromise.then(()=>(fa(r.injector.get(vl,"en-US")||"en-US"),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=Zl({},e);return function(t,e,n){const i=new Tc(n);return Promise.resolve(i)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(tu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${u(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(wn(Oo))},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();function Zl(t,e){return Array.isArray(e)?e.reduce(Zl,t):Object.assign(Object.assign({},t),e)}let tu=(()=>{class t{constructor(t,e,n,i,r,c){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),u=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Dl.assertNotInAngularZone(),Il(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Dl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(l,u.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ca?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(hc),r=n.create(Oo.NULL,[],e||n.selector,i),o=r.location.nativeElement,s=r.injector.get(jl,null),a=s&&r.injector.get(Nl);return s&&a&&a.registerApplication(o,s),r.onDestroy(()=>{this.detachView(r.hostView),eu(this.components,r),a&&a.unregisterApplication(o)}),this._loadComponent(r),$l()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;eu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(bl,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(wn(Dl),wn(yl),wn(Oo),wn(zi),wn(xa),wn(hl))},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();function eu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class nu{}class iu{}const ru={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let ou=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||ru}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split("#");return void 0===i&&(i="default"),n("zn8P")(e).then(t=>t[i]).then(t=>su(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split("#"),r="NgFactory";return void 0===i&&(i="default",r=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+r]).then(t=>su(t,e,i))}}return t.\u0275fac=function(e){return new(e||t)(wn(Tl),wn(iu,8))},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();function su(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const au=function(t){return null},cu=Yl(null,"core",[{provide:ml,useValue:"unknown"},{provide:Jl,deps:[Oo]},{provide:Nl,deps:[]},{provide:yl,deps:[]}]),lu=[{provide:tu,useClass:tu,deps:[Dl,yl,Oo,zi,xa,hl]},{provide:Cc,deps:[Dl],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:hl,useClass:hl,deps:[[new On,ul]]},{provide:Tl,useClass:Tl,deps:[]},pl,{provide:Ka,useFactory:function(){return rc},deps:[]},{provide:Ya,useFactory:function(){return oc},deps:[]},{provide:vl,useFactory:function(t){return fa(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new xn(vl),new On,new kn]]},{provide:_l,useValue:"USD"}];let uu=(()=>{class t{constructor(t){}}return t.\u0275mod=J({type:t}),t.\u0275inj=y({factory:function(e){return new(e||t)(wn(tu))},providers:lu}),t})()},g5Dd:function(t,e){!function(t){"use strict";e.encode=function(e){var n,i=new Uint8Array(e),r=i.length,o="";for(n=0;n<r;n+=3)o+=t[i[n]>>2],o+=t[(3&i[n])<<4|i[n+1]>>4],o+=t[(15&i[n+1])<<2|i[n+2]>>6],o+=t[63&i[n+2]];return r%3==2?o=o.substring(0,o.length-1)+"=":r%3==1&&(o=o.substring(0,o.length-2)+"=="),o},e.decode=function(e){var n,i,r,o,s,a=.75*e.length,c=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u=new ArrayBuffer(a),h=new Uint8Array(u);for(n=0;n<c;n+=4)i=t.indexOf(e[n]),r=t.indexOf(e[n+1]),o=t.indexOf(e[n+2]),s=t.indexOf(e[n+3]),h[l++]=i<<2|r>>4,h[l++]=(15&r)<<4|o>>2,h[l++]=(3&o)<<6|63&s;return u}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},gC2B:function(t,e){const n=Object.create(null);n.open="0",n.close="1",n.ping="2",n.pong="3",n.message="4",n.upgrade="5",n.noop="6";const i=Object.create(null);Object.keys(n).forEach(t=>{i[n[t]]=t}),t.exports={PACKET_TYPES:n,PACKET_TYPES_REVERSE:i,ERROR_PACKET:{type:"error",data:"parser error"}}},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("2fFW"),r=n("NJ4a");const o={closed:!0,next(t){},error(t){if(i.a.useDeprecatedSynchronousErrorHandling)throw t;Object(r.a)(t)},complete(){}}},ggWO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Decoder=e.Encoder=e.PacketType=e.protocol=void 0;const i=n("cpc2"),r=n("qKib"),o=n("ymUC"),s=n("NOtv")("socket.io-parser");var a;e.protocol=5,function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(a=e.PacketType||(e.PacketType={})),e.Encoder=class{encode(t){return s("encoding packet %j",t),t.type!==a.EVENT&&t.type!==a.ACK||!o.hasBinary(t)?[this.encodeAsString(t)]:(t.type=t.type===a.EVENT?a.BINARY_EVENT:a.BINARY_ACK,this.encodeAsBinary(t))}encodeAsString(t){let e=""+t.type;return t.type!==a.BINARY_EVENT&&t.type!==a.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data)),s("encoded %j as %s",t,e),e}encodeAsBinary(t){const e=r.deconstructPacket(t),n=this.encodeAsString(e.packet),i=e.buffers;return i.unshift(n),i}};class c extends i{constructor(){super()}add(t){let e;if("string"==typeof t)e=this.decodeString(t),e.type===a.BINARY_EVENT||e.type===a.BINARY_ACK?(this.reconstructor=new l(e),0===e.attachments&&super.emit("decoded",e)):super.emit("decoded",e);else{if(!o.isBinary(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emit("decoded",e))}}decodeString(t){let e=0;const n={type:Number(t.charAt(0))};if(void 0===a[n.type])throw new Error("unknown packet type "+n.type);if(n.type===a.BINARY_EVENT||n.type===a.BINARY_ACK){const i=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const r=t.substring(i,e);if(r!=Number(r)||"-"!==t.charAt(e))throw new Error("Illegal attachments");n.attachments=Number(r)}if("/"===t.charAt(e+1)){const i=e+1;for(;++e&&","!==t.charAt(e)&&e!==t.length;);n.nsp=t.substring(i,e)}else n.nsp="/";const i=t.charAt(e+1);if(""!==i&&Number(i)==i){const i=e+1;for(;++e;){const n=t.charAt(e);if(null==n||Number(n)!=n){--e;break}if(e===t.length)break}n.id=Number(t.substring(i,e+1))}if(t.charAt(++e)){const i=function(t){try{return JSON.parse(t)}catch(e){return!1}}(t.substr(e));if(!c.isPayloadValid(n.type,i))throw new Error("invalid payload");n.data=i}return s("decoded %s as %j",t,n),n}static isPayloadValid(t,e){switch(t){case a.CONNECT:return"object"==typeof e;case a.DISCONNECT:return void 0===e;case a.CONNECT_ERROR:return"string"==typeof e||"object"==typeof e;case a.EVENT:case a.BINARY_EVENT:return Array.isArray(e)&&e.length>0;case a.ACK:case a.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}e.Decoder=c;class l{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=r.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}},itXk:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n("z+Ro"),r=n("DH7j"),o=n("7o/Q");class s extends o.a{notifyNext(t,e,n,i,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class a extends o.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var c=n("SeVD"),l=n("HDdC");function u(t,e,n,i,r=new a(t,n,i)){if(!r.closed)return e instanceof l.a?e.subscribe(r):Object(c.a)(e)(r)}var h=n("yCtX");const d={};function p(...t){let e,n;return Object(i.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(r.a)(t[0])&&(t=t[0]),Object(h.a)(t,n).lift(new f(e))}class f{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new g(t,this.resultSelector))}}class g extends s{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(d),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(u(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const i=this.values,r=this.toRespond?i[n]===d?--this.toRespond:this.toRespond:0;i[n]=e,0===r&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("HDdC"),r=n("quSY");function o(t,e){return new i.a(n=>{const i=new r.a;let o=0;return i.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||i.add(this.schedule())):n.complete()})),i})}},jifJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.io=e.Socket=e.Manager=e.protocol=void 0;const i=n("f7yz"),r=n("PVQj"),o=n("NOtv")("socket.io-client");t.exports=e=a;const s=e.managers={};function a(t,e){"object"==typeof t&&(e=t,t=void 0);const n=i.url(t,(e=e||{}).path||"/socket.io"),a=n.source,c=n.id;let l;return e.forceNew||e["force new connection"]||!1===e.multiplex||s[c]&&n.path in s[c].nsps?(o("ignoring socket cache for %s",a),l=new r.Manager(a,e)):(s[c]||(o("new io instance for %s",a),s[c]=new r.Manager(a,e)),l=s[c]),n.query&&!e.query&&(e.query=n.queryKey),l.socket(n.path,e)}e.io=a;var c=n("ggWO");Object.defineProperty(e,"protocol",{enumerable:!0,get:function(){return c.protocol}}),e.connect=a;var l=n("PVQj");Object.defineProperty(e,"Manager",{enumerable:!0,get:function(){return l.Manager}});var u=n("eFEk");Object.defineProperty(e,"Socket",{enumerable:!0,get:function(){return u.Socket}}),e.default=a},kIY7:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends i.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},lKxJ:function(t,e,n){const i=n("2pII");t.exports=(t,e)=>new i(t,e),t.exports.Socket=i,t.exports.protocol=i.protocol,t.exports.Transport=n("Gbct"),t.exports.transports=n("akSB"),t.exports.parser=n("KoVT")},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return c}),n.d(e,"e",function(){return l}),n.d(e,"f",function(){return u}),n.d(e,"g",function(){return h});var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function s(t,e,n,i){return new(n||(n=Promise))(function(r,o){function s(t){try{c(i.next(t))}catch(e){o(e)}}function a(t){try{c(i.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((i=i.apply(t,e||[])).next())})}function a(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function u(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}},n6bG:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.d(e,"a",function(){return i})},nYR2:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("7o/Q"),r=n("quSY");function o(t){return e=>e.lift(new s(t))}class s{constructor(t){this.callback=t}call(t,e){return e.subscribe(new a(t,this.callback))}}class a extends i.a{constructor(t,e){super(t),this.add(new r.a(e))}}},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()}},oB13:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("XNiG"),r=n("HDdC"),o=(n("7o/Q"),n("quSY")),s=n("x+ZX");class a extends r.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new l(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return Object(s.a)()(this)}}const c=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class l extends i.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function u(t,e){return function(n){let i;if(i="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new h(i,e));const r=Object.create(n,c);return r.source=n,r.subjectFactory=i,r}}class h{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:n}=this,i=this.subjectFactory(),r=n(i).subscribe(t);return r.add(e.subscribe(i)),r}}},ofXK:function(t,e,n){"use strict";n.d(e,"a",function(){return _}),n.d(e,"b",function(){return It}),n.d(e,"c",function(){return At}),n.d(e,"d",function(){return c}),n.d(e,"e",function(){return Rt}),n.d(e,"f",function(){return T}),n.d(e,"g",function(){return z}),n.d(e,"h",function(){return Dt}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return C}),n.d(e,"k",function(){return y}),n.d(e,"l",function(){return dt}),n.d(e,"m",function(){return ft}),n.d(e,"n",function(){return mt}),n.d(e,"o",function(){return Ct}),n.d(e,"p",function(){return _t}),n.d(e,"q",function(){return wt}),n.d(e,"r",function(){return zt}),n.d(e,"s",function(){return St}),n.d(e,"t",function(){return w}),n.d(e,"u",function(){return l}),n.d(e,"v",function(){return E}),n.d(e,"w",function(){return jt}),n.d(e,"x",function(){return H}),n.d(e,"y",function(){return M}),n.d(e,"z",function(){return Lt}),n.d(e,"A",function(){return Ft}),n.d(e,"B",function(){return ut}),n.d(e,"C",function(){return a}),n.d(e,"D",function(){return Pt}),n.d(e,"E",function(){return o}),n.d(e,"F",function(){return ht}),n.d(e,"G",function(){return s});var i=n("fXoL");let r=null;function o(){return r}function s(t){r||(r=t)}class a{}const c=new i.r("DocumentToken");let l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Nb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(i.bc)(d)}const h=new i.r("Location Initialized");let d=(()=>{class t extends l{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){p()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){p()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(i.bc(c))},t.\u0275prov=Object(i.Nb)({factory:f,token:t,providedIn:"platform"}),t})();function p(){return!!window.history.pushState}function f(){return new d(Object(i.bc)(c))}function g(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function b(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Nb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(i.bc)(c).location;return new w(Object(i.bc)(l),e&&e.origin||"")}const _=new i.r("appBaseHref");let w=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return g(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+b(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const r=this.prepareExternalUrl(n+b(i));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){const r=this.prepareExternalUrl(n+b(i));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(i.bc(l),i.bc(_,8))},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac}),t})(),z=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=g(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let r=this.prepareExternalUrl(n+b(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){let r=this.prepareExternalUrl(n+b(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(i.bc(l),i.bc(_,8))},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac}),t})(),C=(()=>{class t{constructor(t,e){this._subject=new i.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(x(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+b(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,x(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(i.bc(y),i.bc(l))},t.normalizeQueryParams=b,t.joinWithSlash=g,t.stripTrailingSlash=m,t.\u0275prov=Object(i.Nb)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new C(Object(i.bc)(y),Object(i.bc)(l))}function x(t){return t.replace(/\/index.html$/,"")}var O=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),k=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),T=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),E=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),I=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),D=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function M(t,e,n){const r=Object(i.mb)(t),o=N([r[i.db.DayPeriodsFormat],r[i.db.DayPeriodsStandalone]],e);return N(o,n)}function R(t,e){return N(Object(i.mb)(t)[i.db.DateFormat],e)}function A(t,e){return N(Object(i.mb)(t)[i.db.TimeFormat],e)}function P(t,e){return N(Object(i.mb)(t)[i.db.DateTimeFormat],e)}function L(t,e){const n=Object(i.mb)(t),r=n[i.db.NumberSymbols][e];if(void 0===r){if(e===D.CurrencyDecimal)return n[i.db.NumberSymbols][D.Decimal];if(e===D.CurrencyGroup)return n[i.db.NumberSymbols][D.Group]}return r}const F=i.pb;function j(t){if(!t[i.db.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[i.db.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function N(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function V(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const W=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,q={},B=/((?:[^GyYMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var X=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),U=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),$=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function H(t,e,n,i){let r=function(t){if(ot(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,i]=t.split("-").map(t=>+t);return new Date(e,n-1,i)}let n;if(n=t.match(W))return function(t){const e=new Date(0);let n=0,i=0;const r=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-i,c=Number(t[6]||0),l=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,c,l),e}(n)}const e=new Date(t);if(!ot(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=K(n,e)||e;let o,s=[];for(;e;){if(o=B.exec(e),!o){s.push(e);break}{s=s.concat(o.slice(1));const t=s.pop();if(!t)break;e=t}}let a=r.getTimezoneOffset();i&&(a=rt(i,a),r=function(t,e,n){const i=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(rt(e,i)-i))}(r,i));let c="";return s.forEach(t=>{const e=function(t){if(it[t])return it[t];let e;switch(t){case"G":case"GG":case"GGG":e=J($.Eras,E.Abbreviated);break;case"GGGG":e=J($.Eras,E.Wide);break;case"GGGGG":e=J($.Eras,E.Narrow);break;case"y":e=Q(U.FullYear,1,0,!1,!0);break;case"yy":e=Q(U.FullYear,2,0,!0,!0);break;case"yyy":e=Q(U.FullYear,3,0,!1,!0);break;case"yyyy":e=Q(U.FullYear,4,0,!1,!0);break;case"Y":e=nt(1);break;case"YY":e=nt(2,!0);break;case"YYY":e=nt(3);break;case"YYYY":e=nt(4);break;case"M":case"L":e=Q(U.Month,1,1);break;case"MM":case"LL":e=Q(U.Month,2,1);break;case"MMM":e=J($.Months,E.Abbreviated);break;case"MMMM":e=J($.Months,E.Wide);break;case"MMMMM":e=J($.Months,E.Narrow);break;case"LLL":e=J($.Months,E.Abbreviated,T.Standalone);break;case"LLLL":e=J($.Months,E.Wide,T.Standalone);break;case"LLLLL":e=J($.Months,E.Narrow,T.Standalone);break;case"w":e=et(1);break;case"ww":e=et(2);break;case"W":e=et(1,!0);break;case"d":e=Q(U.Date,1);break;case"dd":e=Q(U.Date,2);break;case"E":case"EE":case"EEE":e=J($.Days,E.Abbreviated);break;case"EEEE":e=J($.Days,E.Wide);break;case"EEEEE":e=J($.Days,E.Narrow);break;case"EEEEEE":e=J($.Days,E.Short);break;case"a":case"aa":case"aaa":e=J($.DayPeriods,E.Abbreviated);break;case"aaaa":e=J($.DayPeriods,E.Wide);break;case"aaaaa":e=J($.DayPeriods,E.Narrow);break;case"b":case"bb":case"bbb":e=J($.DayPeriods,E.Abbreviated,T.Standalone,!0);break;case"bbbb":e=J($.DayPeriods,E.Wide,T.Standalone,!0);break;case"bbbbb":e=J($.DayPeriods,E.Narrow,T.Standalone,!0);break;case"B":case"BB":case"BBB":e=J($.DayPeriods,E.Abbreviated,T.Format,!0);break;case"BBBB":e=J($.DayPeriods,E.Wide,T.Format,!0);break;case"BBBBB":e=J($.DayPeriods,E.Narrow,T.Format,!0);break;case"h":e=Q(U.Hours,1,-12);break;case"hh":e=Q(U.Hours,2,-12);break;case"H":e=Q(U.Hours,1);break;case"HH":e=Q(U.Hours,2);break;case"m":e=Q(U.Minutes,1);break;case"mm":e=Q(U.Minutes,2);break;case"s":e=Q(U.Seconds,1);break;case"ss":e=Q(U.Seconds,2);break;case"S":e=Q(U.FractionalSeconds,1);break;case"SS":e=Q(U.FractionalSeconds,2);break;case"SSS":e=Q(U.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Z(X.Short);break;case"ZZZZZ":e=Z(X.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Z(X.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Z(X.Long);break;default:return null}return it[t]=e,e}(t);c+=e?e(r,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function K(t,e){const n=function(t){return Object(i.mb)(t)[i.db.LocaleId]}(t);if(q[n]=q[n]||{},q[n][e])return q[n][e];let r="";switch(e){case"shortDate":r=R(t,I.Short);break;case"mediumDate":r=R(t,I.Medium);break;case"longDate":r=R(t,I.Long);break;case"fullDate":r=R(t,I.Full);break;case"shortTime":r=A(t,I.Short);break;case"mediumTime":r=A(t,I.Medium);break;case"longTime":r=A(t,I.Long);break;case"fullTime":r=A(t,I.Full);break;case"short":const e=K(t,"shortTime"),n=K(t,"shortDate");r=G(P(t,I.Short),[e,n]);break;case"medium":const i=K(t,"mediumTime"),o=K(t,"mediumDate");r=G(P(t,I.Medium),[i,o]);break;case"long":const s=K(t,"longTime"),a=K(t,"longDate");r=G(P(t,I.Long),[s,a]);break;case"full":const c=K(t,"fullTime"),l=K(t,"fullDate");r=G(P(t,I.Full),[c,l])}return r&&(q[n][e]=r),r}function G(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function Y(t,e,n="-",i,r){let o="";(t<0||r&&t<=0)&&(r?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return i&&(s=s.substr(s.length-e)),o+s}function Q(t,e,n=0,i=!1,r=!1){return function(o,s){let a=function(t,e){switch(t){case U.FullYear:return e.getFullYear();case U.Month:return e.getMonth();case U.Date:return e.getDate();case U.Hours:return e.getHours();case U.Minutes:return e.getMinutes();case U.Seconds:return e.getSeconds();case U.FractionalSeconds:return e.getMilliseconds();case U.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===U.Hours)0===a&&-12===n&&(a=12);else if(t===U.FractionalSeconds)return c=e,Y(a,3).substr(0,c);var c;const l=L(s,D.MinusSign);return Y(a,e,l,i,r)}}function J(t,e,n=T.Format,r=!1){return function(o,s){return function(t,e,n,r,o,s){switch(n){case $.Months:return function(t,e,n){const r=Object(i.mb)(t),o=N([r[i.db.MonthsFormat],r[i.db.MonthsStandalone]],e);return N(o,n)}(e,o,r)[t.getMonth()];case $.Days:return function(t,e,n){const r=Object(i.mb)(t),o=N([r[i.db.DaysFormat],r[i.db.DaysStandalone]],e);return N(o,n)}(e,o,r)[t.getDay()];case $.DayPeriods:const a=t.getHours(),c=t.getMinutes();if(s){const t=function(t){const e=Object(i.mb)(t);return j(e),(e[i.db.ExtraData][2]||[]).map(t=>"string"==typeof t?V(t):[V(t[0]),V(t[1])])}(e),n=function(t,e,n){const r=Object(i.mb)(t);j(r);const o=N([r[i.db.ExtraData][0],r[i.db.ExtraData][1]],e)||[];return N(o,n)||[]}(e,o,r),s=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,i=a>=e.hours&&c>=e.minutes,r=a<n.hours||a===n.hours&&c<n.minutes;if(e.hours<n.hours){if(i&&r)return!0}else if(i||r)return!0}else if(t.hours===a&&t.minutes===c)return!0;return!1});if(-1!==s)return n[s]}return M(e,o,r)[a<12?0:1];case $.Eras:return function(t,e){return N(Object(i.mb)(t)[i.db.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(o,s,t,e,n,r)}}function Z(t){return function(e,n,i){const r=-1*i,o=L(n,D.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case X.Short:return(r>=0?"+":"")+Y(s,2,o)+Y(Math.abs(r%60),2,o);case X.ShortGMT:return"GMT"+(r>=0?"+":"")+Y(s,1,o);case X.Long:return"GMT"+(r>=0?"+":"")+Y(s,2,o)+":"+Y(Math.abs(r%60),2,o);case X.Extended:return 0===i?"Z":(r>=0?"+":"")+Y(s,2,o)+":"+Y(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function tt(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function et(t,e=!1){return function(n,i){let r;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();r=1+Math.floor((e+t)/7)}else{const t=tt(n),e=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),i=t.getTime()-e.getTime();r=1+Math.round(i/6048e5)}return Y(r,t,L(i,D.MinusSign))}}function nt(t,e=!1){return function(n,i){return Y(tt(n).getFullYear(),t,L(i,D.MinusSign),e)}}const it={};function rt(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function ot(t){return t instanceof Date&&!isNaN(t.valueOf())}const st=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function at(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class ct{}let lt=(()=>{class t extends ct{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(F(e||this.locale)(t)){case k.Zero:return"zero";case k.One:return"one";case k.Two:return"two";case k.Few:return"few";case k.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(i.bc(i.v))},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac}),t})();function ut(t,e,n){return Object(i.wb)(t,e,n)}function ht(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(r)}return null}let dt=(()=>{class t{constructor(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(i.sb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(i.yb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(i.t),i.Rb(i.u),i.Rb(i.l),i.Rb(i.F))},t.\u0275dir=i.Mb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class pt{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ft=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new pt(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new gt(t,n);e.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const o=new gt(t,r);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(i.R),i.Rb(i.M),i.Rb(i.t))},t.\u0275dir=i.Mb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class gt{constructor(t,e){this.record=t,this.view=e}}let mt=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new bt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){yt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){yt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(i.R),i.Rb(i.M))},t.\u0275dir=i.Mb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class bt{constructor(){this.$implicit=null,this.ngIf=null}}function yt(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(i.yb)(e)}'.`)}class vt{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let _t=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Mb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),wt=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new vt(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(i.R),i.Rb(i.M),i.Rb(_t,1))},t.\u0275dir=i.Mb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),zt=(()=>{class t{constructor(t,e,n){n._addDefault(new vt(t,e))}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(i.R),i.Rb(i.M),i.Rb(_t,1))},t.\u0275dir=i.Mb({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),Ct=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,i]=t.split(".");null!=(e=null!=e&&i?`${e}${i}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(i.l),i.Rb(i.u),i.Rb(i.F))},t.\u0275dir=i.Mb({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),St=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(i.R))},t.\u0275dir=i.Mb({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[i.Bb]}),t})();function xt(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(i.yb)(t)}'`)}class Ot{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class kt{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const Tt=new kt,Et=new Ot;let It=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(i.ub)(e))return Tt;if(Object(i.vb)(e))return Et;throw xt(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(i.dc())},t.\u0275pipe=i.Qb({name:"async",type:t,pure:!1}),t})(),Dt=(()=>{class t{constructor(t){this.differs=t,this.keyValues=[]}transform(t,e=Mt){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const n=this.differ.diff(t);return n&&(this.keyValues=[],n.forEachItem(t=>{this.keyValues.push({key:t.key,value:t.currentValue})}),this.keyValues.sort(e)),this.keyValues}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(i.u))},t.\u0275pipe=i.Qb({name:"keyvalue",type:t,pure:!1}),t})();function Mt(t,e){const n=t.key,i=e.key;if(n===i)return 0;if(void 0===n)return 1;if(void 0===i)return-1;if(null===n)return 1;if(null===i)return-1;if("string"==typeof n&&"string"==typeof i)return n<i?-1:1;if("number"==typeof n&&"number"==typeof i)return n-i;if("boolean"==typeof n&&"boolean"==typeof i)return n<i?-1:1;const r=String(n),o=String(i);return r==o?0:r<o?-1:1}let Rt=(()=>{class t{constructor(t){this._locale=t}transform(e,n,r){if(!function(t){return!(null==t||""===t||t!=t)}(e))return null;r=r||this._locale;try{return function(t,e,n){return function(t,e,n,i,r,o,s=!1){let a="",c=!1;if(isFinite(t)){let l=function(t){let e,n,i,r,o,s=Math.abs(t)+"",a=0;for((n=s.indexOf("."))>-1&&(s=s.replace(".","")),(i=s.search(/e/i))>0?(n<0&&(n=i),n+=+s.slice(i+1),s=s.substring(0,i)):n<0&&(n=s.length),i=0;"0"===s.charAt(i);i++);if(i===(o=s.length))e=[0],n=1;else{for(o--;"0"===s.charAt(o);)o--;for(n-=i,e=[],r=0;i<=o;i++,r++)e[r]=Number(s.charAt(i))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);s&&(l=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));let u=e.minInt,h=e.minFrac,d=e.maxFrac;if(o){const t=o.match(st);if(null===t)throw new Error(`${o} is not a valid digit info`);const e=t[1],n=t[3],i=t[5];null!=e&&(u=at(e)),null!=n&&(h=at(n)),null!=i?d=at(i):null!=n&&h>d&&(d=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let i=t.digits,r=i.length-t.integerLen;const o=Math.min(Math.max(e,r),n);let s=o+t.integerLen,a=i[s];if(s>0){i.splice(Math.max(t.integerLen,s));for(let t=s;t<i.length;t++)i[t]=0}else{r=Math.max(0,r),t.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let t=1;t<s;t++)i[t]=0}if(a>=5)if(s-1<0){for(let e=0;e>s;e--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let c=0!==o;const l=e+t.integerLen,u=i.reduceRight(function(t,e,n,i){return i[n]=(e+=t)<10?e:e-10,c&&(0===i[n]&&n>=l?i.pop():c=!1),e>=10?1:0},0);u&&(i.unshift(u),t.integerLen++)}(l,h,d);let p=l.digits,f=l.integerLen;const g=l.exponent;let m=[];for(c=p.every(t=>!t);f<u;f++)p.unshift(0);for(;f<0;f++)p.unshift(0);f>0?m=p.splice(f,p.length):(m=p,p=[0]);const b=[];for(p.length>=e.lgSize&&b.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)b.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&b.unshift(p.join("")),a=b.join(L(n,i)),m.length&&(a+=L(n,r)+m.join("")),g&&(a+=L(n,D.Exponential)+"+"+g)}else a=L(n,D.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(";"),r=i[0],o=i[1],s=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=s[0],c=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<c.length;u++){const t=c.charAt(u);"0"===t?n.minFrac=n.maxFrac=u+1:"#"===t?n.maxFrac=u+1:n.posSuf+=t}const l=a.split(",");if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){const t=r.length-n.posPre.length-n.posSuf.length,e=o.indexOf("#");n.negPre=o.substr(0,e).replace(/'/g,""),n.negSuf=o.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(i.mb)(t)[i.db.NumberFormats][e]}(e,O.Decimal),L(e,D.MinusSign)),e,D.Group,D.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),r,n)}catch(o){throw xt(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(i.v))},t.\u0275pipe=i.Qb({name:"number",type:t,pure:!0}),t})(),At=(()=>{class t{}return t.\u0275mod=i.Pb({type:t}),t.\u0275inj=i.Ob({factory:function(e){return new(e||t)},providers:[{provide:ct,useClass:lt}]}),t})();const Pt="browser";function Lt(t){return t===Pt}function Ft(t){return"server"===t}let jt=(()=>{class t{}return t.\u0275prov=Object(i.Nb)({token:t,providedIn:"root",factory:()=>new Nt(Object(i.bc)(c),window)}),t})();class Nt{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Vt(this.window.history)||Vt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Vt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}},pLZG:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t,e){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))}}class s extends i.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var i=n("7o/Q"),r=n("WMd4");function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends i.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new c(t,this.destination)))}_next(t){this.scheduleMessage(r.a.createNext(t))}_error(t){this.scheduleMessage(r.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(r.a.createComplete()),this.unsubscribe()}}class c{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function i(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}var r;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return p});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},c=s.INFO,l=((r={})[s.DEBUG]="log",r[s.VERBOSE]="log",r[s.INFO]="info",r[s.WARN]="warn",r[s.ERROR]="error",r),u=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=l[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,i(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=u,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,s.DEBUG],t)),this._logHandler.apply(this,i([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,s.VERBOSE],t)),this._logHandler.apply(this,i([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,s.INFO],t)),this._logHandler.apply(this,i([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,s.WARN],t)),this._logHandler.apply(this,i([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,s.ERROR],t)),this._logHandler.apply(this,i([this,s.ERROR],t))},t}();function d(t){o.forEach(function(e){e.setLogLevel(t)})}function p(t,e){for(var n=function(n){var i=null;e&&e.level&&(i=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var a=r.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=i?i:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:r,type:e.name})}},i=0,r=o;i<r.length;i++)n(r[i])}},qKib:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reconstructPacket=e.deconstructPacket=void 0;const i=n("ymUC");function r(t,e){if(!t)return t;if(i.isBinary(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}if(Array.isArray(t)){const n=new Array(t.length);for(let i=0;i<t.length;i++)n[i]=r(t[i],e);return n}if("object"==typeof t&&!(t instanceof Date)){const n={};for(const i in t)t.hasOwnProperty(i)&&(n[i]=r(t[i],e));return n}return t}function o(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=o(t[n],e);else if("object"==typeof t)for(const n in t)t.hasOwnProperty(n)&&(t[n]=o(t[n],e));return t}e.deconstructPacket=function(t){const e=[],n=t;return n.data=r(t.data,e),n.attachments=e.length,{packet:n,buffers:e}},e.reconstructPacket=function(t,e){return t.data=o(t.data,e),t.attachments=void 0,t}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return r}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return p}),n.d(e,"k",function(){return f}),n.d(e,"l",function(){return c}),n.d(e,"m",function(){return l}),n.d(e,"n",function(){return d}),n.d(e,"o",function(){return g});var i=n("mrSG");function r(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,i))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function c(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function l(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function u(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function p(){return a().indexOf("Electron/")>=0}function f(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,i,r){var o=t.call(this,i)||this;return o.code=n,o.customData=r,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,b.prototype.create),o}return Object(i.c)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=e[0]||{},r=this.service+"/"+t,o=this.errors[t],s=o?y(o,i):"Error",a=this.serviceName+": "+s+" ("+r+").",c=new m(r,a,i);return c},t}();function y(t,e){return t.replace(v,function(t,n){var i=e[n];return null!=i?String(i):"<"+n+"?>"})}var v=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new z(t,e);return n.subscribe.bind(n)}var z=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var i,r=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,i=["next","error","complete"];n<i.length;n++){var r=i[n];if(r in t&&"function"==typeof t[r])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(i.next=C),void 0===i.error&&(i.error=C),void 0===i.complete&&(i.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(t){}}),this.observers.push(i),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(i){"undefined"!=typeof console&&console.error&&console.error(i)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function C(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return c});var i=n("3N8a");class r extends i.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(r),c=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("DH7j"),r=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:l,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(l)){a&&(this._unsubscribe=void 0);try{l.call(this)}catch(h){e=h instanceof s?c(h.errors):[h]}}if(Object(i.a)(u)){let t=-1,n=u.length;for(;++t<n;){const n=u[t];if(Object(r.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},sVev:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})()},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return v}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return p}),n.d(e,"d",function(){return b}),n.d(e,"e",function(){return C}),n.d(e,"f",function(){return _}),n.d(e,"g",function(){return f}),n.d(e,"h",function(){return m}),n.d(e,"i",function(){return w});var i=n("qgXg"),r=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),c=n("fXoL"),l=n("Jgta");function u(){}class h{constructor(t,e=i.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const i=this.zone;return this.delegate.schedule(function(e){i.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",u,{},u,u)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class p{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,r.b))}}function f(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,i={})=>new Proxy(t,{get:(r,o)=>n.runOutsideAngular(()=>{var r;if(t[o])return(null===(r=null==i?void 0:i.spy)||void 0===r?void 0:r.get)&&i.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const r=t&&t(...n);return(null===(e=null==i?void 0:i.spy)||void 0===e?void 0:e.apply)&&i.spy.apply(o,n,r),r})})})}),b=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new c.r("angularfire2.app.options"),v=new c.r("angularfire2.app.nameOrConfig");function _(e,n,i){const r="object"==typeof i&&i||{};r.name=r.name||"string"==typeof i&&i||"[DEFAULT]";const o=l.a.apps.filter(t=>t&&t.name===r.name)[0]||n.runOutsideAngular(()=>l.a.initializeApp(e,r));try{JSON.stringify(e)!==JSON.stringify(o.options)&&z("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}new c.Q("6.1.4");const w=()=>{z("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},z=(t,...e)=>{Object(c.Y)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,i,r,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&z("error",`${n} was already initialized on the ${i.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return s}{const t=r();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map),new c.B}).call(this,n("kIY7")(t))},t6oF:function(t,e,n){"use strict";var i=n("zIRd");(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,i){if(i){var r=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in r||(r[s]={}),r=r[s]}(i=i(o=r[t=t[t.length-1]]))!=o&&null!=i&&e(r,t,{configurable:!0,writable:!0,value:i})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function i(){this.a=null}function r(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;i.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var s=n.setTimeout;i.prototype.c=function(t){s(t,0)},i.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(i){this.f(i)}}}this.a=null},i.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(i){n||(n=!0,t.call(e,i))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new i;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(i){n.reject(i)}},e.prototype.then=function(t,n){function i(t,e){return"function"==typeof t?function(e){try{r(t(e))}catch(n){o(n)}}:e}var r,o,s=new e(function(t,e){r=t,o=e});return this.Qa(i(t,r),i(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(i.b){case 1:t(i.c);break;case 2:e(i.c);break;default:throw Error("Unexpected state: "+i.b)}}var i=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var i=o(t),s=i.next();!s.done;s=i.next())r(s.value).Qa(e,n)})},e.all=function(t){var n=o(t),i=n.next();return i.done?r([]):new e(function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,r(i.value).Qa(o(s.length-1),e),i=n.next()}while(!i.done)})},e});var s=s||{},a=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function u(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&c.test(t)?t:""}function h(){}function d(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function p(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){return"function"==d(t)}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,b)&&t[b]||(t[b]=++y)}var b="closure_uid_"+(1e9*Math.random()>>>0),y=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:_).apply(null,arguments)}function z(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var C=Date.now;function S(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function x(t){return t}function O(t,e,n){this.code=E+t,this.message=e||I[t]||"",this.a=n||null}function k(t){var e=t&&t.code;return e?new O(e.substring(E.length),t.message,t.serverResponse):null}S(O,Error),O.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},O.prototype.toJSON=function(){return this.w()};var T,E="auth/",I={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},D={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function M(t){for(var e in D)if(D[e].id===t)return{firebaseEndpoint:(t=D[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function R(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function A(t){if(Error.captureStackTrace)Error.captureStackTrace(this,A);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function P(t,e){for(var n="",i=(t=t.split("%s")).length-1,r=0;r<i;r++)n+=t[r]+(r<e.length?e[r]:"%s");A.call(this,n+t[i])}function L(t,e){throw new P("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function F(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function j(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function N(){this.b=this.a=null}T=M("__EID__")?"__EID__":void 0,S(A,Error),A.prototype.name="CustomError",S(P,A),P.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var V=new F(function(){return new q},function(t){t.reset()});function W(){var t=ye,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function q(){this.next=this.b=this.a=null}N.prototype.add=function(t,e){var n=V.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var B=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},X=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"==typeof t?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)},U=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=[],r=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(i[r++]=a)}return i},$=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=Array(n),r="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in r&&(i[o]=e.call(void 0,r[o],o,t));return i},H=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t))return!0;return!1};function K(t,e){return 0<=B(t,e)}function G(t,e){var n;return(n=0<=(e=B(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Y(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,i=t.length-1;0<=i;--i)i in n&&e.call(void 0,n[i],i,t)}(t,function(n,i){e.call(void 0,n,i,t)&&Array.prototype.splice.call(t,i,1)})}function Q(t){return Array.prototype.concat.apply([],arguments)}function J(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}var Z,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,it=/>/g,rt=/"/g,ot=/'/g,st=/\x00/g,at=/[\x00&<>"']/;function ct(t,e){return-1!=t.indexOf(e)}function lt(t,e){return t<e?-1:t>e?1:0}t:{var ut=a.navigator;if(ut){var ht=ut.userAgent;if(ht){Z=ht;break t}}Z=""}function dt(t){return ct(Z,t)}function pt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ft(t){for(var e in t)return!1;return!0}function gt(t){var e,n={};for(e in t)n[e]=t[e];return n}var mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bt(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<mt.length;o++)n=mt[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function yt(t,e){t:{try{var n=t&&t.ownerDocument,i=n&&(n.defaultView||n.parentWindow);if((i=i||a).Element&&i.Location){var r=i;break t}}catch(s){}r=null}if(r&&void 0!==r[e]&&(!t||!(t instanceof r[e])&&(t instanceof r.Location||t instanceof r.Element))){if(g(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function vt(t,e){this.a=t===Ct&&e||"",this.b=zt}function _t(t){return t instanceof vt&&t.constructor===vt&&t.b===zt?t.a:(L("expected object of type Const, got '"+t+"'"),"type_error:Const")}vt.prototype.sa=!0,vt.prototype.ra=function(){return this.a},vt.prototype.toString=function(){return"Const{"+this.a+"}"};var wt,zt={},Ct={};function St(){if(void 0===wt){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:x,createScript:x,createScriptURL:x})}catch(n){a.console&&a.console.error(n.message)}wt=t}else wt=t}return wt}function xt(t,e){this.a=e===It?t:""}function Ot(t){return t instanceof xt&&t.constructor===xt?t.a:(L("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function kt(t,e){var n=_t(t);if(!Et.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=St();return new xt(t=e?e.createScriptURL(t):t,It)}(t=n.replace(Tt,function(t,i){if(!Object.prototype.hasOwnProperty.call(e,i))throw Error('Found marker, "'+i+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[i])instanceof vt?_t(t):encodeURIComponent(String(t))}))}xt.prototype.sa=!0,xt.prototype.ra=function(){return this.a.toString()},xt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Tt=/%{(\w+)}/g,Et=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,It={};function Dt(t,e){this.a=e===jt?t:""}function Mt(t){return t instanceof Dt&&t.constructor===Dt?t.a:(L("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}Dt.prototype.sa=!0,Dt.prototype.ra=function(){return this.a.toString()},Dt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Rt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,At=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Pt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Lt(t){if(t instanceof Dt)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Pt.test(t))t=new Dt(t,jt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(At);t=e&&Rt.test(e[1])?new Dt(t,jt):null}return t}function Ft(t){return t instanceof Dt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Pt.test(t)||(t="about:invalid#zClosurez"),new Dt(t,jt))}var jt={},Nt=new Dt("about:invalid#zClosurez",jt);function Vt(t,e,n){this.a=n===Wt?t:""}Vt.prototype.sa=!0,Vt.prototype.ra=function(){return this.a.toString()},Vt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Wt={};function qt(t,e,n,i){return t=t instanceof Dt?t:Ft(t),e=e||a,n=n instanceof vt?_t(n):n||"",e.open(Mt(t),n,i,void 0)}function Bt(t,e){for(var n=t.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")}function Xt(t){return at.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(it,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(rt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function Ut(t){return Ut[" "](t),t}Ut[" "]=h;var $t,Ht,Kt=dt("Opera"),Gt=dt("Trident")||dt("MSIE"),Yt=dt("Edge"),Qt=Yt||Gt,Jt=dt("Gecko")&&!(ct(Z.toLowerCase(),"webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),Zt=ct(Z.toLowerCase(),"webkit")&&!dt("Edge");function te(){var t=a.document;return t?t.documentMode:void 0}t:{var ee="",ne=(Ht=Z,Jt?/rv:([^\);]+)(\)|;)/.exec(Ht):Yt?/Edge\/([\d\.]+)/.exec(Ht):Gt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ht):Zt?/WebKit\/(\S+)/.exec(Ht):Kt?/(?:Version)[ \/]?(\S+)/.exec(Ht):void 0);if(ne&&(ee=ne?ne[1]:""),Gt){var ie=te();if(null!=ie&&ie>parseFloat(ee)){$t=String(ie);break t}}$t=ee}var re={};function oe(t){return function(t,e){var n=re;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=tt(String($t)).split("."),i=tt(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var s=n[o]||"",a=i[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=lt(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||lt(0==s[2].length,0==a[2].length)||lt(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var se=a.document&&Gt&&(te()||parseInt($t,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Ht){}var ae=!Gt||9<=Number(se);function ce(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function le(t,e){pt(e,function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:de.hasOwnProperty(n)?t.setAttribute(de[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var ue,he,de={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function pe(t,e,n){function i(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var r=2;r<n.length;r++){var o=n[r];if(!p(o)||g(o)&&0<o.nodeType)i(o);else{t:{if(o&&"number"==typeof o.length){if(g(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(f(o)){s="function"==typeof o.item;break t}}s=!1}X(s?J(o):o,i)}}}function fe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ge(t){a.setTimeout(function(){throw t},0)}function me(t,e){he||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);he=function(){t.then(ve)}}else he=function(){var t=ve;!f(a.setImmediate)||a.Window&&a.Window.prototype&&!dt("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(ue||(ue=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(t=function(){var t=fe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=w(function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),void 0!==t&&!dt("Trident")&&!dt("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){i.next={Gb:t},i=i.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),ue(t)):a.setImmediate(t)}}(),be||(he(),be=!0),ye.add(t,e)}var be=!1,ye=new N;function ve(){for(var t;t=W();){try{t.a.call(t.b)}catch(e){ge(e)}j(V,t)}be=!1}function _e(t,e){if(this.a=we,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,function(t){Ae(n,ze,t)},function(t){if(!(t instanceof We))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Ae(n,Ce,t)})}catch(i){Ae(this,Ce,i)}}var we=0,ze=2,Ce=3;function Se(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Se.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var xe=new F(function(){return new Se},function(t){t.reset()});function Oe(t,e,n){var i=xe.get();return i.g=t,i.b=e,i.f=n,i}function ke(t){if(t instanceof _e)return t;var e=new _e(h);return Ae(e,ze,t),e}function Te(t){return new _e(function(e,n){n(t)})}function Ee(t,e,n){Pe(t,e,n,null)||me(z(e,t))}function Ie(t){return new _e(function(e){var n=t.length,i=[];if(n)for(var r=function(t,r,o){n--,i[t]=r?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(i)},o=0;o<t.length;o++)Ee(t[o],z(r,o,!0),z(r,o,!1));else e(i)})}function De(t,e){if(t.a==we)if(t.c){var n=t.c;if(n.b){for(var i=0,r=null,o=null,s=n.b;s&&(s.c||(i++,s.a==t&&(r=s),!(r&&1<i)));s=s.next)r||(o=s);r&&(n.a==we&&1==i?De(n,e):(o?((i=o).next==n.f&&(n.f=i),i.next=i.next.next):Fe(n),je(n,r,Ce,e)))}t.c=null}else Ae(t,Ce,e)}function Me(t,e){t.b||t.a!=ze&&t.a!=Ce||Le(t),t.f?t.f.next=e:t.b=e,t.f=e}function Re(t,e,n,i){var r=Oe(null,null,null);return r.a=new _e(function(t,o){r.g=e?function(n){try{var r=e.call(i,n);t(r)}catch(s){o(s)}}:t,r.b=n?function(e){try{var r=n.call(i,e);void 0===r&&e instanceof We?o(e):t(r)}catch(s){o(s)}}:o}),r.a.c=t,Me(t,r),r.a}function Ae(t,e,n){t.a==we&&(t===n&&(e=Ce,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Pe(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Le(t),e!=Ce||n instanceof We||function(t,e){t.g=!0,me(function(){t.g&&Ve.call(null,e)})}(t,n)))}function Pe(t,e,n,i){if(t instanceof _e)return Me(t,Oe(e||h,n||null,i)),!0;if(R(t))return t.then(e,n,i),!0;if(g(t))try{var r=t.then;if(f(r))return function(t,e,n,i,r){function o(t){s||(s=!0,i.call(r,t))}var s=!1;try{e.call(t,function(t){s||(s=!0,n.call(r,t))},o)}catch(a){o(a)}}(t,r,e,n,i),!0}catch(o){return n.call(i,o),!0}return!1}function Le(t){t.h||(t.h=!0,me(t.gc,t))}function Fe(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function je(t,e,n,i){if(n==Ce&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ne(e,n,i);else try{e.c?e.g.call(e.f):Ne(e,n,i)}catch(r){Ve.call(null,r)}j(xe,e)}function Ne(t,e,n){e==ze?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}_e.prototype.then=function(t,e,n){return Re(this,f(t)?t:null,f(e)?e:null,n)},_e.prototype.$goog_Thenable=!0,(t=_e.prototype).oa=function(t,e){return(t=Oe(t,t,e)).c=!0,Me(this,t),this},t.o=function(t,e){return Re(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new We(t);me(function(){De(this,e)},this)}},t.$c=function(t){this.a=we,Ae(this,ze,t)},t.ad=function(t){this.a=we,Ae(this,Ce,t)},t.gc=function(){for(var t;t=Fe(this);)je(this,t,this.a,this.i);this.h=!1};var Ve=ge;function We(t){A.call(this,t)}function qe(){0!=Be&&(Xe[m(this)]=this),this.xa=this.xa,this.pa=this.pa}S(We,A),We.prototype.name="cancel";var Be=0,Xe={};function Ue(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=Be)){var e=m(t);if(0!=Be&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Xe[e]}}qe.prototype.xa=!1,qe.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var $e=Object.freeze||function(t){return t},He=!Gt||9<=Number(se),Ke=Gt&&!oe("9"),Ge=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",h,e),a.removeEventListener("test",h,e)}catch(n){}return t}();function Ye(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Qe(t,e){if(Ye.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Jt){t:{try{Ut(e.nodeName);var r=!0;break t}catch(o){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Je[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Ye.prototype.preventDefault=function(){this.defaultPrevented=!0},S(Qe,Ye);var Je=$e({2:"touch",3:"pen",4:"mouse"});Qe.prototype.preventDefault=function(){Qe.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ke)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Qe.prototype.g=function(){return this.a};var Ze="closure_listenable_"+(1e6*Math.random()|0),tn=0;function en(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.Va=r,this.key=++tn,this.va=this.Pa=!1}function nn(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function rn(t){this.src=t,this.a={},this.b=0}function on(t,e){var n=e.type;n in t.a&&G(t.a[n],e)&&(nn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function sn(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==i)return r}return-1}rn.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=sn(t,e,i,r);return-1<s?(e=t[s],n||(e.Pa=!1)):((e=new en(e,this.src,o,!!i,r)).Pa=n,t.push(e)),e};var an="closure_lm_"+(1e6*Math.random()|0),cn={};function ln(t,e,n,i,r){if(i&&i.once)hn(t,e,n,i,r);else if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,i,r);else n=_n(n),t&&t[Ze]?zn(t,e,n,g(i)?!!i.capture:!!i,r):un(t,e,n,!1,i,r)}function un(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var s=g(r)?!!r.capture:!!r,a=yn(t);if(a||(t[an]=a=new rn(t)),!(n=a.add(e,n,i,s,o)).proxy)if(i=function(){var t=bn,e=He?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)Ge||(r=s),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(fn(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}}function hn(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,i,r);else n=_n(n),t&&t[Ze]?Cn(t,e,n,g(i)?!!i.capture:!!i,r):un(t,e,n,!0,i,r)}function dn(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,i,r);else i=g(i)?!!i.capture:!!i,n=_n(n),t&&t[Ze]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=sn(o=t.a[e],n,i,r))&&(nn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=yn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=sn(e,n,i,r)),(n=-1<t?e[t]:null)&&pn(n))}function pn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Ze])on(e.v,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(fn(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=yn(e))?(on(n,t),0==n.b&&(n.src=null,e[an]=null)):nn(t)}}}function fn(t){return t in cn?cn[t]:cn[t]="on"+t}function gn(t,e,n,i){var r=!0;if((t=yn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=mn(o,i),r=r&&!1!==o)}return r}function mn(t,e){var n=t.listener,i=t.Va||t.src;return t.Pa&&pn(t),n.call(i,e)}function bn(t,e){if(t.va)return!0;if(!He){if(!e)t:{e=["window","event"];for(var n=a,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}if(e=new Qe(i=e,this),n=!0,!(0>i.keyCode||null!=i.returnValue)){t:{var r=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(s){r=!0}(r||null==i.returnValue)&&(i.returnValue=!0)}for(i=[],r=e.b;r;r=r.parentNode)i.push(r);for(t=t.type,r=i.length-1;0<=r;r--){e.b=i[r];var o=gn(i[r],t,!0,e);n=n&&o}for(r=0;r<i.length;r++)e.b=i[r],o=gn(i[r],t,!1,e),n=n&&o}return n}return mn(t,new Qe(e,this))}function yn(t){return(t=t[an])instanceof rn?t:null}var vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function _n(t){return f(t)?t:(t[vn]||(t[vn]=function(e){return t.handleEvent(e)}),t[vn])}function wn(){qe.call(this),this.v=new rn(this),this.ac=this,this.gb=null}function zn(t,e,n,i,r){t.v.add(String(e),n,!1,i,r)}function Cn(t,e,n,i,r){t.v.add(String(e),n,!0,i,r)}function Sn(t,e,n,i){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,c=s.Va||s.src;s.Pa&&on(t.v,s),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}function xn(t,e,n){if(f(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function On(t){var e=null;return new _e(function(n,i){-1==(e=xn(function(){n(void 0)},t))&&i(Error("Failed to schedule timer."))}).o(function(t){throw a.clearTimeout(e),t})}function kn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}function Tn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(p(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var i in e=[],n=0,t)e[n++]=i;return e}}function En(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof En)for(n=t.Y(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function In(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];Dn(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)Dn(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function Dn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}S(wn,qe),wn.prototype[Ze]=!0,wn.prototype.addEventListener=function(t,e,n,i){ln(this,t,e,n,i)},wn.prototype.removeEventListener=function(t,e,n,i){dn(this,t,e,n,i)},wn.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var i=t.type||t;if("string"==typeof t)t=new Ye(t,n);else if(t instanceof Ye)t.target=t.target||n;else{var r=t;bt(t=new Ye(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];r=Sn(s,i,!0,t)&&r}if(r=Sn(s=t.b=n,i,!0,t)&&r,r=Sn(s,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=Sn(s=t.b=e[o],i,!1,t)&&r;return r},wn.prototype.Da=function(){if(wn.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)nn(n[i]);delete e.a[t],e.b--}}this.gb=null},(t=En.prototype).W=function(){In(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return In(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Dn(this.b,t)?this.b[t]:e},t.set=function(t,e){Dn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var Mn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Rn?(this.i=void 0!==e?e:t.i,An(this,t.c),this.l=t.l,this.a=t.a,Pn(this,t.g),this.f=t.f,Ln(this,ei(t.b)),this.h=t.h):t&&(n=String(t).match(Mn))?(this.i=!!e,An(this,n[1]||"",!0),this.l=Wn(n[2]||""),this.a=Wn(n[3]||"",!0),Pn(this,n[4]),this.f=Wn(n[5]||"",!0),Ln(this,n[6]||"",!0),this.h=Wn(n[7]||"")):(this.i=!!e,this.b=new Gn(null,this.i))}function An(t,e,n){t.c=n?Wn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Pn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Ln(t,e,n){e instanceof Gn?(t.b=e,function(t,e){e&&!t.f&&(Yn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Jn(this,e),ti(this,n,t))},t)),t.f=e}(t.b,t.i)):(n||(e=qn(e,Hn)),t.b=new Gn(e,t.i))}function Fn(t,e,n){t.b.set(e,n)}function jn(t,e){return t.b.get(e)}function Nn(t){return t instanceof Rn?new Rn(t):new Rn(t,void 0)}function Vn(t,e,n,i){var r=new Rn(null,void 0);return t&&An(r,t),e&&(r.a=e),n&&Pn(r,n),i&&(r.f=i),r}function Wn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Bn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Bn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Rn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(qn(e,Xn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(qn(e,Xn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(qn(n,"/"==n.charAt(0)?$n:Un,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",qn(n,Kn)),t.join("")},Rn.prototype.resolve=function(t){var e=new Rn(this),n=!!t.c;n?An(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var i=t.f;if(n)Pn(e,t.g);else if(n=!!t.f){if("/"!=i.charAt(0))if(this.a&&!this.f)i="/"+i;else{var r=e.f.lastIndexOf("/");-1!=r&&(i=e.f.substr(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(ct(r,"./")||ct(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],s=0;s<r.length;){var a=r[s++];"."==a?i&&s==r.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&s==r.length&&o.push("")):(o.push(a),i=!0)}i=o.join("/")}else i=r}return n?e.f=i:n=""!==t.b.toString(),n?Ln(e,ei(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Xn=/[#\/\?@]/g,Un=/[#\?:]/g,$n=/[#\?]/g,Hn=/[#\?@]/g,Kn=/#/g;function Gn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Yn(t){t.a||(t.a=new En,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Qn(t){var e=Tn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Gn(null,void 0);t=kn(t);for(var i=0;i<e.length;i++){var r=e[i],o=t[i];Array.isArray(o)?ti(n,r,o):n.add(r,o)}return n}function Jn(t,e){Yn(t),e=ni(t,e),Dn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Dn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&In(t)))}function Zn(t,e){return Yn(t),e=ni(t,e),Dn(t.a.b,e)}function ti(t,e,n){Jn(t,e),0<n.length&&(t.c=null,t.a.set(ni(t,e),J(n)),t.b+=n.length)}function ei(t){var e=new Gn;return e.c=t.c,t.a&&(e.a=new En(t.a),e.b=t.b),e}function ni(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function ii(t){var e=[];return oi(new ri,t,e),e.join("")}function ri(){}function oi(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var i=e;e=i.length,n.push("[");for(var r="",o=0;o<e;o++)n.push(r),oi(t,i[o],n),r=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(i in n.push("{"),r="",e)Object.prototype.hasOwnProperty.call(e,i)&&"function"!=typeof(o=e[i])&&(n.push(r),ci(i,n),n.push(":"),oi(t,o,n),r=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":ci(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Gn.prototype).add=function(t,e){Yn(this),this.c=null,t=ni(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Yn(this),this.a.forEach(function(n,i){X(n,function(n){t.call(e,n,i,this)},this)},this)},t.Y=function(){Yn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},t.W=function(t){Yn(this);var e=[];if("string"==typeof t)Zn(this,t)&&(e=Q(e,this.a.get(ni(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=Q(e,t[n])}return e},t.set=function(t,e){return Yn(this),this.c=null,Zn(this,t=ni(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.W(i);for(var o=0;o<i.length;o++){var s=r;""!==i[o]&&(s+="="+encodeURIComponent(String(i[o]))),t.push(s)}}return this.c=t.join("&")};var si={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ai=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ci(t,e){e.push('"',t.replace(ai,function(t){var e=si[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),si[t]=e),e}),'"')}function li(){var t=Ti();return Gt&&!!se&&11==se||/Edge\/\d+/.test(t)}function ui(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function hi(t,e){e=e||a.window;var n="about:blank";t&&(n=Mt(Lt(t)||Nt)),e.location.href=n}function di(t,e){var n,i=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?i.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<di(t[n],e[n]).length&&i.push(n):t[n]!==e[n]&&i.push(n):i.push(n);for(n in e)n in t||i.push(n);return i}function pi(t){return!!((t=(t||Ti()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function fi(t){t=t||a.window;try{t.close()}catch(e){}}function gi(t,e,n){var i=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var r=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<r?r:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ti().toLowerCase(),i&&(e.target=i,ct(n,"crios/")&&(e.target="_blank")),xi(Ti())==Si&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),i=window,e=n instanceof Dt?n:Lt(void 0!==n.href?n.href:String(n))||Nt,n=t.target||n.target,r=[],t)switch(s){case"width":case"height":case"top":case"left":r.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(s+"="+(t[s]?1:0))}var s=r.join(",");if((dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(yt(s=fe(document,"A"),"HTMLAnchorElement"),e=e instanceof Dt?e:Ft(e),s.href=Mt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,i,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=qt("",i,n,s),t=Mt(e),s&&(Qt&&ct(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Xt(t)+'">',t=new Vt(t=(i=St())?i.createHTML(t):t,null,Wt),i=s.document)&&(i.write(function(t){return t instanceof Vt&&t.constructor===Vt?t.a:(L("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}(t)),i.close())):(s=qt(e,i,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var mi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bi=/^[^@]+@[^@]+$/;function yi(){var t=null;return new _e(function(e){"complete"==a.document.readyState?e():(t=function(){e()},hn(window,"load",t))}).o(function(e){throw dn(window,"load",t),e})}function vi(t){return t=t||Ti(),!("file:"!==Ri()&&"ionic:"!==Ri()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function _i(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function wi(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function zi(){return i.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":i.a.INTERNAL.hasOwnProperty("node")?"Node":wi()?"Worker":"Browser"}function Ci(){var t=zi();return"ReactNative"===t||"Node"===t}var Si="Firefox";function xi(t){var e=t.toLowerCase();return ct(e,"opera/")||ct(e,"opr/")||ct(e,"opios/")?"Opera":ct(e,"iemobile")?"IEMobile":ct(e,"msie")||ct(e,"trident/")?"IE":ct(e,"edge/")?"Edge":ct(e,"firefox/")?Si:ct(e,"silk/")?"Silk":ct(e,"blackberry")?"Blackberry":ct(e,"webos")?"Webos":!ct(e,"safari/")||ct(e,"chrome/")||ct(e,"crios/")||ct(e,"android")?!ct(e,"chrome/")&&!ct(e,"crios/")||ct(e,"edge/")?ct(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var Oi={md:"FirebaseCore-web",od:"FirebaseUI-web"};function ki(t,e){e=e||[];var n,i=[],r={};for(n in Oi)r[Oi[n]]=!0;for(n=0;n<e.length;n++)void 0!==r[e[n]]&&(delete r[e[n]],i.push(e[n]));return i.sort(),(e=i).length||(e=["FirebaseCore-web"]),"Browser"===(i=zi())?i=xi(r=Ti()):"Worker"===i&&(i=xi(r=Ti())+"-"+i),i+"/JsCore/"+t+"/"+e.join(",")}function Ti(){return a.navigator&&a.navigator.userAgent||""}function Ei(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Ii(){try{var t=a.localStorage,e=ji();if(t)return t.setItem(e,"1"),t.removeItem(e),!li()||!!a.indexedDB}catch(n){return wi()&&!!a.indexedDB}return!1}function Di(){return(Mi()||"chrome-extension:"===Ri()||vi())&&!Ci()&&Ii()&&!wi()}function Mi(){return"http:"===Ri()||"https:"===Ri()}function Ri(){return a.location&&a.location.protocol||null}function Ai(t){return!pi(t=t||Ti())&&xi(t)!=Si}function Pi(t){return void 0===t?null:ii(t)}function Li(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Fi(t){if(null!==t)return JSON.parse(t)}function ji(t){return t||Math.floor(1e9*Math.random()).toString()}function Ni(t){return"Safari"!=xi(t=t||Ti())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Vi(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Wi(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Ti(),e=zi(),this.b=pi(t)||"ReactNative"===e}function qi(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Bi(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Xi(){return!(!Ei("fireauth.oauthhelper",a)&&!Ei("fireauth.iframe",a))}Wi.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Mi()&&"chrome-extension:"!==Ri()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Ui,$i={};function Hi(t){$i[t]||($i[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Ki={};Object.defineProperty(Ki,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ki,"abcd",{configurable:!0,enumerable:!0,value:2}),Ui=2==Ki.abcd}catch(Ht){Ui=!1}function Gi(t,e,n){Ui?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Yi(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Gi(t,n,e[n])}function Qi(t){var e={};return Yi(e,t),e}function Ji(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Gi(e,n,Ji(t[n]));return e}function Zi(t){var e=t&&(t[rr]?"phone":null);if(!(e&&t&&t[ir]))throw new O("internal-error","Internal assert: invalid MultiFactorInfo object");Gi(this,"uid",t[ir]),Gi(this,"displayName",t[er]||null);var n=null;t[nr]&&(n=new Date(t[nr]).toUTCString()),Gi(this,"enrollmentTime",n),Gi(this,"factorId",e)}function tr(t){try{var e=new or(t)}catch(n){e=null}return e}Zi.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var er="displayName",nr="enrolledAt",ir="mfaEnrollmentId",rr="phoneInfo";function or(t){Zi.call(this,t),Gi(this,"phoneNumber",t[rr])}function sr(t){var e={},n=t[ur],i=t[dr],r=t[pr];if(t=tr(t[hr]),!r||r!=cr&&r!=lr&&!n||r==lr&&!i||r==ar&&!t)throw Error("Invalid checkActionCode response!");r==lr?(e[gr]=n||null,e[br]=n||null,e[fr]=i):(e[gr]=i||null,e[br]=i||null,e[fr]=n||null),e[mr]=t||null,Gi(this,vr,r),Gi(this,yr,Ji(e))}S(or,Zi),or.prototype.w=function(){var t=or.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ar="REVERT_SECOND_FACTOR_ADDITION",cr="EMAIL_SIGNIN",lr="VERIFY_AND_CHANGE_EMAIL",ur="email",hr="mfaInfo",dr="newEmail",pr="requestType",fr="email",gr="fromEmail",mr="multiFactorInfo",br="previousEmail",yr="data",vr="operation";function _r(t){var e=jn(t=Nn(t),wr)||null,n=jn(t,zr)||null,i=jn(t,xr)||null;if(i=i&&kr[i]||null,!e||!n||!i)throw new O("argument-error",wr+", "+zr+"and "+xr+" are required in a valid action code URL.");Yi(this,{apiKey:e,operation:i,code:n,continueUrl:jn(t,Cr)||null,languageCode:jn(t,Sr)||null,tenantId:jn(t,Or)||null})}var wr="apiKey",zr="oobCode",Cr="continueUrl",Sr="languageCode",xr="mode",Or="tenantId",kr={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ar,signIn:cr,verifyAndChangeEmail:lr,verifyEmail:"VERIFY_EMAIL"};function Tr(t){try{return new _r(t)}catch(e){return null}}function Er(t){var e=t[Ar];if(void 0===e)throw new O("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new O("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ir];if(n&&"object"==typeof n){e=n[Fr];var i=n[Pr];if(n=n[Lr],"string"==typeof e&&e.length){if(this.a=e,void 0!==i&&"boolean"!=typeof i)throw new O("argument-error",Pr+" property must be a boolean when specified.");if(this.g=!!i,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new O("argument-error",Lr+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new O("argument-error",Fr+" property must be a non empty string when specified.");if(void 0!==i||void 0!==n)throw new O("missing-android-pkg-name")}}else if(void 0!==n)throw new O("argument-error",Ir+" property must be a non null object when specified.");if(this.f=null,(e=t[Rr])&&"object"==typeof e){if("string"==typeof(e=e[jr])&&e.length)this.f=e;else if(void 0!==e)throw new O("argument-error",jr+" property must be a non empty string when specified.")}else if(void 0!==e)throw new O("argument-error",Rr+" property must be a non null object when specified.");if(void 0!==(e=t[Mr])&&"boolean"!=typeof e)throw new O("argument-error",Mr+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Dr])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new O("argument-error",Dr+" property must be a non empty string when specified.");this.i=t||null}var Ir="android",Dr="dynamicLinkDomain",Mr="handleCodeInApp",Rr="iOS",Ar="url",Pr="installApp",Lr="minimumVersion",Fr="packageName",jr="bundleId";function Nr(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Vr=null;function Wr(t){var e=Br(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function qr(t){try{return new Wr(t)}catch(e){return null}}function Br(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;i<t.length;){var n=t.charAt(i++),r=Vr[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Vr){Vr={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var i=t.concat(e[n].split("")),r=0;r<i.length;r++){var o=i[r];void 0===Vr[o]&&(Vr[o]=r)}}}();for(var i=0;;){var r=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===r)break;e(r<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,function(t){e+=String.fromCharCode(t)}),e}(t))}catch(i){}return null}Wr.prototype.T=function(){return this.f},Wr.prototype.l=function(){return this.c},Wr.prototype.toString=function(){return this.h};var Xr="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ur=["client_id","response_type","scope","redirect_uri","state"],$r={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Ur},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Ur},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Ur},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Xr},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Hr(t){for(var e in $r)if($r[e].fa==t)return $r[e];return null}function Kr(t){var e={};e["facebook.com"]=Zr,e["google.com"]=eo,e["github.com"]=to,e["twitter.com"]=no;var n=t&&t[Yr];try{if(n)return e[n]?new e[n](t):new Jr(t);if(void 0!==t[Gr])return new Qr(t)}catch(i){}return null}var Gr="idToken",Yr="providerId";function Qr(t){var e=t[Yr];if(!e&&t[Gr]){var n=qr(t[Gr]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Gi(this,"providerId",e),Gi(this,"isNewUser",n)}function Jr(t){Qr.call(this,t),Gi(this,"profile",Ji((t=Fi(t.rawUserInfo||"{}"))||{}))}function Zr(t){if(Jr.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(t){if(Jr.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Gi(this,"username",this.profile&&this.profile.login||null)}function eo(t){if(Jr.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(t){if(Jr.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Gi(this,"username",t.screenName||null)}function io(t){var e=Nn(t),n=jn(e,"link"),i=jn(Nn(n),"link");return e=jn(e,"deep_link_id"),jn(Nn(e),"link")||e||i||n||t}function ro(t,e){if(!t&&!e)throw new O("internal-error","Internal assert: no raw session string available");if(t&&e)throw new O("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?oo:so}S(Jr,Qr),S(Zr,Jr),S(to,Jr),S(eo,Jr),S(no,Jr);var oo="enroll",so="signin";function ao(){}function co(t,e){return t.then(function(t){if(t[Gs]){var n=qr(t[Gs]);if(!n||e!=n.i)throw new O("user-mismatch");return t}throw new O("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==E+"user-not-found"?new O("user-mismatch"):t})}function lo(t,e){if(!e)throw new O("internal-error","failed to construct a credential");this.a=e,Gi(this,"providerId",t),Gi(this,"signInMethod",t)}function uo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function ho(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new lo(t.providerId,t.pendingToken)}catch(e){}return null}function po(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Gi(this,"idToken",e.idToken),e.accessToken&&Gi(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Gi(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new O("internal-error","failed to construct a credential");Gi(this,"accessToken",e.oauthToken),Gi(this,"secret",e.oauthTokenSecret)}Gi(this,"providerId",t),Gi(this,"signInMethod",n)}function fo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Qn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function go(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new po(t.providerId,e,t.signInMethod)}catch(n){}}return null}function mo(t,e){this.Qc=e||[],Yi(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Hr(t)||{}).Ja||null,this.ob=null}function bo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new O("argument-error",'SAML provider IDs must be prefixed with "saml."');mo.call(this,t,[])}function yo(t){mo.call(this,t,Ur),this.a=[]}function vo(){yo.call(this,"facebook.com")}function _o(t){if(!t)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new vo).credential({accessToken:e})}function wo(){yo.call(this,"github.com")}function zo(t){if(!t)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new wo).credential({accessToken:e})}function Co(){yo.call(this,"google.com"),this.Ca("profile")}function So(t,e){var n=t;return g(t)&&(n=t.idToken,e=t.accessToken),(new Co).credential({idToken:n,accessToken:e})}function xo(){mo.call(this,"twitter.com",Xr)}function Oo(t,e){var n=t;if(g(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new O("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new po("twitter.com",n,"twitter.com")}function ko(t,e,n){this.a=t,this.f=e,Gi(this,"providerId","password"),Gi(this,"signInMethod",n===Eo.EMAIL_LINK_SIGN_IN_METHOD?Eo.EMAIL_LINK_SIGN_IN_METHOD:Eo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function To(t){return t&&t.email&&t.password?new ko(t.email,t.password,t.signInMethod):null}function Eo(){Yi(this,{providerId:"password",isOAuthProvider:!1})}function Io(t,e){if(!(e=Do(e)))throw new O("argument-error","Invalid email link!");return new ko(t,e.code,Eo.EMAIL_LINK_SIGN_IN_METHOD)}function Do(t){return(t=Tr(t=io(t)))&&t.operation===cr?t:null}function Mo(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new O("internal-error");this.a=t,Gi(this,"providerId","phone"),this.fa="phone",Gi(this,"signInMethod","phone")}function Ro(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return X(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new Mo(e)}return null}function Ao(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Po(t){try{this.a=t||i.a.auth()}catch(e){throw new O("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Yi(this,{providerId:"phone",isOAuthProvider:!1})}function Lo(t,e){if(!t)throw new O("missing-verification-id");if(!e)throw new O("missing-verification-code");return new Mo({eb:t,cb:e})}function Fo(t){if(t.temporaryProof&&t.phoneNumber)return new Mo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,i=t&&t.oauthTokenSecret,r=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return So(o,n);case"facebook.com":return _o(n);case"github.com":return zo(n);case"twitter.com":return Oo(n,i);default:return n||i||o||s?s?0==e.indexOf("saml.")?new lo(e,s):new po(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new yo(e).credential({idToken:o,accessToken:n,rawNonce:r}):null}}catch(a){return null}}function jo(t){if(!t.isOAuthProvider)throw new O("invalid-oauth-provider")}function No(t,e,n,i,r,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=i||null,this.i=o||null,this.h=s||null,this.a=r||null,!this.g&&!this.a)throw new O("invalid-auth-event");if(this.g&&this.a)throw new O("invalid-auth-event");if(this.g&&!this.f)throw new O("invalid-auth-event")}function Vo(t){return(t=t||{}).type?new No(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&k(t.error),t.postBody,t.tenantId):null}function Wo(){this.b=null,this.a=[]}ro.prototype.Ha=function(){return ke(this.a?this.a:this.b)},ro.prototype.w=function(){return this.type==oo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ao.prototype.ka=function(){},ao.prototype.b=function(){},ao.prototype.c=function(){},ao.prototype.w=function(){},lo.prototype.ka=function(t){return ma(t,uo(this))},lo.prototype.b=function(t,e){var n=uo(this);return n.idToken=e,ba(t,n)},lo.prototype.c=function(t,e){return co(ya(t,uo(this)),e)},lo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},po.prototype.ka=function(t){return ma(t,fo(this))},po.prototype.b=function(t,e){var n=fo(this);return n.idToken=e,ba(t,n)},po.prototype.c=function(t,e){return co(ya(t,fo(this)),e)},po.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},mo.prototype.Ka=function(t){return this.Ib=gt(t),this},S(bo,mo),S(yo,mo),yo.prototype.Ca=function(t){return K(this.a,t)||this.a.push(t),this},yo.prototype.Qb=function(){return J(this.a)},yo.prototype.credential=function(t,e){var n;if(!(n=g(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new O("argument-error","credential failed: must provide the ID token and/or the access token.");return new po(this.providerId,n,this.providerId)},S(vo,yo),Gi(vo,"PROVIDER_ID","facebook.com"),Gi(vo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(wo,yo),Gi(wo,"PROVIDER_ID","github.com"),Gi(wo,"GITHUB_SIGN_IN_METHOD","github.com"),S(Co,yo),Gi(Co,"PROVIDER_ID","google.com"),Gi(Co,"GOOGLE_SIGN_IN_METHOD","google.com"),S(xo,mo),Gi(xo,"PROVIDER_ID","twitter.com"),Gi(xo,"TWITTER_SIGN_IN_METHOD","twitter.com"),ko.prototype.ka=function(t){return this.signInMethod==Eo.EMAIL_LINK_SIGN_IN_METHOD?Za(t,Oa,{email:this.a,oobCode:this.f}):Za(t,Ka,{email:this.a,password:this.f})},ko.prototype.b=function(t,e){return this.signInMethod==Eo.EMAIL_LINK_SIGN_IN_METHOD?Za(t,ka,{idToken:e,email:this.a,oobCode:this.f}):Za(t,Va,{idToken:e,email:this.a,password:this.f})},ko.prototype.c=function(t,e){return co(this.ka(t),e)},ko.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Yi(Eo,{PROVIDER_ID:"password"}),Yi(Eo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Yi(Eo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Mo.prototype.ka=function(t){return t.fb(Ao(this))},Mo.prototype.b=function(t,e){var n=Ao(this);return n.idToken=e,Za(t,Ya,n)},Mo.prototype.c=function(t,e){var n=Ao(this);return n.operation="REAUTH",co(t=Za(t,Qa,n),e)},Mo.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Po.prototype.fb=function(t,e){var n=this.a.a;return ke(e.verify()).then(function(i){if("string"!=typeof i)throw new O("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var r=g(t)?t.session:null,o=g(t)?t.phoneNumber:t;return(r&&r.type==oo?r.Ha().then(function(t){return function(t,e){return Za(t,qa,e).then(function(t){return t.phoneSessionInfo.sessionInfo})}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:i}})}):r&&r.type==so?r.Ha().then(function(e){return function(t,e){return Za(t,Ba,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:i}})}):function(t,e){return Za(t,ja,e)}(n,{phoneNumber:o,recaptchaToken:i})).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new O("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Yi(Po,{PROVIDER_ID:"phone"}),Yi(Po,{PHONE_SIGN_IN_METHOD:"phone"}),No.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},No.prototype.T=function(){return this.h},No.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var qo,Bo=null;function Xo(t){var e="unauthorized-domain",n=void 0,i=Nn(t);t=i.a,"chrome-extension"==(i=i.c)?n=Bt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==i||"https"==i?n=Bt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",O.call(this,e,n)}function Uo(t,e,n){O.call(this,t,n),(t=e||{}).Jb&&Gi(this,"email",t.Jb),t.ea&&Gi(this,"phoneNumber",t.ea),t.credential&&Gi(this,"credential",t.credential),t.Zb&&Gi(this,"tenantId",t.Zb)}function $o(t){if(t.code){var e=t.code||"";0==e.indexOf(E)&&(e=e.substring(E.length));var n={credential:Fo(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new O(e,t.message||void 0);return new Uo(e,n,t.message)}return null}function Ho(){}function Ko(){}function Go(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var i=e[n];try{return new ActiveXObject(i),t.f=i}catch(r){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Yo(){}function Qo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Sb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function Jo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Zo(t,e,n){this.reset(t,e,n,void 0,void 0)}function ts(t){this.f=t,this.b=this.c=this.a=null}function es(t,e){this.name=t,this.value=e}S(Xo,O),S(Uo,O),Uo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&bt(t,e),t},Uo.prototype.toJSON=function(){return this.w()},Ho.prototype.c=null,S(Ko,Ho),Ko.prototype.a=function(){var t=Go(this);return t?new ActiveXObject(t):new XMLHttpRequest},Ko.prototype.b=function(){var t={};return Go(this)&&(t[0]=!0,t[1]=!0),t},qo=new Ko,S(Yo,Ho),Yo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Qo;throw Error("Unsupported browser")},Yo.prototype.b=function(){return{}},(t=Qo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Jo(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",Jo(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,Jo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Zo.prototype.a=null,Zo.prototype.reset=function(t,e,n,i,r){i||C(),delete this.a},es.prototype.toString=function(){return this.name};var ns=new es("SEVERE",1e3),is=new es("WARNING",900),rs=new es("CONFIG",700),os=new es("FINE",500);function ss(t){return t.c?t.c:t.a?ss(t.a):(L("Root logger has no level set."),null)}ts.prototype.log=function(t,e,n){if(t.value>=ss(this).value)for(f(e)&&(e=e()),t=new Zo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var as={},cs=null;function ls(t){var e;if(cs||(cs=new ts(""),as[""]=cs,cs.c=rs),!(e=as[t])){e=new ts(t);var n=t.lastIndexOf("."),i=t.substr(n+1);(n=ls(t.substr(0,n))).b||(n.b={}),n.b[i]=e,e.a=n,as[t]=e}return e}function us(t,e){t&&t.log(os,e,void 0)}function hs(t){this.f=t}function ds(t){wn.call(this),this.u=t,this.h=void 0,this.readyState=ps,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ls("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}S(hs,Ho),hs.prototype.a=function(){return new ds(this.f)},hs.prototype.b=function(t){return function(){return t}}({}),S(ds,wn);var ps=0;function fs(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function gs(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ms(t)}function ms(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function bs(t){wn.call(this),this.headers=new En,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ys,this.u=this.S=!1}(t=ds.prototype).open=function(t,e){if(this.readyState!=ps)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ms(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,gs(this)),this.readyState=ps},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ms(this)),this.a&&(this.readyState=3,ms(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,fs(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?gs(this):ms(this),3==this.readyState&&fs(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,gs(this))},t.sc=function(t){this.a&&(this.response=t,gs(this))},t.Ua=function(t){var e=this.i;e&&e.log(is,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&gs(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(is,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(is,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),S(bs,wn);var ys="";bs.prototype.b=ls("goog.net.XhrIo");var vs=/^https?$/i,_s=["POST","PUT"];function ws(t){return"content-type"==t.toLowerCase()}function zs(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Cs(t),xs(t)}function Cs(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ss(t){if(t.c&&void 0!==s)if(t.C[1]&&4==ks(t)&&2==Ts(t))us(t.b,Es(t,"Local request error detected and ignored"));else if(t.i&&4==ks(t))xn(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==ks(t)){us(t.b,Es(t,"Request complete")),t.c=!1;try{var e,n=Ts(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var o=String(t.l).match(Mn)[1]||null;if(!o&&a.self&&a.self.location){var c=a.self.location.protocol;o=c.substr(0,c.length-1)}r=!vs.test(o?o.toLowerCase():"")}e=r}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var l=2<ks(t)?t.a.statusText:""}catch(u){us(t.b,"Can not get status: "+u.message),l=""}t.h=l+" ["+Ts(t)+"]",Cs(t)}}finally{xs(t)}}}function xs(t,e){if(t.a){Os(t);var n=t.a,i=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(r){(t=t.b)&&t.log(ns,"Problem encountered resetting onreadystatechange: "+r.message,void 0)}}}function Os(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function ks(t){return t.a?t.a.readyState:0}function Ts(t){try{return 2<ks(t)?t.a.status:-1}catch(e){return-1}}function Es(t,e){return e+" ["+t.R+" "+t.l+" "+Ts(t)+"]"}function Is(t){var e=Ws;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ds(t,e,n){t.a=!0,t.c=n,t.f=!e,Ps(t)}function Ms(t){if(t.a){if(!t.v)throw new Ls(t);t.v=!1}}function Rs(t,e,n,i){t.g.push([e,n,i]),t.a&&Ps(t)}function As(t){return H(t.g,function(t){return f(t[1])})}function Ps(t){if(t.h&&t.a&&As(t)){var e=t.h,n=Ns[e];n&&(a.clearTimeout(n.a),delete Ns[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var i=n=!1;t.g.length&&!t.i;){var r=t.g.shift(),o=r[0],s=r[1];if(r=r[2],o=t.f?s:o)try{var c=o.call(r||t.s,e);void 0!==c&&(t.f=t.f&&(c==e||c instanceof Error),t.c=e=c),(R(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(i=!0,t.i=!0)}catch(l){e=l,t.f=!0,As(t)||(n=!0)}}t.c=e,i&&(c=w(t.m,t,!0),i=w(t.m,t,!1),e instanceof Is?(Rs(e,c,i),e.C=!0):e.then(c,i)),n&&(e=new js(e),Ns[e.a]=e,t.h=e.a)}function Ls(){A.call(this)}function Fs(){A.call(this)}function js(t){this.a=a.setTimeout(w(this.c,this),0),this.b=t}(t=bs.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",us(this.b,Es(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(us(this.b,Es(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),xs(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),xs(this,!0)),bs.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?Ss(this):this.Jc())},t.Jc=function(){Ss(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ys:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ns,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return us(this.b,"Can not get response: "+e.message),null}},Is.prototype.cancel=function(t){if(this.a)this.c instanceof Is&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Fs(this),Ms(this),Ds(this,!1,t))}},Is.prototype.m=function(t,e){this.i=!1,Ds(this,t,e)},Is.prototype.then=function(t,e,n){var i,r,o=new _e(function(t,e){i=t,r=e});return Rs(this,i,function(t){t instanceof Fs?o.cancel():r(t)}),o.then(t,e,n)},Is.prototype.$goog_Thenable=!0,S(Ls,A),Ls.prototype.message="Deferred has already fired",Ls.prototype.name="AlreadyCalledError",S(Fs,A),Fs.prototype.message="Deferred was canceled",Fs.prototype.name="CanceledError",js.prototype.c=function(){throw delete Ns[this.a],this.b};var Ns={};function Vs(t){var e={},n=e.document||document,i=Ot(t).toString(),r=fe(document,"SCRIPT"),o={Wb:r,Ma:void 0},s=new Is(o),c=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(c=window.setTimeout(function(){qs(r,!0);var t=new Us(Xs,"Timeout reached for loading script "+i);Ms(s),Ds(s,!1,t)},h),o.Ma=c),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(qs(r,e.xd||!1,c),Ms(s),Ds(s,!0,null))},r.onerror=function(){qs(r,!0,c);var t=new Us(Bs,"Error while loading script "+i);Ms(s),Ds(s,!1,t)},bt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),le(r,o),function(t,e){yt(t,"HTMLScriptElement"),t.src=Ot(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=u(e.document):(null===l&&(l=u(a.document)),e=l),e&&t.setAttribute("nonce",e)}(r,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(r),s}function Ws(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&qs(t,!0,this.Ma)}}function qs(t,e,n){null!=n&&a.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Bs=0,Xs=1;function Us(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),A.call(this,n),this.code=t}function $s(t){this.f=t}function Hs(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Ys,this.g=gt(t.secureTokenHeaders||Qs),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Js,this.a=gt(t.firebaseHeaders||Zs),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==zi(),!(n=a.XMLHttpRequest||n&&i.a.INTERNAL.node&&i.a.INTERNAL.node.XMLHttpRequest)&&!wi())throw new O("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=wi()?new hs(self):Ci()?new $s(n):new Yo,this.b=null}S(Us,A),S($s,Ho),$s.prototype.a=function(){return new this.f},$s.prototype.b=function(){return{}};var Ks,Gs="idToken",Ys=new Wi(3e4,6e4),Qs={"Content-Type":"application/x-www-form-urlencoded"},Js=new Wi(3e4,6e4),Zs={"Content-Type":"application/json"};function ta(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ea(t,e){e&&(t.l=na("https://securetoken.googleapis.com/v1/token",e),t.h=na("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=na("https://identitytoolkit.googleapis.com/v2/",e))}function na(t,e){return t=Nn(t),e=Nn(e.url),t.f=t.a+t.f,An(t,e.c),t.a=e.a,Pn(t,e.g),t.toString()}function ia(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ra(t,e,n,i,r,o,s){(function(){var t=Ti();return!((t="Chrome"!=xi(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Gt&&se&&!(9<se))})()||wi()?t=w(t.u,t):(Ks||(Ks=new _e(function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[sa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Rs(t,null,e,void 0)}(Vs(kt(oa,{onload:sa})),function(){e(Error("CORS_UNSUPPORTED"))}))}(t,e)})),t=w(t.s,t)),t(e,n,i,r,o,s)}Hs.prototype.T=function(){return this.b},Hs.prototype.u=function(t,e,n,i,r,o){if(wi()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new O("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new bs(this.f);if(o){s.g=Math.max(0,o);var c=setTimeout(function(){s.dispatchEvent("timeout")},o)}zn(s,"complete",function(){c&&clearTimeout(c);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return us(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),Cn(s,"ready",function(){c&&clearTimeout(c),Ue(this)}),Cn(s,"timeout",function(){c&&clearTimeout(c),Ue(this),e&&e(null)}),function(t,e,n,i,r){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():qo.a(),t.C=function(t){return t.c||(t.c=t.b())}(t.D?t.D:qo),t.a.onreadystatechange=w(t.Vb,t);try{us(t.b,Es(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(s){return us(t.b,Es(t,"Error opening Xhr: "+s.message)),void zs(t,s)}e=i||"";var o=new En(t.headers);r&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"==typeof t)X(t,e,void 0);else for(var n=Tn(t),i=kn(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}(r,function(t,e){o.set(e,t)}),r=function(t){t:{for(var e=ws,n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),i=a.FormData&&e instanceof a.FormData,!K(_s,n)||r||i||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Os(t),0<t.g&&(t.u=function(t){return Gt&&oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),us(t.b,Es(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=w(t.Ma,t)):t.s=xn(t.Ma,t.g,t)),us(t.b,Es(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){us(t.b,Es(t,"Send error: "+s.message)),zs(t,s)}}(s,t,n,i,r)};var oa=new vt(Ct,"https://apis.google.com/js/client.js?onload=%{onload}"),sa="__fcb"+Math.floor(1e6*Math.random()).toString();function aa(t){if("string"!=typeof(t=t.email)||!bi.test(t))throw new O("invalid-email")}function ca(t){"email"in t&&aa(t)}function la(t){if(!t[Gs]){if(t.mfaPendingCredential)throw new O("multi-factor-auth-required",null,gt(t));throw new O("internal-error")}}function ua(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new O("internal-error")}else{if(!t.sessionInfo)throw new O("missing-verification-id");if(!t.code)throw new O("missing-verification-code")}}Hs.prototype.s=function(t,e,n,i,r){var o=this;Ks.then(function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:i,headers:r,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Hs.prototype.zb=function(){return Za(this,Wa,{})},Hs.prototype.Bb=function(t,e){return Za(this,Na,{idToken:t,email:e})},Hs.prototype.Cb=function(t,e){return Za(this,Va,{idToken:t,password:e})};var ha={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function da(t){if(!t.phoneVerificationInfo)throw new O("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new O("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new O("missing-verification-code")}function pa(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new O("internal-error")}function fa(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Zn(t=new Gn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function ga(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=$o(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=$o(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=$o(t)):t.errorMessage&&(e=tc(t.errorMessage)),e)throw e;la(t)}function ma(t,e){return e.returnIdpCredential=!0,Za(t,Xa,e)}function ba(t,e){return e.returnIdpCredential=!0,Za(t,$a,e)}function ya(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Za(t,Ua,e)}function va(t){if(!t.oobCode)throw new O("invalid-action-code")}(t=Hs.prototype).Db=function(t,e){var n={idToken:t},i=[];return pt(ha,function(t,r){var o=e[r];null===o?i.push(t):r in e&&(n[r]=o)}),i.length&&(n.deleteAttribute=i),Za(this,Na,n)},t.vb=function(t,e){return bt(t={requestType:"PASSWORD_RESET",email:t},e),Za(this,Aa,t)},t.wb=function(t,e){return bt(t={requestType:"EMAIL_SIGNIN",email:t},e),Za(this,Da,t)},t.ub=function(t,e){return bt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Za(this,Ma,t)},t.Eb=function(t,e,n){return bt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Za(this,Ra,t)},t.fb=function(t){return Za(this,Ga,t)},t.nb=function(t,e){return Za(this,Fa,{oobCode:t,newPassword:e})},t.Ra=function(t){return Za(this,wa,{oobCode:t})},t.jb=function(t){return Za(this,_a,{oobCode:t})};var _a={endpoint:"setAccountInfo",A:va,Z:"email",B:!0},wa={endpoint:"resetPassword",A:va,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new O("internal-error")},B:!0},za={endpoint:"signupNewUser",A:function(t){if(aa(t),!t.password)throw new O("weak-password")},G:la,V:!0,B:!0},Ca={endpoint:"createAuthUri",B:!0},Sa={endpoint:"deleteAccount",N:["idToken"]},xa={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new O("internal-error")}},Oa={endpoint:"emailLinkSignin",N:["email","oobCode"],A:aa,G:la,V:!0,B:!0},ka={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:aa,G:la,V:!0},Ta={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:da,G:la,B:!0,Na:!0},Ea={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:da,G:la,B:!0,Na:!0},Ia={endpoint:"getAccountInfo"},Da={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new O("internal-error");aa(t)},Z:"email",B:!0},Ma={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new O("internal-error")},Z:"email",B:!0},Ra={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new O("internal-error")},Z:"email",B:!0},Aa={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new O("internal-error");aa(t)},Z:"email",B:!0},Pa={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},La={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new O("internal-error")}},Fa={endpoint:"resetPassword",A:va,Z:"email",B:!0},ja={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Na={endpoint:"setAccountInfo",N:["idToken"],A:ca,V:!0},Va={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(ca(t),!t.password)throw new O("weak-password")},G:la,V:!0},Wa={endpoint:"signupNewUser",G:la,V:!0,B:!0},qa={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new O("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new O("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new O("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new O("internal-error")},B:!0,Na:!0},Ba={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new O("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new O("internal-error")},B:!0,Na:!0},Xa={endpoint:"verifyAssertion",A:pa,Ya:fa,G:ga,V:!0,B:!0},Ua={endpoint:"verifyAssertion",A:pa,Ya:fa,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new O("user-not-found");if(t.errorMessage)throw tc(t.errorMessage);la(t)},V:!0,B:!0},$a={endpoint:"verifyAssertion",A:function(t){if(pa(t),!t.idToken)throw new O("internal-error")},Ya:fa,G:ga,V:!0},Ha={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new O("invalid-custom-token")},G:la,V:!0,B:!0},Ka={endpoint:"verifyPassword",A:function(t){if(aa(t),!t.password)throw new O("wrong-password")},G:la,V:!0,B:!0},Ga={endpoint:"verifyPhoneNumber",A:ua,G:la,B:!0},Ya={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new O("internal-error");ua(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",$o(t);la(t)}},Qa={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ua,G:la,B:!0},Ja={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Gs]^!!t.refreshToken)throw new O("internal-error")},B:!0,Na:!0};function Za(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var i=t[e[n]];if(null==i||""===i)return!1}return!0}(n,e.N))return Te(new O("internal-error"));var i,r=!!e.Na,o=e.Ub||"POST";return ke(n).then(e.A).then(function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,i,r,o,s){var a=Nn(e+n);Fn(a,"key",t.c),s&&Fn(a,"cb",C().toString());var c="GET"==i;if(c)for(var l in r)r.hasOwnProperty(l)&&Fn(a,l,r[l]);return new _e(function(e,n){ra(t,a.toString(),function(t){t?t.error?n(ec(t,o||{})):e(t):n(new O("network-request-failed"))},i,c?void 0:ii(Li(r)),t.a,t.v.get())})}(t,r?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)}).then(function(t){return i=t,e.Ya?e.Ya(n,i):i}).then(e.G).then(function(){if(!e.Z)return i;if(!(e.Z in i))throw new O("internal-error");return i[e.Z]})}function tc(t){return ec({error:{errors:[{message:t}],code:400,message:t}})}function ec(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=i[n]?new O(i[n]):null)return n;for(var r in n=t.error&&t.error.message||"",bt(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,i)if(0===n.indexOf(r))return new O(i[r],e);return!e&&t&&(e=Pi(t)),new O("internal-error",e)}function nc(t){this.b=t,this.a=null,this.rb=function(t){return(sc||(sc=new _e(function(t,e){function n(){Vi(),Ei("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Vi(),e(Error("Network Error"))},timeout:rc.get()})}if(Ei("gapi.iframes.Iframe"))t();else if(Ei("gapi.load"))n();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[i]=function(){Ei("gapi.load")?n():e(Error("Network Error"))},ke(Vs(i=kt(ic,{onload:i}))).o(function(){e(Error("Network Error"))})}}).o(function(t){throw sc=null,t}))).then(function(){return new _e(function(e,n){Ei("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Ei("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(i){function r(){clearTimeout(o),e()}t.a=i,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},oc.get());i.ping(r).then(r,function(){n(Error("Network Error"))})})})})}(this)}var ic=new vt(Ct,"https://apis.google.com/js/api.js?onload=%{onload}"),rc=new Wi(3e4,6e4),oc=new Wi(5e3,15e3),sc=null;function ac(t,e,n,i){this.l=t,this.h=e,this.i=n,this.g=i,this.f=null,t=this.g?Vn((t=Nn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Vn("https",this.l,null,"/__/auth/iframe"),this.a=t,Fn(this.a,"apiKey",this.h),Fn(this.a,"appName",this.i),this.b=null,this.c=[]}function cc(t,e,n,i,r,o){this.u=t,this.s=e,this.c=n,this.m=i,this.v=o,this.i=this.g=this.l=null,this.a=r,this.h=this.f=null}function lc(t){try{return i.a.app(t).auth().Ga()}catch(e){return[]}}function uc(t,e,n,i,r,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=i||null,this.i=r||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function hc(t){var e=ui();return function(t){return Za(t,Pa,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Nn(e),i=n.c;n=n.a;for(var r=0;r<t.length;r++){var o=t[r],s=n,a=i;if(0==o.indexOf("chrome-extension://")?s=Nn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:mi.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Xo(ui())})}function dc(t){return t.m||(t.m=yi().then(function(){if(!t.u){var e=t.c,n=t.i,i=lc(t.b),r=new ac(t.s,t.g,t.b,t.f);r.f=e,r.b=n,r.c=J(i||[]),t.u=r.toString()}t.v=new nc(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then(function(){t.a.register("authEvent",e,Ei("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.v,function(e){var n={};if(e&&e.authEvent){var i=!1;for(e=Vo(e.authEvent),n=0;n<t.h.length;n++)i=t.h[n](e)||i;return(n={}).status=i?"ACK":"ERROR",ke(n)}return n.status="ERROR",ke(n)})}(t)})),t.m}function pc(t){return t.l||(t.C=t.c?ki(t.c,lc(t.b)):null,t.l=new Hs(t.g,M(t.i),t.C),t.f&&ea(t.l,t.f)),t.l}function fc(t,e,n,i,r,o,s,a,c,l,u,h){return(t=new cc(t,e,n,i,r,h)).l=o,t.g=s,t.i=a,t.b=gt(c||null),t.f=l,t.yb(u).toString()}function gc(t){if(this.a=t||i.a.INTERNAL.reactNative&&i.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new O("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function mc(t){this.b=t,this.a={},this.f=w(this.c,this)}ac.prototype.toString=function(){return this.f?Fn(this.a,"v",this.f):Jn(this.a.b,"v"),this.b?Fn(this.a,"eid",this.b):Jn(this.a.b,"eid"),this.c.length?Fn(this.a,"fw",this.c.join(",")):Jn(this.a.b,"fw"),this.a.toString()},cc.prototype.yb=function(t){return this.h=t,this},cc.prototype.toString=function(){if(this.v){var t=Nn(this.v.url);t=Vn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Vn("https",this.u,null,"/__/auth/handler");if(Fn(t,"apiKey",this.s),Fn(t,"appName",this.c),Fn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=i.a.app(this.c).auth().la()}catch(c){n=null}for(var r in e.ob=n,Fn(t,"providerId",this.a.providerId),e=Li((n=this.a).Ib))e[r]=e[r].toString();r=n.Qc,e=gt(e);for(var o=0;o<r.length;o++){var s=r[o];s in e&&delete e[s]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),ft(e)||Fn(t,"customParameters",Pi(e))}if("function"==typeof this.a.Qb&&(n=this.a.Qb()).length&&Fn(t,"scopes",n.join(",")),this.l?Fn(t,"redirectUrl",this.l):Jn(t.b,"redirectUrl"),this.g?Fn(t,"eventId",this.g):Jn(t.b,"eventId"),this.i?Fn(t,"v",this.i):Jn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!jn(t,a)&&Fn(t,a,this.b[a]);return this.h?Fn(t,"tid",this.h):Jn(t.b,"tid"),this.f?Fn(t,"eid",this.f):Jn(t.b,"eid"),(a=lc(this.c)).length&&Fn(t,"fw",a.join(",")),t.toString()},(t=uc.prototype).Ob=function(t,e,n){var i=new O("popup-closed-by-user"),r=new O("web-storage-unsupported"),o=this,s=!1;return this.ma().then(function(){(function(t){var e={type:"webStorageSupport"};return dc(t).then(function(){return function(t,e){return t.rb.then(function(){return new _e(function(n){t.a.send(e.type,e,n,Ei("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.v,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&fi(t),e(r),s=!0)})}).o(function(){}).then(function(){if(!s)return function(t){return new _e(function(e){return function n(){On(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!s)return On(n).then(function(){e(i)})})},t.Xb=function(){var t=Ti();return!Ai(t)&&!Ni(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,i,r,o,s,a){if(!t)return Te(new O("popup-blocked"));if(s&&!Ai())return this.ma().o(function(e){fi(t),r(e)}),i(),ke();this.a||(this.a=hc(pc(this)));var c=this;return this.a.then(function(){var e=c.ma().o(function(e){throw fi(t),r(e),e});return i(),e}).then(function(){jo(n),s||hi(fc(c.s,c.g,c.b,e,n,null,o,c.c,void 0,c.i,a,c.f),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(c.a=null),t})},t.Nb=function(t,e,n,i){this.a||(this.a=hc(pc(this)));var r=this;return this.a.then(function(){jo(e),hi(fc(r.s,r.g,r.b,t,e,ui(),n,r.c,void 0,r.i,i,r.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t})},t.ma=function(){var t=this;return dc(this).then(function(){return t.v.rb}).o(function(){throw t.a=null,new O("network-request-failed")})},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){Y(this.h,function(e){return e==t})},(t=gc.prototype).get=function(t){return ke(this.a.getItem(t)).then(function(t){return t&&Fi(t)})},t.set=function(t,e){return ke(this.a.setItem(t,Pi(e)))},t.U=function(t){return ke(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var bc,yc=[];function vc(t,e,n){ft(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function _c(t){this.a=t}function wc(t){this.c=t,this.b=!1,this.a=[]}function zc(t,e,n,i){var r,o,s,a,c=n||{},l=null;if(t.b)return Te(Error("connection_unavailable"));var u=i?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new _e(function(n,i){h?(r=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout(function(){i(Error("unsupported_event"))},u),t.a.push(l={messageChannel:h,onMessage:o=function(t){t.data.eventId===r&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout(function(){i(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):i(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),i(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:r,data:c},[h.port2])):i(Error("connection_unavailable"))}).then(function(e){return Cc(t,l),e}).o(function(e){throw Cc(t,l),e})}function Cc(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),Y(t.a,function(t){return t==e})}}function Sc(){if(!Tc())throw new O("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;wi()&&self?(this.v=function(){var t=wi()?self:null;if(X(yc,function(n){n.b==t&&(e=n)}),!e){var e=new mc(t);yc.push(e)}return e}(),vc(this.v,"keyChanged",function(e,n){return Rc(t).then(function(e){return 0<e.length&&X(t.a,function(t){t(e)}),{keyProcessed:K(e,n.key)}})}),vc(this.v,"ping",function(){return ke(["keyChanged"])})):function(){var t=a.navigator;return t&&t.serviceWorker?ke().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):ke(null)}().then(function(e){(t.h=e)&&(t.g=new wc(new _c(e)),zc(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&K(e[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function xc(t){return new _e(function(e,n){var i=t.m.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(i):function(t){return new _e(function(e,n){var i=t.m.deleteDatabase("firebaseLocalStorageDb");i.onsuccess=function(){e()},i.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return xc(t)}).then(function(t){e(t)}).o(function(t){n(t)})}})}function Oc(t){return t.i||(t.i=xc(t)),t.i}function kc(t,e){var n=0;return new _e(function i(r,o){Oc(t).then(e).then(r).o(function(e){if(!(3<++n))return Oc(t).then(function(e){return e.close(),t.i=void 0,i(r,o)}).o(function(t){o(t)});o(e)})})}function Tc(){try{return!!a.indexedDB}catch(Ht){return!1}}function Ec(t){return t.objectStore("firebaseLocalStorage")}function Ic(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Dc(t){return new _e(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Mc(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?zc(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):ke()}function Rc(t){return Oc(t).then(function(t){var e=Ec(Ic(t,!1));return e.getAll?Dc(e.getAll()):new _e(function(t,n){var i=[],r=e.openCursor();r.onsuccess=function(e){(e=e.target.result)?(i.push(e.value),e.continue()):t(i)},r.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},i=[];if(0==t.b){for(i=0;i<e.length;i++)n[e[i].fbase_key]=e[i].value;i=di(t.c,n),t.c=n}return i})}function Ac(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Pc(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=ke().then(function(){if(Tc()){var t=ji(),i="__sak"+t;return bc||(bc=new Sc),(n=bc).set(i,t).then(function(){return n.get(i)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(i)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){X(e.a,function(e){e(t)})}),t})}function Lc(){this.a={},this.type="inMemory"}function Fc(){if(!function(){var t="Node"==zi();if(!(t=jc()||t&&i.a.INTERNAL.node&&i.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==zi())throw new O("internal-error","The LocalStorage compatibility library was not found.");throw new O("web-storage-unsupported")}this.a=jc()||i.a.INTERNAL.node.localStorage,this.type="localStorage"}function jc(){try{var t=a.localStorage,e=ji();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Nc(){this.type="nullStorage"}function Vc(){if(!function(){var t="Node"==zi();if(!(t=Wc()||t&&i.a.INTERNAL.node&&i.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==zi())throw new O("internal-error","The SessionStorage compatibility library was not found.");throw new O("web-storage-unsupported")}this.a=Wc()||i.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Wc(){try{var t=a.sessionStorage,e=ji();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function qc(){var t={};t.Browser=Uc,t.Node=$c,t.ReactNative=Hc,t.Worker=Kc,this.a=t[zi()]}mc.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,i=this.a[e];if(i&&0<i.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var r=[];X(i,function(e){r.push(ke().then(function(){return e(t.origin,t.data.data)}))}),Ie(r).then(function(i){var r=[];X(i,function(t){r.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})}),X(r,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:r})})}},_c.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},wc.prototype.close=function(){for(;0<this.a.length;)Cc(this,this.a[0]);this.b=!0},(t=Sc.prototype).set=function(t,e){var n=this,i=!1;return kc(this,function(e){return Dc((e=Ec(Ic(e,!0))).get(t))}).then(function(r){return kc(n,function(o){if(o=Ec(Ic(o,!0)),r)return r.value=e,Dc(o.put(r));n.b++,i=!0;var s={};return s.fbase_key=t,s.value=e,Dc(o.add(s))})}).then(function(){return n.c[t]=e,Mc(n,t)}).oa(function(){i&&n.b--})},t.get=function(t){return kc(this,function(e){return Dc(Ec(Ic(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.U=function(t){var e=this,n=!1;return kc(this,function(i){return n=!0,e.b++,Dc(Ec(Ic(i,!0)).delete(t))}).then(function(){return delete e.c[t],Mc(e,t)}).oa(function(){n&&e.b--})},t.ca=function(t){0==this.a.length&&function(t){Ac(t),function e(){t.f=setTimeout(function(){t.l=Rc(t).then(function(e){0<e.length&&X(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ia=function(t){Y(this.a,function(e){return e==t}),0==this.a.length&&Ac(this)},(t=Pc.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.U=function(t){return this.b.then(function(e){return e.U(t)})},t.ca=function(t){this.a.push(t)},t.ia=function(t){Y(this.a,function(e){return e==t})},(t=Lc.prototype).get=function(t){return ke(this.a[t])},t.set=function(t,e){return this.a[t]=e,ke()},t.U=function(t){return delete this.a[t],ke()},t.ca=function(){},t.ia=function(){},(t=Fc.prototype).get=function(t){var e=this;return ke().then(function(){return Fi(e.a.getItem(t))})},t.set=function(t,e){var n=this;return ke().then(function(){var i=Pi(e);null===i?n.U(t):n.a.setItem(t,i)})},t.U=function(t){var e=this;return ke().then(function(){e.a.removeItem(t)})},t.ca=function(t){a.window&&ln(a.window,"storage",t)},t.ia=function(t){a.window&&dn(a.window,"storage",t)},(t=Nc.prototype).get=function(){return ke(null)},t.set=function(){return ke()},t.U=function(){return ke()},t.ca=function(){},t.ia=function(){},(t=Vc.prototype).get=function(t){var e=this;return ke().then(function(){return Fi(e.a.getItem(t))})},t.set=function(t,e){var n=this;return ke().then(function(){var i=Pi(e);null===i?n.U(t):n.a.setItem(t,i)})},t.U=function(t){var e=this;return ke().then(function(){e.a.removeItem(t)})},t.ca=function(){},t.ia=function(){};var Bc,Xc,Uc={F:Fc,bb:Vc},$c={F:Fc,bb:Vc},Hc={F:gc,bb:Nc},Kc={F:Fc,bb:Nc},Gc={rd:"local",NONE:"none",td:"session"};function Yc(){var t=!(Ni(Ti())||!_i()),e=Ai(),n=Ii();this.m=t,this.h=e,this.l=n,this.a={},Bc||(Bc=new qc),t=Bc;try{this.g=!li()&&Xi()||!a.indexedDB?new t.a.F:new Pc(wi()?new Lc:new t.a.F)}catch(i){this.g=new Lc,this.h=!0}try{this.i=new t.a.bb}catch(i){this.i=new Lc}this.v=new Lc,this.f=w(this.Yb,this),this.b={}}function Qc(){return Xc||(Xc=new Yc),Xc}function Jc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function Zc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function tl(t,e,n){return n=Zc(e,n),"local"==e.F&&(t.b[n]=null),Jc(t,e.F).U(n)}function el(t){t.c&&(clearInterval(t.c),t.c=null)}function nl(t){this.a=t,this.b=Qc()}(t=Yc.prototype).get=function(t,e){return Jc(this,t.F).get(Zc(t,e))},t.set=function(t,e,n){var i=Zc(t,n),r=this,o=Jc(this,t.F);return o.set(i,e).then(function(){return o.get(i)}).then(function(e){"local"==t.F&&(r.b[i]=e)})},t.addListener=function(t,e,n){t=Zc(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),ft(this.a)&&(Jc(this,"local").ca(this.f),this.h||(li()||!Xi())&&a.indexedDB||!this.l||function(t){el(t),t.c=setInterval(function(){for(var e in t.a){var n=a.localStorage.getItem(e),i=t.b[e];n!=i&&(t.b[e]=n,n=new Qe({type:"storage",key:e,target:window,oldValue:i,newValue:n,a:!0}),t.Yb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Zc(t,e),this.a[t]&&(Y(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),ft(this.a)&&(Jc(this,"local").ia(this.f),el(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var i=this.b[n];void 0===i&&(i=null);var r=a.localStorage.getItem(n);r!==i&&(this.b[n]=r,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Jc(this,"local").ia(this.f):el(this),this.m)if(n=a.localStorage.getItem(e),(i=t.a.newValue)!==n)null!==i?a.localStorage.setItem(e,i):a.localStorage.removeItem(e);else if(this.b[e]===i&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.mb(e))},Gt&&se&&10==se&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else X(t,w(this.mb,this))},t.mb=function(t){this.a[t]&&X(this.a[t],function(t){t()})};var il,rl={name:"authEvent",F:"local"};function ol(){this.a=Qc()}function sl(t,e){this.b=al,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===il&&(il=a.Int32Array?new Int32Array(fl):fl),this.reset()}S(sl,function(){this.b=-1});for(var al=64,cl=al-1,ll=[],ul=0;ul<cl;ul++)ll[ul]=0;var hl=Q(128,ll);function dl(t){for(var e=t.f,n=t.l,i=0,r=0;r<e.length;)n[i++]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r=4*i;for(e=16;64>e;e++){var o=(0|n[e-16])+(((r=0|n[e-15])>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,s=(0|n[e-7])+(((i=0|n[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;n[e]=o+s|0}i=0|t.a[0],r=0|t.a[1];var a=0|t.a[2],c=0|t.a[3],l=0|t.a[4],u=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var d=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r^i&a^r&a)|0;s=(o=o+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((s=(s=l&u^~l&h)+(0|il[e])|0)+(0|n[e])|0)|0,o=h,h=u,u=l,l=c+s|0,c=a,a=r,r=i,i=s+d|0}t.a[0]=t.a[0]+i|0,t.a[1]=t.a[1]+r|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+c|0,t.a[4]=t.a[4]+l|0,t.a[5]=t.a[5]+u|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function pl(t,e,n){void 0===n&&(n=e.length);var i=0,r=t.c;if("string"==typeof e)for(;i<n;)t.f[r++]=e.charCodeAt(i++),r==t.b&&(dl(t),r=0);else{if(!p(e))throw Error("message must be string or array");for(;i<n;){var o=e[i++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[r++]=o,r==t.b&&(dl(t),r=0)}}t.c=r,t.g+=n}sl.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):J(this.h)};var fl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function gl(){sl.call(this,8,ml)}S(gl,sl);var ml=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function bl(t,e,n,i,r,o){this.v=t,this.i=e,this.l=n,this.m=i||null,this.u=r||null,this.s=o,this.h=e+":"+n,this.C=new ol,this.g=new nl(this.h),this.f=null,this.b=[],this.a=this.c=null}function yl(t){return new O("invalid-cordova-configuration",t)}function vl(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(i){}}function _l(t){return t.f||(t.f=t.ma().then(function(){return new _e(function(e){t.Ea(function n(i){return e(i),t.Sa(n),!1}),function(t){function e(e){i=!0,r&&r.cancel(),wl(t).then(function(i){var r=n;if(i&&e&&e.url){var o=null;-1!=(r=io(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Fi(jn(o=Nn(r),"firebaseError")||null))?k(o):null)?new No(i.c,i.b,null,null,o,null,i.T()):new No(i.c,i.b,r,i.f,null,null,i.T())),r=o||n}vl(t,r)})}var n=new No("unknown",null,null,null,new O("no-auth-event")),i=!1,r=On(500).then(function(){return wl(t).then(function(){i||vl(t,n)})}),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Ei("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Bo||(Bo=new Wo),function(t){var e=Bo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Ei("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)})})),t.f}function wl(t){var e=null;return function(t){return t.b.get(rl,t.a).then(function(t){return Vo(t)})}(t.g).then(function(n){return e=n,tl((n=t.g).b,rl,n.a)}).then(function(){return e})}function zl(t){this.a=t,this.b=Qc()}(t=bl.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(vi(void 0)?yi().then(function(){return new _e(function(t,e){var n=a.document,i=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(i),t()},!1)})}):Te(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof Ei("universalLinks.subscribe",a))throw yl("cordova-universal-links-plugin-fix is not installed");if(void 0===Ei("BuildInfo.packageName",a))throw yl("cordova-plugin-buildinfo is not installed");if("function"!=typeof Ei("cordova.plugins.browsertab.openUrl",a))throw yl("cordova-plugin-browsertab is not installed");if("function"!=typeof Ei("cordova.InAppBrowser.open",a))throw yl("cordova-plugin-inappbrowser is not installed")},function(){throw new O("cordova-not-ready")})},t.Ob=function(t,e){return e(new O("operation-not-supported-in-this-environment")),ke()},t.Mb=function(){return Te(new O("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,i){if(this.c)return Te(new O("redirect-operation-pending"));var r=this,o=a.document,s=null,c=null,l=null,u=null;return this.c=ke().then(function(){return jo(e),_l(r)}).then(function(){return function(t,e,n,i,r){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new No(e,i,null,o,new O("no-auth-event"),null,r),c=Ei("BuildInfo.packageName",a);if("string"!=typeof c)throw new O("invalid-cordova-configuration");var l=Ei("BuildInfo.displayName",a),u={};if(Ti().toLowerCase().match(/iphone|ipad|ipod/))u.ibi=c;else{if(!Ti().toLowerCase().match(/android/))return Te(new O("operation-not-supported-in-this-environment"));u.apn=c}l&&(u.appDisplayName=l),o=function(t){var e=new gl;pl(e,t),t=[];var n=8*e.g;pl(e,hl,56>e.c?56-e.c:e.b-(e.c-56));for(var i=63;56<=i;i--)e.f[i]=255&n,n/=256;for(dl(e),i=n=0;i<e.i;i++)for(var r=24;0<=r;r-=8)t[n++]=e.a[i]>>r&255;return function(t){return $(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),u.sessionId=o;var h=fc(t.v,t.i,t.l,e,n,null,i,t.m,u,t.u,r,t.s);return t.ma().then(function(){var e=t.h;return t.C.a.set(rl,s.w(),e)}).then(function(){var e=Ei("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new O("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=Ei("cordova.plugins.browsertab.openUrl",a)))throw new O("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Ei("cordova.InAppBrowser.open",a)))throw new O("invalid-cordova-configuration");e=Ti(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(r,t,e,n,i)}).then(function(){return new _e(function(t,e){c=function(){var e=Ei("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.Ea(c),u=function(){qi()&&l()},o.addEventListener("resume",l=function(){s||(s=On(2e3).then(function(){e(new O("redirect-cancelled-by-user"))}))},!1),Ti().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",u,!1)}).o(function(t){return wl(r).then(function(){throw t})})}).oa(function(){l&&o.removeEventListener("resume",l,!1),u&&o.removeEventListener("visibilitychange",u,!1),s&&s.cancel(),c&&r.Sa(c),r.c=null})},t.Ea=function(t){this.b.push(t),_l(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new No("unknown",null,null,null,new O("no-auth-event")),t(e))})},t.Sa=function(t){Y(this.b,function(e){return e==t})};var Cl={name:"pendingRedirect",F:"session"};function Sl(t){return tl(t.b,Cl,t.a)}function xl(t,e,n,i){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=i,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new Vl,this.C=new Ul,this.g=new zl(jl(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Ol(this.D,this.v,this.m,T,this.J)}function Ol(t,e,n,r,o){var s=i.a.SDK_VERSION||null;return vi()?new bl(t,e,n,s,r,o):new uc(t,e,n,s,r,o)}function kl(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o(function(n){throw t.a==e&&t.reset(),n})}function Tl(t){t.a.Xb()&&kl(t).o(function(e){var n=new No("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));Al(e)&&t.s(n)}),t.a.Tb()||Wl(t.b)}function El(t,e){K(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Cl,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?Sl(t.g).then(function(){kl(t).o(function(e){var n=new No("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));Al(e)&&t.s(n)})}):Tl(t)}).o(function(){Tl(t)})}function Il(t,e){Y(t.h,function(t){return t==e})}xl.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Ol(this.D,this.v,this.m,null,this.J),this.i={}},xl.prototype.s=function(t){if(!t)throw new O("invalid-auth-event");if(6e5<=C()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var i=this.h[n];if(i.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,i),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=C())),e=!0;break}}return Wl(this.b),e};var Dl=new Wi(2e3,1e4),Ml=new Wi(3e4,6e4);function Rl(t,e,n,i,r,o,s){return t.a.Mb(e,n,i,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},r,o,s)}function Al(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Pl(t,e,n,i,r){var o;return function(t){return t.b.set(Cl,"pending",t.a)}(t.g).then(function(){return t.a.Nb(e,n,i,r).o(function(e){if(Al(e))throw new O("operation-not-supported-in-this-environment");return o=e,Sl(t.g).then(function(){throw o})}).then(function(){return t.a.$b()?new _e(function(){}):Sl(t.g).then(function(){return t.qa()}).then(function(){}).o(function(){})})})}function Ll(t,e,n,i,r){return t.a.Ob(i,function(t){e.na(n,null,t,r)},Dl.get())}xl.prototype.qa=function(){return this.b.qa()};var Fl={};function jl(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Nl(t,e,n,i){var r=jl(e,n,i);return Fl[r]||(Fl[r]=new xl(t,e,n,i)),Fl[r]}function Vl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Wl(t){t.g||(t.g=!0,Xl(t,!1,null,null))}function ql(t){t.g&&!t.i&&Xl(t,!1,null,null)}function Bl(t,e){if(t.b=function(){return ke(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Xl(t,e,n,i){e?i?function(t,e){if(t.b=function(){return Te(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,i):Bl(t,n):Bl(t,{user:null}),t.f=[],t.c=[]}function Ul(){}function $l(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function Hl(t,e){this.a=e,Gi(this,"verificationId",t)}function Kl(t,e,n,i){return new Po(t).fb(e,n).then(function(t){return new Hl(t,i)})}function Gl(t){var e=Br(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new O("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Yi(this,{token:t,expirationTime:Bi(1e3*e.exp),authTime:Bi(1e3*e.auth_time),issuedAtTime:Bi(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Yl(t,e,n){var i=e&&e[Jl];if(!i)throw new O("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=gt(e),this.g=n,this.c=new ro(null,i),this.b=[];var r=this;X(e[Ql]||[],function(t){(t=tr(t))&&r.b.push(t)}),Gi(this,"auth",this.a),Gi(this,"session",this.c),Gi(this,"hints",this.b)}Vl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Vl.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,i=t.b,r=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!r&&!o),"unknown"!=n||r||o?t.a?(Xl(this,!0,null,t.a),ke()):e.Fa(n,i)?function(t,e,n){n=n.Fa(e.c,e.b);var i=e.g,r=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(i,r,s,o).then(function(e){Xl(t,a,e,null)}).o(function(e){Xl(t,a,null,e)})}(this,t,e):Te(new O("invalid-auth-event")):(Xl(this,!1,null,null),ke())}else Te(new O("invalid-auth-event"))},Vl.prototype.qa=function(){var t=this;return new _e(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new O("timeout");t.a&&t.a.cancel(),t.a=On(Ml.get()).then(function(){t.b||(t.g=!0,Xl(t,!0,null,e))})}(t))})},Ul.prototype.h=function(t,e){if(t){var n=t.c,i=t.b;t.a?(e.na(t.c,null,t.a,t.b),ke()):e.Fa(n,i)?function(t,e){var n=t.b,i=t.c;e.Fa(i,n)(t.g,t.f,t.T(),t.i).then(function(t){e.na(i,t,null,n)}).o(function(t){e.na(i,null,t,n)})}(t,e):Te(new O("invalid-auth-event"))}else Te(new O("invalid-auth-event"))},Hl.prototype.confirm=function(t){return t=Lo(this.verificationId,t),this.a(t)};var Ql="mfaInfo",Jl="mfaPendingCredential";function Zl(t,e,n,i){O.call(this,"multi-factor-auth-required",i,e),this.b=new Yl(t,e,n),Gi(this,"resolver",this.b)}function tu(t,e,n){if(t&&g(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Zl(e,t.serverResponse,n,t.message)}catch(i){}return null}function eu(){}function nu(t){Gi(this,"factorId",t.fa),this.a=t}function iu(t){if(nu.call(this,t),this.a.fa!=Po.PROVIDER_ID)throw new O("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ru(t,e){for(var n in Ye.call(this,t),e)this[n]=e[n]}function ou(t,e){this.a=t,this.b=[],this.c=w(this.yc,this),ln(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&X(e.multiFactor.enrolledFactors,function(t){var e=null,i={};if(t){t.uid&&(i[ir]=t.uid),t.displayName&&(i[er]=t.displayName),t.enrollmentTime&&(i[nr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(i[rr]=t.phoneNumber);try{e=new or(i)}catch(r){}t=e}else t=null;t&&n.push(t)}),su(this,n)}function su(t,e){t.b=e,Gi(t,"enrolledFactors",e)}function au(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function cu(t,e){t.stop(),t.b=On(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then(function(){return function(){var t=a.document,e=null;return qi()||!t?ke():new _e(function(n){e=function(){qi()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return t.h()}).then(function(){cu(t,!0)}).o(function(e){t.i(e)&&cu(t,!1)})}function lu(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function uu(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function hu(t,e){t.b=qr(e[Gs]||""),t.a=e.refreshToken,uu(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function du(t,e){this.a=t||null,this.b=e||null,Yi(this,{lastSignInTime:Bi(e||null),creationTime:Bi(t||null)})}function pu(t,e,n,i,r,o){Yi(this,{uid:t,displayName:i||null,photoURL:r||null,email:n||null,phoneNumber:o||null,providerId:e})}function fu(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=i.a.SDK_VERSION?ki(i.a.SDK_VERSION):null;this.a=new Hs(this.l,M(T),r),t.emulatorConfig&&ea(this.a,t.emulatorConfig),this.b=new lu(this.a),zu(this,e[Gs]),hu(this.b,e),Gi(this,"refreshToken",this.b.a),xu(this,n||{}),wn.call(this),this.R=!1,this.s&&Di()&&(this.i=Nl(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new au(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0})}(this),this.aa=w(this.hb,this);var o=this;this.ya=null,this.Oa=function(t){o.wa(t.h)},this.ja=null,this.Aa=function(t){ea(o.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){bu(o,t.f)},this.ba=null,this.O=new ou(this,n),Gi(this,"multiFactor",this.O)}function gu(t,e){t.ja&&dn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&ln(e,"languageCodeChanged",t.Oa)}function mu(t,e){t.X&&dn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&ln(e,"emulatorConfigChanged",t.Aa)}function bu(t,e){t.$=e,ia(t.a,i.a.SDK_VERSION?ki(i.a.SDK_VERSION,t.$):null)}function yu(t,e){t.ba&&dn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&ln(e,"frameworkChanged",t.Ba)}function vu(t){try{return i.a.app(t.m).auth()}catch(e){throw new O("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function _u(t){t.D||t.u.b||(t.u.start(),dn(t,"tokenChanged",t.aa),ln(t,"tokenChanged",t.aa))}function wu(t){dn(t,"tokenChanged",t.aa),t.u.stop()}function zu(t,e){t.za=e,Gi(t,"_lat",e)}function Cu(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return Ie(e).then(function(){return t})}function Su(t){t.i&&!t.R&&(t.R=!0,El(t.i,t))}function xu(t,e){Yi(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new du(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Ou(){}function ku(t){return ke().then(function(){if(t.D)throw new O("app-deleted")})}function Tu(t){return $(t.providerData,function(t){return t.providerId})}function Eu(t,e){e&&(Iu(t,e.providerId),t.providerData.push(e))}function Iu(t,e){Y(t.providerData,function(t){return t.providerId==e})}function Du(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Gi(t,e,n)}function Mu(t,e){t!=e&&(Yi(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Gi(t,"metadata",e.metadata?function(t){return new du(t.a,t.b)}(e.metadata):new du),X(e.providerData,function(e){Eu(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Gi(t,"refreshToken",t.b.a),su(t.O,e.O.b))}function Ru(t){return t.I().then(function(e){var n=t.isAnonymous;return function(t,e){return Za(t.a,Ia,{idToken:e}).then(w(t.Kc,t))}(t,e).then(function(){return n||Du(t,"isAnonymous",!1),e})})}function Au(t,e){e[Gs]&&t.za!=e[Gs]&&(hu(t.b,e),t.dispatchEvent(new ru("tokenChanged")),zu(t,e[Gs]),Du(t,"refreshToken",t.b.a))}function Pu(t,e){return Ru(t).then(function(){if(K(Tu(t),e))return Cu(t).then(function(){throw new O("provider-already-linked")})})}function Lu(t,e,n){return Qi({user:t,credential:Fo(e),additionalUserInfo:e=Kr(e),operationType:n})}function Fu(t,e){return Au(t,e),t.reload().then(function(){return t})}function ju(t,e,n,r,o){if(!Di())return Te(new O("operation-not-supported-in-this-environment"));if(t.h&&!o)return Te(t.h);var s=Hr(n.providerId),a=ji(t.uid+":::"),c=null;(!Ai()||_i())&&t.s&&n.isOAuthProvider&&(c=fc(t.s,t.l,t.m,e,n,null,a,i.a.SDK_VERSION||null,null,null,t.tenantId));var l=gi(c,s&&s.ua,s&&s.ta);return r=r().then(function(){if(Vu(t),!o)return t.I().then(function(){})}).then(function(){return Rl(t.i,l,e,n,a,!!c,t.tenantId)}).then(function(){return new _e(function(n,i){t.na(e,null,new O("cancelled-popup-request"),t.g||null),t.f=n,t.C=i,t.g=a,t.c=Ll(t.i,t,e,l,a)})}).then(function(t){return l&&fi(l),t?Qi(t):null}).o(function(t){throw l&&fi(l),t}),Wu(t,r,o)}function Nu(t,e,n,i,r){if(!Di())return Te(new O("operation-not-supported-in-this-environment"));if(t.h&&!r)return Te(t.h);var o=null,s=ji(t.uid+":::");return i=i().then(function(){if(Vu(t),!r)return t.I().then(function(){})}).then(function(){return t.ga=s,Cu(t)}).then(function(e){return t.ha&&(e=(e=t.ha).b.set(Xu,t.w(),e.a)),e}).then(function(){return Pl(t.i,e,n,s,t.tenantId)}).o(function(e){if(o=e,t.ha)return Uu(t.ha);throw o}).then(function(){if(o)throw o}),Wu(t,i,r)}function Vu(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new O("internal-error");throw new O("auth-domain-config-required")}}function Wu(t,e,n){var i=function(t,e,n){return t.h&&!n?(e.cancel(),Te(t.h)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new ru("userInvalidated")),t.h=e),e})}(t,e,n);return t.J.push(i),i.oa(function(){G(t.J,i)}),i.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=tu(e.w(),vu(t),w(t.jc,t))),n||e})}function qu(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Gs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var i=t.stsTokenManager.expirationTime;i&&(n.expiresIn=(i-Date.now())/1e3);var r=new fu(e,n,t);return t.providerData&&X(t.providerData,function(t){t&&Eu(r,Qi(t))}),t.redirectEventId&&(r.ga=t.redirectEventId),r}function Bu(t){this.a=t,this.b=Qc()}Yl.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then(function(t){var n=gt(e.f);return delete n[Ql],delete n[Jl],bt(n,t),e.g(n)})},S(Zl,O),eu.prototype.sb=function(t,e,n){return e.type==oo?function(t,e,n,i){return n.Ha().then(function(n){return n={idToken:n},void 0!==i&&(n.displayName=i),bt(n,{phoneVerificationInfo:Ao(t.a)}),Za(e,Ta,n)})}(this,t,e,n):function(t,e,n){return n.Ha().then(function(n){return bt(n={mfaPendingCredential:n},{phoneVerificationInfo:Ao(t.a)}),Za(e,Ea,n)})}(this,t,e)},S(nu,eu),S(iu,nu),S(ru,Ye),(t=ou.prototype).yc=function(t){su(this,function(t){var e=[];return X(t.mfaInfo||[],function(t){(t=tr(t))&&e.push(t)}),e}(t.hd))},t.Rb=function(){return this.a.I().then(function(t){return new ro(t,null)})},t.fc=function(t,e){var n=this,i=this.a.a;return this.Rb().then(function(n){return t.sb(i,n,e)}).then(function(t){return Au(n.a,t),n.a.reload()})},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,i=this.a.a;return this.a.I().then(function(t){return Za(i,Ja,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var i=U(e.b,function(t){return t.uid!=n});return su(e,i),Au(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},t.w=function(){return{multiFactor:{enrolledFactors:$(this.b,function(t){return t.w()})}}},au.prototype.start=function(){this.a=this.c,cu(this,!0)},au.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},lu.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},lu.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Te(new O("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new _e(function(n,i){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ra(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?i(ec(t)):t.access_token&&t.refresh_token?n(t):i(new O("internal-error")):i(new O("network-request-failed"))},"POST",Qn(e).toString(),t.g,t.m.get()):i(new O("internal-error"))})}(t.f,e).then(function(e){return t.b=qr(e.access_token),t.a=e.refresh_token,uu(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):ke(null):ke({accessToken:this.b.toString(),refreshToken:this.a})},du.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(fu,wn),fu.prototype.wa=function(t){this.ya=t,ta(this.a,t)},fu.prototype.la=function(){return this.ya},fu.prototype.Ga=function(){return J(this.$)},fu.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Gi(fu.prototype,"providerId","firebase"),(t=fu.prototype).reload=function(){var t=this;return Wu(this,ku(this).then(function(){return Ru(t).then(function(){return Cu(t)}).then(Ou)}))},t.oc=function(t){return this.I(t).then(function(t){return new Gl(t)})},t.I=function(t){var e=this;return Wu(this,ku(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new O("internal-error");return t.accessToken!=e.za&&(zu(e,t.accessToken),e.dispatchEvent(new ru("tokenChanged"))),Du(e,"refreshToken",t.refreshToken),t.accessToken}))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new O("internal-error");xu(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?$(t,function(t){return new pu(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Eu(this,e[n]);Du(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ru("userReloaded",{hd:t}))},t.Lc=function(t){return Hi("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return Wu(this,t.c(this.a,this.uid).then(function(t){return Au(e,t),n=Lu(e,t,"reauthenticate"),e.h=null,e.reload()}).then(function(){return n}),!0)},t.Cc=function(t){return Hi("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return Wu(this,Pu(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=Lu(e,t,"link"),Fu(e,t)}).then(function(){return n}))},t.Dc=function(t,e){var n=this;return Wu(this,Pu(this,"phone").then(function(){return Kl(vu(n),t,e,w(n.qb,n))}))},t.Mc=function(t,e){var n=this;return Wu(this,ke().then(function(){return Kl(vu(n),t,e,w(n.tb,n))}),!0)},t.Bb=function(t){var e=this;return Wu(this,this.I().then(function(n){return e.a.Bb(n,t)}).then(function(t){return Au(e,t),e.reload()}))},t.ed=function(t){var e=this;return Wu(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return Au(e,t),e.reload()}))},t.Cb=function(t){var e=this;return Wu(this,this.I().then(function(n){return e.a.Cb(n,t)}).then(function(t){return Au(e,t),e.reload()}))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return ku(this);var e=this;return Wu(this,this.I().then(function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Au(e,t),Du(e,"displayName",t.displayName||null),Du(e,"photoURL",t.photoUrl||null),X(e.providerData,function(t){"password"===t.providerId&&(Gi(t,"displayName",e.displayName),Gi(t,"photoURL",e.photoURL))}),Cu(e)}).then(Ou))},t.cd=function(t){var e=this;return Wu(this,Ru(this).then(function(n){return K(Tu(e),t)?function(t,e,n){return Za(t,xa,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return X(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),X(Tu(e),function(t){n[t]||Iu(e,t)}),n[Po.PROVIDER_ID]||Gi(e,"phoneNumber",null),Cu(e)}):Cu(e).then(function(){throw new O("no-such-provider")})}))},t.delete=function(){var t=this;return Wu(this,this.I().then(function(e){return Za(t.a,Sa,{idToken:e})}).then(function(){t.dispatchEvent(new ru("userDeleted"))})).then(function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");gu(t,null),mu(t,null),yu(t,null),t.J=[],t.D=!0,wu(t),Gi(t,"refreshToken",null),t.i&&Il(t.i,t)})},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,i){"linkViaPopup"!=t&&"reauthViaPopup"!=t||i!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?w(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?w(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?w(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?w(this.Lb,this):null},t.Ec=function(t){var e=this;return ju(this,"linkViaPopup",t,function(){return Pu(e,t.providerId).then(function(){return Cu(e)})},!1)},t.Nc=function(t){return ju(this,"reauthViaPopup",t,function(){return ke()},!0)},t.Fc=function(t){var e=this;return Nu(this,"linkViaRedirect",t,function(){return Pu(e,t.providerId)},!1)},t.Oc=function(t){return Nu(this,"reauthViaRedirect",t,function(){return ke()},!0)},t.Kb=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Wu(this,this.I().then(function(n){return ba(r.a,{requestUri:t,postBody:i,sessionId:e,idToken:n})}).then(function(t){return o=Lu(r,t,"link"),Fu(r,t)}).then(function(){return o}))},t.Lb=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Wu(this,ke().then(function(){return co(ya(r.a,{requestUri:t,sessionId:e,postBody:i,tenantId:n}),r.uid)}).then(function(t){return o=Lu(r,t,"reauthenticate"),Au(r,t),r.h=null,r.reload()}).then(function(){return o}),!0)},t.ub=function(t){var e=this,n=null;return Wu(this,this.I().then(function(e){return n=e,void 0===t||ft(t)?{}:Nr(new Er(t))}).then(function(t){return e.a.ub(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.Eb=function(t,e){var n=this,i=null;return Wu(this,this.I().then(function(t){return i=t,void 0===e||ft(e)?{}:Nr(new Er(e))}).then(function(e){return n.a.Eb(i,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.jc=function(t){var e=null,n=this;return Wu(this,t=co(ke(t),n.uid).then(function(t){return e=Lu(n,t,"reauthenticate"),Au(n,t),n.h=null,n.reload()}).then(function(){return e}),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&bt(t,this.metadata.w()),X(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),bt(t,this.O.w()),t};var Xu={name:"redirectUser",F:"session"};function Uu(t){return tl(t.b,Xu,t.a)}function $u(t){this.a=t,this.b=Qc(),this.c=null,this.f=function(t){var e=Gu("local"),n=Gu("session"),i=Gu("none");return function(t,e,n){var i=Zc(e,n),r=Jc(t,e.F);return t.get(e,n).then(function(o){var s=null;try{s=Fi(a.localStorage.getItem(i))}catch(c){}if(s&&!o)return a.localStorage.removeItem(i),t.set(e,s,n);s&&o&&"localStorage"!=r.type&&a.localStorage.removeItem(i)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(r){return r?n:t.b.get(i,t.a).then(function(n){return n?i:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Ku,t.a).then(function(t){return t?Gu(t):e})})})}).then(function(e){return t.c=e,Hu(t,e.F)}).o(function(){t.c||(t.c=e)})}(this),this.b.addListener(Gu("local"),this.a,w(this.g,this))}function Hu(t,e){var n,i=[];for(n in Gc)Gc[n]!==e&&i.push(tl(t.b,Gu(Gc[n]),t.a));return i.push(tl(t.b,Ku,t.a)),function(t){return new _e(function(e,n){var i=t.length,r=[];if(i)for(var o=function(t,n){i--,r[t]=n,0==i&&e(r)},s=function(t){n(t)},a=0;a<t.length;a++)Ee(t[a],z(o,a),s);else e(r)})}(i)}$u.prototype.g=function(){var t=this,e=Gu("local");Zu(this,function(){return ke().then(function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null}).then(function(n){if(n)return Hu(t,"local").then(function(){t.c=e})})})};var Ku={name:"persistence",F:"session"};function Gu(t){return{name:"authUser",F:t}}function Yu(t,e){return Zu(t,function(){return t.b.set(t.c,e.w(),t.a)})}function Qu(t){return Zu(t,function(){return tl(t.b,t.c,t.a)})}function Ju(t,e,n){return Zu(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),qu(t||{})})})}function Zu(t,e){return t.f=t.f.then(e,e),t.f}function th(t){if(this.l=!1,Gi(this,"settings",new $l),Gi(this,"app",t),!ch(this).options||!ch(this).options.apiKey)throw new O("invalid-api-key");t=i.a.SDK_VERSION?ki(i.a.SDK_VERSION):null,this.a=new Hs(ch(this).options&&ch(this).options.apiKey,M(T),t),this.R=[],this.s=[],this.O=[],this.hb=i.a.INTERNAL.createSubscribe(w(this.zc,this)),this.X=void 0,this.bc=i.a.INTERNAL.createSubscribe(w(this.Ac,this)),sh(this,null),this.i=new $u(ch(this).options.apiKey+":"+ch(this).name),this.D=new Bu(ch(this).options.apiKey+":"+ch(this).name),this.$=dh(this,function(t){var e=ch(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Xu,t.a).then(function(t){return t&&e&&(t.authDomain=e),qu(t||{})})}(t.D,ch(t).options.authDomain).then(function(e){return(t.m=e)&&(e.ha=t.D),Uu(t.D)});return dh(t,e)}(t).then(function(){return Ju(t.i,e,t.P)}).then(function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then(function(){return Yu(t.i,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:Qu(t.i)})):null}).then(function(e){sh(t,e||null)});return dh(t,n)}(this)),this.h=dh(this,function(t){return t.$.then(function(){return oh(t)}).o(function(){}).then(function(){if(!t.l)return t.ja()}).o(function(){}).then(function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Gu("local"),e.a,t.ja)}})}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.ya=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(t){var e=ch(t).options.authDomain,n=ch(t).options.apiKey;e&&Di()&&(t.Oa=t.$.then(function(){if(!t.l){if(t.b=Nl(e,n,ch(t).name,t.P),El(t.b,t),lh(t)&&Su(lh(t)),t.m){Su(t.m);var i=t.m;i.wa(t.la()),gu(i,t),bu(i=t.m,t.J),yu(i,t),ea((i=t.m).a,t.P),mu(i,t),t.m=null}return t.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,wn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Nn(this.P.url);t=Qi({protocol:t.c,host:t.a,port:t.g,options:Qi({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function eh(t){Ye.call(this,"languageCodeChanged"),this.h=t}function nh(t){Ye.call(this,"emulatorConfigChanged"),this.c=t}function ih(t){Ye.call(this,"frameworkChanged"),this.f=t}function rh(t){return t.Oa||Te(new O("auth-domain-config-required"))}function oh(t){if(!Di())return Te(new O("operation-not-supported-in-this-environment"));var e=rh(t).then(function(){return t.b.qa()}).then(function(t){return t?Qi(t):null});return dh(t,e)}function sh(t,e){lh(t)&&(function(t,e){Y(t.S,function(t){return t==e})}(lh(t),t.Ba),dn(lh(t),"tokenChanged",t.ya),dn(lh(t),"userDeleted",t.za),dn(lh(t),"userInvalidated",t.Aa),wu(lh(t))),e&&(e.S.push(t.Ba),ln(e,"tokenChanged",t.ya),ln(e,"userDeleted",t.za),ln(e,"userInvalidated",t.Aa),0<t.u&&_u(e)),Gi(t,"currentUser",e),e&&(e.wa(t.la()),gu(e,t),bu(e,t.J),yu(e,t),ea(e.a,t.P),mu(e,t))}function ah(t,e){var n=null,i=null;return dh(t,e.then(function(e){return n=Fo(e),i=Kr(e),function(t,e){var n={};return n.apiKey=ch(t).options.apiKey,n.authDomain=ch(t).options.authDomain,n.appName=ch(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then(function(){return function(t,e,n,i){var r=new fu(t,e);return n&&(r.ha=n),i&&bu(r,i),r.reload().then(function(){return r})}(n,e,t.D,t.Ga())}).then(function(e){return lh(t)&&e.uid==lh(t).uid?(Mu(lh(t),e),t.da(e)):(sh(t,e),Su(e),t.da(e))}).then(function(){hh(t)})}(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=tu(e.w(),t,w(t.kc,t))),n||e}).then(function(){return Qi({user:lh(t),credential:n,additionalUserInfo:i,operationType:"signIn"})}))}function ch(t){return t.app}function lh(t){return t.currentUser}function uh(t){return lh(t)&&lh(t)._lat||null}function hh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](uh(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](uh(t))}}function dh(t,e){return t.R.push(e),e.oa(function(){G(t.R,e)}),e}function ph(){}function fh(){this.a={},this.b=1e12}$u.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new O("invalid-persistence-type"),n=new O("unsupported-persistence-type");t:{for(i in Gc)if(Gc[i]==t){var i=!0;break t}i=!1}if(!i||"string"!=typeof t)throw e;switch(zi()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Tc()&&"none"!==t)throw n;break;default:if(!Ii()&&"none"!==t)throw n}}(t),Zu(this,function(){return t!=n.c.F?n.b.get(n.c,n.a).then(function(i){return e=i,Hu(n,t)}).then(function(){if(n.c=Gu(t),e)return n.b.set(n.c,e,n.a)}):ke()})},S(th,wn),S(eh,Ye),S(nh,Ye),S(ih,Ye),(t=th.prototype).xb=function(t){return dh(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,ta(this.a,this.aa),this.dispatchEvent(new eh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=a.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new O("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!t&&yi().then(function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)})})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,ea(this.a,this.P),this.dispatchEvent(new nh(this.P))}},t.Gc=function(t){this.J.push(t),ia(this.a,i.a.SDK_VERSION?ki(i.a.SDK_VERSION,this.J):null),this.dispatchEvent(new ih(this.J))},t.Ga=function(){return J(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:ch(this).options.apiKey,authDomain:ch(this).options.authDomain,appName:ch(this).name,currentUser:lh(this)&&lh(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,i){"signInViaPopup"==t&&this.g==i&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?w(this.ic,this):null},t.ic=function(t,e,n,i){var r=this,o={requestUri:t,postBody:i,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),r.$.then(function(){return ah(r,ma(r.a,o))})},t.Xc=function(t){if(!Di())return Te(new O("operation-not-supported-in-this-environment"));var e=this,n=Hr(t.providerId),r=ji(),o=null;(!Ai()||_i())&&ch(this).options.authDomain&&t.isOAuthProvider&&(o=fc(ch(this).options.authDomain,ch(this).options.apiKey,ch(this).name,"signInViaPopup",t,null,r,i.a.SDK_VERSION||null,null,null,this.T(),this.P));var s=gi(o,n&&n.ua,n&&n.ta);return dh(this,n=rh(this).then(function(n){return Rl(n,s,"signInViaPopup",t,r,!!o,e.T())}).then(function(){return new _e(function(t,n){e.na("signInViaPopup",null,new O("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=Ll(e.b,e,"signInViaPopup",s,r)})}).then(function(t){return s&&fi(s),t?Qi(t):null}).o(function(t){throw s&&fi(s),t}))},t.Yc=function(t){if(!Di())return Te(new O("operation-not-supported-in-this-environment"));var e=this;return dh(this,rh(this).then(function(){return function(t){return Zu(t,function(){return t.b.set(Ku,t.c.F,t.a)})}(e.i)}).then(function(){return Pl(e.b,"signInViaRedirect",t,void 0,e.T())}))},t.qa=function(){var t=this;return oh(this).then(function(e){return t.b&&ql(t.b.b),e}).o(function(e){throw t.b&&ql(t.b.b),e})},t.dd=function(t){if(!t)return Te(new O("null-user"));if(this.S!=t.tenantId)return Te(new O("tenant-id-mismatch"));var e=this,n={};n.apiKey=ch(this).options.apiKey,n.authDomain=ch(this).options.authDomain,n.appName=ch(this).name;var i=function(t,e,n,i){var r=t.b,o={};return o[Gs]=r.b&&r.b.toString(),o.refreshToken=r.a,e=new fu(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),i&&bu(e,i),Mu(e,t),e}(t,n,e.D,e.Ga());return dh(this,this.h.then(function(){if(ch(e).options.apiKey!=t.l)return i.reload()}).then(function(){return lh(e)&&t.uid==lh(e).uid?(Mu(lh(e),t),e.da(t)):(sh(e,i),Su(i),e.da(i))}).then(function(){hh(e)}))},t.Ab=function(){var t=this;return dh(this,this.h.then(function(){return t.b&&ql(t.b.b),lh(t)?(sh(t,null),Qu(t.i).then(function(){hh(t)})):ke()}))},t.Zc=function(){var t=this;return Ju(this.i,ch(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=lh(t)&&e){n=lh(t).uid;var i=e.uid;n=null!=n&&""!==n&&null!=i&&""!==i&&n==i}if(n)return Mu(lh(t),e),lh(t).I();(lh(t)||e)&&(sh(t,e),e&&(Su(e),e.ha=t.D),t.b&&El(t.b,t),hh(t))}})},t.da=function(t){return Yu(this.i,t)},t.mc=function(){hh(this),this.da(lh(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then(function(){return ah(e,ke(t))})},t.zc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(lh(e))})},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),dh(t,t.h.then(function(){!t.l&&K(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(uh(t)))}))}(this,function(){t.next(lh(e))})},t.Ic=function(t,e,n){var i=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(lh(i)):"function"==typeof t.next&&t.next(lh(i))}),this.hb(t,e,n)},t.Hc=function(t,e,n){var i=this;return this.ba&&Promise.resolve().then(function(){i.X=i.getUid(),"function"==typeof t?t(lh(i)):"function"==typeof t.next&&t.next(lh(i))}),this.bc(t,e,n)},t.nc=function(t){var e=this;return dh(this,this.h.then(function(){return lh(e)?lh(e).I(t).then(function(t){return{accessToken:t}}):null}))},t.Tc=function(t){var e=this;return this.h.then(function(){return ah(e,Za(e.a,Ha,{token:t}))}).then(function(t){var n=t.user;return Du(n,"isAnonymous",!1),e.da(n),t})},t.Uc=function(t,e){var n=this;return this.h.then(function(){return ah(n,Za(n.a,Ka,{email:t,password:e}))})},t.dc=function(t,e){var n=this;return this.h.then(function(){return ah(n,Za(n.a,za,{email:t,password:e}))})},t.$a=function(t){var e=this;return this.h.then(function(){return ah(e,t.ka(e.a))})},t.Sc=function(t){return Hi("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then(function(){var e=lh(t);if(e&&e.isAnonymous){var n=Qi({providerId:null,isNewUser:!1});return Qi({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return ah(t,t.a.zb()).then(function(e){var n=e.user;return Du(n,"isAnonymous",!0),t.da(n),e})})},t.getUid=function(){return lh(this)&&lh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&lh(this)&&_u(lh(this))},t.Pc=function(t){var e=this;X(this.s,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&lh(this)&&wu(lh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),dh(this,this.h.then(function(){e.l||K(e.s,t)&&t(uh(e))}))},t.removeAuthTokenListener=function(t){Y(this.s,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(Gu("local"),t.a,this.ja),this.b&&(Il(this.b,this),ql(this.b.b)),Promise.resolve()},t.hc=function(t){return dh(this,function(t,e){return Za(t,Ca,{identifier:e,continueUri:Mi()?ui():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.a,t))},t.Bc=function(t){return!!Do(t)},t.wb=function(t,e){var n=this;return dh(this,ke().then(function(){var t=new Er(e);if(!t.c)throw new O("argument-error",Mr+" must be true when sending sign in link to email");return Nr(t)}).then(function(e){return n.a.wb(t,e)}).then(function(){}))},t.jd=function(t){return this.Ra(t).then(function(t){return t.data.email})},t.nb=function(t,e){return dh(this,this.a.nb(t,e).then(function(){}))},t.Ra=function(t){return dh(this,this.a.Ra(t).then(function(t){return new sr(t)}))},t.jb=function(t){return dh(this,this.a.jb(t).then(function(){}))},t.vb=function(t,e){var n=this;return dh(this,ke().then(function(){return void 0===e||ft(e)?{}:Nr(new Er(e))}).then(function(e){return n.a.vb(t,e)}).then(function(){}))},t.Wc=function(t,e){return dh(this,Kl(this,t,e,w(this.$a,this)))},t.Vc=function(t,e){var n=this;return dh(this,ke().then(function(){var i=e||ui(),r=Io(t,i);if(!(i=Do(i)))throw new O("argument-error","Invalid email link!");if(i.tenantId!==n.T())throw new O("tenant-id-mismatch");return n.$a(r)}))},ph.prototype.render=function(){},ph.prototype.reset=function(){},ph.prototype.getResponse=function(){},ph.prototype.execute=function(){};var gh=null;function mh(t,e){return(e=bh(e))&&t.a[e]||null}function bh(t){return(t=void 0===t?1e12:t)?t.toString():null}function yh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ce(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():ln(this.f,"click",this.i)}function vh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function _h(){}function wh(){}fh.prototype.render=function(t,e){return this.a[this.b.toString()]=new yh(t,e),this.b++},fh.prototype.reset=function(t){var e=mh(this,t);t=bh(t),e&&t&&(e.delete(),delete this.a[t])},fh.prototype.getResponse=function(t){return(t=mh(this,t))?t.getResponse():null},fh.prototype.execute=function(t){(t=mh(this,t))&&t.execute()},yh.prototype.getResponse=function(){return vh(this),this.b},yh.prototype.execute=function(){vh(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(i){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(i){}t.h&&t.execute()},6e4)},500))},yh.prototype.delete=function(){vh(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},Gi(_h,"FACTOR_ID","phone"),wh.prototype.g=function(){return gh||(gh=new fh),ke(gh)},wh.prototype.c=function(){};var zh=null;function Ch(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Sh=new vt(Ct,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),xh=new Wi(3e4,6e4);Ch.prototype.g=function(t){var e=this;return new _e(function(n,i){var r=setTimeout(function(){i(new O("network-request-failed"))},xh.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(r),n(a.grecaptcha)}else clearTimeout(r),i(new O("internal-error"));delete a[e.a]},ke(Vs(kt(Sh,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(r),i(new O("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(r),n(a.grecaptcha))})},Ch.prototype.c=function(){this.b--};var Oh=null;function kh(t,e,n,i,r,o,s){if(Gi(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,s?(zh||(zh=new wh),s=zh):(Oh||(Oh=new Ch),s=Oh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ih])throw new O("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Dh],!a.document)throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ce(e)||!this.i&&ce(e).hasChildNodes())throw new O("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Hs(t,o||null,r||null),this.u=i||function(){return null};var c=this;this.l=[];var l=this.a[Th];this.a[Th]=function(t){if(Mh(c,t),"function"==typeof l)l(t);else if("string"==typeof l){var e=Ei(l,a);"function"==typeof e&&e(t)}};var u=this.a[Eh];this.a[Eh]=function(){if(Mh(c,null),"function"==typeof u)u();else if("string"==typeof u){var t=Ei(u,a);"function"==typeof t&&t()}}}var Th="callback",Eh="expired-callback",Ih="sitekey",Dh="size";function Mh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(i){}}function Rh(t,e){return t.h.push(e),e.oa(function(){G(t.h,e)}),e}function Ah(t){if(t.D)throw new O("internal-error","RecaptchaVerifier instance has been destroyed.")}function Ph(t,e,n){var r=!1;try{this.b=n||i.a.app()}catch(a){throw new O("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new O("invalid-api-key");n=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ga()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=i.a.SDK_VERSION?ki(i.a.SDK_VERSION,s):null,kh.call(this,n,t,e,function(){try{var t=o.b.auth().la()}catch(e){t=null}return t},s,M(T),r)}function Lh(t,e,n,i){t:{n=Array.prototype.slice.call(n);for(var r=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new O("internal-error","Argument validator encountered a required argument after an optional argument.");r++}if(o=e.length,n.length<r||o<n.length)i="Expected "+(r==o?1==r?"1 argument":r+" arguments":r+"-"+o+" arguments")+" but got "+n.length+".";else{for(r=0;r<n.length;r++)if(o=e[r].optional&&void 0===n[r],!e[r].M(n[r])&&!o){if(e=e[r],0>r||r>=Fh.length)throw new O("internal-error","Argument validator received an unsupported number of arguments.");n=Fh[r],i=(i?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}i=null}}if(i)throw new O("argument-error",t+" failed: "+i)}(t=kh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Rh(this,ke().then(function(){if(Mi()&&!wi())return yi();throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.u())}).then(function(e){return t.g=e,Za(t.s,La,{})}).then(function(e){t.a[Ih]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},t.render=function(){Ah(this);var t=this;return Rh(this,this.Ia().then(function(){if(null===t.c){var e=t.v;if(!t.i){var n=ce(e);e=function(t,e,n){var i=arguments,r=document,o=String(i[0]),s=i[1];if(!ae&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Xt(s.name),'"'),s.type){o.push(' type="',Xt(s.type),'"');var a={};bt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=fe(r,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):le(o,s)),2<i.length&&pe(r,o,i),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Ah(this);var t=this;return Rh(this,this.render().then(function(e){return new _e(function(n){var i=t.g.getResponse(e);if(i)n(i);else{var r=function(e){e&&(function(t,e){Y(t.l,function(t){return t==e})}(t,r),n(e))};t.l.push(r),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){Ah(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Ah(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ce(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},S(Ph,kh);var Fh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function jh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Nh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Vh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:g}}function Wh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function qh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Bh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ka||t&&e.providerId!==t)}}}function Xh(t,e){return g(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Uh(t){return g(t)&&"string"==typeof t.uid}function $h(t,e,n,i){return{name:n||"",K:t.K+" or "+e.K,optional:!!i,M:function(n){return t.M(n)||e.M(n)}}}function Hh(t,e){for(var n in e){var i=e[n].name;t[i]=Yh(i,t[n],e[n].j)}}function Kh(t,e){for(var n in e){var i=e[n].name;i!==n&&Object.defineProperty(t,i,{get:z(function(t){return this[t]},n),set:z(function(t,e,n,i){Lh(t,[n],[i],!0),this[e]=i},i,n,e[n].kb),enumerable:!0})}}function Gh(t,e,n,i){t[e]=Yh(e,n,i)}function Yh(t,e,n){function i(){var t=Array.prototype.slice.call(arguments);return Lh(o,n,t),e.apply(this,t)}if(!n)return e;var r,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(r in e)i[r]=e[r];for(r in e.prototype)i.prototype[r]=e.prototype[r];return i}Hh(th.prototype,{jb:{name:"applyActionCode",j:[jh("code")]},Ra:{name:"checkActionCode",j:[jh("code")]},nb:{name:"confirmPasswordReset",j:[jh("code"),jh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[jh("email"),jh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[jh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[jh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[$h(Vh(),Wh(),"nextOrObserver"),Wh("opt_error",!0),Wh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[$h(Vh(),Wh(),"nextOrObserver"),Wh("opt_error",!0),Wh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[jh("email"),$h(Vh("opt_actionCodeSettings",!0),qh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[jh("email"),Vh("actionCodeSettings")]},xb:{name:"setPersistence",j:[jh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Bh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Bh()]},Tc:{name:"signInWithCustomToken",j:[jh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[jh("email"),jh("password")]},Vc:{name:"signInWithEmailLink",j:[jh("email"),jh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[jh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[$h({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof fu)}},qh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[jh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[jh("url"),Vh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[jh("code")]}}),Kh(th.prototype,{lc:{name:"languageCode",kb:$h(jh(),qh(),"languageCode")},ti:{name:"tenantId",kb:$h(jh(),qh(),"tenantId")}}),(th.Persistence=Gc).LOCAL="local",th.Persistence.SESSION="session",th.Persistence.NONE="none",Hh(fu.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Nh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Nh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Bh()]},qb:{name:"linkWithCredential",j:[Bh()]},Dc:{name:"linkWithPhoneNumber",j:[jh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Bh()]},tb:{name:"reauthenticateWithCredential",j:[Bh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[jh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[$h(Vh("opt_actionCodeSettings",!0),qh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[jh(null,!0)]},cd:{name:"unlink",j:[jh("provider")]},Bb:{name:"updateEmail",j:[jh("email")]},Cb:{name:"updatePassword",j:[jh("password")]},ed:{name:"updatePhoneNumber",j:[Bh("phone")]},Db:{name:"updateProfile",j:[Vh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[jh("email"),$h(Vh("opt_actionCodeSettings",!0),qh(null,!0),"opt_actionCodeSettings",!0)]}}),Hh(fh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Hh(ph.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Hh(_e.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Kh($l.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Nh("appVerificationDisabledForTesting")}}),Hh(Hl.prototype,{confirm:{name:"confirm",j:[jh("verificationCode")]}}),Gh(ao,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[go,To,Ro,ho],i=0;i<n.length;i++)if(e=n[i](t))return e;return null},[$h(jh(),Vh(),"json")]),Gh(Eo,"credential",function(t,e){return new ko(t,e)},[jh("email"),jh("password")]),Hh(ko.prototype,{w:{name:"toJSON",j:[jh(null,!0)]}}),Hh(vo.prototype,{Ca:{name:"addScope",j:[jh("scope")]},Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),Gh(vo,"credential",_o,[$h(jh(),Vh(),"token")]),Gh(Eo,"credentialWithLink",Io,[jh("email"),jh("emailLink")]),Hh(wo.prototype,{Ca:{name:"addScope",j:[jh("scope")]},Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),Gh(wo,"credential",zo,[$h(jh(),Vh(),"token")]),Hh(Co.prototype,{Ca:{name:"addScope",j:[jh("scope")]},Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),Gh(Co,"credential",So,[$h(jh(),$h(Vh(),qh()),"idToken"),$h(jh(),qh(),"accessToken",!0)]),Hh(xo.prototype,{Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),Gh(xo,"credential",Oo,[$h(jh(),Vh(),"token"),jh("secret",!0)]),Hh(yo.prototype,{Ca:{name:"addScope",j:[jh("scope")]},credential:{name:"credential",j:[$h(jh(),$h(Vh(),qh()),"optionsOrIdToken"),$h(jh(),qh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),Hh(po.prototype,{w:{name:"toJSON",j:[jh(null,!0)]}}),Hh(lo.prototype,{w:{name:"toJSON",j:[jh(null,!0)]}}),Gh(Po,"credential",Lo,[jh("verificationId"),jh("verificationCode")]),Hh(Po.prototype,{fb:{name:"verifyPhoneNumber",j:[$h(jh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Xh(t.session,oo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Xh(t.session,so)&&Uh(t.multiFactorHint):t.session&&t.multiFactorUid?Xh(t.session,so)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Hh(Mo.prototype,{w:{name:"toJSON",j:[jh(null,!0)]}}),Hh(O.prototype,{toJSON:{name:"toJSON",j:[jh(null,!0)]}}),Hh(Uo.prototype,{toJSON:{name:"toJSON",j:[jh(null,!0)]}}),Hh(Xo.prototype,{toJSON:{name:"toJSON",j:[jh(null,!0)]}}),Hh(Zl.prototype,{toJSON:{name:"toJSON",j:[jh(null,!0)]}}),Hh(Yl.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),Hh(ou.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},jh("displayName",!0)]},bd:{name:"unenroll",j:[$h({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Uh},jh(),"multiFactorInfoIdentifier")]}}),Hh(Ph.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Gh(_r,"parseLink",Tr,[jh("link")]),Gh(_h,"assertion",function(t){return new iu(t)},[Bh("phone")]),function(){if(void 0===i.a||!i.a.INTERNAL||!i.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:cr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ar,VERIFY_AND_CHANGE_EMAIL:lr,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:th,AuthCredential:ao,Error:O};Gh(t,"EmailAuthProvider",Eo,[]),Gh(t,"FacebookAuthProvider",vo,[]),Gh(t,"GithubAuthProvider",wo,[]),Gh(t,"GoogleAuthProvider",Co,[]),Gh(t,"TwitterAuthProvider",xo,[]),Gh(t,"OAuthProvider",yo,[jh("providerId")]),Gh(t,"SAMLAuthProvider",bo,[jh("providerId")]),Gh(t,"PhoneAuthProvider",Po,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof th)}}]),Gh(t,"RecaptchaVerifier",Ph,[$h(jh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Vh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof i.a.app.App)}}]),Gh(t,"ActionCodeURL",_r,[]),Gh(t,"PhoneMultiFactorGenerator",_h,[]),i.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new th(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),i.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:w((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:w(t.nc,t),addAuthTokenListener:w(t.cc,t),removeAuthTokenListener:w(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),i.a.registerVersion("@firebase/auth","0.16.2"),i.a.INTERNAL.extendNamespace({User:fu})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("HDdC"),r=n("7Hc7"),o=n("Y7HM");class s extends i.a{constructor(t,e=0,n=r.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(o.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=r.a)}static create(t,e=0,n=r.a){return new s(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(s.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new s(e,this.delay,this.scheduler).subscribe(t)}}},tyNb:function(t,e,n){"use strict";n.d(e,"a",function(){return Wt}),n.d(e,"b",function(){return N}),n.d(e,"c",function(){return j}),n.d(e,"d",function(){return V}),n.d(e,"e",function(){return F}),n.d(e,"f",function(){return Z}),n.d(e,"g",function(){return an}),n.d(e,"h",function(){return cn}),n.d(e,"i",function(){return hn}),n.d(e,"j",function(){return ln}),n.d(e,"k",function(){return zn}),n.d(e,"l",function(){return dn});var i=n("ofXK"),r=n("fXoL"),o=n("Cfvw"),s=n("LRne"),a=n("2Vo4"),c=n("itXk"),l=n("HDdC"),u=n("sVev"),h=n("GyhO"),d=n("NXyV"),p=n("EY2u"),f=n("XNiG"),g=n("lJxs"),m=n("eIep"),b=n("IzEk"),y=n("JX91"),v=n("Kqap"),_=n("pLZG"),w=n("JIr8"),z=n("bOdf"),C=n("7o/Q"),S=n("4I5i");function x(t){return function(e){return 0===t?Object(p.b)():e.lift(new O(t))}}class O{constructor(t){if(this.total=t,this.total<0)throw new S.a}call(t,e){return e.subscribe(new k(t,this.total))}}class k extends C.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=e++%n;t.next(i[r])}}t.complete()}}var T=n("XDbj"),E=n("xbPD"),I=n("SpAZ"),D=n("SxV6"),M=n("5+tZ"),R=n("vkgz"),A=n("nYR2"),P=n("bHdf");class L{constructor(t,e){this.id=t,this.url=e}}class F extends L{constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class j extends L{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class N extends L{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class V extends L{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class W extends L{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q extends L{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class B extends L{constructor(t,e,n,i,r){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class X extends L{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class U extends L{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ${constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class H{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class K{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class G{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Y{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Q{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class J{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Z="primary";class tt{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function et(t){return new tt(t)}function nt(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function it(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let o=0;o<i.length;o++){const e=i[o],n=t[o];if(e.startsWith(":"))r[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function rt(t,e){const n=Object.keys(t),i=Object.keys(e);if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!ot(t[r],e[r]))return!1;return!0}function ot(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((t,e)=>i[e]===t)}return t===e}function st(t){return Array.prototype.concat.apply([],t)}function at(t){return t.length>0?t[t.length-1]:null}function ct(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function lt(t){return Object(r.tb)(t)?t:Object(r.ub)(t)?Object(o.a)(Promise.resolve(t)):Object(s.a)(t)}function ut(t,e,n){return n?function(t,e){return rt(t,e)}(t.queryParams,e.queryParams)&&ht(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ot(t[n],e[n]))}(t.queryParams,e.queryParams)&&dt(t.root,e.root)}function ht(t,e){if(!bt(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!ht(t.children[n],e.children[n]))return!1}return!0}function dt(t,e){return pt(t,e,e.segments)}function pt(t,e,n){if(t.segments.length>n.length)return!!bt(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!bt(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!dt(t.children[n],e.children[n]))return!1}return!0}{const i=n.slice(0,t.segments.length),r=n.slice(t.segments.length);return!!bt(t.segments,i)&&!!t.children[Z]&&pt(t.children[Z],e,r)}}class ft{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=et(this.queryParams)),this._queryParamMap}toString(){return _t.serialize(this)}}class gt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ct(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wt(this)}}class mt{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=et(this.parameters)),this._parameterMap}toString(){return Tt(this)}}function bt(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class yt{}class vt{parse(t){const e=new Rt(t);return new ft(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${zt(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${St(e)}=${St(t)}`).join("&"):`${St(e)}=${St(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const _t=new vt;function wt(t){return t.segments.map(t=>Tt(t)).join("/")}function zt(t,e){if(!t.hasChildren())return wt(t);if(e){const e=t.children[Z]?zt(t.children[Z],!1):"",n=[];return ct(t.children,(t,e)=>{e!==Z&&n.push(`${e}:${zt(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return ct(t.children,(t,i)=>{i===Z&&(n=n.concat(e(t,i)))}),ct(t.children,(t,i)=>{i!==Z&&(n=n.concat(e(t,i)))}),n}(t,(e,n)=>n===Z?[zt(t.children[Z],!1)]:[`${n}:${zt(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Z]?`${wt(t)}/${e[0]}`:`${wt(t)}/(${e.join("//")})`}}function Ct(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function St(t){return Ct(t).replace(/%3B/gi,";")}function xt(t){return Ct(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ot(t){return decodeURIComponent(t)}function kt(t){return Ot(t.replace(/\+/g,"%20"))}function Tt(t){return`${xt(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${xt(t)}=${xt(e[t])}`).join("")}`;var e}const Et=/^[^\/()?;=#]+/;function It(t){const e=t.match(Et);return e?e[0]:""}const Dt=/^[^=?&#]+/,Mt=/^[^?&#]+/;class Rt{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new gt([],{}):new gt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Z]=new gt(t,e)),n}parseSegment(){const t=It(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new mt(Ot(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=It(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=It(this.remaining);t&&(n=t,this.capture(n))}t[Ot(e)]=Ot(n)}parseQueryParam(t){const e=function(t){const e=t.match(Dt);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Mt);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const i=kt(e),r=kt(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(e=[e],t[i]=e),e.push(r)}else t[i]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=It(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=Z);const o=this.parseChildren();e[r]=1===Object.keys(o).length?o[Z]:new gt([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class At{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Pt(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Pt(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Lt(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Lt(t,this._root).map(t=>t.value)}}function Pt(t,e){if(t===e.value)return e;for(const n of e.children){const e=Pt(t,n);if(e)return e}return null}function Lt(t,e){if(t===e.value)return[e];for(const n of e.children){const i=Lt(t,n);if(i.length)return i.unshift(e),i}return[]}class Ft{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function jt(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Nt extends At{constructor(t,e){super(t),this.snapshot=e,Ut(this,t)}toString(){return this.snapshot.toString()}}function Vt(t,e){const n=function(t,e){const n=new Bt([],{},{},"",{},Z,e,null,t.root,-1,{});return new Xt("",new Ft(n,[]))}(t,e),i=new a.a([new mt("",{})]),r=new a.a({}),o=new a.a({}),s=new a.a({}),c=new a.a(""),l=new Wt(i,r,s,c,o,Z,e,n.root);return l.snapshot=n.root,new Nt(new Ft(l,[]),n)}class Wt{constructor(t,e,n,i,r,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(g.a)(t=>et(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(g.a)(t=>et(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qt(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class Bt{constructor(t,e,n,i,r,o,s,a,c,l,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=et(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=et(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xt extends At{constructor(t,e){super(e),this.url=t,Ut(this,e)}toString(){return $t(this._root)}}function Ut(t,e){e.value._routerState=t,e.children.forEach(e=>Ut(t,e))}function $t(t){const e=t.children.length>0?` { ${t.children.map($t).join(", ")} } `:"";return`${t.value}${e}`}function Ht(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,rt(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),rt(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!rt(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),rt(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Kt(t,e){var n,i;return rt(t.params,e.params)&&bt(n=t.url,i=e.url)&&n.every((t,e)=>rt(t.parameters,i[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Kt(t.parent,e.parent))}function Gt(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=e.value;const r=function(t,e,n){return e.children.map(e=>{for(const i of n.children)if(t.shouldReuseRoute(e.value,i.value.snapshot))return Gt(t,e,i);return Gt(t,e)})}(t,e,n);return new Ft(i,r)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Yt(e,t),t}{const n=new Wt(new a.a((i=e.value).url),new a.a(i.params),new a.a(i.queryParams),new a.a(i.fragment),new a.a(i.data),i.outlet,i.component,i),r=e.children.map(e=>Gt(t,e));return new Ft(n,r)}}var i}function Yt(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Yt(t.children[n],e.children[n])}function Qt(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Jt(t){return"object"==typeof t&&null!=t&&t.outlets}function Zt(t,e,n,i,r){let o={};return i&&ct(i,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new ft(n.root===t?e:te(n.root,t,e),o,r)}function te(t,e,n){const i={};return ct(t.children,(t,r)=>{i[r]=t===e?n:te(t,e,n)}),new gt(t.segments,i)}class ee{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Qt(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(Jt);if(i&&i!==at(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ne{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function ie(t,e,n){if(t||(t=new gt([],{})),0===t.segments.length&&t.hasChildren())return re(t,e,n);const i=function(t,e,n){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;const e=t.segments[r],s=n[i];if(Jt(s))break;const a=`${s}`,c=i<n.length-1?n[i+1]:null;if(r>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!ce(a,c,e))return o;i+=2}else{if(!ce(a,{},e))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new gt(t.segments.slice(0,i.pathIndex),{});return e.children[Z]=new gt(t.segments.slice(i.pathIndex),t.children),re(e,0,r)}return i.match&&0===r.length?new gt(t.segments,{}):i.match&&!t.hasChildren()?oe(t,e,n):i.match?re(t,0,r):oe(t,e,n)}function re(t,e,n){if(0===n.length)return new gt(t.segments,{});{const i=function(t){return Jt(t[0])?t[0].outlets:{[Z]:t}}(n),r={};return ct(i,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(r[i]=ie(t.children[i],e,n))}),ct(t.children,(t,e)=>{void 0===i[e]&&(r[e]=t)}),new gt(t.segments,r)}}function oe(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){const o=n[r];if(Jt(o)){const t=se(o.outlets);return new gt(i,t)}if(0===r&&Qt(n[0])){i.push(new mt(t.segments[e].path,n[0])),r++;continue}const s=Jt(o)?o.outlets[Z]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&Qt(a)?(i.push(new mt(s,ae(a))),r+=2):(i.push(new mt(s,{})),r++)}return new gt(i,{})}function se(t){const e={};return ct(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=oe(new gt([],{}),0,t))}),e}function ae(t){const e={};return ct(t,(t,n)=>e[n]=`${t}`),e}function ce(t,e,n){return t==n.path&&rt(e,n.parameters)}class le{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Ht(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=jt(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),ct(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,r=jt(t);for(const o of Object.keys(r))this.deactivateRouteAndItsChildren(r[o],i);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const i=jt(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new Q(t.value.snapshot))}),t.children.length&&this.forwardEvent(new G(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(Ht(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),ue(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),r=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=r,e.outlet&&e.outlet.activateWith(i,r),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function ue(t){Ht(t.value),t.children.forEach(ue)}class he{constructor(t,e){this.routes=t,this.module=e}}function de(t){return"function"==typeof t}function pe(t){return t instanceof ft}const fe=Symbol("INITIAL_VALUE");function ge(){return Object(m.a)(t=>Object(c.a)(t.map(t=>t.pipe(Object(b.a)(1),Object(y.a)(fe)))).pipe(Object(v.a)((t,e)=>{let n=!1;return e.reduce((t,i,r)=>{if(t!==fe)return t;if(i===fe&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||pe(i))return i}return t},t)},fe),Object(_.a)(t=>t!==fe),Object(g.a)(t=>pe(t)?t:!0===t),Object(b.a)(1)))}let me=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Sb(0,"router-outlet")},directives:function(){return[dn]},encapsulation:2}),t})();function be(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];ye(i,ve(e,i))}}function ye(t,e){t.children&&be(t.children,e)}function ve(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function _e(t){const e=t.children&&t.children.map(_e),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Z&&(n.component=me),n}function we(t){return t.outlet||Z}function ze(t,e){const n=t.filter(t=>we(t)===e);return n.push(...t.filter(t=>we(t)!==e)),n}const Ce={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Se(t,e,n){var i;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Ce):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const r=(e.matcher||it)(n,t,e);if(!r)return Object.assign({},Ce);const o={};ct(r.posParams,(t,e)=>{o[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s,positionalParamSegments:null!==(i=r.posParams)&&void 0!==i?i:{}}}function xe(t,e,n,i,r="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Oe(t,e,n)&&we(n)!==Z)}(t,n,i)){const r=new gt(e,function(t,e,n,i){const r={};r[Z]=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&we(o)!==Z){const n=new gt([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,r[we(o)]=n}return r}(t,e,i,new gt(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Oe(t,e,n))}(t,n,i)){const o=new gt(t.segments,function(t,e,n,i,r,o){const s={};for(const a of i)if(Oe(t,n,a)&&!r[we(a)]){const n=new gt([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[we(a)]=n}return Object.assign(Object.assign({},r),s)}(t,e,n,i,t.children,r));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new gt(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Oe(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function ke(t,e,n,i){return!!(we(t)===i||i!==Z&&Oe(e,n,t))&&("**"===t.path||Se(e,t,n).matched)}function Te(t,e,n){return 0===e.length&&!t.children[n]}class Ee{constructor(t){this.segmentGroup=t||null}}class Ie{constructor(t){this.urlTree=t}}function De(t){return new l.a(e=>e.error(new Ee(t)))}function Me(t){return new l.a(e=>e.error(new Ie(t)))}function Re(t){return new l.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Ae{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=xe(this.urlTree.root,[],[],this.config).segmentGroup,e=new gt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Z).pipe(Object(g.a)(t=>this.createUrlTree(Pe(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Object(w.a)(t=>{if(t instanceof Ie)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Ee)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Z).pipe(Object(g.a)(e=>this.createUrlTree(Pe(e),t.queryParams,t.fragment))).pipe(Object(w.a)(t=>{if(t instanceof Ee)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new gt([],{[Z]:t}):t;return new ft(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(g.a)(t=>new gt([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){const i=[];for(const r of Object.keys(n.children))"primary"===r?i.unshift(r):i.push(r);return Object(o.a)(i).pipe(Object(z.a)(i=>{const r=n.children[i],o=ze(e,i);return this.expandSegmentGroup(t,o,r,i).pipe(Object(g.a)(t=>({segment:t,outlet:i})))}),Object(v.a)((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Object(_.a)((e,n)=>t(e,n,i)):I.a,x(1),n?Object(E.a)(e):Object(T.a)(()=>new u.a))}())}expandSegment(t,e,n,i,r,a){return Object(o.a)(n).pipe(Object(z.a)(o=>this.expandSegmentAgainstRoute(t,e,n,o,i,r,a).pipe(Object(w.a)(t=>{if(t instanceof Ee)return Object(s.a)(null);throw t}))),Object(D.a)(t=>!!t),Object(w.a)((t,n)=>{if(t instanceof u.a||"EmptyError"===t.name){if(Te(e,i,r))return Object(s.a)(new gt([],{}));throw new Ee(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,i,r,o,s){return ke(i,e,r,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o):De(e):De(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Me(r):this.lineralizeSegments(n,r).pipe(Object(M.a)(n=>{const r=new gt(n,{});return this.expandSegment(t,r,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o){const{matched:s,consumedSegments:a,lastChild:c,positionalParamSegments:l}=Se(e,i,r);if(!s)return De(e);const u=this.applyRedirectCommands(a,i.redirectTo,l);return i.redirectTo.startsWith("/")?Me(u):this.lineralizeSegments(i,u).pipe(Object(M.a)(i=>this.expandSegment(t,e,n,i.concat(r.slice(c)),o,!1)))}matchSegmentAgainstRoute(t,e,n,i,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(g.a)(t=>(n._loadedConfig=t,new gt(i,{})))):Object(s.a)(new gt(i,{}));const{matched:o,consumedSegments:a,lastChild:c}=Se(e,n,i);if(!o)return De(e);const l=i.slice(c);return this.getChildConfig(t,n,i).pipe(Object(M.a)(t=>{const i=t.module,o=t.routes,{segmentGroup:c,slicedSegments:u}=xe(e,a,l,o),h=new gt(c.segments,c.children);if(0===u.length&&h.hasChildren())return this.expandChildren(i,o,h).pipe(Object(g.a)(t=>new gt(a,t)));if(0===o.length&&0===u.length)return Object(s.a)(new gt(a,{}));const d=we(n)===r;return this.expandSegment(i,h,o,u,d?Z:r,!0).pipe(Object(g.a)(t=>new gt(a.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(s.a)(new he(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(s.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(M.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(g.a)(t=>(e._loadedConfig=t,t))):function(t){return new l.a(e=>e.error(nt(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(s.a)(new he([],t))}runCanLoadGuards(t,e,n){const i=e.canLoad;if(!i||0===i.length)return Object(s.a)(!0);const r=i.map(i=>{const r=t.get(i);let o;if(function(t){return t&&de(t.canLoad)}(r))o=r.canLoad(e,n);else{if(!de(r))throw new Error("Invalid CanLoad guard");o=r(e,n)}return lt(o)});return Object(s.a)(r).pipe(ge(),Object(R.a)(t=>{if(!pe(t))return;const e=nt(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(g.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Object(s.a)(n);if(i.numberOfChildren>1||!i.children[Z])return Re(t.redirectTo);i=i.children[Z]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const r=this.createSegmentGroup(t,e.root,n,i);return new ft(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return ct(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const r=this.createSegments(t,e.segments,n,i);let o={};return ct(e.children,(e,r)=>{o[r]=this.createSegmentGroup(t,e,n,i)}),new gt(r,o)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function Pe(t){const e={};for(const n of Object.keys(t.children)){const i=Pe(t.children[n]);(i.segments.length>0||i.hasChildren())&&(e[n]=i)}return function(t){if(1===t.numberOfChildren&&t.children[Z]){const e=t.children[Z];return new gt(t.segments.concat(e.segments),e.children)}return t}(new gt(t.segments,e))}class Le{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Fe{constructor(t,e){this.component=t,this.route=e}}function je(t,e,n){const i=t._root;return Ve(i,e?e._root:null,n,[i.value])}function Ne(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function Ve(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=jt(e);return t.children.forEach(t=>{!function(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!bt(t.url,e.url);case"pathParamsOrQueryParamsChange":return!bt(t.url,e.url)||!rt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Kt(t,e)||!rt(t.queryParams,e.queryParams);case"paramsChange":default:return!Kt(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Le(i)):(o.data=s.data,o._resolvedData=s._resolvedData),Ve(t,e,o.component?a?a.children:null:n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Fe(a.outlet.component,s))}else s&&We(e,a,r),r.canActivateChecks.push(new Le(i)),Ve(t,null,o.component?a?a.children:null:n,i,r)}(t,o[t.value.outlet],n,i.concat([t.value]),r),delete o[t.value.outlet]}),ct(o,(t,e)=>We(t,n.getContext(e),r)),r}function We(t,e,n){const i=jt(t),r=t.value;ct(i,(t,i)=>{We(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new Fe(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class qe{}function Be(t){return new l.a(e=>e.error(t))}class Xe{constructor(t,e,n,i,r,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=o}recognize(){const t=xe(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Z);if(null===e)return null;const n=new Bt([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Z,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ft(n,e),r=new Xt(this.url,i);return this.inheritParamsAndData(r._root),r}inheritParamsAndData(t){const e=t.value,n=qt(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const r of Object.keys(e.children)){const i=e.children[r],o=ze(t,r),s=this.processSegmentGroup(o,i,r);if(null===s)return null;n.push(...s)}const i=function(t){const e=[];for(const n of t){if(!Ue(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return i.sort((t,e)=>t.value.outlet===Z?-1:e.value.outlet===Z?1:t.value.outlet.localeCompare(e.value.outlet)),i}processSegment(t,e,n,i){for(const r of t){const t=this.processSegmentAgainstRoute(r,e,n,i);if(null!==t)return t}return Te(e,n,i)?[]:null}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo||!ke(t,e,n,i))return null;let r,o=[],s=[];if("**"===t.path){const i=n.length>0?at(n).parameters:{};r=new Bt(n,i,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ke(t),we(t),t.component,t,$e(e),He(e)+n.length,Ge(t))}else{const i=Se(e,t,n);if(!i.matched)return null;o=i.consumedSegments,s=n.slice(i.lastChild),r=new Bt(o,i.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ke(t),we(t),t.component,t,$e(e),He(e)+o.length,Ge(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:l}=xe(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const t=this.processChildren(a,c);return null===t?null:[new Ft(r,t)]}if(0===a.length&&0===l.length)return[new Ft(r,[])];const u=we(t)===i,h=this.processSegment(a,c,l,u?Z:i);return null===h?null:[new Ft(r,h)]}}function Ue(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function $e(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function He(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ke(t){return t.data||{}}function Ge(t){return t.resolve||{}}function Ye(t){return Object(m.a)(e=>{const n=t(e);return n?Object(o.a)(n).pipe(Object(g.a)(()=>e)):Object(s.a)(e)})}class Qe extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Je=new r.r("ROUTES");class Ze{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(g.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new he(st(i.injector.get(Je,void 0,r.q.Self|r.q.Optional)).map(_e),i)}))}loadModuleFactory(t){return"string"==typeof t?Object(o.a)(this.loader.load(t)):lt(t()).pipe(Object(M.a)(t=>t instanceof r.w?Object(s.a)(t):Object(o.a)(this.compiler.compileModuleAsync(t))))}}class tn{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new en,this.attachRef=null}}class en{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new tn,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class nn{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function rn(t){throw t}function on(t,e,n){return e.parse("/")}function sn(t,e){return Object(s.a)(null)}let an=(()=>{class t{constructor(t,e,n,i,o,s,c,l){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new f.a,this.errorHandler=rn,this.malformedUriErrorHandler=on,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:sn,afterPreactivation:sn},this.urlHandlingStrategy=new nn,this.routeReuseStrategy=new Qe,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.y),this.console=o.get(r.bb);const u=o.get(r.A);this.isNgZoneEnabled=u instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new ft(new gt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ze(s,c,t=>this.triggerEvent(new $(t)),t=>this.triggerEvent(new H(t))),this.routerState=Vt(this.currentUrlTree,this.rootComponentType),this.transitions=new a.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Object(_.a)(t=>0!==t.id),Object(g.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Object(m.a)(t=>{let n=!1,i=!1;return Object(s.a)(t).pipe(Object(R.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(m.a)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(s.a)(t).pipe(Object(m.a)(t=>{const n=this.transitions.getValue();return e.next(new F(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?p.a:Promise.resolve(t)}),(i=this.ngModule.injector,r=this.configLoader,o=this.urlSerializer,a=this.config,Object(m.a)(t=>function(t,e,n,i,r){return new Ae(t,e,n,i,r).apply()}(i,r,o,t.extractedUrl,a).pipe(Object(g.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(R.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,r){return Object(M.a)(o=>function(t,e,n,i,r="emptyOnly",o="legacy"){try{const a=new Xe(t,e,n,i,r,o).recognize();return null===a?Be(new qe):Object(s.a)(a)}catch(a){return Be(a)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),i,r).pipe(Object(g.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(R.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new W(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var i,r,o,a;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:o,extras:a}=t,c=new F(n,this.serializeUrl(i),r,o);e.next(c);const l=Vt(i,this.rootComponentType).snapshot;return Object(s.a)(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:i,extras:Object.assign(Object.assign({},a),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),p.a}),Ye(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!o,replaceUrl:!!s})}),Object(R.a)(t=>{const e=new q(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(g.a)(t=>Object.assign(Object.assign({},t),{guards:je(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(M.a)(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:c}}=n;return 0===c.length&&0===a.length?Object(s.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return Object(o.a)(t).pipe(Object(M.a)(t=>function(t,e,n,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(s.a)(!0);const a=o.map(o=>{const s=Ne(o,e,r);let a;if(function(t){return t&&de(t.canDeactivate)}(s))a=lt(s.canDeactivate(t,e,n,i));else{if(!de(s))throw new Error("Invalid CanDeactivate guard");a=lt(s(t,e,n,i))}return a.pipe(Object(D.a)())});return Object(s.a)(a).pipe(ge())}(t.component,t.route,n,e,i)),Object(D.a)(t=>!0!==t,!0))}(c,i,r,t).pipe(Object(M.a)(n=>n&&"boolean"==typeof n?function(t,e,n,i){return Object(o.a)(e).pipe(Object(z.a)(e=>Object(h.a)(function(t,e){return null!==t&&e&&e(new K(t)),Object(s.a)(!0)}(e.route.parent,i),function(t,e){return null!==t&&e&&e(new Y(t)),Object(s.a)(!0)}(e.route,i),function(t,e,n){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Object(d.a)(()=>{const r=e.guards.map(r=>{const o=Ne(r,e.node,n);let s;if(function(t){return t&&de(t.canActivateChild)}(o))s=lt(o.canActivateChild(i,t));else{if(!de(o))throw new Error("Invalid CanActivateChild guard");s=lt(o(i,t))}return s.pipe(Object(D.a)())});return Object(s.a)(r).pipe(ge())}));return Object(s.a)(r).pipe(ge())}(t,e.path,n),function(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Object(s.a)(!0);const r=i.map(i=>Object(d.a)(()=>{const r=Ne(i,e,n);let o;if(function(t){return t&&de(t.canActivate)}(r))o=lt(r.canActivate(e,t));else{if(!de(r))throw new Error("Invalid CanActivate guard");o=lt(r(e,t))}return o.pipe(Object(D.a)())}));return Object(s.a)(r).pipe(ge())}(t,e.route,n))),Object(D.a)(t=>!0!==t,!0))}(i,a,t,e):Object(s.a)(n)),Object(g.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(R.a)(t=>{if(pe(t.guardsResult)){const e=nt(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new B(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Object(_.a)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new N(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Ye(t=>{if(t.guards.canActivateChecks.length)return Object(s.a)(t).pipe(Object(R.a)(t=>{const e=new X(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(m.a)(t=>{let n=!1;return Object(s.a)(t).pipe((i=this.paramsInheritanceStrategy,r=this.ngModule.injector,Object(M.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(s.a)(t);let a=0;return Object(o.a)(n).pipe(Object(z.a)(t=>function(t,e,n,i){return function(t,e,n,i){const r=Object.keys(t);if(0===r.length)return Object(s.a)({});const a={};return Object(o.a)(r).pipe(Object(M.a)(r=>function(t,e,n,i){const r=Ne(t,e,i);return lt(r.resolve?r.resolve(e,n):r(e,n))}(t[r],e,n,i).pipe(Object(R.a)(t=>{a[r]=t}))),x(1),Object(M.a)(()=>Object.keys(a).length===r.length?Object(s.a)(a):p.a))}(t._resolve,t,e,i).pipe(Object(g.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),qt(t,n).resolve),null)))}(t.route,e,i,r)),Object(R.a)(()=>a++),x(1),Object(M.a)(e=>a===n.length?Object(s.a)(t):p.a))})),Object(R.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new N(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var i,r}),Object(R.a)(t=>{const e=new U(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Ye(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!o,replaceUrl:!!s})}),Object(g.a)(t=>{const e=function(t,e,n){const i=Gt(t,e._root,n?n._root:void 0);return new Nt(i,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(R.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(r=this.rootContexts,a=this.routeReuseStrategy,c=t=>this.triggerEvent(t),Object(g.a)(t=>(new le(a,t.targetRouterState,t.currentRouterState,c).activate(r),t))),Object(R.a)({next(){n=!0},complete(){n=!0}}),Object(A.a)(()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new N(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Object(w.a)(n=>{if(i=!0,(r=n)&&r.ngNavigationCancelingError){const i=pe(n.url);i||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const r=new N(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(r),i?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const i=new V(t.id,this.serializeUrl(t.extractedUrl),n);e.next(i);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var r;return p.a}));var r,a,c}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:i}=e,r={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(r.state=t)}this.scheduleNavigation(i,t,n,r)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){be(t),this.config=t.map(_e),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:r,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,c=s?this.currentUrlTree.fragment:r;let l=null;switch(o){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,i,r){if(0===n.length)return Zt(e.root,e.root,e,i,r);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ee(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return ct(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new ee(n,e,i)}(n);if(o.toRoot())return Zt(e.root,new gt([],{}),e,i,r);const s=function(t,e,n){if(t.isAbsolute)return new ne(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new ne(t,t===e.root,0)}const i=Qt(t.commands[0])?0:1;return function(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new ne(i,!1,r-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?re(s.segmentGroup,s.index,o.commands):ie(s.segmentGroup,s.index,o.commands);return Zt(s.segmentGroup,a,e,i,r)}(a,this.currentUrlTree,t,l,c)}navigateByUrl(t,e={skipLocationChange:!1}){const n=pe(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(pe(t))return ut(this.currentUrlTree,t,e);const n=this.parseUrl(t);return ut(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!=i&&(e[n]=i),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new j(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,i,r){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let c,l,u;r?(c=r.resolve,l=r.reject,u=r.promise):u=new Promise((t,e)=>{c=t,l=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,i){const r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.bc(r.O),r.bc(yt),r.bc(en),r.bc(i.j),r.bc(r.s),r.bc(r.x),r.bc(r.i),r.bc(void 0))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),cn=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.route=e,this.commands=[],this.onChanges=new f.a,null==n&&i.setAttribute(r.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:un(this.skipLocationChange),replaceUrl:un(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:un(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(an),r.Rb(Wt),r.cc("tabindex"),r.Rb(r.F),r.Rb(r.l))},t.\u0275dir=r.Mb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.fc("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.Bb]}),t})(),ln=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new f.a,this.subscription=t.events.subscribe(t=>{t instanceof j&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,i,r){if(0!==t||e||n||i||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:un(this.skipLocationChange),replaceUrl:un(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:un(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(an),r.Rb(Wt),r.Rb(i.k))},t.\u0275dir=r.Mb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.fc("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.ac("href",e.href,r.Ec),r.Eb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.Bb]}),t})();function un(t){return""===t||!!t}let hn=(()=>{class t{constructor(t,e,n,i,r,o){this.router=t,this.element=e,this.renderer=n,this.cdr=i,this.link=r,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof j&&this.update()})}ngAfterContentInit(){Object(s.a)(this.links.changes,this.linksWithHrefs.changes,Object(s.a)(null)).pipe(Object(P.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(o.a)(e).pipe(Object(P.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(an),r.Rb(r.l),r.Rb(r.F),r.Rb(r.h),r.Rb(cn,8),r.Rb(ln,8))},t.\u0275dir=r.Mb({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(r.Kb(n,cn,1),r.Kb(n,ln,1)),2&t){let t;r.zc(t=r.gc())&&(e.links=t),r.zc(t=r.gc())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.Bb]}),t})(),dn=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Z,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new pn(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(en),r.Rb(r.R),r.Rb(r.j),r.cc("name"),r.Rb(r.h))},t.\u0275dir=r.Mb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class pn{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Wt?this.route:t===en?this.childContexts:this.parent.get(t,e)}}class fn{}class gn{preload(t,e){return Object(s.a)(null)}}let mn=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=new Ze(e,n,e=>t.triggerEvent(new $(e)),e=>t.triggerEvent(new H(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(_.a)(t=>t instanceof j),Object(z.a)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const i of e)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const t=i._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return Object(o.a)(n).pipe(Object(P.a)(),Object(g.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(M.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.bc(an),r.bc(r.x),r.bc(r.i),r.bc(r.s),r.bc(fn))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),bn=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof F?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof j&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof J&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new J(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.bc(an),r.bc(i.w),r.bc(void 0))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();const yn=new r.r("ROUTER_CONFIGURATION"),vn=new r.r("ROUTER_FORROOT_GUARD"),_n=[i.j,{provide:yt,useClass:vt},{provide:an,useFactory:function(t,e,n,r,o,s,a,c={},l,u){const h=new an(null,t,e,n,r,o,s,st(a));if(l&&(h.urlHandlingStrategy=l),u&&(h.routeReuseStrategy=u),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(c,h),c.enableTracing){const t=Object(i.E)();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[yt,en,i.j,r.s,r.x,r.i,Je,yn,[class{},new r.B],[class{},new r.B]]},en,{provide:Wt,useFactory:function(t){return t.routerState.root},deps:[an]},{provide:r.x,useClass:r.L},mn,gn,class{preload(t,e){return e().pipe(Object(w.a)(()=>Object(s.a)(null)))}},{provide:yn,useValue:{enableTracing:!1}}];function wn(){return new r.z("Router",an)}let zn=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[_n,On(e),{provide:vn,useFactory:xn,deps:[[an,new r.B,new r.K]]},{provide:yn,useValue:n||{}},{provide:i.k,useFactory:Sn,deps:[i.u,[new r.p(i.a),new r.B],yn]},{provide:bn,useFactory:Cn,deps:[an,i.w,yn]},{provide:fn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:gn},{provide:r.z,multi:!0,useFactory:wn},[kn,{provide:r.d,multi:!0,useFactory:Tn,deps:[kn]},{provide:In,useFactory:En,deps:[kn]},{provide:r.b,multi:!0,useExisting:In}]]}}static forChild(e){return{ngModule:t,providers:[On(e)]}}}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)(r.bc(vn,8),r.bc(an,8))}}),t})();function Cn(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new bn(t,e,n)}function Sn(t,e,n={}){return n.useHash?new i.g(t,e):new i.t(t,e)}function xn(t){return"guarded"}function On(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Je,multi:!0,useValue:t}]}let kn=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new f.a}appInitializer(){return this.injector.get(i.i,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(an),i=this.injector.get(yn);return"disabled"===i.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(s.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(yn),n=this.injector.get(mn),i=this.injector.get(bn),o=this.injector.get(an),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.bc(r.s))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();function Tn(t){return t.appInitializer.bind(t)}function En(t){return t.bootstrapListener.bind(t)}const In=new r.r("Router Initializer")},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("7o/Q"),r=n("KqfI"),o=n("n6bG");function s(t,e,n){return function(i){return i.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends i.a{constructor(t,e,n,i){super(t),this._tapNext=r.a,this._tapError=r.a,this._tapComplete=r.a,this._tapError=n||r.a,this._tapComplete=i||r.a,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||r.a,this._tapError=e.error||r.a,this._tapComplete=e.complete||r.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("oB13"),r=n("x+ZX"),o=n("XNiG");function s(){return new o.a}function a(){return t=>Object(r.a)()(Object(i.a)(s)(t))}},w4B5:function(t){t.exports=JSON.parse('{"apiKey":"AIzaSyC7sMDe49KkwSWKFYz7oslKaFRES8O35XE","authDomain":"ngd-cacharreo.firebaseapp.com","databaseURL":"https://ngd-cacharreo.firebaseio.com","projectId":"ngd-cacharreo","storageBucket":"ngd-cacharreo.appspot.com","messagingSenderId":"564763392417","appId":"1:564763392417:web:49e343622989bcd26b33e0","measurementId":"G-CFYL1KTFH7"}')},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new s(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class s extends i.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}},xbPD:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7o/Q");function r(t=null){return e=>e.lift(new o(t))}class o{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new s(t,this.defaultValue))}}class s extends i.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("HDdC"),r=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new i.a(Object(r.a)(t))}},yMB1:function(t,e,n){var i,r,o;!function(s){if("object"==typeof t.exports){var a=s(0,e);void 0!==a&&(t.exports=a)}else r=[n,e],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=void 0;e.default=["es-PY",[["a.\xa0m.","p.\xa0m."],n,n],n,[["d","l","m","m","j","v","s"],["dom.","lun.","mar.","mi\xe9.","jue.","vie.","s\xe1b."],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["do","lu","ma","mi","ju","vi","sa"]],[["D","L","M","M","J","V","S"],["dom.","lun.","mar.","mi\xe9.","jue.","vie.","s\xe1b."],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["Do","Lu","Ma","Mi","Ju","Vi","Sa"]],[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sept.","oct.","nov.","dic."],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],n,[["a. C.","d. C."],n,["antes de Cristo","despu\xe9s de Cristo"]],0,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",n,"{1} 'a' 'las' {0}",n],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","\xa4\xa0#,##0.00;\xa4\xa0-#,##0.00","#E0"],"PYG","Gs.","guaran\xed paraguayo",{AUD:[n,"$"],BRL:[n,"R$"],CAD:[n,"$"],CNY:[n,"\xa5"],ESP:["\u20a7"],EUR:[n,"\u20ac"],FKP:[n,"FK\xa3"],GBP:[n,"\xa3"],HKD:[n,"$"],ILS:[n,"\u20aa"],INR:[n,"\u20b9"],JPY:[n,"\xa5"],KRW:[n,"\u20a9"],MXN:[n,"$"],NZD:[n,"$"],PYG:["Gs.","\u20b2"],RON:[n,"L"],SSP:[n,"SD\xa3"],SYP:[n,"S\xa3"],TWD:[n,"NT$"],USD:[n,"$"],VEF:[n,"BsF"],VND:[n,"\u20ab"],XAF:[],XCD:[n,"$"],XOF:[]},"ltr",function(t){return 1===t?1:5}]})},yeub:function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){t.exports=!1}},ymUC:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasBinary=e.isBinary=void 0;const i="function"==typeof ArrayBuffer,r=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===r.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===r.call(File);function a(t){return i&&(t instanceof ArrayBuffer||(t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer)(t))||o&&t instanceof Blob||s&&t instanceof File}e.isBinary=a,e.hasBinary=function t(e,n){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let n=0,i=e.length;n<i;n++)if(t(e[n]))return!0;return!1}if(a(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return t(e.toJSON(),!0);for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t(e[i]))return!0;return!1}},"z+Ro":function(t,e,n){"use strict";function i(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return i})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("HDdC");function r(t,e){return new i.a(e?n=>e.schedule(o,0,{error:t,subscriber:n}):e=>e.error(t))}function o({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var i,r,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),c=n("q/0M"),l=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),u=new s.b("app","Firebase",l),h=((r={})["@firebase/app"]="fire-core",r["@firebase/analytics"]="fire-analytics",r["@firebase/auth"]="fire-auth",r["@firebase/database"]="fire-rtdb",r["@firebase/functions"]="fire-fn",r["@firebase/installations"]="fire-iid",r["@firebase/messaging"]="fire-fcm",r["@firebase/performance"]="fire-perf",r["@firebase/remote-config"]="fire-rc",r["@firebase/storage"]="fire-gcs",r["@firebase/firestore"]="fire-fst",r["fire-js"]="fire-js",r["firebase-wrapper"]="fire-js-all",r),d=new c.b("@firebase/app"),p=function(){function t(t,e,n){var i,r,c=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return c},"PUBLIC"));try{for(var l=Object(o.h)(this.firebase_.INTERNAL.components.values()),u=l.next();!u.done;u=l.next())this._addComponent(u.value)}catch(h){i={error:h}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(i)throw i.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw u.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var f=function t(){var e=function(t){var e={},n=new Map,i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var o=r;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw u.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw u.create("duplicate-app",{appName:a});var c=new t(n,o,i);return e[a]=c,c},app:r,registerVersion:function(t,e,n){var i,r=null!==(i=h[t])&&void 0!==i?i:t;n&&(r+="-"+n);var o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var c=['Unable to register library "'+r+'" with version "'+e+'":'];return o&&c.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),o&&s&&c.push("and"),s&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(c.join(" "))}l(new a.a(r+"-version",function(){return{library:r,version:e}},"VERSION"))},setLogLevel:c.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw u.create("invalid-log-argument",{appName:name});Object(c.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:l,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function r(t){if(t=t||"[DEFAULT]",!Object(s.c)(e,t))throw u.create("no-app",{appName:t});return e[t]}function l(a){var c,l,h=a.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?i[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var p=function(t){if(void 0===t&&(t=r()),"function"!=typeof t[h])throw u.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(s.f)(p,a.serviceProps),i[h]=p,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var f=Object(o.h)(Object.keys(e)),g=f.next();!g.done;g=f.next())e[g.value]._addComponent(a)}catch(m){c={error:m}}finally{try{g&&!g.done&&(l=f.return)&&l.call(f)}finally{if(c)throw c.error}}return"PUBLIC"===a.type?i[h]:null}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),r.App=t,i}(p);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.h)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=f.initializeApp;f.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.m)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var y=f;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new g(t)},"PRIVATE")),t.registerVersion("@firebase/app","0.6.13",void 0),t.registerVersion("fire-js","")}(y),e.a=y},zUnb:function(t,e,n){"use strict";n.r(e);var i=n("ofXK"),r=n("fXoL");class o extends i.C{constructor(){super()}supportsDOMEvents(){return!0}}class s extends o{static makeCurrent(){Object(i.G)(new s)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=c||(c=document.querySelector("base"),c)?c.getAttribute("href"):null;return null==e?null:(n=e,a||(a=document.createElement("a")),a.setAttribute("href",n),"/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname);var n}resetBaseElement(){c=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Object(i.F)(document.cookie,t)}}let a,c=null;const l=new r.r("TRANSITION_ID"),u=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=Object(i.E)();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[l,i.d,r.s],multi:!0}];class h{static init(){Object(r.ab)(new h)}addToWindow(t){r.rb.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},r.rb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.rb.getAllAngularRootElements=()=>t.getAllRootElements(),r.rb.frameworkStabilizers||(r.rb.frameworkStabilizers=[]),r.rb.frameworkStabilizers.push(t=>{const e=r.rb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Object(i.E)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const d=new r.r("EventManagerPlugins");let p=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(d),r.bc(r.A))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();class f{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Object(i.E)().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let g=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),m=(()=>{class t extends g{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Object(i.E)().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.bc(i.d))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();const b={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},y=/%COMP%/g;function v(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?v(t,r,n):(r=r.replace(y,t),n.push(r))}return n}function _(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let w=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new z(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.S.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new C(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.S.ShadowDom:return new S(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=v(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.bc(p),r.bc(m),r.bc(r.c))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();class z{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(b[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const r=b[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=b[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.H.DashCase|r.H.Important)?t.style.setProperty(e,n,i&r.H.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.H.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,_(n)):this.eventManager.addEventListener(t,e,_(n))}}class C extends z{constructor(t,e,n,i){super(t),this.component=n;const r=v(i+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(y,i+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(y,i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class S extends z{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=v(i.id,i.styles,[]);for(let o=0;o<r.length;o++){const t=document.createElement("style");t.textContent=r[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let x=(()=>{class t extends f{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(i.d))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();const O=["alt","control","meta","shift"],k={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},T={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},E={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let I=(()=>{class t extends f{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const o=t.parseEventName(n),s=t.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Object(i.E)().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const r=t._normalizeKey(n.pop());let o="";if(O.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=r,0!=n.length||0===r.length)return null;const s={};return s.domEventName=i,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&T.hasOwnProperty(e)&&(e=T[e]))}return k[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),O.forEach(i=>{i!=n&&(0,E[i])(t)&&(e+=i+".")}),e+=n,e}static eventCallback(e,n,i){return r=>{t.getEventFullKey(r)===e&&i.runGuarded(()=>n(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.bc(i.d))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),D=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Nb)({factory:function(){return Object(r.bc)(M)},token:t,providedIn:"root"}),t})(),M=(()=>{class t extends D{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.J.NONE:return e;case r.J.HTML:return Object(r.gb)(e,"HTML")?Object(r.zb)(e):Object(r.eb)(this._doc,String(e)).toString();case r.J.STYLE:return Object(r.gb)(e,"Style")?Object(r.zb)(e):e;case r.J.SCRIPT:if(Object(r.gb)(e,"Script"))return Object(r.zb)(e);throw new Error("unsafe value used in a script context");case r.J.URL:return Object(r.qb)(e),Object(r.gb)(e,"URL")?Object(r.zb)(e):Object(r.fb)(String(e));case r.J.RESOURCE_URL:if(Object(r.gb)(e,"ResourceURL"))return Object(r.zb)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.hb)(t)}bypassSecurityTrustStyle(t){return Object(r.kb)(t)}bypassSecurityTrustScript(t){return Object(r.jb)(t)}bypassSecurityTrustUrl(t){return Object(r.lb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.ib)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(i.d))},t.\u0275prov=Object(r.Nb)({factory:function(){return t=Object(r.bc)(r.o),new M(t.get(i.d));var t},token:t,providedIn:"root"}),t})();const R=[{provide:r.C,useValue:i.D},{provide:r.D,useValue:function(){s.makeCurrent(),h.init()},multi:!0},{provide:i.d,useFactory:function(){return Object(r.xb)(document),document},deps:[]}],A=Object(r.T)(r.Z,"browser",R),P=[[],{provide:r.cb,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:d,useClass:x,multi:!0,deps:[i.d,r.A,r.C]},{provide:d,useClass:I,multi:!0,deps:[i.d]},[],{provide:w,useClass:w,deps:[p,m,r.c]},{provide:r.G,useExisting:w},{provide:g,useExisting:m},{provide:m,useClass:m,deps:[i.d]},{provide:r.N,useClass:r.N,deps:[r.A]},{provide:p,useClass:p,deps:[d,r.A]},[]];let L=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:l,useExisting:r.c},u]}}}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)(r.bc(t,12))},providers:P,imports:[i.c,r.f]}),t})();"undefined"!=typeof window&&window;var F=n("HDdC"),j=n("DH7j"),N=n("lJxs"),V=n("XoHu"),W=n("Cfvw");function q(...t){if(1===t.length){const e=t[0];if(Object(j.a)(e))return B(e,null);if(Object(V.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return B(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return B(t=1===t.length&&Object(j.a)(t[0])?t[0]:t,null).pipe(Object(N.a)(t=>e(...t)))}return B(t,null)}function B(t,e){return new F.a(n=>{const i=t.length;if(0===i)return void n.complete();const r=new Array(i);let o=0,s=0;for(let a=0;a<i;a++){const c=Object(W.a)(t[a]);let l=!1;n.add(c.subscribe({next:t=>{l||(l=!0,s++),r[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==i&&l||(s===i&&n.next(e?e.reduce((t,e,n)=>(t[e]=r[n],t),{}):r),n.complete())}}))}})}const X=new r.r("NgValueAccessor"),U={provide:X,useExisting:Object(r.W)(()=>$),multi:!0};let $=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.F),r.Rb(r.l))},t.\u0275dir=r.Mb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.fc("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.Cb([U])]}),t})();const H={provide:X,useExisting:Object(r.W)(()=>G),multi:!0},K=new r.r("CompositionEventMode");let G=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Object(i.E)()?Object(i.E)().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.F),r.Rb(r.l),r.Rb(K,8))},t.\u0275dir=r.Mb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.fc("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.Cb([H])]}),t})();function Y(t){return null==t||0===t.length}function Q(t){return null!=t&&"number"==typeof t.length}const J=new r.r("NgValidators"),Z=new r.r("NgAsyncValidators"),tt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class et{static min(t){return e=>{if(Y(e.value)||Y(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Y(e.value)||Y(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Y(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Y(t.value)||tt.test(t.value)?null:{email:!0}}static minLength(t){return e=>Y(e.value)||!Q(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Q(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return et.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Y(t.value))return null;const i=t.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(nt);return 0==e.length?null:function(t){return rt(ot(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(nt);return 0==e.length?null:function(t){return q(ot(t,e).map(it)).pipe(Object(N.a)(rt))}}}function nt(t){return null!=t}function it(t){const e=Object(r.ub)(t)?Object(W.a)(t):t;return Object(r.tb)(e),e}function rt(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function ot(t,e){return e.map(e=>e(t))}function st(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function at(t){return null!=t?et.compose(st(t)):null}function ct(t){return null!=t?et.composeAsync(st(t)):null}function lt(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function ut(t){return t._rawValidators}function ht(t){return t._rawAsyncValidators}let dt=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=at(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ct(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t}),t})(),pt=(()=>{class t extends dt{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return ft(e||t)},t.\u0275dir=r.Mb({type:t,features:[r.Ab]}),t})();const ft=r.Zb(pt);class gt extends dt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class mt{constructor(t){this._cd=t}get ngClassUntouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.untouched)&&void 0!==n&&n}get ngClassTouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.touched)&&void 0!==n&&n}get ngClassPristine(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pristine)&&void 0!==n&&n}get ngClassDirty(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.dirty)&&void 0!==n&&n}get ngClassValid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.valid)&&void 0!==n&&n}get ngClassInvalid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.invalid)&&void 0!==n&&n}get ngClassPending(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pending)&&void 0!==n&&n}}let bt=(()=>{class t extends mt{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(gt,2))},t.\u0275dir=r.Mb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Jb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.Ab]}),t})(),yt=(()=>{class t extends mt{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(pt,10))},t.\u0275dir=r.Mb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Jb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.Ab]}),t})();const vt={provide:X,useExisting:Object(r.W)(()=>_t),multi:!0};let _t=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.F),r.Rb(r.l))},t.\u0275dir=r.Mb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.fc("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.Cb([vt])]}),t})();const wt={provide:X,useExisting:Object(r.W)(()=>Ct),multi:!0};let zt=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),Ct=(()=>{class t{constructor(t,e,n,i){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=i,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(gt),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.F),r.Rb(r.l),r.Rb(zt),r.Rb(r.s))},t.\u0275dir=r.Mb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.fc("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.Cb([wt])]}),t})();const St={provide:X,useExisting:Object(r.W)(()=>xt),multi:!0};let xt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.F),r.Rb(r.l))},t.\u0275dir=r.Mb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.fc("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.Cb([St])]}),t})();const Ot={provide:X,useExisting:Object(r.W)(()=>kt),multi:!0};let kt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.F),r.Rb(r.l))},t.\u0275dir=r.Mb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.fc("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Cb([Ot])]}),t})();const Tt={provide:X,useExisting:Object(r.W)(()=>Et),multi:!0};let Et=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const i=t.item(e),r=this._getOptionValue(i.value);n.push(r)}}else{const t=e.options;for(let e=0;e<t.length;e++){const i=t.item(e);if(i.selected){const t=this._getOptionValue(i.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.F),r.Rb(r.l))},t.\u0275dir=r.Mb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.fc("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Cb([Tt])]}),t})();function It(t,e){return[...e.path,t]}function Dt(t,e){At(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Lt(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Lt(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Mt(t,e,n=!0){const i=()=>{};e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i),Pt(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Rt(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function At(t,e,n){const i=ut(t);null!==e.validator?t.setValidators(lt(i,e.validator)):"function"==typeof i&&t.setValidators([i]);const r=ht(t);if(null!==e.asyncValidator?t.setAsyncValidators(lt(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]),n){const n=()=>t.updateValueAndValidity();Rt(e._rawValidators,n),Rt(e._rawAsyncValidators,n)}}function Pt(t,e,n){let i=!1;if(null!==t){if(null!==e.validator){const n=ut(t);if(Array.isArray(n)&&n.length>0){const r=n.filter(t=>t!==e.validator);r.length!==n.length&&(i=!0,t.setValidators(r))}}if(null!==e.asyncValidator){const n=ht(t);if(Array.isArray(n)&&n.length>0){const r=n.filter(t=>t!==e.asyncValidator);r.length!==n.length&&(i=!0,t.setAsyncValidators(r))}}}if(n){const t=()=>{};Rt(e._rawValidators,t),Rt(e._rawAsyncValidators,t)}return i}function Lt(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ft(t,e){At(t,e,!1)}function jt(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}const Nt=[$,xt,_t,kt,Et,Ct];function Vt(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function Wt(t,e){if(!e)return null;let n,i,r;return Array.isArray(e),e.forEach(t=>{var e;t.constructor===G?n=t:(e=t,Nt.some(t=>e.constructor===t)?i=t:r=t)}),r||i||n||null}function qt(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Bt(t){return(Ht(t)?t.validators:t)||null}function Xt(t){return Array.isArray(t)?at(t):t||null}function Ut(t,e){return(Ht(e)?e.asyncValidators:t)||null}function $t(t){return Array.isArray(t)?ct(t):t||null}function Ht(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Kt{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Xt(this._rawValidators),this._composedAsyncValidatorFn=$t(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Xt(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=$t(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;const e=it(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let i=t;return e.forEach(t=>{i=i instanceof Yt?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof Qt&&i.at(t)||null}),i}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ht(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Gt extends Kt{constructor(t=null,e,n){super(Bt(e),Ut(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){qt(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){qt(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Yt extends Kt{constructor(t,e,n){super(Bt(e),Ut(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Gt?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,i)=>{n=e(n,t,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Qt extends Kt{constructor(t,e,n){super(Bt(e),Ut(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Gt?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Jt={provide:pt,useExisting:Object(r.W)(()=>te)},Zt=(()=>Promise.resolve(null))();let te=(()=>{class t extends pt{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new Yt({},at(t),ct(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Zt.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Dt(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Zt.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),qt(this._directives,t)})}addFormGroup(t){Zt.then(()=>{const e=this._findContainer(t.path),n=new Yt({});Ft(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Zt.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Zt.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Vt(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(J,10),r.Rb(Z,10))},t.\u0275dir=r.Mb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.fc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Cb([Jt]),r.Ab]}),t})();const ee={provide:gt,useExisting:Object(r.W)(()=>ie)},ne=(()=>Promise.resolve(null))();let ie=(()=>{class t extends gt{constructor(t,e,n,i){super(),this.control=new Gt,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=Wt(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),jt(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?It(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Dt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){ne.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;ne.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(pt,9),r.Rb(J,10),r.Rb(Z,10),r.Rb(X,10))},t.\u0275dir=r.Mb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.Cb([ee]),r.Ab,r.Bb]}),t})(),re=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const oe=new r.r("NgModelWithFormControlWarning"),se={provide:gt,useExisting:Object(r.W)(()=>ae)};let ae=(()=>{class t extends gt{constructor(t,e,n,i){super(),this._ngModelWarningConfig=i,this.update=new r.n,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(e),this.valueAccessor=Wt(0,n)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const e=t.form.previousValue;e&&Mt(e,this,!1),Dt(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}jt(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Mt(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(J,10),r.Rb(Z,10),r.Rb(X,10),r.Rb(oe,8))},t.\u0275dir=r.Mb({type:t,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[r.Cb([se]),r.Ab,r.Bb]}),t._ngModelWarningSentOnce=!1,t})();const ce={provide:pt,useExisting:Object(r.W)(()=>le)};let le=(()=>{class t extends pt{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Pt(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Dt(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){Mt(t.control||null,t,!1),qt(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,Vt(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(Mt(t.control||null,t),e&&Dt(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);Ft(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return Pt(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){At(this.form,this,!1),this._oldForm&&Pt(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(J,10),r.Rb(Z,10))},t.\u0275dir=r.Mb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.fc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Cb([ce]),r.Ab,r.Bb]}),t})();const ue={provide:gt,useExisting:Object(r.W)(()=>he)};let he=(()=>{class t extends gt{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=Wt(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),jt(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return It(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(pt,13),r.Rb(J,10),r.Rb(Z,10),r.Rb(X,10),r.Rb(oe,8))},t.\u0275dir=r.Mb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Cb([ue]),r.Ab,r.Bb]}),t._ngModelWarningSentOnce=!1,t})();const de={provide:J,useExisting:Object(r.W)(()=>pe),multi:!0};let pe=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?et.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Eb("required",e.required?"":null)},inputs:{required:"required"},features:[r.Cb([de])]}),t})(),fe=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)}}),t})(),ge=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let i,r=null,o=null;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,o=null!=e.asyncValidators?e.asyncValidators:null,i=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,o=null!=e.asyncValidator?e.asyncValidator:null)),new Yt(n,{asyncValidators:o,updateOn:i,validators:r})}control(t,e,n){return new Gt(t,e,n)}array(t,e,n){const i=t.map(t=>this._createControl(t));return new Qt(i,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Gt||t instanceof Yt||t instanceof Qt?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),me=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[zt],imports:[fe]}),t})(),be=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:oe,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[ge,zt],imports:[fe]}),t})();var ye=n("7o/Q"),ve=n("D0XW");function _e(t,e=ve.a){return n=>n.lift(new we(t,e))}class we{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new ze(t,this.dueTime,this.scheduler))}}class ze extends ye.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Ce,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Ce(t){t.debouncedNext()}function Se(t){return!!t&&(t instanceof F.a||"function"==typeof t.lift&&"function"==typeof t.subscribe)}var xe=n("XNiG");const Oe=["content"];function ke(t,e){if(1&t&&r.Sb(0,"formly-field",2),2&t){const t=e.$implicit;r.qc("form",t.form)("options",t.options)("model",t.model)("field",t)}}const Te=["*"],Ee=["container"];function Ie(t,e){}const De=["fieldComponent"];function Me(t,e){1&t&&r.Sb(0,"formly-field",1),2&t&&r.qc("field",e.$implicit)}function Re(t,e,n){if(e.id)return e.id;let i=e.type;return!i&&e.template&&(i="template"),[t,i,e.key,n].join("_")}function Ae(t){if(!t.key)return[];if(!t._keyPath||t._keyPath.key!==t.key){const e=-1===t.key.indexOf("[")?t.key:t.key.replace(/\[(\w+)\]/g,".$1");t._keyPath={key:t.key,path:-1!==e.indexOf(".")?e.split("."):[e]}}return t._keyPath.path.slice(0)}const Pe=["required","pattern","minLength","maxLength","min","max"];function Le(t,e,n){for(let i=0;i<e.length-1;i++){const n=e[i];t[n]&&qe(t[n])||(t[n]=/^\d+$/.test(e[i+1])?[]:{}),t=t[n]}t[e[e.length-1]]=Be(n)}function Fe(t){let e=t.parent.model;for(const n of Ae(t)){if(!e)return e;e=e[n]}return e}function je(t,...e){return e.forEach(e=>{for(let r in e)Ne(t[r])||""===t[r]?t[r]=Be(e[r]):(i=e[r],qe(n=t[r])&&qe(i)&&Object.getPrototypeOf(n)===Object.getPrototypeOf(i)&&!Array.isArray(n)&&!Array.isArray(i)&&je(t[r],e[r]));var n,i}),t}function Ne(t){return null==t}function Ve(t){return void 0===t}function We(t){return"function"==typeof t}function qe(t){return null!=t&&"object"==typeof t}function Be(t){if(!qe(t)||Se(t)||t.changingThisBreaksApplicationSecurity||-1!==["RegExp","FileList","File","Blob"].indexOf(t.constructor.name))return t;if(t._isAMomentObject&&We(t.clone))return t.clone();if(t instanceof Kt)return null;if(t instanceof Date)return new Date(t.getTime());if(Array.isArray(t))return t.slice(0).map(t=>Be(t));const e=Object.getPrototypeOf(t);let n=Object.create(e);return n=Object.setPrototypeOf(n,e),Object.keys(t).reduce((e,n)=>{const i=Object.getOwnPropertyDescriptor(t,n);return i.get?Object.defineProperty(e,n,i):e[n]=Be(t[n]),e},n)}function Xe(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0}),t[e]=n}function Ue(t,e,n){Xe(t,`___$${e}`,t[e]),n({currentValue:t[e],firstChange:!0}),Object.defineProperty(t,e,{configurable:!0,get:()=>t[`___$${e}`],set:i=>{if(i!==t[`___$${e}`]){const r=t[`___$${e}`];t[`___$${e}`]=i,n({previousValue:r,currentValue:i,firstChange:!1})}}})}const $e=new r.r("FORMLY_CONFIG");let He=(()=>{class t{constructor(){this.types={},this.validators={},this.wrappers={},this.messages={},this.templateManipulators={preWrapper:[],postWrapper:[]},this.extras={checkExpressionOn:"changeDetectionCheck",showError:function(t){return t.formControl&&t.formControl.invalid&&(t.formControl.touched||t.options.parentForm&&t.options.parentForm.submitted||t.field.validation&&t.field.validation.show)}},this.extensions={}}addConfig(t){t.types&&t.types.forEach(t=>this.setType(t)),t.validators&&t.validators.forEach(t=>this.setValidator(t)),t.wrappers&&t.wrappers.forEach(t=>this.setWrapper(t)),t.manipulators&&(console.warn("NgxFormly: passing 'manipulators' config is deprecated, use custom extension instead."),t.manipulators.forEach(t=>this.setManipulator(t))),t.validationMessages&&t.validationMessages.forEach(t=>this.addValidatorMessage(t.name,t.message)),t.extensions&&t.extensions.forEach(t=>this.extensions[t.name]=t.extension),t.extras&&(this.extras=Object.assign({},this.extras,t.extras))}setType(t){Array.isArray(t)?t.forEach(t=>this.setType(t)):(this.types[t.name]||(this.types[t.name]={name:t.name}),["component","extends","defaultOptions"].forEach(e=>{t.hasOwnProperty(e)&&(this.types[t.name][e]=t[e])}),t.wrappers&&t.wrappers.forEach(e=>this.setTypeWrapper(t.name,e)))}getType(t){if(!this.types[t])throw new Error(`[Formly Error] There is no type by the name of "${t}"`);return this.mergeExtendedType(t),this.types[t]}getMergedField(t={}){const e=this.getType(t.type);e.defaultOptions&&je(t,e.defaultOptions);const n=e.extends&&this.getType(e.extends).defaultOptions;n&&je(t,n),t&&t.optionsTypes&&t.optionsTypes.forEach(e=>{const n=this.getType(e).defaultOptions;n&&je(t,n)});const i=this.createComponent(t);i&&i.instance&&i.instance.defaultOptions&&je(t,i.instance.defaultOptions),!t.wrappers&&e.wrappers&&(t.wrappers=[...e.wrappers])}createComponent(t={},e,n){if(!t.type)return;const i=t._componentFactory;if(i&&t.type===i.type&&i.componentRef&&i.componentRef.hostView&&!i.componentRef.hostView.destroyed)return t._componentFactory.componentRef;const r=this.getType(t.type);return e||(e=t.parent.options._componentFactoryResolver),n||(n=this.getFieldInjector(t)),Xe(t,"_componentFactory",{type:t.type,component:r.component,componentRef:e?e.resolveComponentFactory(r.component).create(n):null}),t._componentFactory.componentRef}setWrapper(t){this.wrappers[t.name]=t,t.types&&t.types.forEach(e=>{this.setTypeWrapper(e,t.name)})}getWrapper(t){if(!this.wrappers[t])throw new Error(`[Formly Error] There is no wrapper by the name of "${t}"`);return this.wrappers[t]}setTypeWrapper(t,e){this.types[t]||(this.types[t]={}),this.types[t].wrappers||(this.types[t].wrappers=[]),-1===this.types[t].wrappers.indexOf(e)&&this.types[t].wrappers.push(e)}setValidator(t){this.validators[t.name]=t}getValidator(t){if(!this.validators[t])throw new Error(`[Formly Error] There is no validator by the name of "${t}"`);return this.validators[t]}addValidatorMessage(t,e){this.messages[t]=e}getValidatorMessage(t){return this.messages[t]}setManipulator(t){(new t.class)[t.method](this)}mergeExtendedType(t){if(!this.types[t].extends)return;const e=this.getType(this.types[t].extends);this.types[t].component||(this.types[t].component=e.component),this.types[t].wrappers||(this.types[t].wrappers=e.wrappers)}getFieldInjector(t={}){const e=t.parent;return e._componentFactory&&e._componentFactory.componentRef?e._componentFactory.componentRef.injector:e.options._injector}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=Object(r.U)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Ke=(()=>{class t{constructor(t,e,n){this.formlyConfig=t,this.componentFactoryResolver=e,this.injector=n}buildForm(t,e=[],n,i){if(!this.formlyConfig.extensions.core)throw new Error("NgxFormly: missing `forRoot()` call. use `forRoot()` when registering the `FormlyModule`.");this._buildForm({fieldGroup:e,model:n,formControl:t,options:this._setOptions(i)})}_buildForm(t){this.getExtensions().forEach(e=>e.prePopulate&&e.prePopulate(t)),this.getExtensions().forEach(e=>e.onPopulate&&e.onPopulate(t)),t.fieldGroup&&t.fieldGroup.forEach(t=>this._buildForm(t)),this.getExtensions().forEach(e=>e.postPopulate&&e.postPopulate(t))}getExtensions(){return Object.keys(this.formlyConfig.extensions).map(t=>this.formlyConfig.extensions[t])}_setOptions(t){return(t=t||{}).formState=t.formState||{},t.showError||(t.showError=this.formlyConfig.extras.showError),t.fieldChanges||Xe(t,"fieldChanges",new xe.a),t._componentFactoryResolver||Xe(t,"_componentFactoryResolver",this.componentFactoryResolver),t._injector||Xe(t,"_injector",this.injector),t._hiddenFieldsForCheck||(t._hiddenFieldsForCheck=[]),t._markForCheck||(t._markForCheck=e=>{e._componentRefs&&e._componentRefs.forEach(t=>t.changeDetectorRef.markForCheck()),e.fieldGroup&&e.fieldGroup.forEach(e=>t._markForCheck(e))}),t}}return t.\u0275fac=function(e){return new(e||t)(r.bc(He),r.bc(r.j),r.bc(r.s))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=Object(r.U)({factory:function(){return new t(Object(r.X)(He),Object(r.X)(r.j),Object(r.X)(r.o))},token:t,providedIn:"root"}),t})(),Ge=(()=>{class t{constructor(t,e,n,i){this.formlyBuilder=t,this.formlyConfig=e,this.parentFormGroup=i,this.modelChange=new r.n,this.immutable=!1,this.modelChangeSubs=[],this.enableCheckExprDebounce=!1,this.checkExpressionChange$=this.modelChange.pipe(_e(this.enableCheckExprDebounce?100:0)).subscribe(()=>{this.enableCheckExprDebounce=!0,this.checkExpressionChange(),this.enableCheckExprDebounce=!1}),null!==n&&console.warn("NgxFormly: passing 'immutable' attribute to 'formly-form' component is deprecated since v5.5, enable immutable mode through NgModule declaration instead."),this.immutable=null!==n||!!e.extras.immutable}set model(t){this._model=this.immutable?Be(t):t}get model(){return this._model||{}}set fields(t){this._fields=this.immutable?Be(t):t}get fields(){return this._fields||[]}set options(t){this._options=this.immutable?Be(t):t}get options(){return this._options}set content(t){t&&t.nativeElement.nextSibling&&console.warn("NgxFormly: content projection for 'formly-form' component is deprecated since v5.5, you should avoid passing content inside the 'formly-form' tag.")}ngDoCheck(){"changeDetectionCheck"===this.formlyConfig.extras.checkExpressionOn&&this.checkExpressionChange()}ngOnChanges(t){(t.fields||t.form||t.model)&&(this.form=this.form||new Yt({}),this.setOptions(),this.clearModelSubscriptions(),this.formlyBuilder.buildForm(this.form,this.fields,this.model,this.options),this.trackModelChanges(this.fields),this.options.updateInitialValue())}ngOnDestroy(){this.clearModelSubscriptions(),this.checkExpressionChange$.unsubscribe()}changeModel(t){Le(this.model,t.key.split("."),t.value),this.modelChange.emit(Be(this.model))}setOptions(){this.options||(this.options={}),this.options.resetModel||(this.options.resetModel=t=>{t=Be(Ne(t)?this.initialModel:t),this.model&&(Object.keys(this.model).forEach(t=>delete this.model[t]),Object.assign(this.model,t||{})),this.options._buildForm(),this.options.parentForm&&this.options.parentForm.control===this.form?this.options.parentForm.resetForm(t):this.form.reset(t)}),!this.options.parentForm&&this.parentFormGroup&&(Xe(this.options,"parentForm",this.parentFormGroup),Ue(this.options.parentForm,"submitted",({firstChange:t})=>{t||this.options._markForCheck({fieldGroup:this.fields,model:this.model,formControl:this.form,options:this.options})})),this.options.updateInitialValue||(this.options.updateInitialValue=()=>this.initialModel=Be(this.model)),this.options._buildForm||(this.options._buildForm=(t=!1)=>{this.clearModelSubscriptions(),this.formlyBuilder.buildForm(this.form,this.fields,this.model,this.options),this.trackModelChanges(this.fields),t&&this.modelChange.emit(Be(this.model))})}checkExpressionChange(){this.options&&this.options._checkField&&this.options._checkField({fieldGroup:this.fields,model:this.model,formControl:this.form,options:this.options})}trackModelChanges(t,e=[]){t.forEach(t=>{if(t.key&&!t.fieldGroup){const n=t.formControl;let i=n.valueChanges;const{updateOn:r,debounce:o}=t.modelOptions;(!r||"change"===r)&&o&&o.default>0&&(i=n.valueChanges.pipe(_e(o.default))),this.modelChangeSubs.push(i.subscribe(i=>{n._onChange.length>1&&n.patchValue(i,{emitEvent:!1}),t.parsers&&t.parsers.length>0&&t.parsers.forEach(t=>i=t(i)),this.changeModel({key:[...e,...Ae(t)].join("."),value:i})}))}t.fieldGroup&&t.fieldGroup.length>0&&this.trackModelChanges(t.fieldGroup,t.key?[...e,...Ae(t)]:e)})}clearModelSubscriptions(){this.modelChangeSubs.forEach(t=>t.unsubscribe()),this.modelChangeSubs=[]}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Ke),r.Rb(He),r.cc("immutable"),r.Rb(le,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["formly-form"]],viewQuery:function(t,e){if(1&t&&r.Qc(Oe,1),2&t){let t;r.zc(t=r.gc())&&(e.content=t.first)}},inputs:{model:"model",fields:"fields",options:"options",form:"form"},outputs:{modelChange:"modelChange"},features:[r.Cb([Ke]),r.Bb],ngContentSelectors:Te,decls:4,vars:1,consts:[["hide-deprecation","",3,"form","options","model","field",4,"ngFor","ngForOf"],["content",""],["hide-deprecation","",3,"form","options","model","field"]],template:function(t,e){1&t&&(r.pc(),r.Kc(0,ke,1,4,"formly-field",0),r.Vb(1,null,1),r.oc(3),r.Ub()),2&t&&r.qc("ngForOf",e.fields)},directives:function(){return[i.m,Ye]},encapsulation:2}),t})(),Ye=(()=>{class t{constructor(t,e,n,i){this.formlyConfig=t,this.componentFactoryResolver=e,this.injector=n,this.className="",this.warnDeprecation=!1,this.modelChange=new r.n,this.warnDeprecation=null===i}set model(t){this.warnDeprecation&&console.warn(`NgxFormly: passing 'model' input to '${this.constructor.name}' component is not required anymore, you may remove it!`)}set form(t){this.warnDeprecation&&console.warn(`NgxFormly: passing 'form' input to '${this.constructor.name}' component is not required anymore, you may remove it!`)}set options(t){this.warnDeprecation&&console.warn(`NgxFormly: passing 'options' input to '${this.constructor.name}' component is not required anymore, you may remove it!`)}ngAfterContentInit(){this.triggerHook("afterContentInit")}ngAfterContentChecked(){this.triggerHook("afterContentChecked")}ngAfterViewInit(){this.triggerHook("afterViewInit")}ngAfterViewChecked(){this.triggerHook("afterViewChecked")}ngDoCheck(){this.triggerHook("doCheck")}ngOnInit(){this.triggerHook("onInit")}ngOnChanges(t){this.triggerHook("onChanges",t)}ngOnDestroy(){this.field&&Xe(this.field,"_componentRefs",[]),this.triggerHook("onDestroy")}renderField(t,e,n){if(this.containerRef===t&&(Xe(this.field,"_componentRefs",[]),this.containerRef.clear()),n&&n.length>0){const[i,...r]=n,{component:o}=this.formlyConfig.getWrapper(i),s=t.createComponent((e.options&&e.options._componentFactoryResolver?e.options._componentFactoryResolver:this.componentFactoryResolver).resolveComponentFactory(o));this.attachComponentRef(s,e),Ue(s.instance,"fieldComponent",({currentValue:t,firstChange:n})=>{t&&(this.renderField(t,e,r),!n&&s.changeDetectorRef.detectChanges())})}else{const n=this.formlyConfig.createComponent(e,this.componentFactoryResolver,this.injector);n&&(this.attachComponentRef(n,e),t.insert(n.hostView))}}triggerHook(t,e){this.field.hooks&&this.field.hooks[t]&&(e&&!e.field||this.field.hooks[t](this.field)),this.field.lifecycle&&this.field.lifecycle[t]&&this.field.lifecycle[t](this.field.form,this.field,this.field.model,this.field.options),"onChanges"===t&&e.field&&this.renderField(this.containerRef,this.field,this.field.wrappers)}attachComponentRef(t,e){e._componentRefs.push(t),Object.assign(t.instance,{field:e})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(He),r.Rb(r.j),r.Rb(r.s),r.cc("hide-deprecation"))},t.\u0275cmp=r.Lb({type:t,selectors:[["formly-field"]],viewQuery:function(t,e){if(1&t&&r.Qc(Ee,3,r.R),2&t){let t;r.zc(t=r.gc())&&(e.containerRef=t.first)}},hostVars:4,hostBindings:function(t,e){2&t&&(r.Fb(e.field.className?e.field.className:e.className),r.Hc("display",e.field.hide?"none":""))},inputs:{className:["class","className"],model:"model",form:"form",options:"options",field:"field"},outputs:{modelChange:"modelChange"},features:[r.Bb],decls:2,vars:0,consts:[["container",""]],template:function(t,e){1&t&&r.Kc(0,Ie,0,0,"ng-template",null,0,r.Lc)},encapsulation:2}),t})(),Qe=(()=>{class t{constructor(t,e,n){this.renderer=t,this.elementRef=e,this.uiAttributesCache={},this.uiAttributes=[...Pe,"tabindex","placeholder","readonly","disabled","step"],this.document=n}get to(){return this.field.templateOptions||{}}get fieldAttrElements(){return this.field&&this.field._attrElements||[]}ngOnChanges(t){t.field&&(["id","name"].forEach(t=>{this.field[t]&&this.setAttribute(t,this.field[t])}),this.to&&this.to.attributes&&Ue(this.to,"attributes",({currentValue:t,previousValue:e})=>{e&&Object.keys(e).forEach(t=>this.removeAttribute(t)),t&&Object.keys(t).forEach(e=>this.setAttribute(e,t[e]))}),this.attachAttrElement(),1===this.fieldAttrElements.length&&Ue(this.field,"focus",({currentValue:t})=>{const e=this.fieldAttrElements?this.fieldAttrElements[0]:null;e&&this.focusElement(e,t)}))}ngDoCheck(){this.uiAttributes.forEach(t=>{const e=this.to[t];this.uiAttributesCache[t]!==e&&(this.uiAttributesCache[t]=e,e||0===e?this.setAttribute(t,!0===e?t:`${e}`):this.removeAttribute(t))})}ngOnDestroy(){this.detachAttrElement()}focusElement(t,e){if(!t.focus)return;const n=!!this.document.activeElement&&this.fieldAttrElements.some(t=>this.document.activeElement===t||t.contains(this.document.activeElement));e&&!n?t.focus():!e&&n&&t.blur()}onFocus(t){this.field.___$focus=!0,this.to.focus&&this.to.focus(this.field,t)}onBlur(t){this.field.___$focus=!1,this.to.blur&&this.to.blur(this.field,t)}onChange(t){this.to.change&&this.to.change(this.field,t),this.field.formControl&&this.field.formControl.markAsDirty()}attachAttrElement(){this.field._attrElements?this.field._attrElements.push(this.elementRef.nativeElement):Xe(this.field,"_attrElements",[this.elementRef.nativeElement])}detachAttrElement(){const t=this.fieldAttrElements.findIndex(t=>t!==this.elementRef.nativeElement);-1!==t&&this.field._attrElements.splice(t,1)}setAttribute(t,e){this.renderer.setAttribute(this.elementRef.nativeElement,t,e)}removeAttribute(t){this.renderer.removeAttribute(this.elementRef.nativeElement,t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.F),r.Rb(r.l),r.Rb(i.d))},t.\u0275dir=r.Mb({type:t,selectors:[["","formlyAttributes",""]],hostBindings:function(t,e){1&t&&r.fc("focus",function(t){return e.onFocus(t)})("blur",function(t){return e.onBlur(t)})("keyup",function(t){return e.to.keyup&&e.to.keyup(e.field,t)})("keydown",function(t){return e.to.keydown&&e.to.keydown(e.field,t)})("click",function(t){return e.to.click&&e.to.click(e.field,t)})("change",function(t){return e.onChange(t)})("keypress",function(t){return e.to.keypress&&e.to.keypress(e.field,t)})},inputs:{field:["formlyAttributes","field"]},features:[r.Bb]}),t})(),Je=(()=>{class t{get model(){return this.field.model}set model(t){console.warn(`NgxFormly: passing 'model' input to '${this.constructor.name}' component is not required anymore, you may remove it!`)}get form(){return this.field.parent.formControl}set form(t){console.warn(`NgxFormly: passing 'form' input to '${this.constructor.name}' component is not required anymore, you may remove it!`)}get options(){return this.field.options}set options(t){console.warn(`NgxFormly: passing 'options' input to '${this.constructor.name}' component is not required anymore, you may remove it!`)}get key(){return this.field.key}get formControl(){return this.field.formControl}get to(){return this.field.templateOptions||{}}get showError(){return this.options.showError(this)}get id(){return this.field.id}get formState(){return this.options.formState||{}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,inputs:{model:"model",form:"form",options:"options",field:"field"}}),t})();function Ze(t,e){e=e||t.formControl,!t.formControl&&e&&(Xe(t,"formControl",e),t.templateOptions.disabled=!!t.templateOptions.disabled,Ue(t.templateOptions,"disabled",({firstChange:e,currentValue:n})=>{e||(n?t.formControl.disable():t.formControl.enable())}),e.registerOnDisabledChange&&e.registerOnDisabledChange(e=>t.templateOptions.___$disabled=e));let n=t.parent.formControl;if(!n)return;const i=Ae(t);for(let s=0;s<i.length-1;s++){const t=i[s];n.get([t])||Ze({key:t,formControl:new Yt({}),parent:{formControl:n}}),n=n.get([t])}const r=Fe(t);Ne(e.value)&&Ne(r)||e.value===r||!(e instanceof Gt)||e.patchValue(r);const o=i[i.length-1];n.get([o])!==e&&n.setControl(o,e)}let tn=(()=>{class t extends Je{}return t.\u0275fac=function(e){return en(e||t)},t.\u0275dir=r.Mb({type:t,viewQuery:function(t,e){if(1&t&&r.Qc(De,1,r.R),2&t){let t;r.zc(t=r.gc())&&(e.fieldComponent=t.first)}},features:[r.Ab]}),t})();const en=r.Zb(tn);let nn=(()=>{class t extends Je{constructor(){super(...arguments),this.defaultOptions={defaultValue:{}}}}return t.\u0275fac=function(e){return rn(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["formly-group"]],hostVars:2,hostBindings:function(t,e){2&t&&r.Fb(e.field.fieldGroupClassName||"")},features:[r.Ab],ngContentSelectors:Te,decls:2,vars:1,consts:[[3,"field",4,"ngFor","ngForOf"],[3,"field"]],template:function(t,e){1&t&&(r.pc(),r.Kc(0,Me,1,1,"formly-field",0),r.oc(1)),2&t&&r.qc("ngForOf",e.field.fieldGroup)},directives:[i.m,Ye],encapsulation:2}),t})();const rn=r.Zb(nn);let on=(()=>{class t{constructor(t){this.formlyConfig=t}get errorMessage(){const t=this.field.formControl;for(let e in t.errors)if(t.errors.hasOwnProperty(e)){let n=this.formlyConfig.getValidatorMessage(e);if(qe(t.errors[e])){if(t.errors[e].errorPath)return;t.errors[e].message&&(n=t.errors[e].message)}return this.field.validation&&this.field.validation.messages&&this.field.validation.messages[e]&&(n=this.field.validation.messages[e]),this.field.validators&&this.field.validators[e]&&this.field.validators[e].message&&(n=this.field.validators[e].message),this.field.asyncValidators&&this.field.asyncValidators[e]&&this.field.asyncValidators[e].message&&(n=this.field.asyncValidators[e].message),"function"==typeof n?n(t.errors[e],this.field):n}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(He))},t.\u0275cmp=r.Lb({type:t,selectors:[["formly-validation-message"]],inputs:{field:"field"},decls:1,vars:1,template:function(t,e){1&t&&r.Mc(0),2&t&&r.Nc(e.errorMessage)},encapsulation:2}),t})(),sn=(()=>{class t extends Je{}return t.\u0275fac=function(e){return an(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["formly-template"]],features:[r.Ab],decls:1,vars:1,consts:[[3,"innerHtml"]],template:function(t,e){1&t&&r.Sb(0,"div",0),2&t&&r.qc("innerHtml",e.field.template,r.Dc)},encapsulation:2}),t})();const an=r.Zb(sn);function cn(t,e){try{return Function(...e,`${t} = expressionValue;`)}catch(n){console.error(n)}}function ln(t,e,n){return t instanceof Function?t.apply(e,n):!!t}class un{prePopulate(t){t.parent||t.options._checkField||(t.options._checkField=(t,e)=>this._checkField(t,e))}onPopulate(t){if(t.parent&&!t._expressionProperties){if(Xe(t,"_expressionProperties",{}),t.expressionProperties)for(const e in t.expressionProperties){const n=t.expressionProperties[e],i=cn(`field.${e}`,["expressionValue","model","field"]);if("string"==typeof n||We(n))t._expressionProperties[e]={expression:this._evalExpression(n,t.parent.expressionProperties&&t.parent.expressionProperties.hasOwnProperty("templateOptions.disabled")?()=>t.parent.templateOptions.disabled:void 0),expressionValueSetter:i},"templateOptions.disabled"===e&&Object.defineProperty(t._expressionProperties[e],"expressionValue",{get:()=>t.templateOptions.disabled,set:()=>{},enumerable:!0,configurable:!0});else if(n instanceof F.a){const e=n.subscribe(e=>ln(i,{field:t},[e,t.model,t])),r=t.hooks.onDestroy;t.hooks.onDestroy=t=>{r&&r(t),e.unsubscribe()}}}if(t.hideExpression){delete t.hide;let e=t.parent;for(;e&&!e.hideExpression;)e=e.parent;t.hideExpression=this._evalExpression(t.hideExpression,e&&e.hideExpression?()=>e.hide:void 0)}else Ue(t,"hide",({currentValue:e,firstChange:n})=>{(!n||n&&!0===e)&&t.options._hiddenFieldsForCheck.push(t)})}}postPopulate(t){t.parent||t.options._checkField(t,!0)}_evalExpression(t,e){return"string"==typeof(t=t||(()=>!1))&&(t=function(t,e){try{return-1!==t.indexOf("this.field")&&console.warn("NgxFormly: using 'this.field' in expressionProperties is deprecated since v5.1, use 'field' instead."),Function("model","formState","field",`return ${t};`)}catch(n){console.error(n)}}(t)),e?(n,i,r)=>e()||t(n,i,r):t}_checkField(t,e=!1){const n=t.options;let i=!1;t.fieldGroup.forEach(t=>{this.checkFieldExpressionChange(t,e)&&(i=!0),this.checkFieldVisibilityChange(t,e)&&(n._hiddenFieldsForCheck.push(t),i=!0),t.fieldGroup&&t.fieldGroup.length>0&&this._checkField(t,e)}),i&&t.options&&t.options._markForCheck&&t.options._markForCheck(t),t.parent||(n._hiddenFieldsForCheck.sort(t=>t.hide?-1:1).forEach(t=>this.toggleFormControl(t,t.hide)),n._hiddenFieldsForCheck=[])}checkFieldExpressionChange(t,e){if(!t||!t._expressionProperties)return!1;let n=!1;const i=t._expressionProperties;for(const r in i){let o=ln(i[r].expression,{field:t},[t.model,t.options.formState,t]);if("templateOptions.disabled"===r&&(o=!!o),(e||i[r].expressionValue!==o&&(!qe(o)||JSON.stringify(o)!==JSON.stringify(i[r].expressionValue)))&&(n=!0,i[r].expressionValue=o,ln(i[r].expressionValueSetter,{field:t},[o,t.model,t]),"templateOptions.disabled"===r&&t.key&&this.setDisabledState(t,o),0===r.indexOf("model."))){const e=r.replace(/^model\./,""),n=t.key&&r===e?t.formControl:t.parent.formControl.get(e);!n||Ne(n.value)&&Ne(o)||n.value===o||n.patchValue(o)}}return n}checkFieldVisibilityChange(t,e){if(!t||Ne(t.hideExpression))return!1;const n=!!ln(t.hideExpression,{field:t},[t.model,t.options.formState,t]);let i=!1;return(n!==t.hide||e)&&(i=!0,t.hide=n,t.templateOptions.hidden=n),i}setDisabledState(t,e){t.fieldGroup&&t.fieldGroup.filter(t=>!t.expressionProperties||!t.expressionProperties.hasOwnProperty("templateOptions.disabled")).forEach(t=>this.setDisabledState(t,e)),t.key&&t.templateOptions.disabled!==e&&(t.templateOptions.disabled=e)}toggleFormControl(t,e){t.fieldGroup&&t.fieldGroup.filter(t=>!t.hideExpression).forEach(t=>this.toggleFormControl(t,e)),t.formControl&&t.key&&(!0===e?function(t){const e=t.formControl.parent;if(e instanceof Qt){const n=e.controls.findIndex(e=>e===t.formControl);-1!==n&&(e.removeAt(n),t.formControl.setParent(null))}else if(e instanceof Yt){const n=Ae(t),i=n[n.length-1];e.get([i])===t.formControl&&e.removeControl(i),t.formControl.setParent(null)}}(t):Ze(t)),t.options.fieldChanges&&t.options.fieldChanges.next({field:t,type:"hidden",value:e})}}class hn{constructor(t){this.formlyConfig=t}onPopulate(t){t.parent&&t.key&&(this.initFieldValidation(t,"validators"),this.initFieldValidation(t,"asyncValidators"))}initFieldValidation(t,e){if(!Ve(t["_"+e])){if(t.formControl){const n="validators"===e?t.formControl.validator:t.formControl.asyncValidator;t["_"+e]!==n&&(t["_"+e]=n)}return}const n="validators"===e?[this.getPredefinedFieldValidation(t)]:[];if(t[e])for(const i in t[e])"validation"!==i||Array.isArray(t[e].validation)||(t[e].validation=[t[e].validation],console.warn(`NgxFormly(${t.key}): passing a non array value to the 'validation' is deprecated, pass an array instead`)),"validation"===i?n.push(...t[e].validation.map(e=>this.wrapNgValidatorFn(t,e))):n.push(this.wrapNgValidatorFn(t,t[e][i],i));Xe(t,"_"+e,"validators"===e?et.compose(n):et.composeAsync(n))}getPredefinedFieldValidation(t){let e=[];return Pe.forEach(n=>Ue(t.templateOptions,n,({currentValue:i,firstChange:r})=>{e=e.filter(t=>t!==n),null!=i&&!1!==i&&e.push(n),!r&&t.formControl&&t.formControl.updateValueAndValidity({emitEvent:!1})})),n=>0===e.length?null:et.compose(e.map(e=>()=>{const i=t.templateOptions[e];switch(e){case"required":return et.required(n);case"pattern":return et.pattern(i)(n);case"minLength":return et.minLength(i)(n);case"maxLength":return et.maxLength(i)(n);case"min":return et.min(i)(n);case"max":return et.max(i)(n)}}))(n)}wrapNgValidatorFn(t,e,n){return i=>{let r=e;"string"==typeof e&&(r=this.formlyConfig.getValidator(e).validation),qe(e)&&(r=e.expression);const o=r(i,t);return n?(s=o)&&"function"==typeof s.then?o.then(i=>(t.options&&t.options._markForCheck&&t.options._markForCheck(t),this.handleResult(t,i,{validatorName:n,validator:e}))):this.handleResult(t,o,{validatorName:n,validator:e}):o;var s}}handleResult(t,e,{validatorName:n,validator:i}){if(qe(i)&&t.formControl&&i.errorPath){const r=t.formControl.get(i.errorPath);if(r){const t=r.errors||{};e?(delete t[n],r.setErrors(0===Object.keys(t).length?null:t)):r.setErrors(Object.assign({},t,{[n]:{message:i.message}}))}return e?null:{[n]:{errorPath:i.errorPath}}}return e?null:{[n]:!0}}}class dn{onPopulate(t){t.key&&this.addFormControl(t),t.parent&&t.fieldGroup&&!t.key&&Xe(t,"formControl",t.parent.formControl)}postPopulate(t){t.parent||this.setValidators(t)&&t.formControl._updateTreeValidity({emitEvent:!1})}addFormControl(t){const e={updateOn:t.modelOptions.updateOn};let n;const i=t.parent.formControl,r=Fe(t),o=Ae(t);if(t.formControl instanceof Kt||i&&i.get(o))n=t.formControl||i.get(o);else if(t._componentFactory&&t._componentFactory.component&&t._componentFactory.component.createControl){const e=t._componentFactory.component;console.warn(`NgxFormly: '${e.name}::createControl' is deprecated since v5.0, use 'prePopulate' hook instead.`),n=e.createControl(r,t)}else n=t.fieldGroup?new Yt({},e):new Gt(r,e);Ze(t,n)}setValidators(t){let e=!1;if(t.key){const{_validators:n,_asyncValidators:i,formControl:r,templateOptions:{disabled:o}}=t;o&&r.enabled&&(r.disable({emitEvent:!1,onlySelf:!0}),e=!0),n!==r.validator&&(r.setValidators(n),e=!0),i!==r.asyncValidator&&(r.setAsyncValidators(i),e=!0)}return(t.fieldGroup||[]).forEach(t=>this.setValidators(t)&&(e=!0)),e}}class pn{constructor(t){this.formlyConfig=t,this.formId=0}prePopulate(t){if(this.getFieldComponentInstance(t).prePopulate(),t.parent)return;const e=t.options&&t.options.fieldTransform||this.formlyConfig.extras.fieldTransform;(Array.isArray(e)?e:[e]).forEach(e=>{if(e&&(console.warn("NgxFormly: fieldTransform is deprecated since v5.0, use custom extension instead."),!e(t.fieldGroup,t.model,t.formControl,t.options)))throw new Error("fieldTransform must return an array of fields")})}onPopulate(t){this.initFieldOptions(t),this.getFieldComponentInstance(t).onPopulate(),t.fieldGroup&&t.fieldGroup.forEach((e,n)=>{Object.defineProperty(e,"parent",{get:()=>t,configurable:!0}),Object.defineProperty(e,"index",{get:()=>n,configurable:!0}),this.formId++})}postPopulate(t){this.getFieldComponentInstance(t).postPopulate()}initFieldOptions(t){const e=t.parent;e&&(Object.defineProperty(t,"form",{get:()=>e.formControl,configurable:!0}),Object.defineProperty(t,"options",{get:()=>e.options,configurable:!0}),Object.defineProperty(t,"model",{get:()=>t.key&&t.fieldGroup?Fe(t):e.model,configurable:!0}),je(t,{id:Re(`formly_${this.formId}`,t,t.index),hooks:{},modelOptions:{},templateOptions:t.type&&t.key?{label:"",placeholder:"",focus:!1,disabled:!1}:{}}),t.lifecycle&&console.warn("NgxFormly: 'lifecycle' is deprecated since v5.0, use 'hooks' instead."),t.template&&"formly-template"!==t.type&&(t.type&&console.warn("NgxFormly: passing 'type' property is not allowed when 'template' is set."),t.type="formly-template"),!t.type&&t.fieldGroup&&(t.type="formly-group"),t.type&&this.formlyConfig.getMergedField(t),!Ve(t.defaultValue)&&Ve(Fe(t))&&Le(e.model,Ae(t),t.defaultValue),this.initFieldWrappers(t))}initFieldWrappers(t){t.wrappers=t.wrappers||[];const e=Object.assign({preWrapper:[],postWrapper:[]},t.templateOptions.templateManipulators||{});t.wrappers=[...this.formlyConfig.templateManipulators.preWrapper.map(e=>e(t)),...e.preWrapper.map(e=>e(t)),...t.wrappers,...this.formlyConfig.templateManipulators.postWrapper.map(e=>e(t)),...e.postWrapper.map(e=>e(t))].filter((t,e,n)=>t&&e===n.indexOf(t))}getFieldComponentInstance(t){const e=this.formlyConfig.createComponent(t),n=e?e.instance:{};return{prePopulate:()=>n.prePopulate&&n.prePopulate(t),onPopulate:()=>n.onPopulate&&n.onPopulate(t),postPopulate:()=>n.postPopulate&&n.postPopulate(t)}}}function fn(t){return{types:[{name:"formly-group",component:nn},{name:"formly-template",component:sn}],extensions:[{name:"core",extension:new pn(t)},{name:"field-validation",extension:new hn(t)},{name:"field-form",extension:new dn},{name:"field-expression",extension:new un}]}}let gn=(()=>{class t{constructor(t,e=[]){e&&e.forEach(e=>t.addConfig(e))}static forRoot(e={}){return{ngModule:t,providers:[{provide:$e,multi:!0,useFactory:fn,deps:[He]},{provide:$e,useValue:e,multi:!0},{provide:r.a,useValue:e,multi:!0},He,Ke]}}static forChild(e={}){return{ngModule:t,providers:[{provide:$e,useValue:e,multi:!0},{provide:r.a,useValue:e,multi:!0},Ke]}}}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)(r.bc(He),r.bc($e,8))},imports:[[i.c]]}),t})();const mn=new r.r("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.X)(i.d)}});let bn=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.n,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.bc(mn,8))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(mn,8))},token:t,providedIn:"root"}),t})(),yn=(()=>{class t{constructor(){this._dir="ltr",this._isInitialized=!1,this.change=new r.n}get dir(){return this._dir}set dir(t){const e=this._dir,n=t?t.toLowerCase():t;this._rawDir=t,this._dir="ltr"===n||"rtl"===n?n:"ltr",e!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}get value(){return this.dir}ngAfterContentInit(){this._isInitialized=!0}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["","dir",""]],hostVars:1,hostBindings:function(t,e){2&t&&r.Eb("dir",e._rawDir)},inputs:{dir:"dir"},outputs:{change:"dirChange"},exportAs:["dir"],features:[r.Cb([{provide:bn,useExisting:t}])]}),t})(),vn=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)}}),t})();function _n(t){return null!=t&&"false"!=`${t}`}function wn(t,e=0){return zn(t)?Number(t):e}function zn(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function Cn(t){return Array.isArray(t)?t:[t]}function Sn(t){return null==t?"":"string"==typeof t?t:`${t}px`}function xn(t){return t instanceof r.l?t.nativeElement:t}var On=n("itXk"),kn=n("GyhO"),Tn=n("IzEk");function En(t){return e=>e.lift(new In(t))}class In{constructor(t){this.total=t}call(t,e){return e.subscribe(new Dn(t,this.total))}}class Dn extends ye.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}var Mn=n("JX91"),Rn=n("zx2A");function An(t){return e=>e.lift(new Pn(t))}class Pn{constructor(t){this.notifier=t}call(t,e){const n=new Ln(t),i=Object(Rn.c)(this.notifier,new Rn.a(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class Ln extends Rn.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let Fn;try{Fn="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(mpt){Fn=!1}let jn,Nn,Vn,Wn,qn=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Object(i.z)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Fn)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.bc(r.C))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(r.C))},token:t,providedIn:"root"}),t})(),Bn=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)}}),t})();function Xn(t){return function(){if(null==jn&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>jn=!0}))}finally{jn=jn||!1}return jn}()?t:!!t.capture}function Un(){if(null==Vn){if("object"!=typeof document||!document)return Vn=!1,Vn;if("scrollBehavior"in document.documentElement.style)Vn=!0;else{const t=Element.prototype.scrollTo;Vn=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return Vn}function $n(){if("object"!=typeof document||!document)return 0;if(null==Nn){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",t.appendChild(n),document.body.appendChild(t),Nn=0,0===t.scrollLeft&&(t.scrollLeft=1,Nn=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return Nn}function Hn(t){if(function(){if(null==Wn){const t="undefined"!=typeof document?document.head:null;Wn=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Wn}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}let Kn=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)}}),t})();const Gn=new Set;let Yn,Qn=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Jn}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!Gn.has(t))try{Yn||(Yn=document.createElement("style"),Yn.setAttribute("type","text/css"),document.head.appendChild(Yn)),Yn.sheet&&(Yn.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),Gn.add(t))}catch(UI){console.error(UI)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(qn))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(qn))},token:t,providedIn:"root"}),t})();function Jn(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let Zn=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new xe.a}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return ti(Cn(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){const e=ti(Cn(t)).map(t=>this._registerQuery(t).observable);let n=Object(On.a)(e);return n=Object(kn.a)(n.pipe(Object(Tn.a)(1)),n.pipe(En(1),_e(0))),n.pipe(Object(N.a)(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(({matches:t,query:n})=>{e.matches=e.matches||t,e.breakpoints[n]=t}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new F.a(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(Object(Mn.a)(e),Object(N.a)(({matches:e})=>({query:t,matches:e})),An(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(r.bc(Qn),r.bc(r.A))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(Qn),Object(r.bc)(r.A))},token:t,providedIn:"root"}),t})();function ti(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}let ei=(()=>{class t{constructor(t,e){this.viewContainer=t,this.templateRef=e,this.embeddedViewRef=null,this.context=new ni,this.nzStringTemplateOutletContext=null,this.nzStringTemplateOutlet=null}static ngTemplateContextGuard(t,e){return!0}recreateView(){this.viewContainer.clear();const t=this.nzStringTemplateOutlet instanceof r.M;this.embeddedViewRef=this.viewContainer.createEmbeddedView(t?this.nzStringTemplateOutlet:this.templateRef,t?this.nzStringTemplateOutletContext:this.context)}updateContext(){const t=this.nzStringTemplateOutlet instanceof r.M?this.nzStringTemplateOutletContext:this.context,e=this.embeddedViewRef.context;if(t)for(const n of Object.keys(t))e[n]=t[n]}ngOnChanges(t){const{nzStringTemplateOutletContext:e,nzStringTemplateOutlet:n}=t;n&&(this.context.$implicit=n.currentValue),(()=>{let t=!1;if(n)if(n.firstChange)t=!0;else{const e=n.currentValue instanceof r.M;t=n.previousValue instanceof r.M||e}return e&&(t=>{const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(const t of n)if(-1===e.indexOf(t))return!0;return!1}return!0})(e)||t})()?this.recreateView():this.updateContext()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.R),r.Rb(r.M))},t.\u0275dir=r.Mb({type:t,selectors:[["","nzStringTemplateOutlet",""]],inputs:{nzStringTemplateOutletContext:"nzStringTemplateOutletContext",nzStringTemplateOutlet:"nzStringTemplateOutlet"},exportAs:["nzStringTemplateOutlet"],features:[r.Bb]}),t})();class ni{}let ii=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})();class ri{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new oi(t,this.durationSelector))}}class oi extends Rn.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=Object(Rn.c)(n,new Rn.a(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var si=n("Y7HM"),ai=n("z+Ro");function ci(t=0,e,n){let i=-1;return Object(si.a)(e)?i=Number(e)<1?1:Number(e):Object(ai.a)(e)&&(n=e),Object(ai.a)(n)||(n=ve.a),new F.a(e=>{const r=Object(si.a)(t)?t:+t-n.now();return n.schedule(li,r,{index:0,period:i,subscriber:e})})}function li(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function ui(t,e=ve.a){return n=()=>ci(t,e),function(t){return t.lift(new ri(n))};var n}var hi=n("nYR2"),di=n("pLZG");function pi(t,e){return n=>n.lift(new fi(t,e))}class fi{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new gi(t,this.compare,this.keySelector))}}class gi extends ye.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}const mi={},bi="[NG-ZORRO]:";function yi(t,...e){Object(r.Y)()&&function(...t){const e=t.reduce((t,e)=>t+e.toString(),"");return!mi[e]&&(mi[e]=!0,!0)}(...e)&&t(...e)}const vi=(...t)=>yi((...t)=>console.warn(bi,...t),...t),_i=(...t)=>{{const e=(new Error).stack;return yi((...t)=>console.warn(bi,"deprecated:",...t,e),...t)}};var wi=n("LRne");function zi(t){return null!=t}function Ci(t){return null==t}function Si(t){return"string"==typeof t&&""!==t}function xi(t){return t instanceof r.M}function Oi(t){return _n(t)}function ki(t,e=0){return zn(t)?Number(t):e}function Ti(t){return Sn(t)}function Ei(t,...e){return"function"==typeof t?t(...e):t}function Ii(t,e){return function(n,i,r){const o=`$$__${i}`;return Object.prototype.hasOwnProperty.call(n,o)&&vi(`The prop "${o}" is already exist, it will be overrided by ${t} decorator.`),Object.defineProperty(n,o,{configurable:!0,writable:!0}),{get(){return r&&r.get?r.get.bind(this)():this[o]},set(t){r&&r.set&&r.set.bind(this)(e(t)),this[o]=e(t)}}}}function Di(){return Ii("InputBoolean",Oi)}function Mi(t){return Ii("InputNumber",e=>ki(e,t))}function Ri(t){t.stopPropagation(),t.preventDefault()}function Ai(t){if(!t.getClientRects().length)return{top:0,left:0};const e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView;return{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}}function Pi(t){return!!t&&"function"==typeof t.then&&"function"==typeof t.catch}function Li(t,e,n){return isNaN(t)||t<e?e:t>n?n:t}let Fi,ji;"undefined"!=typeof window&&window;const Ni={position:"absolute",top:"-9999px",width:"50px",height:"50px"},Vi=["moz","ms","webkit"],Wi=function(){if("undefined"==typeof window)return()=>0;if(window.requestAnimationFrame)return window.requestAnimationFrame.bind(window);const t=Vi.filter(t=>`${t}RequestAnimationFrame`in window)[0];return t?window[`${t}RequestAnimationFrame`]:function(){let t=0;return function(e){const n=(new Date).getTime(),i=Math.max(0,16-(n-t)),r=setTimeout(()=>{e(n+i)},i);return t=n+i,r}}()}(),qi=()=>{};let Bi=(()=>{class t{constructor(t,e){this.ngZone=t,this.rendererFactory2=e,this.resizeSource$=new xe.a,this.listeners=0,this.disposeHandle=qi,this.handler=()=>{this.ngZone.run(()=>{this.resizeSource$.next()})},this.renderer=this.rendererFactory2.createRenderer(null,null)}subscribe(){return this.registerListener(),this.resizeSource$.pipe(ui(16),Object(hi.a)(()=>this.unregisterListener()))}unsubscribe(){this.unregisterListener()}registerListener(){0===this.listeners&&this.ngZone.runOutsideAngular(()=>{this.disposeHandle=this.renderer.listen("window","resize",this.handler)}),this.listeners+=1}unregisterListener(){this.listeners-=1,0===this.listeners&&(this.disposeHandle(),this.disposeHandle=qi)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(r.A),r.bc(r.G))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(r.A),Object(r.bc)(r.G))},token:t,providedIn:"root"}),t})();new Map;let Xi=(()=>{class t{constructor(){this._singletonRegistry=new Map}get singletonRegistry(){return this._singletonRegistry}registerSingletonWithKey(t,e){const n=this.singletonRegistry.has(t),i=n?this.singletonRegistry.get(t):this.withNewTarget(e);n||this.singletonRegistry.set(t,i)}getSingletonWithKey(t){return this.singletonRegistry.has(t)?this.singletonRegistry.get(t).target:null}withNewTarget(t){return{target:t}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Nb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();var Ui=function(t){return t.xxl="xxl",t.xl="xl",t.lg="lg",t.md="md",t.sm="sm",t.xs="xs",t}({});const $i={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},Hi={xs:"(max-width: 479.98px)",sm:"(max-width: 575.98px)",md:"(max-width: 767.98px)",lg:"(max-width: 991.98px)",xl:"(max-width: 1199.98px)",xxl:"(max-width: 1599.98px)"};let Ki=(()=>{class t{constructor(t,e){this.resizeService=t,this.mediaMatcher=e,this.resizeService.subscribe().subscribe(()=>{})}subscribe(t,e){if(e){const e=()=>this.matchMedia(t,!0);return this.resizeService.subscribe().pipe(Object(N.a)(e),Object(Mn.a)(e()),pi((t,e)=>t[0]===e[0]),Object(N.a)(t=>t[1]))}{const e=()=>this.matchMedia(t);return this.resizeService.subscribe().pipe(Object(N.a)(e),Object(Mn.a)(e()),pi())}}matchMedia(t,e){let n=Ui.md;const i={};return Object.keys(t).map(t=>{const e=t,r=this.mediaMatcher.matchMedia($i[e]).matches;i[t]=r,r&&(n=e)}),e?[n,i]:n}}return t.\u0275fac=function(e){return new(e||t)(r.bc(Bi),r.bc(Qn))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(Bi),Object(r.bc)(Qn))},token:t,providedIn:"root"}),t})();var Gi=n("qgXg"),Yi=n("quSY"),Qi=n("pxpQ"),Ji=n("9ppp"),Zi=n("Ylt2");class tr extends xe.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new er(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,r=n.length;let o;if(this.closed)throw new Ji.a;if(this.isStopped||this.hasError?o=Yi.a.EMPTY:(this.observers.push(t),o=new Zi.a(this,t)),i&&t.add(t=new Qi.a(t,i)),e)for(let s=0;s<r&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<r&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Gi.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length;let o=0;for(;o<r&&!(t-i[o].time<n);)o++;return r>e&&(o=Math.max(o,r-e)),o>0&&i.splice(0,o),i}}class er{constructor(t,e){this.time=t,this.value=e}}let nr=(()=>{class t{constructor(t,e,n,i,r,o,s){this.elementRef=t,this.renderer=e,this.mediaMatcher=n,this.ngZone=i,this.platform=r,this.breakpointService=o,this.directionality=s,this.nzAlign=null,this.nzJustify=null,this.nzGutter=null,this.actualGutter$=new tr(1),this.dir="ltr",this.destroy$=new xe.a,this.elementRef.nativeElement.classList.add("ant-row")}getGutter(){const t=[null,null],e=this.nzGutter||0;return(Array.isArray(e)?e:[e,null]).forEach((e,n)=>{"object"==typeof e&&null!==e?(t[n]=null,Object.keys($i).map(i=>{const r=i;this.mediaMatcher.matchMedia($i[r]).matches&&e[r]&&(t[n]=e[r])})):t[n]=e||null}),t}setGutterStyle(){const[t,e]=this.getGutter();this.actualGutter$.next([t,e]);const n=(t,e)=>{null!==e&&this.renderer.setStyle(this.elementRef.nativeElement,t,`-${e/2}px`)};n("margin-left",t),n("margin-right",t),n("margin-top",e),n("margin-bottom",e)}ngOnInit(){var t;this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t}),this.setGutterStyle()}ngOnChanges(t){t.nzGutter&&this.setGutterStyle()}ngAfterViewInit(){this.platform.isBrowser&&this.breakpointService.subscribe($i).pipe(An(this.destroy$)).subscribe(()=>{this.setGutterStyle()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.F),r.Rb(Qn),r.Rb(r.A),r.Rb(qn),r.Rb(Ki),r.Rb(bn,8))},t.\u0275dir=r.Mb({type:t,selectors:[["","nz-row",""],["nz-row"],["nz-form-item"]],hostVars:18,hostBindings:function(t,e){2&t&&r.Jb("ant-row-top","top"===e.nzAlign)("ant-row-middle","middle"===e.nzAlign)("ant-row-bottom","bottom"===e.nzAlign)("ant-row-start","start"===e.nzJustify)("ant-row-end","end"===e.nzJustify)("ant-row-center","center"===e.nzJustify)("ant-row-space-around","space-around"===e.nzJustify)("ant-row-space-between","space-between"===e.nzJustify)("ant-row-rtl","rtl"===e.dir)},inputs:{nzAlign:"nzAlign",nzJustify:"nzJustify",nzGutter:"nzGutter"},exportAs:["nzRow"],features:[r.Bb]}),t})(),ir=(()=>{class t{constructor(t,e,n,i){this.elementRef=t,this.nzRowDirective=e,this.renderer=n,this.directionality=i,this.classMap={},this.destroy$=new xe.a,this.hostFlexStyle=null,this.dir="ltr",this.nzFlex=null,this.nzSpan=null,this.nzOrder=null,this.nzOffset=null,this.nzPush=null,this.nzPull=null,this.nzXs=null,this.nzSm=null,this.nzMd=null,this.nzLg=null,this.nzXl=null,this.nzXXl=null}setHostClassMap(){const t=Object.assign({"ant-col":!0,[`ant-col-${this.nzSpan}`]:zi(this.nzSpan),[`ant-col-order-${this.nzOrder}`]:zi(this.nzOrder),[`ant-col-offset-${this.nzOffset}`]:zi(this.nzOffset),[`ant-col-pull-${this.nzPull}`]:zi(this.nzPull),[`ant-col-push-${this.nzPush}`]:zi(this.nzPush),"ant-col-rtl":"rtl"===this.dir},this.generateClass());for(const e in this.classMap)this.classMap.hasOwnProperty(e)&&this.renderer.removeClass(this.elementRef.nativeElement,e);this.classMap=Object.assign({},t);for(const e in this.classMap)this.classMap.hasOwnProperty(e)&&this.classMap[e]&&this.renderer.addClass(this.elementRef.nativeElement,e)}setHostFlexStyle(){this.hostFlexStyle=this.parseFlex(this.nzFlex)}parseFlex(t){return"number"==typeof t?`${t} ${t} auto`:"string"==typeof t&&/^\d+(\.\d+)?(px|em|rem|%)$/.test(t)?`0 0 ${t}`:t}generateClass(){const t={};return["nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"].forEach(e=>{const n=e.replace("nz","").toLowerCase();if(zi(this[e]))if("number"==typeof this[e]||"string"==typeof this[e])t[`ant-col-${n}-${this[e]}`]=!0;else{const i=this[e];["span","pull","push","offset","order"].forEach(e=>{t[`ant-col-${n}${"span"===e?"-":`-${e}-`}${i[e]}`]=i&&zi(i[e])})}}),t}ngOnInit(){this.dir=this.directionality.value,this.directionality.change.subscribe(t=>{this.dir=t,this.setHostClassMap()}),this.setHostClassMap(),this.setHostFlexStyle()}ngOnChanges(t){this.setHostClassMap();const{nzFlex:e}=t;e&&this.setHostFlexStyle()}ngAfterViewInit(){this.nzRowDirective&&this.nzRowDirective.actualGutter$.pipe(An(this.destroy$)).subscribe(([t,e])=>{const n=(t,e)=>{null!==e&&this.renderer.setStyle(this.elementRef.nativeElement,t,e/2+"px")};n("padding-left",t),n("padding-right",t),n("padding-top",e),n("padding-bottom",e)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(nr,9),r.Rb(r.F),r.Rb(bn,8))},t.\u0275dir=r.Mb({type:t,selectors:[["","nz-col",""],["nz-col"],["nz-form-control"],["nz-form-label"]],hostVars:2,hostBindings:function(t,e){2&t&&r.Hc("flex",e.hostFlexStyle)},inputs:{nzFlex:"nzFlex",nzSpan:"nzSpan",nzOrder:"nzOrder",nzOffset:"nzOffset",nzPush:"nzPush",nzPull:"nzPull",nzXs:"nzXs",nzSm:"nzSm",nzMd:"nzMd",nzLg:"nzLg",nzXl:"nzXl",nzXXl:"nzXXl"},exportAs:["nzCol"],features:[r.Bb]}),t})(),rr=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,Kn,Bn]]}),t})();function or(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function sr(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function ar(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function cr(t,e,n,i){return new(n||(n=Promise))(function(r,o){function s(t){try{c(i.next(t))}catch(UI){o(UI)}}function a(t){try{c(i.throw(t))}catch(UI){o(UI)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((i=i.apply(t,e||[])).next())})}function lr(t,e){(function(t){return"string"==typeof t&&-1!==t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&-1!==t.indexOf("%")}(t);return t=360===e?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:t=360===e?(t<0?t%e+e:t%e)/parseFloat(String(e)):t%e/parseFloat(String(e))}function ur(t){return Math.min(1,Math.max(0,t))}function hr(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function dr(t){return t<=1?100*Number(t)+"%":t}function pr(t){return 1===t.length?"0"+t:String(t)}function fr(t,e,n){t=lr(t,255),e=lr(e,255),n=lr(n,255);var i=Math.max(t,e,n),r=Math.min(t,e,n),o=0,s=0,a=(i+r)/2;if(i===r)s=0,o=0;else{var c=i-r;switch(s=a>.5?c/(2-i-r):c/(i+r),i){case t:o=(e-n)/c+(e<n?6:0);break;case e:o=(n-t)/c+2;break;case n:o=(t-e)/c+4}o/=6}return{h:o,s,l:a}}function gr(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*n*(e-t):n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function mr(t,e,n){t=lr(t,255),e=lr(e,255),n=lr(n,255);var i=Math.max(t,e,n),r=Math.min(t,e,n),o=0,s=i,a=i-r,c=0===i?0:a/i;if(i===r)o=0;else{switch(i){case t:o=(e-n)/a+(e<n?6:0);break;case e:o=(n-t)/a+2;break;case n:o=(t-e)/a+4}o/=6}return{h:o,s:c,v:s}}function br(t,e,n,i){var r=[pr(Math.round(t).toString(16)),pr(Math.round(e).toString(16)),pr(Math.round(n).toString(16))];return i&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function yr(t){return vr(t)/255}function vr(t){return parseInt(t,16)}var _r={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},wr="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",zr="[\\s|\\(]+("+wr+")[,|\\s]+("+wr+")[,|\\s]+("+wr+")\\s*\\)?",Cr="[\\s|\\(]+("+wr+")[,|\\s]+("+wr+")[,|\\s]+("+wr+")[,|\\s]+("+wr+")\\s*\\)?",Sr={CSS_UNIT:new RegExp(wr),rgb:new RegExp("rgb"+zr),rgba:new RegExp("rgba"+Cr),hsl:new RegExp("hsl"+zr),hsla:new RegExp("hsla"+Cr),hsv:new RegExp("hsv"+zr),hsva:new RegExp("hsva"+Cr),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function xr(t){return Boolean(Sr.CSS_UNIT.exec(String(t)))}var Or=function(){function t(e,n){var i;if(void 0===e&&(e=""),void 0===n&&(n={}),e instanceof t)return e;"number"==typeof e&&(e=function(t){return{r:t>>16,g:(65280&t)>>8,b:255&t}}(e)),this.originalInput=e;var r=function(t){var e,n,i={r:0,g:0,b:0},r=1,o=null,s=null,a=null,c=!1,l=!1;return"string"==typeof t&&(t=function(t){if(0===(t=t.trim().toLowerCase()).length)return!1;var e=!1;if(_r[t])t=_r[t],e=!0;else if("transparent"===t)return{r:0,g:0,b:0,a:0,format:"name"};var n=Sr.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=Sr.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Sr.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Sr.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Sr.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Sr.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Sr.hex8.exec(t))?{r:vr(n[1]),g:vr(n[2]),b:vr(n[3]),a:yr(n[4]),format:e?"name":"hex8"}:(n=Sr.hex6.exec(t))?{r:vr(n[1]),g:vr(n[2]),b:vr(n[3]),format:e?"name":"hex"}:(n=Sr.hex4.exec(t))?{r:vr(n[1]+n[1]),g:vr(n[2]+n[2]),b:vr(n[3]+n[3]),a:yr(n[4]+n[4]),format:e?"name":"hex8"}:!!(n=Sr.hex3.exec(t))&&{r:vr(n[1]+n[1]),g:vr(n[2]+n[2]),b:vr(n[3]+n[3]),format:e?"name":"hex"}}(t)),"object"==typeof t&&(xr(t.r)&&xr(t.g)&&xr(t.b)?(e=t.g,n=t.b,i={r:255*lr(t.r,255),g:255*lr(e,255),b:255*lr(n,255)},c=!0,l="%"===String(t.r).substr(-1)?"prgb":"rgb"):xr(t.h)&&xr(t.s)&&xr(t.v)?(o=dr(t.s),s=dr(t.v),i=function(t,e,n){t=6*lr(t,360),e=lr(e,100),n=lr(n,100);var i=Math.floor(t),r=t-i,o=n*(1-e),s=n*(1-r*e),a=n*(1-(1-r)*e),c=i%6;return{r:255*[n,s,o,o,a,n][c],g:255*[a,n,n,s,o,o][c],b:255*[o,o,a,n,n,s][c]}}(t.h,o,s),c=!0,l="hsv"):xr(t.h)&&xr(t.s)&&xr(t.l)&&(o=dr(t.s),a=dr(t.l),i=function(t,e,n){var i,r,o;if(t=lr(t,360),e=lr(e,100),n=lr(n,100),0===e)r=n,o=n,i=n;else{var s=n<.5?n*(1+e):n+e-n*e,a=2*n-s;i=gr(a,s,t+1/3),r=gr(a,s,t),o=gr(a,s,t-1/3)}return{r:255*i,g:255*r,b:255*o}}(t.h,o,a),c=!0,l="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(r=t.a)),r=hr(r),{ok:c,format:t.format||l,r:Math.min(255,Math.max(i.r,0)),g:Math.min(255,Math.max(i.g,0)),b:Math.min(255,Math.max(i.b,0)),a:r}}(e);this.originalInput=e,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(i=n.format)&&void 0!==i?i:r.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},t.prototype.getLuminance=function(){var t=this.toRgb(),e=t.r/255,n=t.g/255,i=t.b/255;return.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(t){return this.a=hr(t),this.roundA=Math.round(100*this.a)/100,this},t.prototype.toHsv=function(){var t=mr(this.r,this.g,this.b);return{h:360*t.h,s:t.s,v:t.v,a:this.a}},t.prototype.toHsvString=function(){var t=mr(this.r,this.g,this.b),e=Math.round(360*t.h),n=Math.round(100*t.s),i=Math.round(100*t.v);return 1===this.a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this.roundA+")"},t.prototype.toHsl=function(){var t=fr(this.r,this.g,this.b);return{h:360*t.h,s:t.s,l:t.l,a:this.a}},t.prototype.toHslString=function(){var t=fr(this.r,this.g,this.b),e=Math.round(360*t.h),n=Math.round(100*t.s),i=Math.round(100*t.l);return 1===this.a?"hsl("+e+", "+n+"%, "+i+"%)":"hsla("+e+", "+n+"%, "+i+"%, "+this.roundA+")"},t.prototype.toHex=function(t){return void 0===t&&(t=!1),br(this.r,this.g,this.b,t)},t.prototype.toHexString=function(t){return void 0===t&&(t=!1),"#"+this.toHex(t)},t.prototype.toHex8=function(t){return void 0===t&&(t=!1),function(t,e,n,i,r){var o,s=[pr(Math.round(t).toString(16)),pr(Math.round(e).toString(16)),pr(Math.round(n).toString(16)),pr((o=i,Math.round(255*parseFloat(o)).toString(16)))];return r&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}(this.r,this.g,this.b,this.a,t)},t.prototype.toHex8String=function(t){return void 0===t&&(t=!1),"#"+this.toHex8(t)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var t=Math.round(this.r),e=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb("+t+", "+e+", "+n+")":"rgba("+t+", "+e+", "+n+", "+this.roundA+")"},t.prototype.toPercentageRgb=function(){var t=function(t){return Math.round(100*lr(t,255))+"%"};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var t=function(t){return Math.round(100*lr(t,255))};return 1===this.a?"rgb("+t(this.r)+"%, "+t(this.g)+"%, "+t(this.b)+"%)":"rgba("+t(this.r)+"%, "+t(this.g)+"%, "+t(this.b)+"%, "+this.roundA+")"},t.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var t="#"+br(this.r,this.g,this.b,!1),e=0,n=Object.entries(_r);e<n.length;e++){var i=n[e];if(t===i[1])return i[0]}return!1},t.prototype.toString=function(t){var e=Boolean(t);t=null!=t?t:this.format;var n=!1;return e||!(this.a<1&&this.a>=0)||!t.startsWith("hex")&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this.a?this.toName():this.toRgbString()},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=ur(n.l),new t(n)},t.prototype.brighten=function(e){void 0===e&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-e/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-e/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-e/100*255))),new t(n)},t.prototype.darken=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=ur(n.l),new t(n)},t.prototype.tint=function(t){return void 0===t&&(t=10),this.mix("white",t)},t.prototype.shade=function(t){return void 0===t&&(t=10),this.mix("black",t)},t.prototype.desaturate=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=ur(n.s),new t(n)},t.prototype.saturate=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=ur(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),i=(n.h+e)%360;return n.h=i<0?360+i:i,new t(n)},t.prototype.mix=function(e,n){void 0===n&&(n=50);var i=this.toRgb(),r=new t(e).toRgb(),o=n/100;return new t({r:(r.r-i.r)*o+i.r,g:(r.g-i.g)*o+i.g,b:(r.b-i.b)*o+i.b,a:(r.a-i.a)*o+i.a})},t.prototype.analogous=function(e,n){void 0===e&&(e=6),void 0===n&&(n=30);var i=this.toHsl(),r=360/n,o=[this];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,o.push(new t(i));return o},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){void 0===e&&(e=6);for(var n=this.toHsv(),i=n.h,r=n.s,o=n.v,s=[],a=1/e;e--;)s.push(new t({h:i,s:r,v:o})),o=(o+a)%1;return s},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),i=new t(e).toRgb();return new t({r:i.r+(n.r-i.r)*n.a,g:i.g+(n.g-i.g)*n.a,b:i.b+(n.b-i.b)*n.a})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),i=n.h,r=[this],o=360/e,s=1;s<e;s++)r.push(new t({h:(i+s*o)%360,s:n.s,l:n.l}));return r},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}(),kr=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Tr(t,e,n){var i;return(i=Math.round(t.h)>=60&&Math.round(t.h)<=240?n?Math.round(t.h)-2*e:Math.round(t.h)+2*e:n?Math.round(t.h)+2*e:Math.round(t.h)-2*e)<0?i+=360:i>=360&&(i-=360),i}function Er(t,e,n){return 0===t.h&&0===t.s?t.s:((i=n?t.s-.16*e:4===e?t.s+.16:t.s+.05*e)>1&&(i=1),n&&5===e&&i>.1&&(i=.1),i<.06&&(i=.06),Number(i.toFixed(2)));var i}function Ir(t,e,n){var i;return(i=n?t.v+.05*e:t.v-.15*e)>1&&(i=1),Number(i.toFixed(2))}function Dr(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],i=new Or(t),r=5;r>0;r-=1){var o=i.toHsv(),s=new Or({h:Tr(o,r,!0),s:Er(o,r,!0),v:Ir(o,r,!0)}).toHexString();n.push(s)}n.push(i.toHexString());for(var a=1;a<=4;a+=1){var c=i.toHsv(),l=new Or({h:Tr(c,a),s:Er(c,a),v:Ir(c,a)}).toHexString();n.push(l)}return"dark"===e.theme?kr.map(function(t){var i=t.index,r=t.opacity;return new Or(e.backgroundColor||"#141414").mix(n[i],100*r).toHexString()}):n}var Mr={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Rr={},Ar={};Object.keys(Mr).forEach(function(t){Rr[t]=Dr(Mr[t]),Rr[t].primary=Rr[t][5],Ar[t]=Dr(Mr[t],{theme:"dark",backgroundColor:"#141414"}),Ar[t].primary=Ar[t][5]});var Pr=n("bOdf");class Lr{}class Fr{}class jr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),i=n.toLowerCase(),r=t.slice(e+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof jr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new jr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof jr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const r=t.value;if(r){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===r.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Nr{encodeKey(t){return Vr(t)}encodeValue(t){return Vr(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Vr(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Wr{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Nr,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const i=t.indexOf("="),[r,o]=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],s=n.get(r)||[];s.push(o),n.set(r,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Wr({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function qr(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Br(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Xr(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Ur{constructor(t,e,n,i){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new jr),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Wr,this.urlWithParams=e}serializeBody(){return null===this.body?null:qr(this.body)||Br(this.body)||Xr(this.body)||"string"==typeof this.body?this.body:this.body instanceof Wr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Xr(this.body)?null:Br(this.body)?this.body.type||null:qr(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Wr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new Ur(e,n,r,{params:c,headers:a,reportProgress:s,responseType:i,withCredentials:o})}}var $r=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class Hr{constructor(t,e=200,n="OK"){this.headers=t.headers||new jr,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Kr extends Hr{constructor(t={}){super(t),this.type=$r.ResponseHeader}clone(t={}){return new Kr({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Gr extends Hr{constructor(t={}){super(t),this.type=$r.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Gr({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Yr extends Hr{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Qr(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Jr=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let i;if(t instanceof Ur)i=t;else{let r,o;r=n.headers instanceof jr?n.headers:new jr(n.headers),n.params&&(o=n.params instanceof Wr?n.params:new Wr({fromObject:n.params})),i=new Ur(t,e,void 0!==n.body?n.body:null,{headers:r,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=Object(wi.a)(i).pipe(Object(Pr.a)(t=>this.handler.handle(t)));if(t instanceof Ur||"events"===n.observe)return r;const o=r.pipe(Object(di.a)(t=>t instanceof Gr));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return o.pipe(Object(N.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(N.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(N.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(N.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Wr).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Qr(n,e))}post(t,e,n={}){return this.request("POST",t,Qr(n,e))}put(t,e,n={}){return this.request("PUT",t,Qr(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.bc(Lr))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();class Zr{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const to=new r.r("HTTP_INTERCEPTORS");let eo=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();const no=/^\)\]\}',?\n/;class io{}let ro=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),oo=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new F.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const i=t.serializeBody();let r=null;const o=()=>{if(null!==r)return r;const e=1223===n.status?204:n.status,i=n.statusText||"OK",o=new jr(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return r=new Kr({headers:o,status:e,statusText:i,url:s}),r},s=()=>{let{headers:i,status:r,statusText:s,url:a}=o(),c=null;204!==r&&(c=void 0===n.response?n.responseText:n.response),0===r&&(r=c?200:0);let l=r>=200&&r<300;if("json"===t.responseType&&"string"==typeof c){const t=c;c=c.replace(no,"");try{c=""!==c?JSON.parse(c):null}catch(u){c=t,l&&(l=!1,c={error:u,text:c})}}l?(e.next(new Gr({body:c,headers:i,status:r,statusText:s,url:a||void 0})),e.complete()):e.error(new Yr({error:c,headers:i,status:r,statusText:s,url:a||void 0}))},a=t=>{const{url:i}=o(),r=new Yr({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});e.error(r)};let c=!1;const l=i=>{c||(e.next(o()),c=!0);let r={type:$r.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(r.total=i.total),"text"===t.responseType&&n.responseText&&(r.partialText=n.responseText),e.next(r)},u=t=>{let n={type:$r.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",l),null!==i&&n.upload&&n.upload.addEventListener("progress",u)),n.send(i),e.next({type:$r.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",l),null!==i&&n.upload&&n.upload.removeEventListener("progress",u)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.bc(io))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();const so=new r.r("XSRF_COOKIE_NAME"),ao=new r.r("XSRF_HEADER_NAME");class co{}let lo=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(i.F)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.bc(i.d),r.bc(r.C),r.bc(so))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),uo=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(co),r.bc(ao))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),ho=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(to,[]);this.chain=t.reduceRight((t,e)=>new Zr(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(Fr),r.bc(r.s))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),po=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:uo,useClass:eo}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:so,useValue:e.cookieName}:[],e.headerName?{provide:ao,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[uo,{provide:to,useExisting:uo,multi:!0},{provide:co,useClass:lo},{provide:so,useValue:"XSRF-TOKEN"},{provide:ao,useValue:"X-XSRF-TOKEN"}]}),t})(),fo=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[Jr,{provide:Lr,useClass:ho},oo,{provide:Fr,useExisting:oo},ro,{provide:io,useExisting:ro}],imports:[[po.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();var go=n("vkgz"),mo=n("JIr8"),bo=n("w1tV");function yo(t){Object(r.Y)()&&console.warn(`[@ant-design/icons-angular]: ${t}.`)}function vo(t){return Dr(t)[0]}function _o(t,e){switch(e){case"fill":return`${t}-fill`;case"outline":return`${t}-o`;case"twotone":return`${t}-twotone`;case void 0:return t;default:throw new Error(`[@ant-design/icons-angular]:Theme "${e}" is not a recognized theme!`)}}function wo(t){return"object"==typeof t&&"string"==typeof t.name&&("string"==typeof t.theme||void 0===t.theme)&&"string"==typeof t.icon}function zo(t){const e=t.split(":");switch(e.length){case 1:return[t,""];case 2:return[e[1],e[0]];default:throw new Error(`[@ant-design/icons-angular]:The icon type ${t} is not valid!`)}}function Co(){return new Error("[@ant-design/icons-angular]:<svg> tag not found.")}let So=(()=>{class t{constructor(t,e,n,i){this._rendererFactory=t,this._handler=e,this._document=n,this.sanitizer=i,this.defaultTheme="outline",this._svgDefinitions=new Map,this._svgRenderedDefinitions=new Map,this._inProgressFetches=new Map,this._assetsUrlRoot="",this._twoToneColorPalette={primaryColor:"#333333",secondaryColor:"#E6E6E6"},this._enableJsonpLoading=!1,this._jsonpIconLoad$=new xe.a,this._renderer=this._rendererFactory.createRenderer(null,null),this._handler&&(this._http=new Jr(this._handler))}set twoToneColor({primaryColor:t,secondaryColor:e}){this._twoToneColorPalette.primaryColor=t,this._twoToneColorPalette.secondaryColor=e||vo(t)}get twoToneColor(){return Object.assign({},this._twoToneColorPalette)}useJsonpLoading(){this._enableJsonpLoading?yo("You are already using jsonp loading."):(this._enableJsonpLoading=!0,window.__ant_icon_load=t=>{this._jsonpIconLoad$.next(t)})}changeAssetsSource(t){this._assetsUrlRoot=t.endsWith("/")?t:t+"/"}addIcon(...t){t.forEach(t=>{this._svgDefinitions.set(_o(t.name,t.theme),t)})}addIconLiteral(t,e){const[n,i]=zo(t);if(!i)throw new Error(`[@ant-design/icons-angular]:Type should have a namespace. Try "namespace:${name}".`);this.addIcon({name:t,icon:e})}clear(){this._svgDefinitions.clear(),this._svgRenderedDefinitions.clear()}getRenderedContent(t,e){const n=wo(t)?t:this._svgDefinitions.get(t)||null;return(n?Object(wi.a)(n):this._loadIconDynamically(t)).pipe(Object(N.a)(n=>{if(!n)throw function(t){return new Error(`[@ant-design/icons-angular]:the icon ${t} does not exist or is not registered.`)}(t);return this._loadSVGFromCacheOrCreateNew(n,e)}))}getCachedIcons(){return this._svgDefinitions}_loadIconDynamically(t){if(!this._http&&!this._enableJsonpLoading)return Object(wi.a)((console.error('[@ant-design/icons-angular]: you need to import "HttpClientModule" to use dynamic importing..'),null));let e=this._inProgressFetches.get(t);if(!e){const[n,i]=zo(t),o=i?{name:t,icon:""}:function(t){const e=t.split("-"),n="o"===(i=e.splice(e.length-1,1)[0])?"outline":i;var i;return{name:e.join("-"),theme:n,icon:""}}(n),s=(i?`${this._assetsUrlRoot}assets/${i}/${n}`:`${this._assetsUrlRoot}assets/${o.theme}/${o.name}`)+(this._enableJsonpLoading?".js":".svg"),a=this.sanitizer.sanitize(r.J.URL,s);if(!a)throw function(t){return new Error(`[@ant-design/icons-angular]:The url "${t}" is unsafe.`)}(s);e=(this._enableJsonpLoading?this._loadIconDynamicallyWithJsonp(o,a):this._http.get(a,{responseType:"text"}).pipe(Object(N.a)(t=>Object.assign(Object.assign({},o),{icon:t})))).pipe(Object(go.a)(t=>this.addIcon(t)),Object(hi.a)(()=>this._inProgressFetches.delete(t)),Object(mo.a)(()=>Object(wi.a)(null)),Object(bo.a)()),this._inProgressFetches.set(t,e)}return e}_loadIconDynamicallyWithJsonp(t,e){return new F.a(n=>{const i=this._document.createElement("script"),r=setTimeout(()=>{o(),n.error(new Error("[@ant-design/icons-angular]:Importing timeout error."))},6e3);function o(){i.parentNode.removeChild(i),clearTimeout(r)}i.src=e,this._document.body.appendChild(i),this._jsonpIconLoad$.pipe(Object(di.a)(e=>e.name===t.name&&e.theme===t.theme),Object(Tn.a)(1)).subscribe(t=>{n.next(t),o()})})}_loadSVGFromCacheOrCreateNew(t,e){let n;const i=e||this._twoToneColorPalette.primaryColor,r=vo(i)||this._twoToneColorPalette.secondaryColor,o="twotone"===t.theme?function(t,e,n,i){return`${_o(t,e)}-${n}-${i}`}(t.name,t.theme,i,r):void 0===t.theme?t.name:_o(t.name,t.theme),s=this._svgRenderedDefinitions.get(o);return s?n=s.icon:(n=this._setSVGAttribute(this._colorizeSVGIcon(this._createSVGElementFromString(""!==zo(t.name)[1]?t.icon:t.icon.replace(/['"]#333['"]/g,'"primaryColor"').replace(/['"]#E6E6E6['"]/g,'"secondaryColor"').replace(/['"]#D9D9D9['"]/g,'"secondaryColor"').replace(/['"]#D8D8D8['"]/g,'"secondaryColor"')),"twotone"===t.theme,i,r)),this._svgRenderedDefinitions.set(o,Object.assign(Object.assign({},t),{icon:n}))),function(t){return t.cloneNode(!0)}(n)}_createSVGElementFromString(t){const e=this._document.createElement("div");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Co;return n}_setSVGAttribute(t){return this._renderer.setAttribute(t,"width","1em"),this._renderer.setAttribute(t,"height","1em"),t}_colorizeSVGIcon(t,e,n,i){if(e){const e=t.childNodes,r=e.length;for(let t=0;t<r;t++){const r=e[t];"secondaryColor"===r.getAttribute("fill")?this._renderer.setAttribute(r,"fill",i):this._renderer.setAttribute(r,"fill",n)}}return this._renderer.setAttribute(t,"fill","currentColor"),t}}return t.\u0275fac=function(e){return new(e||t)(r.bc(r.G),r.bc(Fr,8),r.bc(i.d,8),r.bc(D))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),xo=(()=>{class t{constructor(t,e,n){this._iconService=t,this._elementRef=e,this._renderer=n}ngOnChanges(t){(t.type||t.theme||t.twoToneColor)&&this._changeIcon()}_changeIcon(){return new Promise(t=>{if(this.type){const e=this._getSelfRenderMeta();this._iconService.getRenderedContent(this._parseIconType(this.type,this.theme),this.twoToneColor).subscribe(n=>{var i,r;i=e,r=this._getSelfRenderMeta(),i.type===r.type&&i.theme===r.theme&&i.twoToneColor===r.twoToneColor?(this._setSVGElement(n),t(n)):t(null)})}else this._clearSVGElement(),t(null)})}_getSelfRenderMeta(){return{type:this.type,theme:this.theme,twoToneColor:this.twoToneColor}}_parseIconType(t,e){if(wo(t))return t;{const[n,i]=zo(t);return i?t:function(t){return t.endsWith("-fill")||t.endsWith("-o")||t.endsWith("-twotone")}(n)?(e&&yo(`'type' ${n} already gets a theme inside so 'theme' ${e} would be ignored`),n):_o(n,e||this._iconService.defaultTheme)}}_setSVGElement(t){this._clearSVGElement(),this._renderer.appendChild(this._elementRef.nativeElement,t)}_clearSVGElement(){var t;const e=this._elementRef.nativeElement,n=e.childNodes;for(let i=n.length-1;i>=0;i--){const r=n[i];"svg"===(null===(t=r.tagName)||void 0===t?void 0:t.toLowerCase())&&this._renderer.removeChild(e,r)}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(So),r.Rb(r.l),r.Rb(r.F))},t.\u0275dir=r.Mb({type:t,selectors:[["","antIcon",""]],inputs:{type:"type",theme:"theme",twoToneColor:"twoToneColor"},features:[r.Bb]}),t})();function Oo(t){return e=>e.lift(new ko(t))}class ko{constructor(t){this.value=t}call(t,e){return e.subscribe(new To(t,this.value))}}class To extends ye.a{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}const Eo=new r.r("nz-config"),Io=function(t){return void 0!==t};let Do=(()=>{class t{constructor(t){this.configUpdated$=new xe.a,this.config=t||{}}getConfigForComponent(t){return this.config[t]}getConfigChangeEventForComponent(t){return this.configUpdated$.pipe(Object(di.a)(e=>e===t),Oo(void 0))}set(t,e){this.config[t]=Object.assign(Object.assign({},this.config[t]),e),this.configUpdated$.next(t)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(Eo,8))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(Eo,8))},token:t,providedIn:"root"}),t})();function Mo(){return function(t,e,n){const i=`$$__assignedValue__${e}`;return Object.defineProperty(t,i,{configurable:!0,writable:!0,enumerable:!1}),{get(){const t=(null==n?void 0:n.get)?n.get.bind(this)():this[i];if(((this.assignmentCount||{})[e]||0)>1&&Io(t))return t;const r=(this.nzConfigService.getConfigForComponent(this._nzModuleName)||{})[e];return Io(r)?r:t},set(t){this.assignmentCount=this.assignmentCount||{},this.assignmentCount[e]=(this.assignmentCount[e]||0)+1,(null==n?void 0:n.set)?n.set.bind(this)(t):this[i]=t},configurable:!0,enumerable:!0}}}const Ro={name:"star",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z" /></svg>'},Ao=[{name:"bars",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"calendar",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z" /></svg>'},{name:"caret-up",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-up",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-down",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"caret-down",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"check-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z" /></svg>'},{name:"check-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z" /><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"check",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z" /></svg>'},{name:"clock-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z" /></svg>'},{name:"close-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z" /><path d="M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"close-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z" /></svg>'},{name:"close",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z" /></svg>'},{name:"copy",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z" /></svg>'},{name:"double-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z" /></svg>'},{name:"double-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z" /></svg>'},{name:"down",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" /></svg>'},{name:"edit",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" /></svg>'},{name:"ellipsis",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"exclamation-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"exclamation-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z" /></svg>'},{name:"eye",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" /></svg>'},{name:"file",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z" /></svg>'},{name:"file",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z" /></svg>'},{name:"filter",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z" /></svg>'},{name:"info-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"info-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z" /></svg>'},{name:"left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z" /></svg>'},{name:"loading",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z" /></svg>'},{name:"paper-clip",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z" /></svg>'},{name:"question-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z" /></svg>'},{name:"right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z" /></svg>'},{name:"rotate-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z" /><path d="M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z" /></svg>'},{name:"rotate-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z" /><path d="M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z" /></svg>'},Ro,{name:"search",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z" /></svg>'},Ro,{name:"upload",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z" /></svg>'},{name:"vertical-align-top",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z" /></svg>'},{name:"up",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z" /></svg>'},{name:"swap-right",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z" /></svg>'},{name:"zoom-in",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'},{name:"zoom-out",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'}],Po=new r.r("nz_icons");new r.r("nz_icon_default_twotone_color");let Lo=(()=>{class t extends So{constructor(t,e,n,i,r,o){super(t,i,r,e),this.nzConfigService=n,this.configUpdated$=new xe.a,this.iconfontCache=new Set,this.onConfigChange(),this.addIcon(...Ao,...o||[]),this.configDefaultTwotoneColor(),this.configDefaultTheme()}normalizeSvgElement(t){t.getAttribute("viewBox")||this._renderer.setAttribute(t,"viewBox","0 0 1024 1024"),t.getAttribute("width")&&t.getAttribute("height")||(this._renderer.setAttribute(t,"width","1em"),this._renderer.setAttribute(t,"height","1em")),t.getAttribute("fill")||this._renderer.setAttribute(t,"fill","currentColor")}fetchFromIconfont(t){const{scriptUrl:e}=t;if(this._document&&!this.iconfontCache.has(e)){const t=this._renderer.createElement("script");this._renderer.setAttribute(t,"src",e),this._renderer.setAttribute(t,"data-namespace",e.replace(/^(https?|http):/g,"")),this._renderer.appendChild(this._document.body,t),this.iconfontCache.add(e)}}createIconfontIcon(t){return this._createSVGElementFromString(`<svg><use xlink:href="${t}"></svg>`)}onConfigChange(){this.nzConfigService.getConfigChangeEventForComponent("icon").subscribe(()=>{this.configDefaultTwotoneColor(),this.configDefaultTheme(),this.configUpdated$.next()})}configDefaultTheme(){const t=this.getConfig();this.defaultTheme=t.nzTheme||"outline"}configDefaultTwotoneColor(){const t=this.getConfig().nzTwotoneColor||"#1890ff";let e="#1890ff";t&&(t.startsWith("#")?e=t:vi("Twotone color must be a hex color!")),this.twoToneColor={primaryColor:e}}getConfig(){return this.nzConfigService.getConfigForComponent("icon")||{}}}return t.\u0275fac=function(e){return new(e||t)(r.bc(r.G),r.bc(D),r.bc(Do),r.bc(Fr,8),r.bc(i.d,8),r.bc(Po,8))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(r.G),Object(r.bc)(D),Object(r.bc)(Do),Object(r.bc)(Fr,8),Object(r.bc)(i.d,8),Object(r.bc)(Po,8))},token:t,providedIn:"root"}),t})();const Fo=new r.r("nz_icons_patch");let jo=(()=>{class t{constructor(t,e){this.extraIcons=t,this.rootIconService=e,this.patched=!1}doPatch(){this.patched||(this.extraIcons.forEach(t=>this.rootIconService.addIcon(t)),this.patched=!0)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(Fo,2),r.bc(Lo))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),No=(()=>{class t extends xo{constructor(t,e,n,i){super(e,t,n),this.iconService=e,this.renderer=n,this.cacheClassName=null,this.nzRotate=0,this.spin=!1,i&&i.doPatch(),this.el=t.nativeElement}set nzSpin(t){this.spin=t}set nzType(t){this.type=t}set nzTheme(t){this.theme=t}set nzTwotoneColor(t){this.twoToneColor=t}set nzIconfont(t){this.iconfont=t}ngOnChanges(t){const{nzType:e,nzTwotoneColor:n,nzSpin:i,nzTheme:r,nzRotate:o}=t;e||n||i||r?this.changeIcon2():o?this.handleRotate(this.el.firstChild):this._setSVGElement(this.iconService.createIconfontIcon(`#${this.iconfont}`))}ngOnInit(){this.renderer.setAttribute(this.el,"class",`anticon ${this.el.className}`.trim())}ngAfterContentChecked(){if(!this.type){const t=this.el.children;let e=t.length;if(!this.type&&t.length)for(;e--;){const n=t[e];"svg"===n.tagName.toLowerCase()&&this.iconService.normalizeSvgElement(n)}}}changeIcon2(){this.setClassName(),this._changeIcon().then(t=>{t&&(this.setSVGData(t),this.handleSpin(t),this.handleRotate(t))})}handleSpin(t){this.spin||"loading"===this.type?this.renderer.addClass(t,"anticon-spin"):this.renderer.removeClass(t,"anticon-spin")}handleRotate(t){this.nzRotate?this.renderer.setAttribute(t,"style",`transform: rotate(${this.nzRotate}deg)`):this.renderer.removeAttribute(t,"style")}setClassName(){this.cacheClassName&&this.renderer.removeClass(this.el,this.cacheClassName),this.cacheClassName=`anticon-${this.type}`,this.renderer.addClass(this.el,this.cacheClassName)}setSVGData(t){this.renderer.setAttribute(t,"data-icon",this.type),this.renderer.setAttribute(t,"aria-hidden","true")}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(Lo),r.Rb(r.F),r.Rb(jo,8))},t.\u0275dir=r.Mb({type:t,selectors:[["","nz-icon",""]],hostVars:2,hostBindings:function(t,e){2&t&&r.Jb("anticon",!0)},inputs:{nzRotate:"nzRotate",nzSpin:"nzSpin",nzType:"nzType",nzTheme:"nzTheme",nzTwotoneColor:"nzTwotoneColor",nzIconfont:"nzIconfont"},exportAs:["nzIcon"],features:[r.Ab,r.Bb]}),sr([Di(),ar("design:type",Boolean),ar("design:paramtypes",[Boolean])],t.prototype,"nzSpin",null),t})(),Vo=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:Po,useValue:e}]}}static forChild(e){return{ngModule:t,providers:[jo,{provide:Fo,useValue:e}]}}}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[Bn]]}),t})();class Wo{}function qo(t,e){return{type:7,name:t,definitions:e,options:{}}}function Bo(t,e=null){return{type:4,styles:e,timings:t}}function Xo(t,e=null){return{type:2,steps:t,options:e}}function Uo(t){return{type:6,styles:t,offset:null}}function $o(t,e,n){return{type:0,name:t,styles:e,options:n}}function Ho(t){return{type:5,steps:t}}function Ko(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Go(t,e=null){return{type:8,animation:t,options:e}}function Yo(t=null){return{type:9,options:t}}function Qo(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function Jo(t,e){return{type:12,timings:t,animation:e}}function Zo(t){Promise.resolve(null).then(t)}class ts{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Zo(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class es{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const r=this.players.length;0==r?Zo(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==r&&this._onFinish()}),t.onDestroy(()=>{++n==r&&this._onDestroy()}),t.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}let ns=(()=>{class t{}return t.SLOW="0.3s",t.BASE="0.2s",t.FAST="0.1s",t})(),is=(()=>{class t{}return t.EASE_BASE_OUT="cubic-bezier(0.7, 0.3, 0.1, 1)",t.EASE_BASE_IN="cubic-bezier(0.9, 0, 0.3, 0.7)",t.EASE_OUT="cubic-bezier(0.215, 0.61, 0.355, 1)",t.EASE_IN="cubic-bezier(0.55, 0.055, 0.675, 0.19)",t.EASE_IN_OUT="cubic-bezier(0.645, 0.045, 0.355, 1)",t.EASE_OUT_BACK="cubic-bezier(0.12, 0.4, 0.29, 1.46)",t.EASE_IN_BACK="cubic-bezier(0.71, -0.46, 0.88, 0.6)",t.EASE_IN_OUT_BACK="cubic-bezier(0.71, -0.46, 0.29, 1.46)",t.EASE_OUT_CIRC="cubic-bezier(0.08, 0.82, 0.17, 1)",t.EASE_IN_CIRC="cubic-bezier(0.6, 0.04, 0.98, 0.34)",t.EASE_IN_OUT_CIRC="cubic-bezier(0.78, 0.14, 0.15, 0.86)",t.EASE_OUT_QUINT="cubic-bezier(0.23, 1, 0.32, 1)",t.EASE_IN_QUINT="cubic-bezier(0.755, 0.05, 0.855, 0.06)",t.EASE_IN_OUT_QUINT="cubic-bezier(0.86, 0, 0.07, 1)",t})();const rs=qo("collapseMotion",[$o("expanded",Uo({height:"*"})),$o("collapsed",Uo({height:0,overflow:"hidden"})),$o("hidden",Uo({height:0,overflow:"hidden",borderTopWidth:"0"})),Ko("expanded => collapsed",Bo(`150ms ${is.EASE_IN_OUT}`)),Ko("expanded => hidden",Bo(`150ms ${is.EASE_IN_OUT}`)),Ko("collapsed => expanded",Bo(`150ms ${is.EASE_IN_OUT}`)),Ko("hidden => expanded",Bo(`150ms ${is.EASE_IN_OUT}`))]),os=qo("treeCollapseMotion",[Ko("* => *",[Qo("nz-tree-node:leave,nz-tree-builtin-node:leave",[Uo({overflow:"hidden"}),Jo(0,[Bo(`150ms ${is.EASE_IN_OUT}`,Uo({height:0,opacity:0,"padding-bottom":0}))])],{optional:!0}),Qo("nz-tree-node:enter,nz-tree-builtin-node:enter",[Uo({overflow:"hidden",height:0,opacity:0,"padding-bottom":0}),Jo(0,[Bo(`150ms ${is.EASE_IN_OUT}`,Uo({overflow:"hidden",height:"*",opacity:"*","padding-bottom":"*"}))])],{optional:!0})])]),ss=(qo("fadeMotion",[Ko(":enter",[Uo({opacity:0}),Bo(`${ns.BASE}`,Uo({opacity:1}))]),Ko(":leave",[Uo({opacity:1}),Bo(`${ns.BASE}`,Uo({opacity:0}))])]),qo("helpMotion",[Ko(":enter",[Uo({opacity:0,transform:"translateY(-5px)"}),Bo(`${ns.SLOW} ${is.EASE_IN_OUT}`,Uo({opacity:1,transform:"translateY(0)"}))]),Ko(":leave",[Uo({opacity:1,transform:"translateY(0)"}),Bo(`${ns.SLOW} ${is.EASE_IN_OUT}`,Uo({opacity:0,transform:"translateY(-5px)"}))])])),as=qo("moveUpMotion",[Ko("* => enter",[Uo({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}),Bo(`${ns.BASE}`,Uo({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}))]),Ko("* => leave",[Uo({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}),Bo(`${ns.BASE}`,Uo({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}))])]),cs=qo("notificationMotion",[$o("enterRight",Uo({opacity:1,transform:"translateX(0)"})),Ko("* => enterRight",[Uo({opacity:0,transform:"translateX(5%)"}),Bo("100ms linear")]),$o("enterLeft",Uo({opacity:1,transform:"translateX(0)"})),Ko("* => enterLeft",[Uo({opacity:0,transform:"translateX(-5%)"}),Bo("100ms linear")]),$o("leave",Uo({opacity:0,transform:"scaleY(0.8)",transformOrigin:"0% 0%"})),Ko("* => leave",[Uo({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),Bo("100ms linear")])]),ls=`${ns.BASE} ${is.EASE_OUT_QUINT}`,us=`${ns.BASE} ${is.EASE_IN_QUINT}`,hs=qo("slideMotion",[$o("void",Uo({opacity:0,transform:"scaleY(0.8)"})),$o("enter",Uo({opacity:1,transform:"scaleY(1)"})),Ko("void => *",[Bo(ls)]),Ko("* => void",[Bo(us)])]),ds=(qo("slideAlertMotion",[Ko(":leave",[Uo({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),Bo(`${ns.SLOW} ${is.EASE_IN_OUT_CIRC}`,Uo({opacity:0,transform:"scaleY(0)",transformOrigin:"0% 0%"}))])]),qo("zoomMotion",[Ko(":enter",[Uo({opacity:0,transform:"scale(0.2)"}),Bo(`${ns.BASE} ${is.EASE_OUT_CIRC}`,Uo({opacity:1,transform:"scale(1)"}))]),Ko(":leave",[Uo({opacity:1,transform:"scale(1)"}),Bo(`${ns.BASE} ${is.EASE_IN_OUT_CIRC}`,Uo({opacity:0,transform:"scale(0.2)"}))])])),ps=qo("zoomBigMotion",[Ko("void => active",[Uo({opacity:0,transform:"scale(0.8)"}),Bo(`${ns.BASE} ${is.EASE_OUT_CIRC}`,Uo({opacity:1,transform:"scale(1)"}))]),Ko("active => void",[Uo({opacity:1,transform:"scale(1)"}),Bo(`${ns.BASE} ${is.EASE_IN_OUT_CIRC}`,Uo({opacity:0,transform:"scale(0.8)"}))])]),fs=qo("zoomBadgeMotion",[Ko(":enter",[Uo({opacity:0,transform:"scale(0) translate(50%, -50%)"}),Bo(`${ns.SLOW} ${is.EASE_OUT_BACK}`,Uo({opacity:1,transform:"scale(1) translate(50%, -50%)"}))]),Ko(":leave",[Uo({opacity:1,transform:"scale(1) translate(50%, -50%)"}),Bo(`${ns.SLOW} ${is.EASE_IN_BACK}`,Uo({opacity:0,transform:"scale(0) translate(50%, -50%)"}))])]),gs=["pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"];function ms(t){return-1!==gs.indexOf(t)}function bs(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ys(t){switch(t.length){case 0:return new ts;case 1:return t[0];default:return new es(t)}}function vs(t,e,n,i,r={},o={}){const s=[],a=[];let c=-1,l=null;if(i.forEach(t=>{const n=t.offset,i=n==c,u=i&&l||{};Object.keys(t).forEach(n=>{let i=n,a=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,s),a){case"!":a=r[n];break;case"*":a=o[n];break;default:a=e.normalizeStyleValue(n,i,a,s)}u[i]=a}),i||a.push(u),l=u,c=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function _s(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&ws(n,"start",t)));break;case"done":t.onDone(()=>i(n&&ws(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&ws(n,"destroy",t)))}}function ws(t,e,n){const i=n.totalTime,r=zs(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),o=t._data;return null!=o&&(r._data=o),r}function zs(t,e,n,i,r="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Cs(t,e,n){let i;return t instanceof Map?(i=t.get(e),i||t.set(e,i=n)):(i=t[e],i||(i=t[e]=n)),i}function Ss(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let xs=(t,e)=>!1,Os=(t,e)=>!1,ks=(t,e,n)=>[];const Ts=bs();(Ts||"undefined"!=typeof Element)&&(xs=(t,e)=>t.contains(e),Os=(()=>{if(Ts||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Os}})(),ks=(t,e,n)=>{let i=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)i.push(n[t])}else{const n=t.querySelector(e);n&&i.push(n)}return i});let Es=null,Is=!1;function Ds(t){Es||(Es=("undefined"!=typeof document?document.body:null)||{},Is=!!Es.style&&"WebkitAppearance"in Es.style);let e=!0;return Es.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Es.style,!e&&Is)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Es.style),e}const Ms=Os,Rs=xs,As=ks;function Ps(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}let Ls=(()=>{class t{validateStyleProperty(t){return Ds(t)}matchesElement(t,e){return Ms(t,e)}containsElement(t,e){return Rs(t,e)}query(t,e,n){return As(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,r,o=[],s){return new ts(n,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),Fs=(()=>{class t{}return t.NOOP=new Ls,t})();function js(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Ns(parseFloat(e[1]),e[2])}function Ns(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Vs(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let i,r=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=Ns(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(r=Ns(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else i=t;if(!n){let n=!1,o=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:r,easing:o}}(t,e,n)}function Ws(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function qs(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else Ws(t,n);return n}function Bs(t,e,n){return n?e+":"+n+";":""}function Xs(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=Bs(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Bs(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Us(t,e,n){t.style&&(Object.keys(e).forEach(i=>{const r=Zs(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),bs()&&Xs(t))}function $s(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Zs(e);t.style[n]=""}),bs()&&Xs(t))}function Hs(t){return Array.isArray(t)?1==t.length?t[0]:Xo(t):t}const Ks=new RegExp("{{\\s*(.+?)\\s*}}","g");function Gs(t){let e=[];if("string"==typeof t){let n;for(;n=Ks.exec(t);)e.push(n[1]);Ks.lastIndex=0}return e}function Ys(t,e,n){const i=t.toString(),r=i.replace(Ks,(t,i)=>{let r=e[i];return e.hasOwnProperty(i)||(n.push(`Please provide a value for the animation param ${i}`),r=""),r.toString()});return r==i?t:r}function Qs(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Js=/-+([a-z0-9])/g;function Zs(t){return t.replace(Js,(...t)=>t[1].toUpperCase())}function ta(t,e){return 0===t||0===e}function ea(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let o=e[0],s=[];if(i.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var r=1;r<e.length;r++){let n=e[r];s.forEach(function(e){n[e]=ia(t,e)})}}return e}function na(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function ia(t,e){return window.getComputedStyle(t)[e]}function ra(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const r=i[1],o=i[2],s=i[3];e.push(aa(r,s)),"<"!=o[0]||"*"==r&&"*"==s||e.push(aa(s,r))}(t,n,e)):n.push(t),n}const oa=new Set(["true","1"]),sa=new Set(["false","0"]);function aa(t,e){const n=oa.has(t)||sa.has(t),i=oa.has(e)||sa.has(e);return(r,o)=>{let s="*"==t||t==r,a="*"==e||e==o;return!s&&n&&"boolean"==typeof r&&(s=r?oa.has(t):sa.has(t)),!a&&i&&"boolean"==typeof o&&(a=o?oa.has(e):sa.has(e)),s&&a}}const ca=new RegExp("s*:selfs*,?","g");function la(t,e,n){return new ua(t).build(e,n)}class ua{constructor(t){this._driver=t}build(t,e){const n=new ha(e);return this._resetContextStyleTimingState(n),na(this,Hs(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const r=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,i=n.name;i.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,r.push(this.visitState(n,e))}),n.name=i}else if(1==t.type){const r=this.visitTransition(t,e);n+=r.queryCount,i+=r.depCount,o.push(r)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:o,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const r=new Set,o=i||{};if(n.styles.forEach(t=>{if(da(t)){const e=t;Object.keys(e).forEach(t=>{Gs(e[t]).forEach(t=>{o.hasOwnProperty(t)||r.add(t)})})}}),r.size){const n=Qs(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=na(this,Hs(t.animation),e);return{type:1,matchers:ra(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:pa(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>na(this,t,e)),options:pa(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const r=t.steps.map(t=>{e.currentTime=n;const r=na(this,t,e);return i=Math.max(i,e.currentTime),r});return e.currentTime=i,{type:3,steps:r,options:pa(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return fa(Vs(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=fa(0,0,"");return t.dynamic=!0,t.strValue=i,t}return n=n||Vs(i,e),fa(n.duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let r=t.styles?t.styles:Uo({});if(5==r.type)i=this.visitKeyframes(r,e);else{let r=t.styles,o=!1;if(!r){o=!0;const t={};n.easing&&(t.easing=n.easing),r=Uo(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(r,e);s.isEmptyStep=o,i=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,r=null;return n.forEach(t=>{if(da(t)){const e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(r!=i&&r>=s.startTime&&i<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),a=!1),r=s.startTime),a&&(o[n]={startTime:r,endTime:i}),e.options&&function(t,e,n){const i=e.params||{},r=Gs(t);r.length&&r.forEach(t=>{i.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let o=!1,s=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(da(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(da(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),l=0;return null!=c&&(i++,l=n.offset=c),s=s||l<0||l>1,o=o||l<a,a=l,r.push(l),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const l=t.steps.length;let u=0;i>0&&i<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(u=1/(l-1));const h=l-1,d=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return c.forEach((t,i)=>{const o=u>0?i==h?1:u*i:r[i],s=o*f;e.currentTime=d+p.delay+s,p.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:na(this,Hs(t.animation),e),options:pa(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:pa(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:pa(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[r,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(ca,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,Cs(e.collectedStyles,e.currentQuerySelector,{});const s=na(this,Hs(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:pa(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Vs(t.timings,e.errors,!0);return{type:12,animation:na(this,Hs(t.animation),e),timings:n,options:null}}}class ha{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function da(t){return!Array.isArray(t)&&"object"==typeof t}function pa(t){var e;return t?(t=Ws(t)).params&&(t.params=(e=t.params)?Ws(e):null):t={},t}function fa(t,e,n){return{duration:t,delay:e,easing:n}}function ga(t,e,n,i,r,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class ma{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const ba=new RegExp(":enter","g"),ya=new RegExp(":leave","g");function va(t,e,n,i,r,o={},s={},a,c,l=[]){return(new _a).buildKeyframes(t,e,n,i,r,o,s,a,c,l)}class _a{buildKeyframes(t,e,n,i,r,o,s,a,c,l=[]){c=c||new ma;const u=new za(t,e,c,i,r,l,[]);u.options=a,u.currentTimeline.setStyles([o],null,u.errors,a),na(this,n,u);const h=u.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,u.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[ga(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,i,i.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime;const r=null!=n.duration?js(n.duration):null,o=null!=n.delay?js(n.delay):null;return 0!==r&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,r,o);i=Math.max(i,n.duration+n.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),na(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const r=t.options;if(r&&(r.params||r.delay)&&(i=e.createSubContext(r),i.transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=wa);const t=js(r.delay);i.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>na(this,t,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?js(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);r&&s.delayNextStep(r),na(this,o,s),i=Math.max(i,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Vs(e.params?Ys(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*r),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(i+r),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},r=i.delay?js(i.delay):0;r&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=wa);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,i)=>{e.currentQueryIndex=i;const s=e.createSubContext(t.options,n);r&&s.delayNextStep(r),n===e.element&&(a=s.currentTimeline),na(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,r=t.timings,o=Math.abs(r.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const l=c.currentTime;na(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-l+(i.startTime-n.currentTimeline.startTime)}}const wa={};class za{constructor(t,e,n,i,r,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=wa,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Ca(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=js(n.duration)),null!=n.delay&&(i.delay=js(n.delay));const r=n.params;if(r){let t=i.params;t||(t=this.options.params={}),Object.keys(r).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Ys(r[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,r=new za(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=wa,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new Sa(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,r,o){let s=[];if(i&&s.push(this.element),t.length>0){t=(t=t.replace(ba,"."+this._enterClassName)).replace(ya,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return r||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class Ca{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Ca(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const r=i&&i.params||{},o=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e),i.forEach(t=>{n[t]="*"})):qs(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=Ys(o[t],r,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],i=t._styleSummary[e];(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,o)=>{const s=qs(r,!0);Object.keys(s).forEach(n=>{const i=s[n];"!"==i?t.add(n):"*"==i&&e.add(n)}),n||(s.offset=o/this.duration),i.push(s)});const r=t.size?Qs(t.values()):[],o=e.size?Qs(e.values()):[];if(n){const t=i[0],e=Ws(t);t.offset=0,e.offset=1,i=[t,e]}return ga(this.element,i,r,o,this.duration,this.startTime,this.easing,!1)}}class Sa extends Ca{constructor(t,e,n,i,r,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],o=n+e,s=e/o,a=qs(t[0],!1);a.offset=0,r.push(a);const c=qs(t[0],!1);c.offset=xa(s),r.push(c);const l=t.length-1;for(let i=1;i<=l;i++){let s=qs(t[i],!1);s.offset=xa((e+s.offset*n)/o),r.push(s)}n=o,e=0,i="",t=r}return ga(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function xa(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Oa{}class ka extends Oa{normalizePropertyName(t,e){return Zs(t)}normalizeStyleValue(t,e,n,i){let r="";const o=n.toString().trim();if(Ta[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&i.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+r}}const Ta=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Ea(t,e,n,i,r,o,s,a,c,l,u,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:h,errors:d}}const Ia={};class Da{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function(t,e,n,i,r){return t.some(t=>t(e,n,i,r))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){const i=this._stateStyles["*"],r=this._stateStyles[t],o=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):o}build(t,e,n,i,r,o,s,a,c,l){const u=[],h=this.ast.options&&this.ast.options.params||Ia,d=this.buildStyles(n,s&&s.params||Ia,u),p=a&&a.params||Ia,f=this.buildStyles(i,p,u),g=new Set,m=new Map,b=new Map,y="void"===i,v={params:Object.assign(Object.assign({},h),p)},_=l?[]:va(t,e,this.ast.animation,r,o,d,f,v,c,u);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),u.length)return Ea(e,this._triggerName,n,i,y,d,f,[],[],m,b,w,u);_.forEach(t=>{const n=t.element,i=Cs(m,n,{});t.preStyleProps.forEach(t=>i[t]=!0);const r=Cs(b,n,{});t.postStyleProps.forEach(t=>r[t]=!0),n!==e&&g.add(n)});const z=Qs(g.values());return Ea(e,this._triggerName,n,i,y,d,f,_,z,m,b,w)}}class Ma{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},i=Ws(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const r=t;Object.keys(r).forEach(t=>{let o=r[t];o.length>1&&(o=Ys(o,i,e)),n[t]=o})}}),n}}class Ra{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Ma(t.style,t.options&&t.options.params||{})}),Aa(this.states,"true","1"),Aa(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Da(t,e,this.states))}),this.fallbackTransition=new Da(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(r=>r.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Aa(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Pa=new ma;class La{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],i=la(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=i}_buildPlayer(t,e,n){const i=t.element,r=vs(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],r=this._animations[t];let o;const s=new Map;if(r?(o=va(this._driver,e,r,"ng-enter","ng-leave",{},{},n,Pa,i),o.forEach(t=>{const e=Cs(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),o=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=ys(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,i){const r=zs(e,"","","");return _s(this._getPlayer(t),n,r,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const Fa=[],ja={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Na={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Va{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(i=n?t.value:t)?i:null,n){const e=Ws(t);delete e.value,this.options=e}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Wa=new Va("void");class qa{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ga(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var r;const o=Cs(this._elementListeners,t,[]),s={name:e,phase:n,callback:i};o.push(s);const a=Cs(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Ga(t,"ng-trigger"),Ga(t,"ng-trigger-"+e),a[e]=Wa),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,i=!0){const r=this._getTrigger(e),o=new Xa(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(Ga(t,"ng-trigger"),Ga(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const c=new Va(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),s[e]=c,a||(a=Wa),"void"!==c.value&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(a.params,c.params)){const e=[],n=r.matchStyles(a.value,a.params,e),i=r.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{$s(t,n),Us(t,i)})}return}const l=Cs(this._engine.playersByElement,t,[]);l.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let u=r.matchTransition(a.value,c.value,t,c.params),h=!1;if(!u){if(!i)return;u=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:u,fromState:a,toState:c,player:o,isFallbackTransition:h}),h||(Ga(t,"ng-animate-queued"),o.onStart(()=>{Ya(t,"ng-animate-queued")})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),l.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,i){const r=this._engine.statesByElement.get(t);if(r){const o=[];if(Object.keys(r).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",i);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&ys(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const i=e.name;if(n.has(i))return;n.add(i);const r=this._triggers[i].fallbackTransition,o=this._engine.statesByElement.get(t)[i]||Wa,s=new Va("void"),a=new Xa(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:r,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)i=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{const i=t.__ng_removed;i&&i!==ja||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Ga(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,o=this._elementListeners.get(r);o&&o.forEach(e=>{if(e.name==n.triggerName){const i=zs(r,n.triggerName,n.fromState.value,n.toState.value);i._data=t,_s(n.player,e.phase,i,e.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,i=e.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Ba{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new qa(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=n[t[i]].namespaceId;if(r){const t=this._fetchNamespace(r);t&&e.add(t)}}}return e}trigger(t,e,n,i){if(Ua(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!Ua(e))return;const r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const i=this._fetchNamespace(t);i&&i.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ga(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ya(t,"ng-animate-disabled"))}removeNode(t,e,n,i){if(Ua(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,i,r){return Ua(e)?this._fetchNamespace(t).listen(e,n,i,r):()=>{}}_buildInstruction(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ys(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=ja,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Ga(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?ys(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new ma,i=[],r=new Map,o=[],s=new Map,a=new Map,c=new Map,l=new Set;this.disabledNodes.forEach(t=>{l.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)l.add(e[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Ka(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((t,e)=>{const n="ng-enter"+f++;p.set(e,n),t.forEach(t=>Ga(t,n))});const g=[],m=new Set,b=new Set;for(let I=0;I<this.collectedLeaveElements.length;I++){const t=this.collectedLeaveElements[I],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):b.add(t))}const y=new Map,v=Ka(h,Array.from(m));v.forEach((t,e)=>{const n="ng-leave"+f++;y.set(e,n),t.forEach(t=>Ga(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>Ya(t,n))}),v.forEach((t,e)=>{const n=y.get(e);t.forEach(t=>Ya(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let I=this._namespaceList.length-1;I>=0;I--)this._namespaceList[I].drainQueuedTransitions(e).forEach(t=>{const e=t.player,r=t.element;if(_.push(e),this.collectedEnterElements.length){const t=r.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const l=!u||!this.driver.containsElement(u,r),h=y.get(r),d=p.get(r),f=this._buildInstruction(t,n,d,h,l);if(f.errors&&f.errors.length)w.push(f);else{if(l)return e.onStart(()=>$s(r,f.fromStyles)),e.onDestroy(()=>Us(r,f.toStyles)),void i.push(e);if(t.isFallbackTransition)return e.onStart(()=>$s(r,f.fromStyles)),e.onDestroy(()=>Us(r,f.toStyles)),void i.push(e);f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(r,f.timelines),o.push({instruction:f,player:e,element:r}),f.queriedElements.forEach(t=>Cs(s,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let i=c.get(e);i||c.set(e,i=new Set),n.forEach(t=>i.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const z=new Map,C=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,z))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Cs(z,e,[]).push(t),t.destroy()})});const S=g.filter(t=>Za(t,a,c)),x=new Map;Ha(x,this.driver,b,c,"*").forEach(t=>{Za(t,a,c)&&S.push(t)});const O=new Map;d.forEach((t,e)=>{Ha(O,this.driver,new Set(t),a,"!")}),S.forEach(t=>{const e=x.get(t),n=O.get(t);x.set(t,Object.assign(Object.assign({},e),n))});const k=[],T=[],E={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(l.has(e))return o.onDestroy(()=>Us(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void i.push(o);let t=E;if(C.size>1){let n=e;const i=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}i.push(n)}i.forEach(e=>C.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,z,r,O,x);if(o.setRealPlayer(n),t===E)k.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=ys(e)),i.push(o)}}else $s(e,s.fromStyles),o.onDestroy(()=>Us(e,s.toStyles)),T.push(o),l.has(e)&&i.push(o)}),T.forEach(t=>{const e=r.get(t.element);if(e&&e.length){const n=ys(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let I=0;I<g.length;I++){const t=g[I],e=t.__ng_removed;if(Ya(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,".ng-animating",!0);for(let t=0;t<i.length;t++){let e=s.get(i[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?Qa(this,t,i):this.processLeaveNode(t)}return g.length=0,k.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),k}elementContainsData(t,e){let n=!1;const i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,r){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!r||"void"==r;e.forEach(e=>{e.queued||(t||e.triggerName==i)&&o.push(e)})}}return(n||i)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||i&&i!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const i=e.element,r=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==i,c=Cs(n,t,[]);this._getPreviousPlayers(t,a,r,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}$s(i,e.fromStyles)}_buildAnimation(t,e,n,i,r,o){const s=e.triggerName,a=e.element,c=[],l=new Set,u=new Set,h=e.timelines.map(e=>{const h=e.element;l.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new ts(e.duration,e.delay);const p=h!==a,f=function(t){const e=[];return Ja(t,e),e}((n.get(h)||Fa).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=r.get(h),m=o.get(h),b=vs(0,this._normalizer,0,e.keyframes,g,m),y=this._buildPlayer(e,b,f);if(e.subTimeline&&i&&u.add(h),p){const e=new Xa(t,s,h);e.setRealPlayer(y),c.push(e)}return y});c.forEach(t=>{Cs(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e),i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&t.delete(e)}}else if(i=t[e],i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&delete t[e]}return i}(this.playersByQueriedElement,t.element,t))}),l.forEach(t=>Ga(t,"ng-animating"));const d=ys(h);return d.onDestroy(()=>{l.forEach(t=>Ya(t,"ng-animating")),Us(a,e.toStyles)}),u.forEach(t=>{Cs(i,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new ts(t.duration,t.delay)}}class Xa{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new ts,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>_s(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Cs(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Ua(t){return t&&1===t.nodeType}function $a(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Ha(t,e,n,i,r){const o=[];n.forEach(t=>o.push($a(t)));const s=[];i.forEach((n,i)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i.__ng_removed=Na,s.push(i))}),t.set(i,o)});let a=0;return n.forEach(t=>$a(t,o[a++])),s}function Ka(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const i=new Set(e),r=new Map;function o(t){if(!t)return 1;let e=r.get(t);if(e)return e;const s=t.parentNode;return e=n.has(s)?s:i.has(s)?1:o(s),r.set(t,e),e}return e.forEach(t=>{const e=o(t);1!==e&&n.get(e).push(t)}),n}function Ga(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Ya(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Qa(t,e,n){ys(n).onDone(()=>t.processLeaveNode(e))}function Ja(t,e){for(let n=0;n<t.length;n++){const i=t[n];i instanceof es?Ja(i.players,e):e.push(i)}}function Za(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(t=>r.add(t)):e.set(t,i),n.delete(t),!0}class tc{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Ba(t,e,n),this._timelineEngine=new La(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,i,r){const o=t+"-"+i;let s=this._triggerCache[o];if(!s){const t=[],e=la(this._driver,r,t);if(t.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new Ra(t,e)}(i,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,i,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[t,r]=Ss(n);this._timelineEngine.command(t,e,r,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,r){if("@"==n.charAt(0)){const[t,i]=Ss(n);return this._timelineEngine.listen(t,e,i,r)}return this._transitionEngine.listen(t,e,n,i,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function ec(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=ic(e[0]),e.length>1&&(i=ic(e[e.length-1]))):e&&(n=ic(e)),n||i?new nc(t,n,i):null}let nc=(()=>{class t{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Us(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Us(this._element,this._initialStyles),this._endStyles&&(Us(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&($s(this._element,this._startStyles),this._endStyles=null),this._endStyles&&($s(this._element,this._endStyles),this._endStyles=null),Us(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function ic(t){let e=null;const n=Object.keys(t);for(let i=0;i<n.length;i++){const r=n[i];rc(r)&&(e=e||{},e[r]=t[r])}return e}function rc(t){return"display"===t||"position"===t}class oc{constructor(t,e,n,i,r,o,s){this._element=t,this._name=e,this._duration=n,this._delay=i,this._easing=r,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=hc(t,"").trim();n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e=`${n}, ${e}`),uc(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),lc(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){sc(this._element,this._name,"paused")}resume(){sc(this._element,this._name,"running")}setPosition(t){const e=ac(this._element,this._name);this._position=t*this._duration,uc(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),lc(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=hc(t,"").split(","),i=cc(n,e);i>=0&&(n.splice(i,1),uc(t,"",n.join(",")))}(this._element,this._name))}}function sc(t,e,n){uc(t,"PlayState",n,ac(t,e))}function ac(t,e){const n=hc(t,"");return n.indexOf(",")>0?cc(n.split(","),e):cc([n],e)}function cc(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function lc(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function uc(t,e,n,i){const r="animation"+e;if(null!=i){const e=t.style[r];if(e.length){const t=e.split(",");t[i]=n,n=t.join(",")}}t.style[r]=n}function hc(t,e){return t.style["animation"+e]||""}class dc{constructor(t,e,n,i,r,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=r,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=i+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new oc(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:ia(this.element,n))})}this.currentSnapshot=t}}class pc extends ts{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Ps(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class fc{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return Ds(t)}matchesElement(t,e){return Ms(t,e)}containsElement(t,e){return Rs(t,e)}query(t,e,n){return As(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Ps(t));let i=`@keyframes ${e} {\n`,r="";n.forEach(t=>{r=" ";const e=parseFloat(t.offset);i+=`${r}${100*e}% {\n`,r+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+=`${r}animation-timing-function: ${n};\n`));default:return void(i+=`${r}${e}: ${n};\n`)}}),i+=`${r}}\n`}),i+="}\n";const o=document.createElement("style");return o.textContent=i,o}animate(t,e,n,i,r,o=[],s){const a=o.filter(t=>t instanceof dc),c={};ta(n,i)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=ea(t,e,c));if(0==n)return new pc(t,l);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,u,e);document.querySelector("head").appendChild(h);const d=ec(t,e),p=new dc(t,e,u,n,i,r,l,d);return p.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),p}}class gc{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:ia(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class mc{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(bc().toString()),this._cssKeyframesDriver=new fc}validateStyleProperty(t){return Ds(t)}matchesElement(t,e){return Ms(t,e)}containsElement(t,e){return Rs(t,e)}query(t,e,n){return As(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,i,r,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,o);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);const c={},l=o.filter(t=>t instanceof gc);ta(n,i)&&l.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=ec(t,e=ea(t,e=e.map(t=>qs(t,!1)),c));return new gc(t,e,a,u)}}function bc(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let yc=(()=>{class t extends Wo{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.S.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Xo(t):t;return wc(this._renderer,null,e,"register",[n]),new vc(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(r.G),r.bc(i.d))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();class vc extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new _c(this._id,t,e||{},this._renderer)}}class _c{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return wc(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function wc(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}let zc=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Cc("",n,this.engine),this._rendererCache.set(n,t)),t}const i=e.id,r=e.id+"-"+this._currentId;this._currentId++,this.engine.register(r,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(i,r,t,e.name,e)};return e.data.animation.forEach(o),new Sc(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.bc(r.G),r.bc(tc),r.bc(r.A))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();class Cc{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,i=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Sc extends Cc{constructor(t,e,n,i){super(e,n,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let r=e.substr(1),o="";return"@"!=r.charAt(0)&&([r,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,i,r,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let xc=(()=>{class t extends tc{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(i.d),r.bc(Fs),r.bc(Oa))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();const Oc=new r.r("AnimationModuleType"),kc=[{provide:Fs,useFactory:function(){return"function"==typeof bc()?new mc:new fc}},{provide:Oc,useValue:"BrowserAnimations"},{provide:Wo,useClass:yc},{provide:Oa,useFactory:function(){return new ka}},{provide:tc,useClass:xc},{provide:r.G,useFactory:function(t,e,n){return new zc(t,e,n)},deps:[w,tc,r.A]}];let Tc=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:kc,imports:[L]}),t})(),Ec=(()=>{class t{constructor(t,e,n){this.element=t,this.renderer=e,this.animationType=n,this.nzNoAnimation=!1}ngOnChanges(){this.updateClass()}ngAfterViewInit(){this.updateClass()}updateClass(){const t=xn(this.element);t&&(this.nzNoAnimation||"NoopAnimations"===this.animationType?this.renderer.addClass(t,"nz-animate-disabled"):this.renderer.removeClass(t,"nz-animate-disabled"))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.F),r.Rb(Oc,8))},t.\u0275dir=r.Mb({type:t,selectors:[["","nzNoAnimation",""]],inputs:{nzNoAnimation:"nzNoAnimation"},exportAs:["nzNoAnimation"],features:[r.Bb]}),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzNoAnimation",void 0),t})(),Ic=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})();var Dc=n("n6bG");function Mc(t,e,n,i){return Object(Dc.a)(n)&&(i=n,n=void 0),i?Mc(t,e,n).pipe(Object(N.a)(t=>Object(j.a)(t)?i(...t):i(t))):new F.a(i=>{Rc(t,e,function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},i,n)})}function Rc(t,e,n,i,r){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const i=t;t.addEventListener(e,n,r),o=()=>i.removeEventListener(e,n,r)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const i=t;t.on(e,n),o=()=>i.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const i=t;t.addListener(e,n),o=()=>i.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)Rc(t[o],e,n,i,r)}i.add(o)}var Ac=n("3N8a");class Pc extends Ac.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}var Lc=n("IjjT");class Fc extends Lc.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const jc=new Fc(Pc);var Nc=n("7Hc7");function Vc(){return t=>t.lift(new Wc)}class Wc{call(t,e){return e.subscribe(new qc(t))}}class qc extends ye.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var Bc=n("eIep");function Xc(t,e,n){let i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:i}){let r,o,s=0,a=!1,c=!1;return function(l){let u;s++,!r||a?(a=!1,r=new tr(t,e,i),u=r.subscribe(this),o=l.subscribe({next(t){r.next(t)},error(t){a=!0,r.error(t)},complete(){c=!0,o=void 0,r.complete()}})):u=r.subscribe(this),this.add(()=>{s--,u.unsubscribe(),o&&!c&&n&&0===s&&(o.unsubscribe(),o=void 0,r=void 0)})}}(i))}class Uc extends class{}{constructor(t){super(),this._data=t}connect(){return Se(this._data)?this._data:Object(wi.a)(this._data)}disconnect(){}}class $c{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(t,e,n,i,r){t.forEachOperation((t,o,s)=>{let a,c;null==t.previousIndex?(a=this._insertView(()=>n(t,o,s),s,e,i(t)),c=a?1:0):null==s?(this._detachAndCacheView(o,e),c=3):(a=this._moveView(o,s,e,i(t)),c=2),r&&r({context:null==a?void 0:a.context,operation:c,record:t})})}detach(){for(const t of this._viewCache)t.destroy()}_insertView(t,e,n,i){let r=this._insertViewFromCache(e,n);if(r)return void(r.context.$implicit=i);const o=t();return n.createEmbeddedView(o.templateRef,o.context,o.index)}_detachAndCacheView(t,e){const n=this._detachView(t,e);this._maybeCacheView(n,e)}_moveView(t,e,n,i){const r=n.get(t);return n.move(r,e),r.context.$implicit=i,r}_maybeCacheView(t,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(t);else{const n=e.indexOf(t);-1===n?t.destroy():e.remove(n)}}_insertViewFromCache(t,e){const n=this._viewCache.pop();return n&&e.insert(n,t),n||null}_detachView(t,e){return e.detach(t)}}const Hc=new r.r("_ViewRepeater"),Kc=["contentWrapper"],Gc=["*"],Yc=new r.r("VIRTUAL_SCROLL_STRATEGY");class Qc{constructor(t,e,n){this._scrolledIndexChange=new xe.a,this.scrolledIndexChange=this._scrolledIndexChange.pipe(pi()),this._viewport=null,this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=n}attach(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(t,e,n){this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=n,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const t=this._viewport.getRenderedRange(),e={start:t.start,end:t.end},n=this._viewport.getViewportSize(),i=this._viewport.getDataLength();let r=this._viewport.measureScrollOffset(),o=this._itemSize>0?r/this._itemSize:0;if(e.end>i){const t=Math.ceil(n/this._itemSize),s=Math.max(0,Math.min(o,i-t));o!=s&&(o=s,r=s*this._itemSize,e.start=Math.floor(o)),e.end=Math.max(0,Math.min(i,e.start+t))}const s=r-e.start*this._itemSize;if(s<this._minBufferPx&&0!=e.start){const t=Math.ceil((this._maxBufferPx-s)/this._itemSize);e.start=Math.max(0,e.start-t),e.end=Math.min(i,Math.ceil(o+(n+this._minBufferPx)/this._itemSize))}else{const t=e.end*this._itemSize-(r+n);if(t<this._minBufferPx&&e.end!=i){const n=Math.ceil((this._maxBufferPx-t)/this._itemSize);n>0&&(e.end=Math.min(i,e.end+n),e.start=Math.max(0,Math.floor(o-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(o))}}function Jc(t){return t._scrollStrategy}let Zc=(()=>{class t{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Qc(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=wn(t)}get minBufferPx(){return this._minBufferPx}set minBufferPx(t){this._minBufferPx=wn(t)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(t){this._maxBufferPx=wn(t)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[r.Cb([{provide:Yc,useFactory:Jc,deps:[Object(r.W)(()=>t)]}]),r.Bb]}),t})(),tl=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new xe.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new F.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(ui(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(wi.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Object(di.a)(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,t)&&e.push(i)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=xn(e),i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Mc(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(r.A),r.bc(qn),r.bc(i.d,8))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(r.A),Object(r.bc)(qn),Object(r.bc)(i.d,8))},token:t,providedIn:"root"}),t})(),el=(()=>{class t{constructor(t,e,n,i){this.elementRef=t,this.scrollDispatcher=e,this.ngZone=n,this.dir=i,this._destroyed=new xe.a,this._elementScrolled=new F.a(t=>this.ngZone.runOutsideAngular(()=>Mc(this.elementRef.nativeElement,"scroll").pipe(An(this._destroyed)).subscribe(t)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=n?t.end:t.start),null==t.right&&(t.right=n?t.start:t.end),null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&0!=$n()?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),2==$n()?t.left=t.right:1==$n()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const e=this.elementRef.nativeElement;Un()?e.scrollTo(t):(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left))}measureScrollOffset(t){const e=this.elementRef.nativeElement;if("top"==t)return e.scrollTop;if("bottom"==t)return e.scrollHeight-e.clientHeight-e.scrollTop;const n=this.dir&&"rtl"==this.dir.value;return"start"==t?t=n?"right":"left":"end"==t&&(t=n?"left":"right"),n&&2==$n()?"left"==t?e.scrollWidth-e.clientWidth-e.scrollLeft:e.scrollLeft:n&&1==$n()?"left"==t?e.scrollLeft+e.scrollWidth-e.clientWidth:-e.scrollLeft:"left"==t?e.scrollLeft:e.scrollWidth-e.clientWidth-e.scrollLeft}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(tl),r.Rb(r.A),r.Rb(bn,8))},t.\u0275dir=r.Mb({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),t})(),nl=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new xe.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(ui(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.bc(qn),r.bc(r.A),r.bc(i.d,8))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(qn),Object(r.bc)(r.A),Object(r.bc)(i.d,8))},token:t,providedIn:"root"}),t})();const il="undefined"!=typeof requestAnimationFrame?jc:Nc.b;let rl=(()=>{class t extends el{constructor(t,e,n,i,r,o,s){super(t,o,n,r),this.elementRef=t,this._changeDetectorRef=e,this._scrollStrategy=i,this._detachedSubject=new xe.a,this._renderedRangeSubject=new xe.a,this._orientation="vertical",this.scrolledIndexChange=new F.a(t=>this._scrollStrategy.scrolledIndexChange.subscribe(e=>Promise.resolve().then(()=>this.ngZone.run(()=>t.next(e))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Yi.a.EMPTY,this._viewportChanges=s.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(Object(Mn.a)(null),ui(0,il)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(An(this._detachedSubject)).subscribe(t=>{const e=t.length;e!==this._dataLength&&(this._dataLength=e,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){var e,n;((e=this._renderedRange).start!=(n=t).start||e.end!=n.end)&&(this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,e="to-start"){const n="horizontal"==this.orientation,i=n?"X":"Y";let r=`translate${i}(${Number((n&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===e&&(r+=` translate${i}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=r&&(this._renderedContentTransform=r,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,e="auto"){const n={behavior:e};"horizontal"===this.orientation?n.start=t:n.top=t,this.scrollTo(n)}scrollToIndex(t,e="auto"){this._scrollStrategy.scrollToIndex(t,e)}measureScrollOffset(t){return super.measureScrollOffset(t||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const t=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?t.clientWidth:t.clientHeight}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const e of t)e()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.h),r.Rb(r.A),r.Rb(Yc,8),r.Rb(bn,8),r.Rb(tl),r.Rb(nl))},t.\u0275cmp=r.Lb({type:t,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,e){if(1&t&&r.Qc(Kc,3),2&t){let t;r.zc(t=r.gc())&&(e._contentWrapper=t.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,e){2&t&&r.Jb("cdk-virtual-scroll-orientation-horizontal","horizontal"===e.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==e.orientation)},inputs:{orientation:"orientation"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[r.Cb([{provide:el,useExisting:t}]),r.Ab],ngContentSelectors:Gc,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,e){1&t&&(r.pc(),r.Xb(0,"div",0,1),r.oc(2),r.Wb(),r.Sb(3,"div",2)),2&t&&(r.Db(3),r.Hc("width",e._totalContentWidth)("height",e._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),t})();function ol(t,e,n){if(!n.getBoundingClientRect)return 0;const i=n.getBoundingClientRect();return"horizontal"===t?"start"===e?i.left:i.right:"start"===e?i.top:i.bottom}let sl=(()=>{class t{constructor(t,e,n,i,r,o){this._viewContainerRef=t,this._template=e,this._differs=n,this._viewRepeater=i,this._viewport=r,this.viewChange=new xe.a,this._dataSourceChanges=new xe.a,this.dataStream=this._dataSourceChanges.pipe(Object(Mn.a)(null),Vc(),Object(Bc.a)(([t,e])=>this._changeDataSource(t,e)),Xc(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new xe.a,this.dataStream.subscribe(t=>{this._data=t,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(An(this._destroyed)).subscribe(t=>{this._renderedRange=t,o.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(t){this._cdkVirtualForOf=t,function(t){return t&&"function"==typeof t.connect}(t)?this._dataSourceChanges.next(t):this._dataSourceChanges.next(new Uc(Se(t)?t:Array.from(t||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(t){this._needsUpdate=!0,this._cdkVirtualForTrackBy=t?(e,n)=>t(e+(this._renderedRange?this._renderedRange.start:0),n):void 0}set cdkVirtualForTemplate(t){t&&(this._needsUpdate=!0,this._template=t)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(t){this._viewRepeater.viewCacheSize=wn(t)}measureRangeSize(t,e){if(t.start>=t.end)return 0;const n=t.start-this._renderedRange.start,i=t.end-t.start;let r,o;for(let s=0;s<i;s++){const t=this._viewContainerRef.get(s+n);if(t&&t.rootNodes.length){r=o=t.rootNodes[0];break}}for(let s=i-1;s>-1;s--){const t=this._viewContainerRef.get(s+n);if(t&&t.rootNodes.length){o=t.rootNodes[t.rootNodes.length-1];break}}return r&&o?ol(e,"end",o)-ol(e,"start",r):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const t=this._differ.diff(this._renderedItems);t?this._applyChanges(t):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((t,e)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(t,e):e)),this._needsUpdate=!0)}_changeDataSource(t,e){return t&&t.disconnect(this),this._needsUpdate=!0,e?e.connect(this):Object(wi.a)()}_updateContext(){const t=this._data.length;let e=this._viewContainerRef.length;for(;e--;){const n=this._viewContainerRef.get(e);n.context.index=this._renderedRange.start+e,n.context.count=t,this._updateComputedContextProperties(n.context),n.detectChanges()}}_applyChanges(t){this._viewRepeater.applyChanges(t,this._viewContainerRef,(t,e,n)=>this._getEmbeddedViewArgs(t,n),t=>t.item),t.forEachIdentityChange(t=>{this._viewContainerRef.get(t.currentIndex).context.$implicit=t.item});const e=this._data.length;let n=this._viewContainerRef.length;for(;n--;){const t=this._viewContainerRef.get(n);t.context.index=this._renderedRange.start+n,t.context.count=e,this._updateComputedContextProperties(t.context)}}_updateComputedContextProperties(t){t.first=0===t.index,t.last=t.index===t.count-1,t.even=t.index%2==0,t.odd=!t.even}_getEmbeddedViewArgs(t,e){return{templateRef:this._template,context:{$implicit:t.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:e}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.R),r.Rb(r.M),r.Rb(r.t),r.Rb(Hc),r.Rb(rl,4),r.Rb(r.A))},t.\u0275dir=r.Mb({type:t,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[r.Cb([{provide:Hc,useClass:$c}])]}),t})(),al=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)}}),t})(),cl=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,Bn,al],vn,al]}),t})();class ll{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class ul extends ll{constructor(t,e,n,i){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=i}}class hl extends ll{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class dl extends ll{constructor(t){super(),this.element=t instanceof r.l?t.nativeElement:t}}class pl{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof ul?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof hl?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof dl?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class fl extends pl{constructor(t,e,n,i,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=r}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let gl=(()=>{class t extends pl{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new r.n,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.j),r.Rb(r.R),r.Rb(i.d))},t.\u0275dir=r.Mb({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.Ab]}),t})(),ml=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)}}),t})();var bl=n("VRyK");class yl{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new vl(t,this.predicate,this.inclusive))}}class vl extends ye.a{constructor(t,e,n){super(t),this.predicate=e,this.inclusive=n,this.index=0}_next(t){const e=this.destination;let n;try{n=this.predicate(t,this.index++)}catch(i){return void e.error(i)}this.nextOrComplete(t,n)}nextOrComplete(t,e){const n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}function _l(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}const wl=Un();class zl{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Sn(-this._previousScrollPosition.left),t.style.top=Sn(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),wl&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),wl&&(e.scrollBehavior=i,n.scrollBehavior=r)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class Cl{constructor(t,e,n,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Sl{enable(){}disable(){}attach(){}}function xl(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function Ol(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class kl{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();xl(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Tl=(()=>{class t{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new Sl,this.close=t=>new Cl(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new zl(this._viewportRuler,this._document),this.reposition=t=>new kl(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=i}}return t.\u0275fac=function(e){return new(e||t)(r.bc(tl),r.bc(nl),r.bc(r.A),r.bc(i.d))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(tl),Object(r.bc)(nl),Object(r.bc)(r.A),Object(r.bc)(i.d))},token:t,providedIn:"root"}),t})();class El{constructor(t){if(this.scrollStrategy=new Sl,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class Il{constructor(t,e,n,i,r){this.offsetX=n,this.offsetY=i,this.panelClass=r,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class Dl{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Ml=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.bc(i.d))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(i.d))},token:t,providedIn:"root"}),t})(),Rl=(()=>{class t extends Ml{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(i.d))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(i.d))},token:t,providedIn:"root"}),t})(),Al=(()=>{class t extends Ml{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let i=n.length-1;i>-1;i--){const r=n[i];if(!(r._outsidePointerEvents.observers.length<1)&&r.hasAttached()){if(r.overlayElement.contains(e))break;r._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(i.d),r.bc(qn))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(i.d),Object(r.bc)(qn))},token:t,providedIn:"root"}),t})();const Pl=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let Ll=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){if(this._platform.isBrowser||Pl){const t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const t=this._document.createElement("div");t.classList.add("cdk-overlay-container"),Pl?t.setAttribute("platform","test"):this._platform.isBrowser||t.setAttribute("platform","server"),this._document.body.appendChild(t),this._containerElement=t}}return t.\u0275fac=function(e){return new(e||t)(r.bc(i.d),r.bc(qn))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(i.d),Object(r.bc)(qn))},token:t,providedIn:"root"}),t})();class Fl{constructor(t,e,n,i,r,o,s,a,c){this._portalOutlet=t,this._host=e,this._pane=n,this._config=i,this._ngZone=r,this._keyboardDispatcher=o,this._document=s,this._location=a,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new xe.a,this._attachments=new xe.a,this._detachments=new xe.a,this._locationChanges=Yi.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new xe.a,this._outsidePointerEvents=new xe.a,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Object(Tn.a)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Sn(this._config.width),t.height=Sn(this._config.height),t.minWidth=Sn(this._config.minWidth),t.minHeight=Sn(this._config.minHeight),t.maxWidth=Sn(this._config.maxWidth),t.maxHeight=Sn(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const i=t.classList;Cn(e).forEach(t=>{t&&(n?i.add(t):i.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(An(Object(bl.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const jl=/([A-Za-z%]+)$/;class Nl{constructor(t,e,n,i,r){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new xe.a,this._resizeSubscription=Yi.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,i=[];let r;for(let o of this._preferredPositions){let s=this._getOriginPoint(t,o),a=this._getOverlayPoint(s,e,o),c=this._getOverlayFit(a,e,n,o);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,s);this._canFitWithFlexibleDimensions(c,a,n)?i.push({position:o,origin:s,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(s,o)}):(!r||r.overlayFit.visibleArea<c.visibleArea)&&(r={overlayFit:c,overlayPoint:a,originPoint:s,position:o,overlayRect:e})}if(i.length){let t=null,e=-1;for(const n of i){const i=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);i>e&&(e=i,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Vl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,i;if("center"==e.originX)n=t.left+t.width/2;else{const i=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?i:r}return i="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:i}}_getOverlayPoint(t,e,n){let i,r;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+r}}_getOverlayFit(t,e,n,i){const r=ql(e);let{x:o,y:s}=t,a=this._getOffset(i,"x"),c=this._getOffset(i,"y");a&&(o+=a),c&&(s+=c);let l=0-s,u=s+r.height-n.height,h=this._subtractOverflows(r.width,0-o,o+r.width-n.width),d=this._subtractOverflows(r.height,l,u),p=h*d;return{visibleArea:p,isCompletelyWithinViewport:r.width*r.height===p,fitsInViewportVertically:d===r.height,fitsInViewportHorizontally:h==r.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const i=n.bottom-e.y,r=n.right-e.x,o=Wl(this._overlayRef.getConfig().minHeight),s=Wl(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=s&&s<=r;return(t.fitsInViewportVertically||null!=o&&o<=i)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=ql(e),r=this._viewportRect,o=Math.max(t.x+i.width-r.width,0),s=Math.max(t.y+i.height-r.height,0),a=Math.max(r.top-n.top-t.y,0),c=Math.max(r.left-n.left-t.x,0);let l=0,u=0;return l=i.width<=r.width?c||-o:t.x<this._viewportMargin?r.left-n.left-t.x:0,u=i.height<=r.height?a||-s:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:l,y:u},{x:t.x+l,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new Dl(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,i=this._isRtl();let r,o,s,a,c,l;if("top"===e.overlayY)o=t.y,r=n.height-o+this._viewportMargin;else if("bottom"===e.overlayY)s=n.height-t.y+2*this._viewportMargin,r=n.height-s+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),i=this._lastBoundingBoxSize.height;r=2*e,o=t.y-e,r>i&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-i/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)l=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)c=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),i=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>i&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-i/2)}return{top:o,left:c,bottom:s,right:l,width:a,height:r}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;i.height=Sn(n.height),i.top=Sn(n.top),i.bottom=Sn(n.bottom),i.width=Sn(n.width),i.left=Sn(n.left),i.right=Sn(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(i.maxHeight=Sn(t)),r&&(i.maxWidth=Sn(r))}this._lastBoundingBoxSize=n,Vl(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Vl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Vl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},i=this._hasExactPosition(),r=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const i=this._viewportRuler.getViewportScrollPosition();Vl(n,this._getExactOverlayY(e,t,i)),Vl(n,this._getExactOverlayX(e,t,i))}else n.position="static";let s="",a=this._getOffset(e,"x"),c=this._getOffset(e,"y");a&&(s+=`translateX(${a}px) `),c&&(s+=`translateY(${c}px)`),n.transform=s.trim(),o.maxHeight&&(i?n.maxHeight=Sn(o.maxHeight):r&&(n.maxHeight="")),o.maxWidth&&(i?n.maxWidth=Sn(o.maxWidth):r&&(n.maxWidth="")),Vl(this._pane.style,n)}_getExactOverlayY(t,e,n){let i={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=o,"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":i.top=Sn(r.y),i}_getExactOverlayX(t,e,n){let i,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),i=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===i?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Sn(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Ol(t,n),isOriginOutsideView:xl(t,n),isOverlayClipped:Ol(e,n),isOverlayOutsideView:xl(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Cn(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function Vl(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Wl(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(jl);return n&&"px"!==n?null:parseFloat(e)}return t||null}function ql(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class Bl{constructor(t,e,n,i,r,o,s){this._preferredPositions=[],this._positionStrategy=new Nl(n,i,r,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,i){const r=new Il(t,e,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}class Xl{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:r,maxWidth:o,maxHeight:s}=n,a=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==r&&"100vh"!==r||s&&"100%"!==s&&"100vh"!==s);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Ul=(()=>{class t{constructor(t,e,n,i){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=i}global(){return new Xl}connectedTo(t,e,n){return new Bl(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new Nl(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(nl),r.bc(i.d),r.bc(qn),r.bc(Ll))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(nl),Object(r.bc)(i.d),Object(r.bc)(qn),Object(r.bc)(Ll))},token:t,providedIn:"root"}),t})(),$l=0,Hl=(()=>{class t{constructor(t,e,n,i,r,o,s,a,c,l,u){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=r,this._injector=o,this._ngZone=s,this._document=a,this._directionality=c,this._location=l,this._outsideClickDispatcher=u}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),r=new El(t);return r.direction=r.direction||this._directionality.value,new Fl(i,e,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+$l++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new fl(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(Tl),r.bc(Ll),r.bc(r.j),r.bc(Ul),r.bc(Rl),r.bc(r.s),r.bc(r.A),r.bc(i.d),r.bc(bn),r.bc(i.j),r.bc(Al))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();const Kl=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Gl=new r.r("cdk-connected-overlay-scroll-strategy");let Yl=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l))},t.\u0275dir=r.Mb({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),Ql=(()=>{class t{constructor(t,e,n,i,o){this._overlay=t,this._dir=o,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Yi.a.EMPTY,this._attachSubscription=Yi.a.EMPTY,this._detachSubscription=Yi.a.EMPTY,this._positionSubscription=Yi.a.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new r.n,this.positionChange=new r.n,this.attach=new r.n,this.detach=new r.n,this.overlayKeydown=new r.n,this.overlayOutsideClick=new r.n,this._templatePortal=new hl(e,n),this._scrollStrategyFactory=i,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=_n(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=_n(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=_n(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=_n(t)}get push(){return this._push}set push(t){this._push=_n(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=Kl);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),27!==t.keyCode||this.disableClose||_l(t)||(t.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(t=>{this.overlayOutsideClick.next(t)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new El({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(t,e=!1){return n=>n.lift(new yl(t,e))}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Hl),r.Rb(r.M),r.Rb(r.R),r.Rb(Gl),r.Rb(bn,8))},t.\u0275dir=r.Mb({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[r.Bb]}),t})();const Jl={provide:Gl,deps:[Hl],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let Zl=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[Hl,Jl],imports:[[vn,ml,cl],cl]}),t})(),tu=(()=>{class t{constructor(t){this.cdkConnectedOverlay=t,this.cdkConnectedOverlay.backdropClass="nz-overlay-transparent-backdrop"}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Ql))},t.\u0275dir=r.Mb({type:t,selectors:[["","cdkConnectedOverlay","","nzConnectedOverlay",""]],exportAs:["nzConnectedOverlay"]}),t})(),eu=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)}}),t})();const nu={top:new Il({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topCenter:new Il({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topLeft:new Il({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),topRight:new Il({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"}),right:new Il({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}),rightTop:new Il({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}),rightBottom:new Il({originX:"end",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),bottom:new Il({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomCenter:new Il({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomLeft:new Il({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),bottomRight:new Il({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"}),left:new Il({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"}),leftTop:new Il({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}),leftBottom:new Il({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"})},iu=[nu.top,nu.right,nu.bottom,nu.left];function ru(t){for(const e in nu)if(t.connectionPair.originX===nu[e].originX&&t.connectionPair.originY===nu[e].originY&&t.connectionPair.overlayX===nu[e].overlayX&&t.connectionPair.overlayY===nu[e].overlayY)return e}new Il({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),new Il({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"}),new Il({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"top"});const ou=["overlay"];function su(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.Nc(t.nzTitle)}}function au(t,e){if(1&t&&(r.Xb(0,"div",2),r.Xb(1,"div",3),r.Xb(2,"div",4),r.Sb(3,"span",5),r.Wb(),r.Xb(4,"div",6),r.Kc(5,su,2,1,"ng-container",7),r.Wb(),r.Wb(),r.Wb()),2&t){const t=r.jc();r.Jb("ant-tooltip-rtl","rtl"===t.dir),r.qc("ngClass",t._classMap)("ngStyle",t.nzOverlayStyle)("@.disabled",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),r.Db(3),r.qc("ngStyle",t._contentStyleMap),r.Db(1),r.qc("ngStyle",t._contentStyleMap),r.Db(1),r.qc("nzStringTemplateOutlet",t.nzTitle)}}let cu=(()=>{class t{constructor(t,e,n,i,o){this.elementRef=t,this.hostView=e,this.resolver=n,this.renderer=i,this.noAnimation=o,this.visibleChange=new r.n,this.internalVisible=!1,this.destroy$=new xe.a,this.triggerDisposables=[]}get _title(){return this.title||this.directiveTitle||null}get _content(){return this.content||this.directiveContent||null}get _trigger(){return void 0!==this.trigger?this.trigger:"hover"}get _placement(){const t=this.placement;return Array.isArray(t)&&t.length>0?t:"string"==typeof t&&t?[t]:["top"]}get _visible(){return(void 0!==this.visible?this.visible:this.internalVisible)||!1}get _mouseEnterDelay(){return this.mouseEnterDelay||.15}get _mouseLeaveDelay(){return this.mouseLeaveDelay||.1}get _overlayClassName(){return this.overlayClassName||null}get _overlayStyle(){return this.overlayStyle||null}getProxyPropertyMap(){return{noAnimation:["noAnimation",()=>this.noAnimation]}}ngOnChanges(t){const{specificTrigger:e}=t;e&&!e.isFirstChange()&&this.registerTriggers(),this.component&&this.updatePropertiesByChanges(t)}ngAfterViewInit(){this.createComponent(),this.registerTriggers()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.clearTogglingTimer(),this.removeTriggerListeners()}show(){var t;null===(t=this.component)||void 0===t||t.show()}hide(){var t;null===(t=this.component)||void 0===t||t.hide()}updatePosition(){this.component&&this.component.updatePosition()}createComponent(){const t=this.hostView.createComponent(this.componentFactory);this.component=t.instance,this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),t.location.nativeElement),this.component.setOverlayOrigin({elementRef:this.origin||this.elementRef}),this.initProperties(),this.component.nzVisibleChange.pipe(pi(),An(this.destroy$)).subscribe(t=>{this.internalVisible=t,this.visibleChange.emit(t)})}registerTriggers(){const t=this.elementRef.nativeElement,e=this.trigger;if(this.removeTriggerListeners(),"hover"===e){let e;this.triggerDisposables.push(this.renderer.listen(t,"mouseenter",()=>{this.delayEnterLeave(!0,!0,this._mouseEnterDelay)})),this.triggerDisposables.push(this.renderer.listen(t,"mouseleave",()=>{var t;this.delayEnterLeave(!0,!1,this._mouseLeaveDelay),(null===(t=this.component)||void 0===t?void 0:t.overlay.overlayRef)&&!e&&(e=this.component.overlay.overlayRef.overlayElement,this.triggerDisposables.push(this.renderer.listen(e,"mouseenter",()=>{this.delayEnterLeave(!1,!0,this._mouseEnterDelay)})),this.triggerDisposables.push(this.renderer.listen(e,"mouseleave",()=>{this.delayEnterLeave(!1,!1,this._mouseLeaveDelay)})))}))}else"focus"===e?(this.triggerDisposables.push(this.renderer.listen(t,"focus",()=>this.show())),this.triggerDisposables.push(this.renderer.listen(t,"blur",()=>this.hide()))):"click"===e&&this.triggerDisposables.push(this.renderer.listen(t,"click",t=>{t.preventDefault(),this.show()}))}updatePropertiesByChanges(t){this.updatePropertiesByKeys(Object.keys(t))}updatePropertiesByKeys(t){var e;const n=Object.assign({title:["nzTitle",()=>this._title],directiveTitle:["nzTitle",()=>this._title],content:["nzContent",()=>this._content],directiveContent:["nzContent",()=>this._content],trigger:["nzTrigger",()=>this._trigger],placement:["nzPlacement",()=>this._placement],visible:["nzVisible",()=>this._visible],mouseEnterDelay:["nzMouseEnterDelay",()=>this._mouseEnterDelay],mouseLeaveDelay:["nzMouseLeaveDelay",()=>this._mouseLeaveDelay],overlayClassName:["nzOverlayClassName",()=>this._overlayClassName],overlayStyle:["nzOverlayStyle",()=>this._overlayStyle]},this.getProxyPropertyMap());(t||Object.keys(n).filter(t=>!t.startsWith("directive"))).forEach(t=>{if(n[t]){const[e,i]=n[t];this.updateComponentValue(e,i())}}),null===(e=this.component)||void 0===e||e.updateByDirective()}initProperties(){this.updatePropertiesByKeys()}updateComponentValue(t,e){void 0!==e&&(this.component[t]=e)}delayEnterLeave(t,e,n=-1){this.delayTimer?this.clearTogglingTimer():n>0?this.delayTimer=setTimeout(()=>{this.delayTimer=void 0,e?this.show():this.hide()},1e3*n):e&&t?this.show():this.hide()}removeTriggerListeners(){this.triggerDisposables.forEach(t=>t()),this.triggerDisposables.length=0}clearTogglingTimer(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=void 0)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.R),r.Rb(r.j),r.Rb(r.F),r.Rb(Ec))},t.\u0275dir=r.Mb({type:t,features:[r.Bb]}),t})(),lu=(()=>{class t{constructor(t,e,n){this.cdr=t,this.directionality=e,this.noAnimation=n,this.nzTitle=null,this.nzContent=null,this.nzOverlayStyle={},this.nzVisibleChange=new xe.a,this._visible=!1,this._trigger="hover",this.preferredPlacement="top",this.dir="ltr",this._classMap={},this._hasBackdrop=!1,this._prefix="ant-tooltip",this._positions=[...iu],this.destroy$=new xe.a}set nzVisible(t){const e=Oi(t);this._visible!==e&&(this._visible=e,this.nzVisibleChange.next(e))}get nzVisible(){return this._visible}set nzTrigger(t){this._trigger=t}get nzTrigger(){return this._trigger}set nzPlacement(t){const e=t.map(t=>nu[t]);this._positions=[...e,...iu]}ngOnInit(){var t;null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.nzVisibleChange.complete(),this.destroy$.next(),this.destroy$.complete()}show(){this.nzVisible||(this.isEmpty()||(this.nzVisible=!0,this.nzVisibleChange.next(!0),this.cdr.detectChanges()),this.origin&&this.overlay&&this.overlay.overlayRef&&"rtl"===this.overlay.overlayRef.getDirection()&&this.overlay.overlayRef.setDirection("ltr"))}hide(){this.nzVisible&&(this.nzVisible=!1,this.nzVisibleChange.next(!1),this.cdr.detectChanges())}updateByDirective(){this.updateStyles(),this.cdr.detectChanges(),Promise.resolve().then(()=>{this.updatePosition(),this.updateVisibilityByTitle()})}updatePosition(){this.origin&&this.overlay&&this.overlay.overlayRef&&this.overlay.overlayRef.updatePosition()}onPositionChange(t){this.preferredPlacement=ru(t),this.updateStyles(),this.cdr.detectChanges()}updateStyles(){this._classMap={[this.nzOverlayClassName]:!0,[`${this._prefix}-placement-${this.preferredPlacement}`]:!0}}setOverlayOrigin(t){this.origin=t,this.cdr.markForCheck()}onClickOutside(t){this.origin.elementRef.nativeElement.contains(t.target)||this.hide()}updateVisibilityByTitle(){this.isEmpty()&&this.hide()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h),r.Rb(bn,8),r.Rb(Ec))},t.\u0275dir=r.Mb({type:t,viewQuery:function(t,e){if(1&t&&r.Qc(ou,1),2&t){let t;r.zc(t=r.gc())&&(e.overlay=t.first)}}}),t})();function uu(t){return!(t instanceof r.M||""!==t&&zi(t))}let hu=(()=>{class t extends cu{constructor(t,e,n,i,o){super(t,e,n,i,o),this.trigger="hover",this.placement="top",this.visibleChange=new r.n,this.componentFactory=this.resolver.resolveComponentFactory(du)}getProxyPropertyMap(){return{nzTooltipColor:["nzColor",()=>this.nzTooltipColor]}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.R),r.Rb(r.j),r.Rb(r.F),r.Rb(Ec,9))},t.\u0275dir=r.Mb({type:t,selectors:[["","nz-tooltip",""]],hostVars:2,hostBindings:function(t,e){2&t&&r.Jb("ant-tooltip-open",e.visible)},inputs:{trigger:["nzTooltipTrigger","trigger"],placement:["nzTooltipPlacement","placement"],title:["nzTooltipTitle","title"],directiveTitle:["nz-tooltip","directiveTitle"],origin:["nzTooltipOrigin","origin"],visible:["nzTooltipVisible","visible"],mouseEnterDelay:["nzTooltipMouseEnterDelay","mouseEnterDelay"],mouseLeaveDelay:["nzTooltipMouseLeaveDelay","mouseLeaveDelay"],overlayClassName:["nzTooltipOverlayClassName","overlayClassName"],overlayStyle:["nzTooltipOverlayStyle","overlayStyle"],nzTooltipColor:"nzTooltipColor"},outputs:{visibleChange:"nzTooltipVisibleChange"},exportAs:["nzTooltip"],features:[r.Ab]}),t})(),du=(()=>{class t extends lu{constructor(t,e,n){super(t,e,n),this.noAnimation=n,this.nzTitle=null,this._contentStyleMap={}}isEmpty(){return uu(this.nzTitle)}updateStyles(){const t=this.nzColor&&ms(this.nzColor);this._classMap={[this.nzOverlayClassName]:!0,[`${this._prefix}-placement-${this.preferredPlacement}`]:!0,[`${this._prefix}-${this.nzColor}`]:t},this._contentStyleMap={backgroundColor:this.nzColor&&!t?this.nzColor:null}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h),r.Rb(bn,8),r.Rb(Ec,9))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-tooltip"]],exportAs:["nzTooltipComponent"],features:[r.Ab],decls:2,vars:4,consts:[["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayPush","overlayOutsideClick","detach","positionChange"],["overlay","cdkConnectedOverlay"],[1,"ant-tooltip",3,"ngClass","ngStyle","nzNoAnimation"],[1,"ant-tooltip-content"],[1,"ant-tooltip-arrow"],[1,"ant-tooltip-arrow-content",3,"ngStyle"],[1,"ant-tooltip-inner",3,"ngStyle"],[4,"nzStringTemplateOutlet"]],template:function(t,e){1&t&&(r.Kc(0,au,6,10,"ng-template",0,1,r.Lc),r.fc("overlayOutsideClick",function(t){return e.onClickOutside(t)})("detach",function(){return e.hide()})("positionChange",function(t){return e.onPositionChange(t)})),2&t&&r.qc("cdkConnectedOverlayOrigin",e.origin)("cdkConnectedOverlayOpen",e._visible)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayPush",!0)},directives:[Ql,tu,i.l,i.o,Ec,ei],encapsulation:2,data:{animation:[ps]},changeDetection:0}),t})(),pu=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,Zl,ii,eu,Ic]]}),t})();var fu=n("2Vo4");function gu(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function mu(t){gu(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new Date(t.getTime()):"number"==typeof t||"[object Number]"===e?new Date(t):("string"!=typeof t&&"[object String]"!==e||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function bu(t){gu(1,arguments);var e=mu(t);return!isNaN(e)}var yu={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function vu(t){return function(e){var n=e||{},i=n.width?String(n.width):t.defaultWidth;return t.formats[i]||t.formats[t.defaultWidth]}}var _u={date:vu({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:vu({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:vu({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},wu={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function zu(t){return function(e,n){var i,r=n||{};if("formatting"===(r.context?String(r.context):"standalone")&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,s=r.width?String(r.width):o;i=t.formattingValues[s]||t.formattingValues[o]}else{var a=t.defaultWidth,c=r.width?String(r.width):t.defaultWidth;i=t.values[c]||t.values[a]}return i[t.argumentCallback?t.argumentCallback(e):e]}}function Cu(t){return function(e,n){var i=String(e),r=n||{},o=r.width,s=i.match(o&&t.matchPatterns[o]||t.matchPatterns[t.defaultMatchWidth]);if(!s)return null;var a,c=s[0],l=o&&t.parsePatterns[o]||t.parsePatterns[t.defaultParseWidth];return a="[object Array]"===Object.prototype.toString.call(l)?function(t,e){for(var n=0;n<t.length;n++)if(t[n].test(c))return n}(l):function(t,e){for(var n in t)if(t.hasOwnProperty(n)&&t[n].test(c))return n}(l),a=t.valueCallback?t.valueCallback(a):a,{value:a=r.valueCallback?r.valueCallback(a):a,rest:i.slice(c.length)}}}var Su,xu={code:"en-US",formatDistance:function(t,e,n){var i;return n=n||{},i="string"==typeof yu[t]?yu[t]:1===e?yu[t].one:yu[t].other.replace("{{count}}",e),n.addSuffix?n.comparison>0?"in "+i:i+" ago":i},formatLong:_u,formatRelative:function(t,e,n,i){return wu[t]},localize:{ordinalNumber:function(t,e){var n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:zu({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:zu({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:zu({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:zu({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:zu({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(Su={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}},function(t,e){var n=String(t),i=e||{},r=n.match(Su.matchPattern);if(!r)return null;var o=r[0],s=n.match(Su.parsePattern);if(!s)return null;var a=Su.valueCallback?Su.valueCallback(s[0]):s[0];return{value:a=i.valueCallback?i.valueCallback(a):a,rest:n.slice(o.length)}}),era:Cu({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Cu({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Cu({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Cu({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Cu({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ou(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function ku(t,e){gu(2,arguments);var n=mu(t).getTime(),i=Ou(e);return new Date(n+i)}function Tu(t,e){gu(2,arguments);var n=Ou(e);return ku(t,-n)}function Eu(t,e){for(var n=t<0?"-":"",i=Math.abs(t).toString();i.length<e;)i="0"+i;return n+i}function Iu(t){gu(1,arguments);var e=1,n=mu(t),i=n.getUTCDay(),r=(i<e?7:0)+i-e;return n.setUTCDate(n.getUTCDate()-r),n.setUTCHours(0,0,0,0),n}function Du(t){gu(1,arguments);var e=mu(t),n=e.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(n+1,0,4),i.setUTCHours(0,0,0,0);var r=Iu(i),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var s=Iu(o);return e.getTime()>=r.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function Mu(t){gu(1,arguments);var e=Du(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var i=Iu(n);return i}function Ru(t){gu(1,arguments);var e=mu(t),n=Iu(e).getTime()-Mu(e).getTime();return Math.round(n/6048e5)+1}function Au(t,e){gu(1,arguments);var n=e||{},i=n.locale,r=i&&i.options&&i.options.weekStartsOn,o=null==r?0:Ou(r),s=null==n.weekStartsOn?o:Ou(n.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var a=mu(t),c=a.getUTCDay(),l=(c<s?7:0)+c-s;return a.setUTCDate(a.getUTCDate()-l),a.setUTCHours(0,0,0,0),a}function Pu(t,e){gu(1,arguments);var n=mu(t,e),i=n.getUTCFullYear(),r=e||{},o=r.locale,s=o&&o.options&&o.options.firstWeekContainsDate,a=null==s?1:Ou(s),c=null==r.firstWeekContainsDate?a:Ou(r.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=new Date(0);l.setUTCFullYear(i+1,0,c),l.setUTCHours(0,0,0,0);var u=Au(l,e),h=new Date(0);h.setUTCFullYear(i,0,c),h.setUTCHours(0,0,0,0);var d=Au(h,e);return n.getTime()>=u.getTime()?i+1:n.getTime()>=d.getTime()?i:i-1}function Lu(t,e){gu(1,arguments);var n=e||{},i=n.locale,r=i&&i.options&&i.options.firstWeekContainsDate,o=null==r?1:Ou(r),s=null==n.firstWeekContainsDate?o:Ou(n.firstWeekContainsDate),a=Pu(t,e),c=new Date(0);c.setUTCFullYear(a,0,s),c.setUTCHours(0,0,0,0);var l=Au(c,e);return l}function Fu(t,e){gu(1,arguments);var n=mu(t),i=Au(n,e).getTime()-Lu(n,e).getTime();return Math.round(i/6048e5)+1}function ju(t,e){var n=t>0?"-":"+",i=Math.abs(t),r=Math.floor(i/60),o=i%60;if(0===o)return n+String(r);var s=e||"";return n+String(r)+s+Eu(o,2)}function Nu(t,e){return t%60==0?(t>0?"-":"+")+Eu(Math.abs(t)/60,2):Vu(t,e)}function Vu(t,e){var n=e||"",i=t>0?"-":"+",r=Math.abs(t);return i+Eu(Math.floor(r/60),2)+n+Eu(r%60,2)}var Wu={G:function(t,e,n){var i=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if("yo"===e){var i=t.getUTCFullYear();return n.ordinalNumber(i>0?i:1-i,{unit:"year"})}return function(t,e){var n=t.getUTCFullYear(),i=n>0?n:1-n;return Eu("yy"===e?i%100:i,e.length)}(t,e)},Y:function(t,e,n,i){var r=Pu(t,i),o=r>0?r:1-r;return"YY"===e?Eu(o%100,2):"Yo"===e?n.ordinalNumber(o,{unit:"year"}):Eu(o,e.length)},R:function(t,e){return Eu(Du(t),e.length)},u:function(t,e){return Eu(t.getUTCFullYear(),e.length)},Q:function(t,e,n){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return Eu(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return Eu(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){var i=t.getUTCMonth();switch(e){case"M":case"MM":return function(t,e){var n=t.getUTCMonth();return"M"===e?String(n+1):Eu(n+1,2)}(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){var i=t.getUTCMonth();switch(e){case"L":return String(i+1);case"LL":return Eu(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){var r=Fu(t,i);return"wo"===e?n.ordinalNumber(r,{unit:"week"}):Eu(r,e.length)},I:function(t,e,n){var i=Ru(t);return"Io"===e?n.ordinalNumber(i,{unit:"week"}):Eu(i,e.length)},d:function(t,e,n){return"do"===e?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):function(t,e){return Eu(t.getUTCDate(),e.length)}(t,e)},D:function(t,e,n){var i=function(t){gu(1,arguments);var e=mu(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var i=e.getTime();return Math.floor((n-i)/864e5)+1}(t);return"Do"===e?n.ordinalNumber(i,{unit:"dayOfYear"}):Eu(i,e.length)},E:function(t,e,n){var i=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){var r=t.getUTCDay(),o=(r-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Eu(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){var r=t.getUTCDay(),o=(r-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Eu(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){var i=t.getUTCDay(),r=0===i?7:i;switch(e){case"i":return String(r);case"ii":return Eu(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){var i=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){var i,r=t.getUTCHours();switch(i=12===r?"noon":0===r?"midnight":r/12>=1?"pm":"am",e){case"b":case"bb":case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){var i,r=t.getUTCHours();switch(i=r>=17?"evening":r>=12?"afternoon":r>=4?"morning":"night",e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if("ho"===e){var i=t.getUTCHours()%12;return 0===i&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return function(t,e){return Eu(t.getUTCHours()%12||12,e.length)}(t,e)},H:function(t,e,n){return"Ho"===e?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):function(t,e){return Eu(t.getUTCHours(),e.length)}(t,e)},K:function(t,e,n){var i=t.getUTCHours()%12;return"Ko"===e?n.ordinalNumber(i,{unit:"hour"}):Eu(i,e.length)},k:function(t,e,n){var i=t.getUTCHours();return 0===i&&(i=24),"ko"===e?n.ordinalNumber(i,{unit:"hour"}):Eu(i,e.length)},m:function(t,e,n){return"mo"===e?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):function(t,e){return Eu(t.getUTCMinutes(),e.length)}(t,e)},s:function(t,e,n){return"so"===e?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):function(t,e){return Eu(t.getUTCSeconds(),e.length)}(t,e)},S:function(t,e){return function(t,e){var n=e.length,i=t.getUTCMilliseconds();return Eu(Math.floor(i*Math.pow(10,n-3)),e.length)}(t,e)},X:function(t,e,n,i){var r=(i._originalDate||t).getTimezoneOffset();if(0===r)return"Z";switch(e){case"X":return Nu(r);case"XXXX":case"XX":return Vu(r);case"XXXXX":case"XXX":default:return Vu(r,":")}},x:function(t,e,n,i){var r=(i._originalDate||t).getTimezoneOffset();switch(e){case"x":return Nu(r);case"xxxx":case"xx":return Vu(r);case"xxxxx":case"xxx":default:return Vu(r,":")}},O:function(t,e,n,i){var r=(i._originalDate||t).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ju(r,":");case"OOOO":default:return"GMT"+Vu(r,":")}},z:function(t,e,n,i){var r=(i._originalDate||t).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ju(r,":");case"zzzz":default:return"GMT"+Vu(r,":")}},t:function(t,e,n,i){return Eu(Math.floor((i._originalDate||t).getTime()/1e3),e.length)},T:function(t,e,n,i){return Eu((i._originalDate||t).getTime(),e.length)}};function qu(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}}function Bu(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}}var Xu={p:Bu,P:function(t,e){var n,i=t.match(/(P+)(p+)?/),r=i[1],o=i[2];if(!o)return qu(t,e);switch(r){case"P":n=e.dateTime({width:"short"});break;case"PP":n=e.dateTime({width:"medium"});break;case"PPP":n=e.dateTime({width:"long"});break;case"PPPP":default:n=e.dateTime({width:"full"})}return n.replace("{{date}}",qu(r,e)).replace("{{time}}",Bu(o,e))}};function Uu(t){return t.getTime()%6e4}function $u(t){var e=new Date(t.getTime()),n=Math.ceil(e.getTimezoneOffset());return e.setSeconds(0,0),6e4*n+(n>0?(6e4+Uu(e))%6e4:Uu(e))}var Hu=["D","DD"],Ku=["YY","YYYY"];function Gu(t){return-1!==Hu.indexOf(t)}function Yu(t){return-1!==Ku.indexOf(t)}function Qu(t,e,n){if("YYYY"===t)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===t)throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===t)throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===t)throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}var Ju=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Zu=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,th=/^'([^]*?)'?$/,eh=/''/g,nh=/[a-zA-Z]/;function ih(t){return t.match(th)[1].replace(eh,"'")}function rh(t,e){gu(1,arguments);var n=e||{},i=n.locale,r=i&&i.options&&i.options.weekStartsOn,o=null==r?0:Ou(r),s=null==n.weekStartsOn?o:Ou(n.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var a=mu(t),c=a.getDay(),l=(c<s?7:0)+c-s;return a.setDate(a.getDate()-l),a.setHours(0,0,0,0),a}function oh(t){return gu(1,arguments),rh(t,{weekStartsOn:1})}function sh(t){gu(1,arguments);var e=mu(t),n=e.getFullYear(),i=new Date(0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);var r=oh(i),o=new Date(0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);var s=oh(o);return e.getTime()>=r.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function ah(t){gu(1,arguments);var e=sh(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var i=oh(n);return i}function ch(t,e){if(null==t)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e=e||{})e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function lh(t,e,n){gu(2,arguments);var i=n||{},r=i.locale,o=r&&r.options&&r.options.weekStartsOn,s=null==o?0:Ou(o),a=null==i.weekStartsOn?s:Ou(i.weekStartsOn);if(!(a>=0&&a<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=mu(t),l=Ou(e),u=c.getUTCDay(),h=l%7,d=(h+7)%7,p=(d<a?7:0)+l-u;return c.setUTCDate(c.getUTCDate()+p),c}var uh=/^(1[0-2]|0?\d)/,hh=/^(3[0-1]|[0-2]?\d)/,dh=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,ph=/^(5[0-3]|[0-4]?\d)/,fh=/^(2[0-3]|[0-1]?\d)/,gh=/^(2[0-4]|[0-1]?\d)/,mh=/^(1[0-1]|0?\d)/,bh=/^(1[0-2]|0?\d)/,yh=/^[0-5]?\d/,vh=/^[0-5]?\d/,_h=/^\d/,wh=/^\d{1,2}/,zh=/^\d{1,3}/,Ch=/^\d{1,4}/,Sh=/^-?\d+/,xh=/^-?\d/,Oh=/^-?\d{1,2}/,kh=/^-?\d{1,3}/,Th=/^-?\d{1,4}/,Eh=/^([+-])(\d{2})(\d{2})?|Z/,Ih=/^([+-])(\d{2})(\d{2})|Z/,Dh=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,Mh=/^([+-])(\d{2}):(\d{2})|Z/,Rh=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function Ah(t,e,n){var i=e.match(t);if(!i)return null;var r=parseInt(i[0],10);return{value:n?n(r):r,rest:e.slice(i[0].length)}}function Ph(t,e){var n=e.match(t);return n?"Z"===n[0]?{value:0,rest:e.slice(1)}:{value:("+"===n[1]?1:-1)*(36e5*(n[2]?parseInt(n[2],10):0)+6e4*(n[3]?parseInt(n[3],10):0)+1e3*(n[5]?parseInt(n[5],10):0)),rest:e.slice(n[0].length)}:null}function Lh(t,e){return Ah(Sh,t,e)}function Fh(t,e,n){switch(t){case 1:return Ah(_h,e,n);case 2:return Ah(wh,e,n);case 3:return Ah(zh,e,n);case 4:return Ah(Ch,e,n);default:return Ah(new RegExp("^\\d{1,"+t+"}"),e,n)}}function jh(t,e,n){switch(t){case 1:return Ah(xh,e,n);case 2:return Ah(Oh,e,n);case 3:return Ah(kh,e,n);case 4:return Ah(Th,e,n);default:return Ah(new RegExp("^-?\\d{1,"+t+"}"),e,n)}}function Nh(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Vh(t,e){var n,i=e>0,r=i?e:1-e;if(r<=50)n=t||100;else{var o=r+50;n=t+100*Math.floor(o/100)-(t>=o%100?100:0)}return i?n:1-n}var Wh=[31,28,31,30,31,30,31,31,30,31,30,31],qh=[31,29,31,30,31,30,31,31,30,31,30,31];function Bh(t){return t%400==0||t%4==0&&t%100!=0}var Xh={G:{priority:140,parse:function(t,e,n,i){switch(e){case"G":case"GG":case"GGG":return n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"});case"GGGGG":return n.era(t,{width:"narrow"});case"GGGG":default:return n.era(t,{width:"wide"})||n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"})}},set:function(t,e,n,i){return e.era=n,t.setUTCFullYear(n,0,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(t,e,n,i){var r=function(t){return{year:t,isTwoDigitYear:"yy"===e}};switch(e){case"y":return Fh(4,t,r);case"yo":return n.ordinalNumber(t,{unit:"year",valueCallback:r});default:return Fh(e.length,t,r)}},validate:function(t,e,n){return e.isTwoDigitYear||e.year>0},set:function(t,e,n,i){var r=t.getUTCFullYear();if(n.isTwoDigitYear){var o=Vh(n.year,r);return t.setUTCFullYear(o,0,1),t.setUTCHours(0,0,0,0),t}return t.setUTCFullYear("era"in e&&1!==e.era?1-n.year:n.year,0,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(t,e,n,i){var r=function(t){return{year:t,isTwoDigitYear:"YY"===e}};switch(e){case"Y":return Fh(4,t,r);case"Yo":return n.ordinalNumber(t,{unit:"year",valueCallback:r});default:return Fh(e.length,t,r)}},validate:function(t,e,n){return e.isTwoDigitYear||e.year>0},set:function(t,e,n,i){var r=Pu(t,i);if(n.isTwoDigitYear){var o=Vh(n.year,r);return t.setUTCFullYear(o,0,i.firstWeekContainsDate),t.setUTCHours(0,0,0,0),Au(t,i)}return t.setUTCFullYear("era"in e&&1!==e.era?1-n.year:n.year,0,i.firstWeekContainsDate),t.setUTCHours(0,0,0,0),Au(t,i)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(t,e,n,i){return jh("R"===e?4:e.length,t)},set:function(t,e,n,i){var r=new Date(0);return r.setUTCFullYear(n,0,4),r.setUTCHours(0,0,0,0),Iu(r)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(t,e,n,i){return jh("u"===e?4:e.length,t)},set:function(t,e,n,i){return t.setUTCFullYear(n,0,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(t,e,n,i){switch(e){case"Q":case"QQ":return Fh(e.length,t);case"Qo":return n.ordinalNumber(t,{unit:"quarter"});case"QQQ":return n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(t,{width:"wide",context:"formatting"})||n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return e>=1&&e<=4},set:function(t,e,n,i){return t.setUTCMonth(3*(n-1),1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(t,e,n,i){switch(e){case"q":case"qq":return Fh(e.length,t);case"qo":return n.ordinalNumber(t,{unit:"quarter"});case"qqq":return n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(t,{width:"wide",context:"standalone"})||n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,n){return e>=1&&e<=4},set:function(t,e,n,i){return t.setUTCMonth(3*(n-1),1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(t,e,n,i){var r=function(t){return t-1};switch(e){case"M":return Ah(uh,t,r);case"MM":return Fh(2,t,r);case"Mo":return n.ordinalNumber(t,{unit:"month",valueCallback:r});case"MMM":return n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(t,{width:"wide",context:"formatting"})||n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return e>=0&&e<=11},set:function(t,e,n,i){return t.setUTCMonth(n,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(t,e,n,i){var r=function(t){return t-1};switch(e){case"L":return Ah(uh,t,r);case"LL":return Fh(2,t,r);case"Lo":return n.ordinalNumber(t,{unit:"month",valueCallback:r});case"LLL":return n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(t,{width:"wide",context:"standalone"})||n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,n){return e>=0&&e<=11},set:function(t,e,n,i){return t.setUTCMonth(n,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(t,e,n,i){switch(e){case"w":return Ah(ph,t);case"wo":return n.ordinalNumber(t,{unit:"week"});default:return Fh(e.length,t)}},validate:function(t,e,n){return e>=1&&e<=53},set:function(t,e,n,i){return Au(function(t,e,n){gu(2,arguments);var i=mu(t),r=Ou(e),o=Fu(i,n)-r;return i.setUTCDate(i.getUTCDate()-7*o),i}(t,n,i),i)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(t,e,n,i){switch(e){case"I":return Ah(ph,t);case"Io":return n.ordinalNumber(t,{unit:"week"});default:return Fh(e.length,t)}},validate:function(t,e,n){return e>=1&&e<=53},set:function(t,e,n,i){return Iu(function(t,e){gu(2,arguments);var n=mu(t),i=Ou(e),r=Ru(n)-i;return n.setUTCDate(n.getUTCDate()-7*r),n}(t,n,i),i)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(t,e,n,i){switch(e){case"d":return Ah(hh,t);case"do":return n.ordinalNumber(t,{unit:"date"});default:return Fh(e.length,t)}},validate:function(t,e,n){var i=Bh(t.getUTCFullYear()),r=t.getUTCMonth();return i?e>=1&&e<=qh[r]:e>=1&&e<=Wh[r]},set:function(t,e,n,i){return t.setUTCDate(n),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(t,e,n,i){switch(e){case"D":case"DD":return Ah(dh,t);case"Do":return n.ordinalNumber(t,{unit:"date"});default:return Fh(e.length,t)}},validate:function(t,e,n){return Bh(t.getUTCFullYear())?e>=1&&e<=366:e>=1&&e<=365},set:function(t,e,n,i){return t.setUTCMonth(0,n),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(t,e,n,i){switch(e){case"E":case"EE":case"EEE":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return e>=0&&e<=6},set:function(t,e,n,i){return(t=lh(t,n,i)).setUTCHours(0,0,0,0),t},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(t,e,n,i){var r=function(t){var e=7*Math.floor((t-1)/7);return(t+i.weekStartsOn+6)%7+e};switch(e){case"e":case"ee":return Fh(e.length,t,r);case"eo":return n.ordinalNumber(t,{unit:"day",valueCallback:r});case"eee":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeeee":return n.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return e>=0&&e<=6},set:function(t,e,n,i){return(t=lh(t,n,i)).setUTCHours(0,0,0,0),t},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(t,e,n,i){var r=function(t){var e=7*Math.floor((t-1)/7);return(t+i.weekStartsOn+6)%7+e};switch(e){case"c":case"cc":return Fh(e.length,t,r);case"co":return n.ordinalNumber(t,{unit:"day",valueCallback:r});case"ccc":return n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"ccccc":return n.day(t,{width:"narrow",context:"standalone"});case"cccccc":return n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(t,{width:"wide",context:"standalone"})||n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,n){return e>=0&&e<=6},set:function(t,e,n,i){return(t=lh(t,n,i)).setUTCHours(0,0,0,0),t},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(t,e,n,i){var r=function(t){return 0===t?7:t};switch(e){case"i":case"ii":return Fh(e.length,t);case"io":return n.ordinalNumber(t,{unit:"day"});case"iii":return n.day(t,{width:"abbreviated",context:"formatting",valueCallback:r})||n.day(t,{width:"short",context:"formatting",valueCallback:r})||n.day(t,{width:"narrow",context:"formatting",valueCallback:r});case"iiiii":return n.day(t,{width:"narrow",context:"formatting",valueCallback:r});case"iiiiii":return n.day(t,{width:"short",context:"formatting",valueCallback:r})||n.day(t,{width:"narrow",context:"formatting",valueCallback:r});case"iiii":default:return n.day(t,{width:"wide",context:"formatting",valueCallback:r})||n.day(t,{width:"abbreviated",context:"formatting",valueCallback:r})||n.day(t,{width:"short",context:"formatting",valueCallback:r})||n.day(t,{width:"narrow",context:"formatting",valueCallback:r})}},validate:function(t,e,n){return e>=1&&e<=7},set:function(t,e,n,i){return(t=function(t,e){gu(2,arguments);var n=Ou(e);n%7==0&&(n-=7);var i=1,r=mu(t),o=r.getUTCDay(),s=((n%7+7)%7<i?7:0)+n-o;return r.setUTCDate(r.getUTCDate()+s),r}(t,n,i)).setUTCHours(0,0,0,0),t},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(t,e,n,i){switch(e){case"a":case"aa":case"aaa":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,n,i){return t.setUTCHours(Nh(n),0,0,0),t},incompatibleTokens:["b","B","H","K","k","t","T"]},b:{priority:80,parse:function(t,e,n,i){switch(e){case"b":case"bb":case"bbb":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,n,i){return t.setUTCHours(Nh(n),0,0,0),t},incompatibleTokens:["a","B","H","K","k","t","T"]},B:{priority:80,parse:function(t,e,n,i){switch(e){case"B":case"BB":case"BBB":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,n,i){return t.setUTCHours(Nh(n),0,0,0),t},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(t,e,n,i){switch(e){case"h":return Ah(bh,t);case"ho":return n.ordinalNumber(t,{unit:"hour"});default:return Fh(e.length,t)}},validate:function(t,e,n){return e>=1&&e<=12},set:function(t,e,n,i){var r=t.getUTCHours()>=12;return t.setUTCHours(r&&n<12?n+12:r||12!==n?n:0,0,0,0),t},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(t,e,n,i){switch(e){case"H":return Ah(fh,t);case"Ho":return n.ordinalNumber(t,{unit:"hour"});default:return Fh(e.length,t)}},validate:function(t,e,n){return e>=0&&e<=23},set:function(t,e,n,i){return t.setUTCHours(n,0,0,0),t},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(t,e,n,i){switch(e){case"K":return Ah(mh,t);case"Ko":return n.ordinalNumber(t,{unit:"hour"});default:return Fh(e.length,t)}},validate:function(t,e,n){return e>=0&&e<=11},set:function(t,e,n,i){var r=t.getUTCHours()>=12;return t.setUTCHours(r&&n<12?n+12:n,0,0,0),t},incompatibleTokens:["a","b","h","H","k","t","T"]},k:{priority:70,parse:function(t,e,n,i){switch(e){case"k":return Ah(gh,t);case"ko":return n.ordinalNumber(t,{unit:"hour"});default:return Fh(e.length,t)}},validate:function(t,e,n){return e>=1&&e<=24},set:function(t,e,n,i){return t.setUTCHours(n<=24?n%24:n,0,0,0),t},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(t,e,n,i){switch(e){case"m":return Ah(yh,t);case"mo":return n.ordinalNumber(t,{unit:"minute"});default:return Fh(e.length,t)}},validate:function(t,e,n){return e>=0&&e<=59},set:function(t,e,n,i){return t.setUTCMinutes(n,0,0),t},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(t,e,n,i){switch(e){case"s":return Ah(vh,t);case"so":return n.ordinalNumber(t,{unit:"second"});default:return Fh(e.length,t)}},validate:function(t,e,n){return e>=0&&e<=59},set:function(t,e,n,i){return t.setUTCSeconds(n,0),t},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(t,e,n,i){return Fh(e.length,t,function(t){return Math.floor(t*Math.pow(10,3-e.length))})},set:function(t,e,n,i){return t.setUTCMilliseconds(n),t},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(t,e,n,i){switch(e){case"X":return Ph(Eh,t);case"XX":return Ph(Ih,t);case"XXXX":return Ph(Dh,t);case"XXXXX":return Ph(Rh,t);case"XXX":default:return Ph(Mh,t)}},set:function(t,e,n,i){return e.timestampIsSet?t:new Date(t.getTime()-n)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(t,e,n,i){switch(e){case"x":return Ph(Eh,t);case"xx":return Ph(Ih,t);case"xxxx":return Ph(Dh,t);case"xxxxx":return Ph(Rh,t);case"xxx":default:return Ph(Mh,t)}},set:function(t,e,n,i){return e.timestampIsSet?t:new Date(t.getTime()-n)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(t,e,n,i){return Lh(t)},set:function(t,e,n,i){return[new Date(1e3*n),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(t,e,n,i){return Lh(t)},set:function(t,e,n,i){return[new Date(n),{timestampIsSet:!0}]},incompatibleTokens:"*"}},Uh=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$h=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Hh=/^'([^]*?)'?$/,Kh=/''/g,Gh=/\S/,Yh=/[a-zA-Z]/;function Qh(t,e){if(e.timestampIsSet)return t;var n=new Date(0);return n.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()),n.setHours(t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()),n}function Jh(t){return t.match(Hh)[1].replace(Kh,"'")}function Zh(t,e){gu(2,arguments);var n=mu(t),i=Ou(e);if(isNaN(i))return new Date(NaN);if(!i)return n;var r=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+i+1,0);var s=o.getDate();return r>=s?o:(n.setFullYear(o.getFullYear(),o.getMonth(),r),n)}function td(t){gu(1,arguments);var e=mu(t);return e.setHours(0,0,0,0),e}function ed(t,e){gu(2,arguments);var n=td(t),i=td(e),r=n.getTime()-$u(n),o=i.getTime()-$u(i);return Math.round((r-o)/864e5)}function nd(t,e){gu(2,arguments);var n=mu(t),i=mu(e),r=n.getFullYear()-i.getFullYear(),o=n.getMonth()-i.getMonth();return 12*r+o}function id(t,e){gu(2,arguments);var n=mu(t),i=mu(e);return n.getFullYear()-i.getFullYear()}function rd(t,e){gu(2,arguments);var n=mu(t),i=mu(e);return n.getTime()-i.getTime()}function od(t,e){gu(2,arguments);var n=rd(t,e)/36e5;return n>0?Math.floor(n):Math.ceil(n)}function sd(t,e){gu(2,arguments);var n=rd(t,e)/6e4;return n>0?Math.floor(n):Math.ceil(n)}function ad(t,e){gu(2,arguments);var n=rd(t,e)/1e3;return n>0?Math.floor(n):Math.ceil(n)}function cd(t){gu(1,arguments);var e=mu(t);return e.setHours(23,59,59,999),e}function ld(t){gu(1,arguments);var e=mu(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function ud(t,e){gu(2,arguments);var n=td(t),i=td(e);return n.getTime()===i.getTime()}function hd(t){gu(1,arguments);var e=mu(t);return e.setMinutes(0,0,0),e}function dd(t,e){gu(2,arguments);var n=hd(t),i=hd(e);return n.getTime()===i.getTime()}function pd(t){gu(1,arguments);var e=mu(t);return e.setSeconds(0,0),e}function fd(t,e){gu(2,arguments);var n=pd(t),i=pd(e);return n.getTime()===i.getTime()}function gd(t,e){gu(2,arguments);var n=mu(t),i=mu(e);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function md(t){gu(1,arguments);var e=mu(t);return e.setMilliseconds(0),e}function bd(t,e){gu(2,arguments);var n=md(t),i=md(e);return n.getTime()===i.getTime()}function yd(t,e){gu(2,arguments);var n=mu(t),i=mu(e);return n.getFullYear()===i.getFullYear()}function vd(t,e){gu(2,arguments);var n=mu(t),i=Ou(e);return isNaN(i)?new Date(NaN):i?(n.setDate(n.getDate()+i),n):n}function _d(t){gu(1,arguments);var e=mu(t),n=e.getFullYear(),i=e.getMonth(),r=new Date(0);return r.setFullYear(n,i+1,0),r.setHours(0,0,0,0),r.getDate()}function wd(t){const[e,n]=t;return!!e&&!!n&&n.isBeforeDay(e)}function zd(t){return Array.isArray(t)?t.map(t=>t instanceof Cd?t.clone():null):t instanceof Cd?t.clone():null}class Cd{constructor(t){if(t)if(t instanceof Date)this.nativeDate=t;else{if("string"!=typeof t&&"number"!=typeof t)throw new Error('The input date type is not supported ("Date" is now recommended)');vi('The string type is not recommended for date-picker, use "Date" type'),this.nativeDate=new Date(t)}else this.nativeDate=new Date}calendarStart(t){return new Cd(rh(function(t){gu(1,arguments);var e=mu(t);return e.setDate(1),e.setHours(0,0,0,0),e}(this.nativeDate),t))}getYear(){return this.nativeDate.getFullYear()}getMonth(){return this.nativeDate.getMonth()}getDay(){return this.nativeDate.getDay()}getTime(){return this.nativeDate.getTime()}getDate(){return this.nativeDate.getDate()}getHours(){return this.nativeDate.getHours()}getMinutes(){return this.nativeDate.getMinutes()}getSeconds(){return this.nativeDate.getSeconds()}getMilliseconds(){return this.nativeDate.getMilliseconds()}clone(){return new Cd(new Date(this.nativeDate))}setHms(t,e,n){const i=new Date(this.nativeDate.setHours(t,e,n));return new Cd(i)}setYear(t){return new Cd(function(t,e){gu(2,arguments);var n=mu(t),i=Ou(e);return isNaN(n)?new Date(NaN):(n.setFullYear(i),n)}(this.nativeDate,t))}addYears(t){return new Cd(function(t,e){gu(2,arguments);var n=Ou(e);return Zh(t,12*n)}(this.nativeDate,t))}setMonth(t){return new Cd(function(t,e){gu(2,arguments);var n=mu(t),i=Ou(e),r=n.getFullYear(),o=n.getDate(),s=new Date(0);s.setFullYear(r,i,15),s.setHours(0,0,0,0);var a=_d(s);return n.setMonth(i,Math.min(o,a)),n}(this.nativeDate,t))}addMonths(t){return new Cd(Zh(this.nativeDate,t))}setDay(t,e){return new Cd(function(t,e,n){gu(2,arguments);var i=n||{},r=i.locale,o=r&&r.options&&r.options.weekStartsOn,s=null==o?0:Ou(o),a=null==i.weekStartsOn?s:Ou(i.weekStartsOn);if(!(a>=0&&a<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=mu(t,i),l=Ou(e),u=c.getDay(),h=(l%7+7)%7,d=7-a;return vd(c,l<0||l>6?l-(u+d)%7:(h+d)%7-(u+d)%7,i)}(this.nativeDate,t,e))}setDate(t){const e=new Date(this.nativeDate);return e.setDate(t),new Cd(e)}addDays(t){return this.setDate(this.getDate()+t)}add(t,e){switch(e){case"decade":return this.addYears(10*t);case"year":return this.addYears(t);case"month":default:return this.addMonths(t)}}isSame(t,e="day"){let n;switch(e){case"decade":n=(t,e)=>Math.abs(t.getFullYear()-e.getFullYear())<11;break;case"year":n=yd;break;case"month":n=gd;break;case"day":n=ud;break;case"hour":n=dd;break;case"minute":n=fd;break;case"second":n=bd;break;default:n=ud}return n(this.nativeDate,this.toNativeDate(t))}isSameYear(t){return this.isSame(t,"year")}isSameMonth(t){return this.isSame(t,"month")}isSameDay(t){return this.isSame(t,"day")}isSameHour(t){return this.isSame(t,"hour")}isSameMinute(t){return this.isSame(t,"minute")}isSameSecond(t){return this.isSame(t,"second")}isBefore(t,e="day"){if(null===t)return!1;let n;switch(e){case"year":n=id;break;case"month":n=nd;break;case"day":n=ed;break;case"hour":n=od;break;case"minute":n=sd;break;case"second":n=ad;break;default:n=ed}return n(this.nativeDate,this.toNativeDate(t))<0}isBeforeYear(t){return this.isBefore(t,"year")}isBeforeMonth(t){return this.isBefore(t,"month")}isBeforeDay(t){return this.isBefore(t,"day")}isToday(){return function(t){return gu(1,arguments),ud(t,Date.now())}(this.nativeDate)}isValid(){return bu(this.nativeDate)}isFirstDayOfMonth(){return function(t){return gu(1,arguments),1===mu(t).getDate()}(this.nativeDate)}isLastDayOfMonth(){return function(t){gu(1,arguments);var e=mu(t);return cd(e).getTime()===ld(e).getTime()}(this.nativeDate)}toNativeDate(t){return t instanceof Cd?t.nativeDate:t}}class Sd{constructor(t,e){this.format=t,this.localeId=e,this.regex=null,this.matchMap={hour:null,minute:null,second:null,periodNarrow:null,periodWide:null,periodAbbreviated:null},this.genRegexp()}toDate(t){const e=this.getTimeResult(t),n=new Date;return zi(null==e?void 0:e.hour)&&n.setHours(e.hour),zi(null==e?void 0:e.minute)&&n.setMinutes(e.minute),zi(null==e?void 0:e.second)&&n.setSeconds(e.second),1===(null==e?void 0:e.period)&&n.getHours()<12&&n.setHours(n.getHours()+12),n}getTimeResult(t){const e=this.regex.exec(t);let n=null;return e?(zi(this.matchMap.periodNarrow)&&(n=Object(i.y)(this.localeId,i.f.Format,i.v.Narrow).indexOf(e[this.matchMap.periodNarrow+1])),zi(this.matchMap.periodWide)&&(n=Object(i.y)(this.localeId,i.f.Format,i.v.Wide).indexOf(e[this.matchMap.periodWide+1])),zi(this.matchMap.periodAbbreviated)&&(n=Object(i.y)(this.localeId,i.f.Format,i.v.Abbreviated).indexOf(e[this.matchMap.periodAbbreviated+1])),{hour:zi(this.matchMap.hour)?Number.parseInt(e[this.matchMap.hour+1],10):null,minute:zi(this.matchMap.minute)?Number.parseInt(e[this.matchMap.minute+1],10):null,second:zi(this.matchMap.second)?Number.parseInt(e[this.matchMap.second+1],10):null,period:n}):null}genRegexp(){let t=this.format.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$&");const e=/h{1,2}/i,n=/m{1,2}/,r=/s{1,2}/,o=/aaaaa/,s=/aaaa/,a=/a{1,3}/,c=e.exec(this.format),l=n.exec(this.format),u=r.exec(this.format),h=o.exec(this.format);let d=null,p=null;h||(d=s.exec(this.format)),d||h||(p=a.exec(this.format)),[c,l,u,h,d,p].filter(t=>!!t).sort((t,e)=>t.index-e.index).forEach((f,g)=>{switch(f){case c:this.matchMap.hour=g,t=t.replace(e,"(\\d{1,2})");break;case l:this.matchMap.minute=g,t=t.replace(n,"(\\d{1,2})");break;case u:this.matchMap.second=g,t=t.replace(r,"(\\d{1,2})");break;case h:this.matchMap.periodNarrow=g;const f=Object(i.y)(this.localeId,i.f.Format,i.v.Narrow).join("|");t=t.replace(o,`(${f})`);break;case d:this.matchMap.periodWide=g;const m=Object(i.y)(this.localeId,i.f.Format,i.v.Wide).join("|");t=t.replace(s,`(${m})`);break;case p:this.matchMap.periodAbbreviated=g;const b=Object(i.y)(this.localeId,i.f.Format,i.v.Abbreviated).join("|");t=t.replace(a,`(${b})`)}}),this.regex=new RegExp(t)}}var xd={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"},DatePicker:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},TimePicker:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Calendar:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click sort by descend",triggerAsc:"Click sort by ascend",cancelSort:"Click to cancel sort"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"}},Od={locale:"zh-cn",Pagination:{items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",jump_to_confirm:"\u786e\u5b9a",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875"},DatePicker:{lang:{placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",yearPlaceholder:"\u8bf7\u9009\u62e9\u5e74\u4efd",quarterPlaceholder:"\u8bf7\u9009\u62e9\u5b63\u5ea6",monthPlaceholder:"\u8bf7\u9009\u62e9\u6708\u4efd",weekPlaceholder:"\u8bf7\u9009\u62e9\u5468",rangePlaceholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],rangeYearPlaceholder:["\u5f00\u59cb\u5e74\u4efd","\u7ed3\u675f\u5e74\u4efd"],rangeMonthPlaceholder:["\u5f00\u59cb\u6708\u4efd","\u7ed3\u675f\u6708\u4efd"],rangeWeekPlaceholder:["\u5f00\u59cb\u5468","\u7ed3\u675f\u5468"],locale:"zh_CN",today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u786e\u5b9a",timeSelect:"\u9009\u62e9\u65f6\u95f4",dateSelect:"\u9009\u62e9\u65e5\u671f",weekSelect:"\u9009\u62e9\u5468",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u4e2a\u6708 (\u7ffb\u9875\u4e0a\u952e)",nextMonth:"\u4e0b\u4e2a\u6708 (\u7ffb\u9875\u4e0b\u952e)",monthSelect:"\u9009\u62e9\u6708\u4efd",yearSelect:"\u9009\u62e9\u5e74\u4efd",decadeSelect:"\u9009\u62e9\u5e74\u4ee3",yearFormat:"YYYY\u5e74",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u65f6mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u952e\u52a0\u5de6\u65b9\u5411\u952e)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u952e\u52a0\u53f3\u65b9\u5411\u952e)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7eaa",nextCentury:"\u4e0b\u4e00\u4e16\u7eaa"},timePickerLocale:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]}},TimePicker:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]},Calendar:{lang:{placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",yearPlaceholder:"\u8bf7\u9009\u62e9\u5e74\u4efd",quarterPlaceholder:"\u8bf7\u9009\u62e9\u5b63\u5ea6",monthPlaceholder:"\u8bf7\u9009\u62e9\u6708\u4efd",weekPlaceholder:"\u8bf7\u9009\u62e9\u5468",rangePlaceholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],rangeYearPlaceholder:["\u5f00\u59cb\u5e74\u4efd","\u7ed3\u675f\u5e74\u4efd"],rangeMonthPlaceholder:["\u5f00\u59cb\u6708\u4efd","\u7ed3\u675f\u6708\u4efd"],rangeWeekPlaceholder:["\u5f00\u59cb\u5468","\u7ed3\u675f\u5468"],locale:"zh_CN",today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u786e\u5b9a",timeSelect:"\u9009\u62e9\u65f6\u95f4",dateSelect:"\u9009\u62e9\u65e5\u671f",weekSelect:"\u9009\u62e9\u5468",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u4e2a\u6708 (\u7ffb\u9875\u4e0a\u952e)",nextMonth:"\u4e0b\u4e2a\u6708 (\u7ffb\u9875\u4e0b\u952e)",monthSelect:"\u9009\u62e9\u6708\u4efd",yearSelect:"\u9009\u62e9\u5e74\u4efd",decadeSelect:"\u9009\u62e9\u5e74\u4ee3",yearFormat:"YYYY\u5e74",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u65f6mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u952e\u52a0\u5de6\u65b9\u5411\u952e)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u952e\u52a0\u53f3\u65b9\u5411\u952e)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7eaa",nextCentury:"\u4e0b\u4e00\u4e16\u7eaa"},timePickerLocale:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]}},global:{placeholder:"\u8bf7\u9009\u62e9"},Table:{filterTitle:"\u7b5b\u9009",filterConfirm:"\u786e\u5b9a",filterReset:"\u91cd\u7f6e",filterEmptyText:"\u65e0\u7b5b\u9009\u9879",selectAll:"\u5168\u9009\u5f53\u9875",selectInvert:"\u53cd\u9009\u5f53\u9875",selectionAll:"\u5168\u9009\u6240\u6709",sortTitle:"\u6392\u5e8f",expand:"\u5c55\u5f00\u884c",collapse:"\u5173\u95ed\u884c",triggerDesc:"\u70b9\u51fb\u964d\u5e8f",triggerAsc:"\u70b9\u51fb\u5347\u5e8f",cancelSort:"\u53d6\u6d88\u6392\u5e8f"},Modal:{okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",justOkText:"\u77e5\u9053\u4e86"},Popconfirm:{cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a"},Transfer:{searchPlaceholder:"\u8bf7\u8f93\u5165\u641c\u7d22\u5185\u5bb9",itemUnit:"\u9879",itemsUnit:"\u9879",remove:"\u5220\u9664",selectCurrent:"\u5168\u9009\u5f53\u9875",removeCurrent:"\u5220\u9664\u5f53\u9875",selectAll:"\u5168\u9009\u6240\u6709",removeAll:"\u5220\u9664\u5168\u90e8",selectInvert:"\u53cd\u9009\u5f53\u9875"},Upload:{uploading:"\u6587\u4ef6\u4e0a\u4f20\u4e2d",removeFile:"\u5220\u9664\u6587\u4ef6",uploadError:"\u4e0a\u4f20\u9519\u8bef",previewFile:"\u9884\u89c8\u6587\u4ef6",downloadFile:"\u4e0b\u8f7d\u6587\u4ef6"},Empty:{description:"\u6682\u65e0\u6570\u636e"},Icon:{icon:"\u56fe\u6807"},Text:{edit:"\u7f16\u8f91",copy:"\u590d\u5236",copied:"\u590d\u5236\u6210\u529f",expand:"\u5c55\u5f00"},PageHeader:{back:"\u8fd4\u56de"}};const kd=new r.r("nz-i18n"),Td=new r.r("nz-date-locale");let Ed=(()=>{class t{constructor(t,e){this._change=new fu.a(this._locale),this.setLocale(t||Od),this.setDateLocale(e||null)}get localeChange(){return this._change.asObservable()}translate(t,e){let n=this._getObjectPath(this._locale,t);return"string"==typeof n?(e&&Object.keys(e).forEach(t=>n=n.replace(new RegExp(`%${t}%`,"g"),e[t])),n):t}setLocale(t){this._locale&&this._locale.locale===t.locale||(this._locale=t,this._change.next(t))}getLocale(){return this._locale}getLocaleId(){return this._locale?this._locale.locale:""}setDateLocale(t){this.dateLocale=t}getDateLocale(){return this.dateLocale}getLocaleData(t,e){const n=t?this._getObjectPath(this._locale,t):this._locale;return n||e||vi(`Missing translations for "${t}" in language "${this._locale.locale}".\nYou can use "NzI18nService.setLocale" as a temporary fix.\nWelcome to submit a pull request to help us optimize the translations!\nhttps://github.com/NG-ZORRO/ng-zorro-antd/blob/master/CONTRIBUTING.md`),n||e||this._getObjectPath(xd,t)||{}}_getObjectPath(t,e){let n=t;const i=e.split("."),r=i.length;let o=0;for(;n&&o<r;)n=n[i[o++]];return o===r?n:null}}return t.\u0275fac=function(e){return new(e||t)(r.bc(kd,8),r.bc(Td,8))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(kd,8),Object(r.bc)(Td,8))},token:t,providedIn:"root"}),t})(),Id=(()=>{class t{constructor(t){this._locale=t}transform(t,e){return this._locale.translate(t,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Ed))},t.\u0275pipe=r.Qb({name:"nzI18n",type:t,pure:!0}),t})(),Dd=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)}}),t})();const Md=new r.r("date-config"),Rd={firstDayOfWeek:void 0};function Ad(t,e){const n=t.get(Ed);return n.getDateLocale()?new Ld(n,e):new Fd(n,e)}let Pd=(()=>{class t{constructor(t,e){this.i18n=t,this.config=e,this.config=function(t){return Object.assign(Object.assign({},Rd),t)}(this.config)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(Ed),r.bc(Md,8))},t.\u0275prov=Object(r.Nb)({factory:function(){return Ad(Object(r.bc)(r.o),Object(r.bc)(Md,8))},token:t,providedIn:"root"}),t})(),Ld=(()=>{class t extends Pd{getISOWeek(t){return function(t){gu(1,arguments);var e=mu(t),n=oh(e).getTime()-ah(e).getTime();return Math.round(n/6048e5)+1}(t)}getFirstDayOfWeek(){let t;try{t=this.i18n.getDateLocale().options.weekStartsOn}catch(UI){t=1}return null==this.config.firstDayOfWeek?t:this.config.firstDayOfWeek}format(t,e){return t?function(t,e,n){gu(2,arguments);var i=String(e),r=n||{},o=r.locale||xu,s=o.options&&o.options.firstWeekContainsDate,a=null==s?1:Ou(s),c=null==r.firstWeekContainsDate?a:Ou(r.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=o.options&&o.options.weekStartsOn,u=null==l?0:Ou(l),h=null==r.weekStartsOn?u:Ou(r.weekStartsOn);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!o.localize)throw new RangeError("locale must contain localize property");if(!o.formatLong)throw new RangeError("locale must contain formatLong property");var d=mu(t);if(!bu(d))throw new RangeError("Invalid time value");var p=$u(d),f=Tu(d,p),g={firstWeekContainsDate:c,weekStartsOn:h,locale:o,_originalDate:d};return i.match(Zu).map(function(t){var e=t[0];return"p"===e||"P"===e?(0,Xu[e])(t,o.formatLong,g):t}).join("").match(Ju).map(function(n){if("''"===n)return"'";var i=n[0];if("'"===i)return ih(n);var s=Wu[i];if(s)return!r.useAdditionalWeekYearTokens&&Yu(n)&&Qu(n,e,t),!r.useAdditionalDayOfYearTokens&&Gu(n)&&Qu(n,e,t),s(f,n,o.localize,g);if(i.match(nh))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return n}).join("")}(t,e,{locale:this.i18n.getDateLocale()}):""}parseDate(t,e){return function(t,e,n,i){gu(3,arguments);var r=String(t),o=String(e),s=i||{},a=s.locale||xu;if(!a.match)throw new RangeError("locale must contain match property");var c=a.options&&a.options.firstWeekContainsDate,l=null==c?1:Ou(c),u=null==s.firstWeekContainsDate?l:Ou(s.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var h=a.options&&a.options.weekStartsOn,d=null==h?0:Ou(h),p=null==s.weekStartsOn?d:Ou(s.weekStartsOn);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===o)return""===r?mu(n):new Date(NaN);var f,g={firstWeekContainsDate:u,weekStartsOn:p,locale:a},m=[{priority:10,subPriority:-1,set:Qh,index:0}],b=o.match($h).map(function(t){var e=t[0];return"p"===e||"P"===e?(0,Xu[e])(t,a.formatLong,g):t}).join("").match(Uh),y=[];for(f=0;f<b.length;f++){var v=b[f];!s.useAdditionalWeekYearTokens&&Yu(v)&&Qu(v,o,t),!s.useAdditionalDayOfYearTokens&&Gu(v)&&Qu(v,o,t);var _=v[0],w=Xh[_];if(w){var z=w.incompatibleTokens;if(Array.isArray(z)){for(var C=void 0,S=0;S<y.length;S++){var x=y[S].token;if(-1!==z.indexOf(x)||x===_){C=y[S];break}}if(C)throw new RangeError("The format string mustn't contain `".concat(C.fullToken,"` and `").concat(v,"` at the same time"))}else if("*"===w.incompatibleTokens&&y.length)throw new RangeError("The format string mustn't contain `".concat(v,"` and any other token at the same time"));y.push({token:_,fullToken:v});var O=w.parse(r,v,a.match,g);if(!O)return new Date(NaN);m.push({priority:w.priority,subPriority:w.subPriority||0,set:w.set,validate:w.validate,value:O.value,index:m.length}),r=O.rest}else{if(_.match(Yh))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");if("''"===v?v="'":"'"===_&&(v=Jh(v)),0!==r.indexOf(v))return new Date(NaN);r=r.slice(v.length)}}if(r.length>0&&Gh.test(r))return new Date(NaN);var k=m.map(function(t){return t.priority}).sort(function(t,e){return e-t}).filter(function(t,e,n){return n.indexOf(t)===e}).map(function(t){return m.filter(function(e){return e.priority===t}).sort(function(t,e){return e.subPriority-t.subPriority})}).map(function(t){return t[0]}),T=mu(n);if(isNaN(T))return new Date(NaN);var E=Tu(T,$u(T)),I={};for(f=0;f<k.length;f++){var D=k[f];if(D.validate&&!D.validate(E,D.value,g))return new Date(NaN);var M=D.set(E,I,D.value,g);M[0]?(E=M[0],ch(I,M[1])):E=M}return E}(t,e,new Date,{locale:this.i18n.getDateLocale(),weekStartsOn:this.getFirstDayOfWeek()})}parseTime(t,e){return this.parseDate(t,e)}}return t.\u0275prov=Object(r.Nb)({factory:function(){return Ad(Object(r.bc)(r.o),Object(r.bc)(Md,8))},token:t,providedIn:"root"}),t})(),Fd=(()=>{class t extends Pd{getISOWeek(t){return+this.format(t,"w")}getFirstDayOfWeek(){if(void 0===this.config.firstDayOfWeek){const t=this.i18n.getLocaleId();return t&&["zh-cn","zh-tw"].indexOf(t.toLowerCase())>-1?1:0}return this.config.firstDayOfWeek}format(t,e){return t?Object(i.x)(t,e,this.i18n.getLocaleId()):""}parseDate(t){return new Date(t)}parseTime(t,e){return new Sd(e,this.i18n.getLocaleId()).toDate(t)}}return t.\u0275prov=Object(r.Nb)({factory:function(){return Ad(Object(r.bc)(r.o),Object(r.bc)(Md,8))},token:t,providedIn:"root"}),t})();var jd={locale:"es",Pagination:{items_per_page:"/ p\xe1gina",jump_to:"Ir a",jump_to_confirm:"confirmar",page:"",prev_page:"P\xe1gina anterior",next_page:"P\xe1gina siguiente",prev_5:"5 p\xe1ginas previas",next_5:"5 p\xe1ginas siguientes",prev_3:"3 p\xe1ginas previas",next_3:"3 p\xe1ginas siguientes"},DatePicker:{lang:{placeholder:"Seleccionar fecha",rangePlaceholder:["Fecha inicial","Fecha final"],locale:"es_ES",today:"Hoy",now:"Ahora",backToToday:"Volver a hoy",ok:"Aceptar",clear:"Limpiar",month:"Mes",year:"A\xf1o",timeSelect:"Seleccionar hora",dateSelect:"Seleccionar fecha",monthSelect:"Elegir un mes",yearSelect:"Elegir un a\xf1o",decadeSelect:"Elegir una d\xe9cada",yearFormat:"YYYY",dateFormat:"D/M/YYYY",dayFormat:"D",dateTimeFormat:"D/M/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Mes anterior (PageUp)",nextMonth:"Mes siguiente (PageDown)",previousYear:"A\xf1o anterior (Control + left)",nextYear:"A\xf1o siguiente (Control + right)",previousDecade:"D\xe9cada anterior",nextDecade:"D\xe9cada siguiente",previousCentury:"Siglo anterior",nextCentury:"Siglo siguiente"},timePickerLocale:{placeholder:"Seleccionar hora"}},TimePicker:{placeholder:"Seleccionar hora"},Calendar:{lang:{placeholder:"Seleccionar fecha",rangePlaceholder:["Fecha inicial","Fecha final"],locale:"es_ES",today:"Hoy",now:"Ahora",backToToday:"Volver a hoy",ok:"Aceptar",clear:"Limpiar",month:"Mes",year:"A\xf1o",timeSelect:"Seleccionar hora",dateSelect:"Seleccionar fecha",monthSelect:"Elegir un mes",yearSelect:"Elegir un a\xf1o",decadeSelect:"Elegir una d\xe9cada",yearFormat:"YYYY",dateFormat:"D/M/YYYY",dayFormat:"D",dateTimeFormat:"D/M/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Mes anterior (PageUp)",nextMonth:"Mes siguiente (PageDown)",previousYear:"A\xf1o anterior (Control + left)",nextYear:"A\xf1o siguiente (Control + right)",previousDecade:"D\xe9cada anterior",nextDecade:"D\xe9cada siguiente",previousCentury:"Siglo anterior",nextCentury:"Siglo siguiente"},timePickerLocale:{placeholder:"Seleccionar hora"}},global:{placeholder:"Seleccione"},Table:{filterTitle:"Filtrar men\xfa",filterConfirm:"Aceptar",filterReset:"Reiniciar",selectAll:"Seleccionar todo",selectInvert:"Invertir selecci\xf3n",sortTitle:"Ordenar"},Modal:{okText:"Aceptar",cancelText:"Cancelar",justOkText:"Aceptar"},Popconfirm:{okText:"Aceptar",cancelText:"Cancelar"},Transfer:{searchPlaceholder:"Buscar aqu\xed",itemUnit:"elemento",itemsUnit:"elementos"},Upload:{uploading:"Subiendo...",removeFile:"Eliminar archivo",uploadError:"Error al subir el archivo",previewFile:"Vista previa",downloadFile:"Descargar archivo"},Empty:{description:"No hay datos"},Icon:{icon:"\xedcono"},Text:{edit:"editar",copy:"copiar",copied:"copiado",expand:"expandir"},PageHeader:{back:"volver"}},Nd={locale:"pt",Pagination:{items_per_page:"/ p\xe1gina",jump_to:"Saltar",jump_to_confirm:"confirmar",page:"",prev_page:"P\xe1gina Anterior",next_page:"P\xe1gina Seguinte",prev_5:"Recuar 5 P\xe1ginas",next_5:"Avan\xe7ar 5 P\xe1ginas",prev_3:"Recuar 3 P\xe1ginas",next_3:"Avan\xe7ar 3 P\xe1ginas"},DatePicker:{lang:{locale:"pt_PT",today:"Hoje",now:"Agora",backToToday:"Hoje",ok:"Ok",clear:"Limpar",month:"M\xeas",year:"Ano",timeSelect:"Hora",dateSelect:"Selecionar data",monthSelect:"Selecionar m\xeas",yearSelect:"Selecionar ano",decadeSelect:"Selecionar d\xe9cada",yearFormat:"YYYY",dateFormat:"D/M/YYYY",dayFormat:"D",dateTimeFormat:"D/M/YYYY HH:mm:ss",monthBeforeYear:!1,previousMonth:"M\xeas anterior (PageUp)",nextMonth:"M\xeas seguinte (PageDown)",previousYear:"Ano anterior (Control + left)",nextYear:"Ano seguinte (Control + right)",previousDecade:"\xdaltima d\xe9cada",nextDecade:"Pr\xf3xima d\xe9cada",previousCentury:"\xdaltimo s\xe9culo",nextCentury:"Pr\xf3ximo s\xe9culo",placeholder:"Data",rangePlaceholder:["Data inicial","Data final"],monthFormat:"MMMM"},timePickerLocale:{placeholder:"Hora"}},TimePicker:{placeholder:"Hora"},Calendar:{lang:{locale:"pt_PT",today:"Hoje",now:"Agora",backToToday:"Hoje",ok:"Ok",clear:"Limpar",month:"M\xeas",year:"Ano",timeSelect:"Hora",dateSelect:"Selecionar data",monthSelect:"Selecionar m\xeas",yearSelect:"Selecionar ano",decadeSelect:"Selecionar d\xe9cada",yearFormat:"YYYY",dateFormat:"D/M/YYYY",dayFormat:"D",dateTimeFormat:"D/M/YYYY HH:mm:ss",monthBeforeYear:!1,previousMonth:"M\xeas anterior (PageUp)",nextMonth:"M\xeas seguinte (PageDown)",previousYear:"Ano anterior (Control + left)",nextYear:"Ano seguinte (Control + right)",previousDecade:"\xdaltima d\xe9cada",nextDecade:"Pr\xf3xima d\xe9cada",previousCentury:"\xdaltimo s\xe9culo",nextCentury:"Pr\xf3ximo s\xe9culo",placeholder:"Data",rangePlaceholder:["Data inicial","Data final"],monthFormat:"MMMM"},timePickerLocale:{placeholder:"Hora"}},Table:{filterTitle:"Filtro",filterConfirm:"Aplicar",filterReset:"Reiniciar",selectAll:"Selecionar p\xe1gina atual",selectInvert:"Inverter sele\xe7\xe3o",sortTitle:"Ordena\xe7\xe3o"},Modal:{okText:"OK",cancelText:"Cancelar",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancelar"},Transfer:{searchPlaceholder:"Procurar...",itemUnit:"item",itemsUnit:"itens"},Upload:{uploading:"A carregar...",removeFile:"Remover",uploadError:"Erro ao carregar",previewFile:"Pr\xe9-visualizar",downloadFile:"Baixar"},Empty:{description:"Sem resultados"}};const Vd=["*"];function Wd(t,e){if(1&t&&r.Sb(0,"i",6),2&t){const t=r.jc();r.qc("nzType",t.iconType)}}function qd(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.Nc(t.innerTip)}}const Bd=function(t){return["ant-form-item-explain",t]},Xd=function(t){return{$implicit:t}};function Ud(t,e){if(1&t&&(r.Xb(0,"div",7),r.Xb(1,"div"),r.Kc(2,qd,2,1,"ng-container",8),r.Wb(),r.Wb()),2&t){const t=r.jc();r.qc("ngClass",r.vc(4,Bd,"ant-form-item-explain-"+t.status)),r.Db(1),r.qc("@helpMotion",void 0),r.Db(1),r.qc("nzStringTemplateOutlet",t.innerTip)("nzStringTemplateOutletContext",r.vc(6,Xd,t.validateControl))}}function $d(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.Nc(t.nzExtra)}}function Hd(t,e){if(1&t&&(r.Xb(0,"div",9),r.Kc(1,$d,2,1,"ng-container",10),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("nzStringTemplateOutlet",t.nzExtra)}}function Kd(t,e){if(1&t&&(r.Vb(0),r.Sb(1,"i",3),r.Ub()),2&t){const t=e.$implicit,n=r.jc(2);r.Db(1),r.qc("nzType",t)("nzTheme",n.tooltipIcon.theme)}}function Gd(t,e){if(1&t&&(r.Xb(0,"span",1),r.Kc(1,Kd,2,2,"ng-container",2),r.Wb()),2&t){const t=r.jc();r.qc("nzTooltipTitle",t.nzTooltipTitle),r.Db(1),r.qc("nzStringTemplateOutlet",t.tooltipIcon.type)}}const Yd={type:"question-circle",theme:"outline"};let Qd=(()=>{class t{constructor(t,e,n,i){var r;this.nzConfigService=t,this.renderer=n,this.directionality=i,this._nzModuleName="form",this.nzLayout="horizontal",this.nzNoColon=!1,this.nzAutoTips={},this.nzDisableAutoTips=!1,this.nzTooltipIcon=Yd,this.dir="ltr",this.destroy$=new xe.a,this.inputChanges$=new xe.a,this.renderer.addClass(e.nativeElement,"ant-form"),this.dir=this.directionality.value,null===(r=this.directionality.change)||void 0===r||r.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t})}getInputObservable(t){return this.inputChanges$.pipe(Object(di.a)(e=>t in e),Object(N.a)(e=>e[t]))}ngOnChanges(t){this.inputChanges$.next(t)}ngOnDestroy(){this.inputChanges$.complete(),this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Do),r.Rb(r.l),r.Rb(r.F),r.Rb(bn,8))},t.\u0275dir=r.Mb({type:t,selectors:[["","nz-form",""]],hostVars:8,hostBindings:function(t,e){2&t&&r.Jb("ant-form-horizontal","horizontal"===e.nzLayout)("ant-form-vertical","vertical"===e.nzLayout)("ant-form-inline","inline"===e.nzLayout)("ant-form-rtl","rtl"===e.dir)},inputs:{nzLayout:"nzLayout",nzNoColon:"nzNoColon",nzAutoTips:"nzAutoTips",nzDisableAutoTips:"nzDisableAutoTips",nzTooltipIcon:"nzTooltipIcon"},exportAs:["nzForm"],features:[r.Bb]}),sr([Mo(),Di(),ar("design:type",Boolean)],t.prototype,"nzNoColon",void 0),sr([Mo(),ar("design:type",Object)],t.prototype,"nzAutoTips",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzDisableAutoTips",void 0),sr([Mo(),ar("design:type",Object)],t.prototype,"nzTooltipIcon",void 0),t})(),Jd=(()=>{class t{constructor(t,e,n){this.cdr=n,this.status=null,this.hasFeedback=!1,this.withHelpClass=!1,this.destroy$=new xe.a,e.addClass(t.nativeElement,"ant-form-item")}setWithHelpViaTips(t){this.withHelpClass=t,this.cdr.markForCheck()}setStatus(t){this.status=t,this.cdr.markForCheck()}setHasFeedback(t){this.hasFeedback=t,this.cdr.markForCheck()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.F),r.Rb(r.h))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-form-item"]],hostVars:12,hostBindings:function(t,e){2&t&&r.Jb("ant-form-item-has-success","success"===e.status)("ant-form-item-has-warning","warning"===e.status)("ant-form-item-has-error","error"===e.status)("ant-form-item-is-validating","validating"===e.status)("ant-form-item-has-feedback",e.hasFeedback&&e.status)("ant-form-item-with-help",e.withHelpClass)},exportAs:["nzFormItem"],ngContentSelectors:Vd,decls:1,vars:0,template:function(t,e){1&t&&(r.pc(),r.oc(0))},encapsulation:2,changeDetection:0}),t})();const Zd={error:"close-circle-fill",validating:"loading",success:"check-circle-fill",warning:"exclamation-circle-fill"};let tp=(()=>{class t{constructor(t,e,n,i,r,o){var s,a;this.nzFormItemComponent=e,this.cdr=n,this.nzFormDirective=o,this._hasFeedback=!1,this.validateChanges=Yi.a.EMPTY,this.validateString=null,this.destroyed$=new xe.a,this.status=null,this.validateControl=null,this.iconType=null,this.innerTip=null,this.nzAutoTips={},this.nzDisableAutoTips="default",i.addClass(t.nativeElement,"ant-form-item-control"),this.subscribeAutoTips(r.localeChange.pipe(Object(go.a)(t=>this.localeId=t.locale))),this.subscribeAutoTips(null===(s=this.nzFormDirective)||void 0===s?void 0:s.getInputObservable("nzAutoTips")),this.subscribeAutoTips(null===(a=this.nzFormDirective)||void 0===a?void 0:a.getInputObservable("nzDisableAutoTips").pipe(Object(di.a)(()=>"default"===this.nzDisableAutoTips)))}get disableAutoTips(){var t;return"default"!==this.nzDisableAutoTips?Oi(this.nzDisableAutoTips):null===(t=this.nzFormDirective)||void 0===t?void 0:t.nzDisableAutoTips}set nzHasFeedback(t){this._hasFeedback=Oi(t),this.nzFormItemComponent&&this.nzFormItemComponent.setHasFeedback(this._hasFeedback)}get nzHasFeedback(){return this._hasFeedback}set nzValidateStatus(t){t instanceof Kt||t instanceof ie?(this.validateControl=t,this.validateString=null,this.watchControl()):t instanceof he?(this.validateControl=t.control,this.validateString=null,this.watchControl()):(this.validateString=t,this.validateControl=null,this.setStatus())}watchControl(){this.validateChanges.unsubscribe(),this.validateControl&&this.validateControl.statusChanges&&(this.validateChanges=this.validateControl.statusChanges.pipe(Object(Mn.a)(null),An(this.destroyed$)).subscribe(t=>{this.disableAutoTips||this.updateAutoErrorTip(),this.setStatus(),this.cdr.markForCheck()}))}setStatus(){this.status=this.getControlStatus(this.validateString),this.iconType=this.status?Zd[this.status]:null,this.innerTip=this.getInnerTip(this.status),this.nzFormItemComponent&&(this.nzFormItemComponent.setWithHelpViaTips(!!this.innerTip),this.nzFormItemComponent.setStatus(this.status))}getControlStatus(t){let e;return e="warning"===t||this.validateControlStatus("INVALID","warning")?"warning":"error"===t||this.validateControlStatus("INVALID")?"error":"validating"===t||"pending"===t||this.validateControlStatus("PENDING")?"validating":"success"===t||this.validateControlStatus("VALID")?"success":null,e}validateControlStatus(t,e){if(this.validateControl){const{dirty:n,touched:i,status:r}=this.validateControl;return(!!n||!!i)&&(e?this.validateControl.hasError(e):r===t)}return!1}getInnerTip(t){switch(t){case"error":return!this.disableAutoTips&&this.autoErrorTip||this.nzErrorTip||null;case"validating":return this.nzValidatingTip||null;case"success":return this.nzSuccessTip||null;case"warning":return this.nzWarningTip||null;default:return null}}updateAutoErrorTip(){var t,e,n,i,r,o,s,a,c,l,u,h,d;if(this.validateControl){const p=this.validateControl.errors||{};let f="";for(const g in p)if(p.hasOwnProperty(g)&&(f=null!==(u=null!==(s=null!==(r=null!==(e=null===(t=p[g])||void 0===t?void 0:t[this.localeId])&&void 0!==e?e:null===(i=null===(n=this.nzAutoTips)||void 0===n?void 0:n[this.localeId])||void 0===i?void 0:i[g])&&void 0!==r?r:null===(o=this.nzAutoTips.default)||void 0===o?void 0:o[g])&&void 0!==s?s:null===(l=null===(c=null===(a=this.nzFormDirective)||void 0===a?void 0:a.nzAutoTips)||void 0===c?void 0:c[this.localeId])||void 0===l?void 0:l[g])&&void 0!==u?u:null===(d=null===(h=this.nzFormDirective)||void 0===h?void 0:h.nzAutoTips.default)||void 0===d?void 0:d[g]),f)break;this.autoErrorTip=f}}subscribeAutoTips(t){null==t||t.pipe(An(this.destroyed$)).subscribe(()=>{this.disableAutoTips||(this.updateAutoErrorTip(),this.setStatus(),this.cdr.markForCheck())})}ngOnChanges(t){const{nzDisableAutoTips:e,nzAutoTips:n,nzSuccessTip:i,nzWarningTip:r,nzErrorTip:o,nzValidatingTip:s}=t;e||n?(this.updateAutoErrorTip(),this.setStatus()):(i||r||o||s)&&this.setStatus()}ngOnInit(){this.setStatus()}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}ngAfterContentInit(){this.validateControl||this.validateString||(this.nzValidateStatus=this.defaultValidateControl instanceof ae?this.defaultValidateControl.control:this.defaultValidateControl)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(Jd,9),r.Rb(r.h),r.Rb(r.F),r.Rb(Ed),r.Rb(Qd,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-form-control"]],contentQueries:function(t,e,n){if(1&t&&r.Kb(n,gt,1),2&t){let t;r.zc(t=r.gc())&&(e.defaultValidateControl=t.first)}},inputs:{nzAutoTips:"nzAutoTips",nzDisableAutoTips:"nzDisableAutoTips",nzHasFeedback:"nzHasFeedback",nzValidateStatus:"nzValidateStatus",nzSuccessTip:"nzSuccessTip",nzWarningTip:"nzWarningTip",nzErrorTip:"nzErrorTip",nzValidatingTip:"nzValidatingTip",nzExtra:"nzExtra"},exportAs:["nzFormControl"],features:[r.Bb],ngContentSelectors:Vd,decls:7,vars:3,consts:[[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],[1,"ant-form-item-children-icon"],["nz-icon","",3,"nzType",4,"ngIf"],[3,"ngClass",4,"ngIf"],["class","ant-form-item-extra",4,"ngIf"],["nz-icon","",3,"nzType"],[3,"ngClass"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[1,"ant-form-item-extra"],[4,"nzStringTemplateOutlet"]],template:function(t,e){1&t&&(r.pc(),r.Xb(0,"div",0),r.Xb(1,"div",1),r.oc(2),r.Wb(),r.Xb(3,"span",2),r.Kc(4,Wd,1,1,"i",3),r.Wb(),r.Wb(),r.Kc(5,Ud,3,8,"div",4),r.Kc(6,Hd,2,1,"div",5)),2&t&&(r.Db(4),r.qc("ngIf",e.nzHasFeedback&&e.iconType),r.Db(1),r.qc("ngIf",e.innerTip),r.Db(1),r.qc("ngIf",e.nzExtra))},directives:[i.n,No,i.l,ei],encapsulation:2,data:{animation:[ss]},changeDetection:0}),t})();function ep(t){const e="string"==typeof t?{type:t}:t;return Object.assign(Object.assign({},Yd),e)}let np=(()=>{class t{constructor(t,e,n,i){this.cdr=n,this.nzFormDirective=i,this.nzRequired=!1,this.noColon="default",this._tooltipIcon="default",this.destroy$=new xe.a,e.addClass(t.nativeElement,"ant-form-item-label"),this.nzFormDirective&&(this.nzFormDirective.getInputObservable("nzNoColon").pipe(Object(di.a)(()=>"default"===this.noColon),An(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),this.nzFormDirective.getInputObservable("nzTooltipIcon").pipe(Object(di.a)(()=>"default"===this._tooltipIcon),An(this.destroy$)).subscribe(()=>this.cdr.markForCheck()))}set nzNoColon(t){this.noColon=Oi(t)}get nzNoColon(){var t;return"default"!==this.noColon?this.noColon:null===(t=this.nzFormDirective)||void 0===t?void 0:t.nzNoColon}set nzTooltipIcon(t){this._tooltipIcon=ep(t)}get tooltipIcon(){var t;return"default"!==this._tooltipIcon?this._tooltipIcon:ep((null===(t=this.nzFormDirective)||void 0===t?void 0:t.nzTooltipIcon)||Yd)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.F),r.Rb(r.h),r.Rb(Qd,12))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-form-label"]],inputs:{nzRequired:"nzRequired",nzNoColon:"nzNoColon",nzTooltipIcon:"nzTooltipIcon",nzFor:"nzFor",nzTooltipTitle:"nzTooltipTitle"},exportAs:["nzFormLabel"],ngContentSelectors:Vd,decls:3,vars:6,consts:[["class","ant-form-item-tooltip","nz-tooltip","",3,"nzTooltipTitle",4,"ngIf"],["nz-tooltip","",1,"ant-form-item-tooltip",3,"nzTooltipTitle"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType","nzTheme"]],template:function(t,e){1&t&&(r.pc(),r.Xb(0,"label"),r.oc(1),r.Kc(2,Gd,2,2,"span",0),r.Wb()),2&t&&(r.Jb("ant-form-item-no-colon",e.nzNoColon)("ant-form-item-required",e.nzRequired),r.Eb("for",e.nzFor),r.Db(2),r.qc("ngIf",e.nzTooltipTitle))},directives:[i.n,hu,ei,No],encapsulation:2,changeDetection:0}),sr([Di(),ar("design:type",Object)],t.prototype,"nzRequired",void 0),t})(),ip=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,rr,Vo,pu,Kn,Bn,ii],rr]}),t})();function rp(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"nz-form-label",4),r.Mc(2),r.Wb(),r.Ub()),2&t){const t=r.jc();r.Db(1),r.qc("nzRequired",t.to.required&&!0!==t.to.hideRequiredMarker)("nzFor",t.id),r.Db(1),r.Oc(" ",t.to.label," ")}}function op(t,e){if(1&t&&r.Sb(0,"formly-validation-message",5),2&t){const t=r.jc();r.qc("field",t.field)}}let sp=(()=>{class t extends tn{get errorState(){return this.showError?"error":""}}return t.\u0275fac=function(e){return ap(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["formly-wrapper-nz-form-field"]],features:[r.Ab],decls:7,vars:3,consts:[[4,"ngIf"],[3,"nzValidateStatus","nzErrorTip"],["fieldComponent",""],["errorTpl",""],[3,"nzRequired","nzFor"],[3,"field"]],template:function(t,e){if(1&t&&(r.Xb(0,"nz-form-item"),r.Kc(1,rp,3,3,"ng-container",0),r.Xb(2,"nz-form-control",1),r.Tb(3,null,2),r.Kc(5,op,1,1,"ng-template",null,3,r.Lc),r.Wb(),r.Wb()),2&t){const t=r.Ac(6);r.Db(1),r.qc("ngIf",e.to.label&&!0!==e.to.hideLabel),r.Db(1),r.qc("nzValidateStatus",e.errorState)("nzErrorTip",t)}},directives:[nr,Jd,i.n,ir,tp,np,on],encapsulation:2}),t})();const ap=r.Zb(sp);let cp=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[i.c,be,ip,gn.forChild({wrappers:[{name:"form-field",component:sp}]})]]}),t})();var lp=n("EY2u"),up=n("5+tZ");let hp=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Nb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),dp=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[hp]}),t})();class pp extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new xe.a,this._typeaheadSubscription=Yi.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new xe.a,this.change=new xe.a,t instanceof r.E&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(go.a)(t=>this._pressedLetters.push(t)),_e(t),Object(di.a)(()=>this._pressedLetters.length>0),Object(N.a)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const i=(this._activeItemIndex+n)%e.length,r=e[i];if(!this._skipPredicateFn(r)&&0===r.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(i);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||_l(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),i=e[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const i=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof r.E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let fp=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(mpt){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===mp(e))return!1;if(!this.isVisible(e))return!1}let i=t.nodeName.toLowerCase(),r=mp(t);return t.hasAttribute("contenteditable")?-1!==r:"iframe"!==i&&"object"!==i&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==r:"video"===i?-1!==r&&(null!==r||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||gp(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(r.bc(qn))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(qn))},token:t,providedIn:"root"}),t})();function gp(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function mp(t){if(!gp(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class bp{constructor(t,e,n,i,r=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const e=this._getFirstTabbableElement(t);return null==e||e.focus(),!!e}return t.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Object(Tn.a)(1)).subscribe(t)}}let yp=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new bp(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(fp),r.bc(r.A),r.bc(i.d))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(fp),Object(r.bc)(r.A),Object(r.bc)(i.d))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;const vp=new r.r("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),_p=new r.r("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let wp=(()=>{class t{constructor(t,e,n,i){this._ngZone=e,this._defaultOptions=i,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let i,r;return 1===e.length&&"number"==typeof e[0]?r=e[0]:[i,r]=e,this.clear(),clearTimeout(this._previousTimeout),i||(i=n&&n.politeness?n.politeness:"polite"),null==r&&n&&(r=n.duration),this._liveElement.setAttribute("aria-live",i),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof r&&(this._previousTimeout=setTimeout(()=>this.clear(),r))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}return t.\u0275fac=function(e){return new(e||t)(r.bc(vp,8),r.bc(r.A),r.bc(i.d),r.bc(_p,8))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(vp,8),Object(r.bc)(r.A),Object(r.bc)(i.d),Object(r.bc)(_p,8))},token:t,providedIn:"root"}),t})();function zp(t){return 0===t.buttons}const Cp=new r.r("cdk-focus-monitor-default-options"),Sp=Xn({passive:!0,capture:!0});let xp=(()=>{class t{constructor(t,e,n,i){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=zp(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=Op(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=Op(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let i=e;i;i=i.parentElement)n.call(this,t,i)},this._document=n,this._detectionMode=(null==i?void 0:i.detectionMode)||0}monitor(t,e=!1){const n=xn(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(wi.a)(null);const i=Hn(n)||this._getDocument(),r=this._elementInfo.get(n);if(r)return e&&(r.checkChildren=!0),r.subject;const o={checkChildren:e,subject:new xe.a,rootNode:i};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(t){const e=xn(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const i=xn(t);i===this._getDocument().activeElement?this._getClosestElementsInfo(i).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOriginForCurrentEventQueue(e),"function"==typeof i.focus&&i.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=Op(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);n&&(n.checkChildren||e===Op(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,Sp),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,Sp)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,Sp),t.addEventListener("mousedown",this._documentMousedownListener,Sp),t.addEventListener("touchstart",this._documentTouchstartListener,Sp),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Sp),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Sp),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,Sp),t.removeEventListener("mousedown",this._documentMousedownListener,Sp),t.removeEventListener("touchstart",this._documentTouchstartListener,Sp),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,i)=>{(i===t||n.checkChildren&&i.contains(t))&&e.push([i,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(r.bc(r.A),r.bc(qn),r.bc(i.d,8),r.bc(Cp,8))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(r.A),Object(r.bc)(qn),Object(r.bc)(i.d,8),Object(r.bc)(Cp,8))},token:t,providedIn:"root"}),t})();function Op(t){return t.composedPath?t.composedPath()[0]:t.target}let kp=(()=>{class t{constructor(t,e){this._elementRef=t,this._focusMonitor=e,this.cdkFocusChange=new r.n}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(t=>this.cdkFocusChange.emit(t))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(xp))},t.\u0275dir=r.Mb({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),t})(),Tp=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");const e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}return t.\u0275fac=function(e){return new(e||t)(r.bc(qn),r.bc(i.d))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(qn),Object(r.bc)(i.d))},token:t,providedIn:"root"}),t})(),Ep=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)(r.bc(Tp))},imports:[[Bn,dp]]}),t})();function Ip(t,e){if(1&t&&r.Sb(0,"span",7),2&t){const t=r.jc(2);r.qc("icon",t.nzAddOnBeforeIcon)("template",t.nzAddOnBefore)}}function Dp(t,e){}function Mp(t,e){if(1&t&&(r.Xb(0,"span",8),r.Kc(1,Dp,0,0,"ng-template",9),r.Wb()),2&t){const t=r.jc(2),e=r.Ac(4);r.Jb("ant-input-affix-wrapper-sm",t.isSmall)("ant-input-affix-wrapper-lg",t.isLarge),r.Db(1),r.qc("ngTemplateOutlet",e)}}function Rp(t,e){if(1&t&&r.Sb(0,"span",7),2&t){const t=r.jc(2);r.qc("icon",t.nzAddOnAfterIcon)("template",t.nzAddOnAfter)}}function Ap(t,e){if(1&t&&(r.Xb(0,"span",4),r.Kc(1,Ip,1,2,"span",5),r.Kc(2,Mp,2,5,"span",6),r.Kc(3,Rp,1,2,"span",5),r.Wb()),2&t){const t=r.jc(),e=r.Ac(6);r.Db(1),r.qc("ngIf",t.nzAddOnBefore||t.nzAddOnBeforeIcon),r.Db(1),r.qc("ngIf",t.isAffix)("ngIfElse",e),r.Db(1),r.qc("ngIf",t.nzAddOnAfter||t.nzAddOnAfterIcon)}}function Pp(t,e){}function Lp(t,e){if(1&t&&r.Kc(0,Pp,0,0,"ng-template",9),2&t){r.jc(2);const t=r.Ac(4);r.qc("ngTemplateOutlet",t)}}function Fp(t,e){if(1&t&&r.Kc(0,Lp,1,1,"ng-template",10),2&t){const t=r.jc(),e=r.Ac(6);r.qc("ngIf",t.isAffix)("ngIfElse",e)}}function jp(t,e){if(1&t&&r.Sb(0,"span",13),2&t){const t=r.jc(2);r.qc("icon",t.nzPrefixIcon)("template",t.nzPrefix)}}function Np(t,e){}function Vp(t,e){if(1&t&&r.Sb(0,"span",14),2&t){const t=r.jc(2);r.qc("icon",t.nzSuffixIcon)("template",t.nzSuffix)}}function Wp(t,e){if(1&t&&(r.Kc(0,jp,1,2,"span",11),r.Kc(1,Np,0,0,"ng-template",9),r.Kc(2,Vp,1,2,"span",12)),2&t){const t=r.jc(),e=r.Ac(6);r.qc("ngIf",t.nzPrefix||t.nzPrefixIcon),r.Db(1),r.qc("ngTemplateOutlet",e),r.Db(1),r.qc("ngIf",t.nzSuffix||t.nzSuffixIcon)}}function qp(t,e){1&t&&r.oc(0)}const Bp=["*"],Xp=["nz-input-group-slot",""];function Up(t,e){if(1&t&&r.Sb(0,"i",2),2&t){const t=r.jc();r.qc("nzType",t.icon)}}function $p(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc();r.Db(1),r.Nc(t.template)}}let Hp=(()=>{class t{constructor(t,e,n,i){this.ngControl=t,this.directionality=i,this.nzBorderless=!1,this.nzSize="default",this._disabled=!1,this.disabled$=new xe.a,this.dir="ltr",this.destroy$=new xe.a,e.addClass(n.nativeElement,"ant-input")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=null!=t&&"false"!=`${t}`}ngOnInit(){var t,e;this.ngControl&&(null===(t=this.ngControl.statusChanges)||void 0===t||t.pipe(Object(di.a)(()=>null!==this.ngControl.disabled),An(this.destroy$)).subscribe(()=>{this.disabled$.next(this.ngControl.disabled)})),this.dir=this.directionality.value,null===(e=this.directionality.change)||void 0===e||e.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t})}ngOnChanges(t){const{disabled:e}=t;e&&this.disabled$.next(this.disabled)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(gt,10),r.Rb(r.F),r.Rb(r.l),r.Rb(bn,8))},t.\u0275dir=r.Mb({type:t,selectors:[["input","nz-input",""],["textarea","nz-input",""]],hostVars:11,hostBindings:function(t,e){2&t&&(r.Eb("disabled",e.disabled||null),r.Jb("ant-input-disabled",e.disabled)("ant-input-borderless",e.nzBorderless)("ant-input-lg","large"===e.nzSize)("ant-input-sm","small"===e.nzSize)("ant-input-rtl","rtl"===e.dir))},inputs:{nzBorderless:"nzBorderless",nzSize:"nzSize",disabled:"disabled"},exportAs:["nzInput"],features:[r.Bb]}),sr([Di(),ar("design:type",Object)],t.prototype,"nzBorderless",void 0),t})(),Kp=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l))},t.\u0275dir=r.Mb({type:t,selectors:[["nz-input-group","nzSuffix",""],["nz-input-group","nzPrefix",""]]}),t})(),Gp=(()=>{class t{constructor(t,e,n,i){this.focusMonitor=t,this.elementRef=e,this.cdr=n,this.directionality=i,this.nzAddOnBeforeIcon=null,this.nzAddOnAfterIcon=null,this.nzPrefixIcon=null,this.nzSuffixIcon=null,this.nzSize="default",this.nzSearch=!1,this.nzCompact=!1,this.isLarge=!1,this.isSmall=!1,this.isAffix=!1,this.isAddOn=!1,this.focused=!1,this.disabled=!1,this.dir="ltr",this.destroy$=new xe.a}updateChildrenInputSize(){this.listOfNzInputDirective&&this.listOfNzInputDirective.forEach(t=>t.nzSize=this.nzSize)}ngOnInit(){var t;this.focusMonitor.monitor(this.elementRef,!0).pipe(An(this.destroy$)).subscribe(t=>{this.focused=!!t,this.cdr.markForCheck()}),this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t})}ngAfterContentInit(){this.updateChildrenInputSize();const t=this.listOfNzInputDirective.changes.pipe(Object(Mn.a)(this.listOfNzInputDirective));t.pipe(Object(Bc.a)(e=>Object(bl.a)(t,...e.map(t=>t.disabled$))),Object(up.a)(()=>t),Object(N.a)(t=>t.some(t=>t.disabled)),An(this.destroy$)).subscribe(t=>{this.disabled=t,this.cdr.markForCheck()})}ngOnChanges(t){const{nzSize:e,nzSuffix:n,nzPrefix:i,nzPrefixIcon:r,nzSuffixIcon:o,nzAddOnAfter:s,nzAddOnBefore:a,nzAddOnAfterIcon:c,nzAddOnBeforeIcon:l}=t;e&&(this.updateChildrenInputSize(),this.isLarge="large"===this.nzSize,this.isSmall="small"===this.nzSize),(n||i||r||o)&&(this.isAffix=!!(this.nzSuffix||this.nzPrefix||this.nzPrefixIcon||this.nzSuffixIcon)),(s||a||c||l)&&(this.isAddOn=!!(this.nzAddOnAfter||this.nzAddOnBefore||this.nzAddOnAfterIcon||this.nzAddOnBeforeIcon))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(xp),r.Rb(r.l),r.Rb(r.h),r.Rb(bn,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-input-group"]],contentQueries:function(t,e,n){if(1&t&&r.Kb(n,Hp,0),2&t){let t;r.zc(t=r.gc())&&(e.listOfNzInputDirective=t)}},hostVars:40,hostBindings:function(t,e){2&t&&r.Jb("ant-input-group-compact",e.nzCompact)("ant-input-search-enter-button",e.nzSearch)("ant-input-search",e.nzSearch)("ant-input-search-rtl","rtl"===e.dir)("ant-input-search-sm",e.nzSearch&&e.isSmall)("ant-input-search-large",e.nzSearch&&e.isLarge)("ant-input-group-wrapper",e.isAddOn)("ant-input-group-wrapper-rtl","rtl"===e.dir)("ant-input-group-wrapper-lg",e.isAddOn&&e.isLarge)("ant-input-group-wrapper-sm",e.isAddOn&&e.isSmall)("ant-input-affix-wrapper",e.isAffix&&!e.isAddOn)("ant-input-affix-wrapper-rtl","rtl"===e.dir)("ant-input-affix-wrapper-focused",e.isAffix&&e.focused)("ant-input-affix-wrapper-disabled",e.isAffix&&e.disabled)("ant-input-affix-wrapper-lg",e.isAffix&&!e.isAddOn&&e.isLarge)("ant-input-affix-wrapper-sm",e.isAffix&&!e.isAddOn&&e.isSmall)("ant-input-group",!e.isAffix&&!e.isAddOn)("ant-input-group-rtl","rtl"===e.dir)("ant-input-group-lg",!e.isAffix&&!e.isAddOn&&e.isLarge)("ant-input-group-sm",!e.isAffix&&!e.isAddOn&&e.isSmall)},inputs:{nzAddOnBeforeIcon:"nzAddOnBeforeIcon",nzAddOnAfterIcon:"nzAddOnAfterIcon",nzPrefixIcon:"nzPrefixIcon",nzSuffixIcon:"nzSuffixIcon",nzSize:"nzSize",nzSearch:"nzSearch",nzCompact:"nzCompact",nzAddOnBefore:"nzAddOnBefore",nzAddOnAfter:"nzAddOnAfter",nzPrefix:"nzPrefix",nzSuffix:"nzSuffix"},exportAs:["nzInputGroup"],features:[r.Bb],ngContentSelectors:Bp,decls:7,vars:2,consts:[["class","ant-input-wrapper ant-input-group",4,"ngIf","ngIfElse"],["noAddOnTemplate",""],["affixTemplate",""],["contentTemplate",""],[1,"ant-input-wrapper","ant-input-group"],["nz-input-group-slot","","type","addon",3,"icon","template",4,"ngIf"],["class","ant-input-affix-wrapper",3,"ant-input-affix-wrapper-sm","ant-input-affix-wrapper-lg",4,"ngIf","ngIfElse"],["nz-input-group-slot","","type","addon",3,"icon","template"],[1,"ant-input-affix-wrapper"],[3,"ngTemplateOutlet"],[3,"ngIf","ngIfElse"],["nz-input-group-slot","","type","prefix",3,"icon","template",4,"ngIf"],["nz-input-group-slot","","type","suffix",3,"icon","template",4,"ngIf"],["nz-input-group-slot","","type","prefix",3,"icon","template"],["nz-input-group-slot","","type","suffix",3,"icon","template"]],template:function(t,e){if(1&t&&(r.pc(),r.Kc(0,Ap,4,4,"span",0),r.Kc(1,Fp,1,2,"ng-template",null,1,r.Lc),r.Kc(3,Wp,3,3,"ng-template",null,2,r.Lc),r.Kc(5,qp,1,0,"ng-template",null,3,r.Lc)),2&t){const t=r.Ac(2);r.qc("ngIf",e.isAddOn)("ngIfElse",t)}},directives:function(){return[i.n,Yp,i.s]},encapsulation:2,changeDetection:0}),sr([Di(),ar("design:type",Object)],t.prototype,"nzSearch",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzCompact",void 0),t})(),Yp=(()=>{class t{constructor(){this.icon=null,this.type=null,this.template=null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["","nz-input-group-slot",""]],hostVars:6,hostBindings:function(t,e){2&t&&r.Jb("ant-input-group-addon","addon"===e.type)("ant-input-prefix","prefix"===e.type)("ant-input-suffix","suffix"===e.type)},inputs:{icon:"icon",type:"type",template:"template"},attrs:Xp,decls:2,vars:2,consts:[["nz-icon","",3,"nzType",4,"ngIf"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(t,e){1&t&&(r.Kc(0,Up,1,1,"i",0),r.Kc(1,$p,2,1,"ng-container",1)),2&t&&(r.qc("ngIf",e.icon),r.Db(1),r.qc("nzStringTemplateOutlet",e.template))},directives:[i.n,ei,No],encapsulation:2,changeDetection:0}),t})(),Qp=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,Vo,Bn,ii]]}),t})();const Jp=["inputElement"];let Zp=(()=>{class t{constructor(t,e,n,i){this.elementRef=t,this.cdr=e,this.focusMonitor=n,this.directionality=i,this.destroy$=new xe.a,this.isFocused=!1,this.disabledUp=!1,this.disabledDown=!1,this.dir="ltr",this.onChange=()=>{},this.onTouched=()=>{},this.nzBlur=new r.n,this.nzFocus=new r.n,this.nzSize="default",this.nzMin=-1/0,this.nzMax=1/0,this.nzParser=t=>t.trim().replace(/\u3002/g,".").replace(/[^\w\.-]+/g,""),this.nzPrecisionMode="toFixed",this.nzPlaceHolder="",this.nzStep=1,this.nzInputMode="decimal",this.nzId=null,this.nzDisabled=!1,this.nzAutoFocus=!1,this.nzFormatter=t=>t,this.elementRef.nativeElement.classList.add("ant-input-number")}onModelChange(t){this.parsedValue=this.nzParser(t),this.inputElement.nativeElement.value=`${this.parsedValue}`;const e=this.getCurrentValidValue(this.parsedValue);this.setValue(e)}getCurrentValidValue(t){let e=t;return e=""===e?"":this.isNotCompleteNumber(e)?this.value:`${this.getValidValue(e)}`,this.toNumber(e)}isNotCompleteNumber(t){return isNaN(t)||""===t||null===t||!(!t||t.toString().indexOf(".")!==t.toString().length-1)}getValidValue(t){let e=parseFloat(t);return isNaN(e)?t:(e<this.nzMin&&(e=this.nzMin),e>this.nzMax&&(e=this.nzMax),e)}toNumber(t){if(this.isNotCompleteNumber(t))return t;const e=String(t);if(e.indexOf(".")>=0&&zi(this.nzPrecision)){if("function"==typeof this.nzPrecisionMode)return this.nzPrecisionMode(t,this.nzPrecision);if("cut"===this.nzPrecisionMode){const t=e.split(".");return t[1]=t[1].slice(0,this.nzPrecision),Number(t.join("."))}return Number(Number(t).toFixed(this.nzPrecision))}return Number(t)}getRatio(t){let e=1;return t.metaKey||t.ctrlKey?e=.1:t.shiftKey&&(e=10),e}down(t,e){this.isFocused||this.focus(),this.step("down",t,e)}up(t,e){this.isFocused||this.focus(),this.step("up",t,e)}getPrecision(t){const e=t.toString();if(e.indexOf("e-")>=0)return parseInt(e.slice(e.indexOf("e-")+2),10);let n=0;return e.indexOf(".")>=0&&(n=e.length-e.indexOf(".")-1),n}getMaxPrecision(t,e){if(zi(this.nzPrecision))return this.nzPrecision;const n=this.getPrecision(e),i=this.getPrecision(this.nzStep),r=this.getPrecision(t);return t?Math.max(r,n+i):n+i}getPrecisionFactor(t,e){const n=this.getMaxPrecision(t,e);return Math.pow(10,n)}upStep(t,e){const n=this.getPrecisionFactor(t,e),i=Math.abs(this.getMaxPrecision(t,e));let r;return r="number"==typeof t?((n*t+n*this.nzStep*e)/n).toFixed(i):this.nzMin===-1/0?this.nzStep:this.nzMin,this.toNumber(r)}downStep(t,e){const n=this.getPrecisionFactor(t,e),i=Math.abs(this.getMaxPrecision(t,e));let r;return r="number"==typeof t?((n*t-n*this.nzStep*e)/n).toFixed(i):this.nzMin===-1/0?-this.nzStep:this.nzMin,this.toNumber(r)}step(t,e,n=1){if(this.stop(),e.preventDefault(),this.nzDisabled)return;const i=this.getCurrentValidValue(this.parsedValue)||0;let r=0;"up"===t?r=this.upStep(i,n):"down"===t&&(r=this.downStep(i,n));const o=r>this.nzMax||r<this.nzMin;r>this.nzMax?r=this.nzMax:r<this.nzMin&&(r=this.nzMin),this.setValue(r),this.updateDisplayValue(r),this.isFocused=!0,o||(this.autoStepTimer=setTimeout(()=>{this[t](e,n)},300))}stop(){this.autoStepTimer&&clearTimeout(this.autoStepTimer)}setValue(t){if(`${this.value}`!=`${t}`&&this.onChange(t),this.value=t,this.parsedValue=t,this.disabledUp=this.disabledDown=!1,t||0===t){const e=Number(t);e>=this.nzMax&&(this.disabledUp=!0),e<=this.nzMin&&(this.disabledDown=!0)}}updateDisplayValue(t){const e=zi(this.nzFormatter(t))?this.nzFormatter(t):"";this.displayValue=e,this.inputElement.nativeElement.value=`${e}`}onKeyDown(t){if(38===t.keyCode){const e=this.getRatio(t);this.up(t,e),this.stop()}else if(40===t.keyCode){const e=this.getRatio(t);this.down(t,e),this.stop()}else 13===t.keyCode&&this.updateDisplayValue(this.value)}writeValue(t){this.value=t,this.setValue(t),this.updateDisplayValue(t),this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.nzDisabled=t,this.cdr.markForCheck()}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}ngOnInit(){var t;this.focusMonitor.monitor(this.elementRef,!0).subscribe(t=>{t?(this.isFocused=!0,this.nzFocus.emit()):(this.isFocused=!1,this.updateDisplayValue(this.value),this.nzBlur.emit(),Promise.resolve().then(()=>this.onTouched()))}),this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t})}ngOnChanges(t){if(t.nzFormatter&&!t.nzFormatter.isFirstChange()){const t=this.getCurrentValidValue(this.parsedValue);this.setValue(t),this.updateDisplayValue(t)}}ngAfterViewInit(){this.nzAutoFocus&&this.focus()}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef),this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.h),r.Rb(xp),r.Rb(bn,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-input-number"]],viewQuery:function(t,e){if(1&t&&r.Qc(Jp,3),2&t){let t;r.zc(t=r.gc())&&(e.inputElement=t.first)}},hostVars:10,hostBindings:function(t,e){2&t&&r.Jb("ant-input-number-focused",e.isFocused)("ant-input-number-lg","large"===e.nzSize)("ant-input-number-sm","small"===e.nzSize)("ant-input-number-disabled",e.nzDisabled)("ant-input-number-rtl","rtl"===e.dir)},inputs:{nzSize:"nzSize",nzMin:"nzMin",nzMax:"nzMax",nzParser:"nzParser",nzPrecisionMode:"nzPrecisionMode",nzPlaceHolder:"nzPlaceHolder",nzStep:"nzStep",nzInputMode:"nzInputMode",nzId:"nzId",nzDisabled:"nzDisabled",nzAutoFocus:"nzAutoFocus",nzFormatter:"nzFormatter",nzPrecision:"nzPrecision"},outputs:{nzBlur:"nzBlur",nzFocus:"nzFocus"},exportAs:["nzInputNumber"],features:[r.Cb([{provide:X,useExisting:Object(r.W)(()=>t),multi:!0}]),r.Bb],decls:8,vars:13,consts:[[1,"ant-input-number-handler-wrap"],["unselectable","unselectable",1,"ant-input-number-handler","ant-input-number-handler-up",3,"mousedown","mouseup","mouseleave"],["nz-icon","","nzType","up",1,"ant-input-number-handler-up-inner"],["unselectable","unselectable",1,"ant-input-number-handler","ant-input-number-handler-down",3,"mousedown","mouseup","mouseleave"],["nz-icon","","nzType","down",1,"ant-input-number-handler-down-inner"],[1,"ant-input-number-input-wrap"],["autocomplete","off",1,"ant-input-number-input",3,"disabled","placeholder","ngModel","keydown","keyup","ngModelChange"],["inputElement",""]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.Xb(1,"span",1),r.fc("mousedown",function(t){return e.up(t)})("mouseup",function(){return e.stop()})("mouseleave",function(){return e.stop()}),r.Sb(2,"i",2),r.Wb(),r.Xb(3,"span",3),r.fc("mousedown",function(t){return e.down(t)})("mouseup",function(){return e.stop()})("mouseleave",function(){return e.stop()}),r.Sb(4,"i",4),r.Wb(),r.Wb(),r.Xb(5,"div",5),r.Xb(6,"input",6,7),r.fc("keydown",function(t){return e.onKeyDown(t)})("keyup",function(){return e.stop()})("ngModelChange",function(t){return e.onModelChange(t)}),r.Wb(),r.Wb()),2&t&&(r.Db(1),r.Jb("ant-input-number-handler-up-disabled",e.disabledUp),r.Db(2),r.Jb("ant-input-number-handler-down-disabled",e.disabledDown),r.Db(3),r.qc("disabled",e.nzDisabled)("placeholder",e.nzPlaceHolder)("ngModel",e.displayValue),r.Eb("id",e.nzId)("autofocus",e.nzAutoFocus?"autofocus":null)("min",e.nzMin)("max",e.nzMax)("step",e.nzStep)("inputmode",e.nzInputMode))},directives:[No,G,bt,ie],encapsulation:2,changeDetection:0}),sr([Di(),ar("design:type",Object)],t.prototype,"nzDisabled",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzAutoFocus",void 0),t})(),tf=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,me,Vo]]}),t})();function ef(t,e){if(1&t&&r.Sb(0,"input",2),2&t){const t=r.jc();r.qc("formControl",t.formControl)("type",t.to.type||"text")("formlyAttributes",t.field)}}function nf(t,e){if(1&t&&r.Sb(0,"nz-input-number",3),2&t){const t=r.jc();r.qc("formControl",t.formControl)("formlyAttributes",t.field)}}let rf=(()=>{class t extends Je{}return t.\u0275fac=function(e){return of(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["formly-field-nz-input"]],features:[r.Ab],decls:3,vars:2,consts:[["nz-input","",3,"formControl","type","formlyAttributes",4,"ngIf","ngIfElse"],["numberTmp",""],["nz-input","",3,"formControl","type","formlyAttributes"],[3,"formControl","formlyAttributes"]],template:function(t,e){if(1&t&&(r.Kc(0,ef,1,3,"input",0),r.Kc(1,nf,1,2,"ng-template",null,1,r.Lc)),2&t){const t=r.Ac(2);r.qc("ngIf","number"!==e.to.type)("ngIfElse",t)}},directives:[i.n,Hp,G,bt,ae,Qe,Zp],encapsulation:2}),t})();const of=r.Zb(rf);let sf=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[i.c,be,Qp,tf,cp,gn.forChild({types:[{name:"input",component:rf,wrappers:["form-field"]}]})]]}),t})(),af=(()=>{class t extends Je{}return t.\u0275fac=function(e){return cf(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["formly-field-nz-textarea"]],features:[r.Ab],decls:1,vars:2,consts:[["nz-input","",3,"formControl","formlyAttributes"]],template:function(t,e){1&t&&r.Sb(0,"textarea",0),2&t&&r.qc("formControl",e.formControl)("formlyAttributes",e.field)},directives:[Hp,G,bt,ae,Qe],encapsulation:2}),t})();const cf=r.Zb(af);let lf=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[i.c,be,Qp,cp,gn.forChild({types:[{name:"textarea",component:af,wrappers:["form-field"]}]})]]}),t})(),uf=(()=>{class t{transform(t,e){return t instanceof F.a||(t=Object(wi.a)(t)),t.pipe(Object(N.a)(t=>this.toOptions(t,e||{})))}toOptions(t,e){const n=[],i={},r=e.templateOptions||{};return t.map(t=>{this.getGroupProp(t,r)?(i[this.getGroupProp(t,r)]||(i[this.getGroupProp(t,r)]=[],n.push({label:this.getGroupProp(t,r),group:i[this.getGroupProp(t,r)]})),i[this.getGroupProp(t,r)].push(this.toOption(t,r))):n.push(this.toOption(t,r))}),n}toOption(t,e){return{label:this.getLabelProp(t,e),value:this.getValueProp(t,e),disabled:this.getDisabledProp(t,e)||!1}}getLabelProp(t,e){return"function"==typeof e.labelProp?e.labelProp(t):this.shouldUseLegacyOption(t,e)?(console.warn("NgxFormly: legacy select option '{key, value}' is deprecated since v5.5, use '{value, label}' instead."),t.value):t[e.labelProp||"label"]}getValueProp(t,e){return"function"==typeof e.valueProp?e.valueProp(t):this.shouldUseLegacyOption(t,e)?t.key:t[e.valueProp||"value"]}getDisabledProp(t,e){return"function"==typeof e.disabledProp?e.disabledProp(t):t[e.disabledProp||"disabled"]}getGroupProp(t,e){return"function"==typeof e.groupProp?e.groupProp(t):t[e.groupProp||"group"]}shouldUseLegacyOption(t,e){return!e.valueProp&&!e.labelProp&&null!=t&&"object"==typeof t&&"key"in t&&"value"in t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Qb({name:"formlySelectOptions",type:t,pure:!0}),t})(),hf=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)}}),t})();const df=["*"],pf=["inputElement"],ff=["nz-radio",""];let gf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["","nz-radio-button",""]]}),t})(),mf=(()=>{class t{constructor(){this.selected$=new tr(1),this.touched$=new xe.a,this.disabled$=new tr(1),this.name$=new tr(1)}touch(){this.touched$.next()}select(t){this.selected$.next(t)}setDisabled(t){this.disabled$.next(t)}setName(t){this.name$.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),bf=(()=>{class t{constructor(t,e,n,i){this.cdr=t,this.nzRadioService=e,this.elementRef=n,this.directionality=i,this.value=null,this.destroy$=new xe.a,this.onChange=()=>{},this.onTouched=()=>{},this.nzDisabled=!1,this.nzButtonStyle="outline",this.nzSize="default",this.nzName=null,this.dir="ltr",this.elementRef.nativeElement.classList.add("ant-radio-group")}ngOnInit(){var t;this.nzRadioService.selected$.subscribe(t=>{this.value!==t&&(this.value=t,this.onChange(this.value))}),this.nzRadioService.touched$.subscribe(()=>{Promise.resolve().then(()=>this.onTouched())}),null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(t){const{nzDisabled:e,nzName:n}=t;e&&this.nzRadioService.setDisabled(this.nzDisabled),n&&this.nzRadioService.setName(this.nzName)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}writeValue(t){this.value=t,this.nzRadioService.select(t),this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.nzDisabled=t,this.nzRadioService.setDisabled(t),this.cdr.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h),r.Rb(mf),r.Rb(r.l),r.Rb(bn,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-radio-group"]],hostVars:8,hostBindings:function(t,e){2&t&&r.Jb("ant-radio-group-large","large"===e.nzSize)("ant-radio-group-small","small"===e.nzSize)("ant-radio-group-solid","solid"===e.nzButtonStyle)("ant-radio-group-rtl","rtl"===e.dir)},inputs:{nzDisabled:"nzDisabled",nzButtonStyle:"nzButtonStyle",nzSize:"nzSize",nzName:"nzName"},exportAs:["nzRadioGroup"],features:[r.Cb([mf,{provide:X,useExisting:Object(r.W)(()=>t),multi:!0}]),r.Bb],ngContentSelectors:df,decls:1,vars:0,template:function(t,e){1&t&&(r.pc(),r.oc(0))},encapsulation:2,changeDetection:0}),sr([Di(),ar("design:type",Object)],t.prototype,"nzDisabled",void 0),t})(),yf=(()=>{class t{constructor(t,e,n,i,r,o){this.elementRef=t,this.cdr=e,this.focusMonitor=n,this.directionality=i,this.nzRadioService=r,this.nzRadioButtonDirective=o,this.isNgModel=!1,this.destroy$=new xe.a,this.isChecked=!1,this.name=null,this.isRadioButton=!!this.nzRadioButtonDirective,this.onChange=()=>{},this.onTouched=()=>{},this.nzValue=null,this.nzDisabled=!1,this.nzAutoFocus=!1,this.dir="ltr"}onHostClick(t){t.stopPropagation(),t.preventDefault(),this.nzDisabled||this.isChecked||(this.nzRadioService&&this.nzRadioService.select(this.nzValue),this.isNgModel&&(this.isChecked=!0,this.onChange(!0)))}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}setDisabledState(t){this.nzDisabled=t,this.cdr.markForCheck()}writeValue(t){this.isChecked=t,this.cdr.markForCheck()}registerOnChange(t){this.isNgModel=!0,this.onChange=t}registerOnTouched(t){this.onTouched=t}ngOnInit(){var t;this.nzRadioService&&(this.nzRadioService.name$.pipe(An(this.destroy$)).subscribe(t=>{this.name=t,this.cdr.markForCheck()}),this.nzRadioService.disabled$.pipe(An(this.destroy$)).subscribe(t=>{this.nzDisabled=t,this.cdr.markForCheck()}),this.nzRadioService.selected$.pipe(An(this.destroy$)).subscribe(t=>{this.isChecked=this.nzValue===t,this.cdr.markForCheck()})),this.focusMonitor.monitor(this.elementRef,!0).subscribe(t=>{t||(Promise.resolve().then(()=>this.onTouched()),this.nzRadioService&&this.nzRadioService.touch())}),null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterViewInit(){this.nzAutoFocus&&this.focus()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.focusMonitor.stopMonitoring(this.elementRef)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.h),r.Rb(xp),r.Rb(bn,8),r.Rb(mf,8),r.Rb(gf,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["","nz-radio",""],["","nz-radio-button",""]],viewQuery:function(t,e){if(1&t&&r.Qc(pf,1),2&t){let t;r.zc(t=r.gc())&&(e.inputElement=t.first)}},hostVars:16,hostBindings:function(t,e){1&t&&r.fc("click",function(t){return e.onHostClick(t)}),2&t&&r.Jb("ant-radio-wrapper",!e.isRadioButton)("ant-radio-button-wrapper",e.isRadioButton)("ant-radio-wrapper-checked",e.isChecked&&!e.isRadioButton)("ant-radio-button-wrapper-checked",e.isChecked&&e.isRadioButton)("ant-radio-wrapper-disabled",e.nzDisabled&&!e.isRadioButton)("ant-radio-button-wrapper-disabled",e.nzDisabled&&e.isRadioButton)("ant-radio-wrapper-rtl",!e.isRadioButton&&"rtl"===e.dir)("ant-radio-button-wrapper-rtl",e.isRadioButton&&"rtl"===e.dir)},inputs:{nzValue:"nzValue",nzDisabled:"nzDisabled",nzAutoFocus:"nzAutoFocus"},exportAs:["nzRadio"],features:[r.Cb([{provide:X,useExisting:Object(r.W)(()=>t),multi:!0}])],attrs:ff,ngContentSelectors:df,decls:6,vars:24,consts:[["type","radio",3,"disabled","checked"],["inputElement",""]],template:function(t,e){1&t&&(r.pc(),r.Xb(0,"span"),r.Sb(1,"input",0,1),r.Sb(3,"span"),r.Wb(),r.Xb(4,"span"),r.oc(5),r.Wb()),2&t&&(r.Jb("ant-radio",!e.isRadioButton)("ant-radio-checked",e.isChecked&&!e.isRadioButton)("ant-radio-disabled",e.nzDisabled&&!e.isRadioButton)("ant-radio-button",e.isRadioButton)("ant-radio-button-checked",e.isChecked&&e.isRadioButton)("ant-radio-button-disabled",e.nzDisabled&&e.isRadioButton),r.Db(1),r.Jb("ant-radio-input",!e.isRadioButton)("ant-radio-button-input",e.isRadioButton),r.qc("disabled",e.nzDisabled)("checked",e.isChecked),r.Eb("autofocus",e.nzAutoFocus?"autofocus":null)("name",e.name),r.Db(2),r.Jb("ant-radio-inner",!e.isRadioButton)("ant-radio-button-inner",e.isRadioButton))},encapsulation:2,changeDetection:0}),sr([Di(),ar("design:type",Object)],t.prototype,"nzDisabled",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzAutoFocus",void 0),t})(),vf=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,me]]}),t})();function _f(t,e){if(1&t&&(r.Xb(0,"label",2),r.Mc(1),r.Wb()),2&t){const t=e.$implicit;r.qc("nzValue",t.value),r.Db(1),r.Oc(" ",t.label," ")}}let wf=(()=>{class t extends Je{constructor(){super(...arguments),this.defaultOptions={templateOptions:{options:[]}}}}return t.\u0275fac=function(e){return zf(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["formly-field-nz-radio"]],features:[r.Ab],decls:4,vars:7,consts:[[3,"formControl"],["nz-radio","",3,"nzValue",4,"ngFor","ngForOf"],["nz-radio","",3,"nzValue"]],template:function(t,e){1&t&&(r.Xb(0,"nz-radio-group",0),r.Kc(1,_f,2,2,"label",1),r.kc(2,"async"),r.kc(3,"formlySelectOptions"),r.Wb()),2&t&&(r.qc("formControl",e.formControl),r.Db(1),r.qc("ngForOf",r.lc(2,2,r.mc(3,4,e.to.options,e.field))))},directives:[bf,bt,ae,i.m,yf],pipes:[i.b,uf],encapsulation:2}),t})();const zf=r.Zb(wf);let Cf=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[i.c,be,vf,cp,hf,gn.forChild({types:[{name:"radio",component:wf,wrappers:["form-field"]}]})]]}),t})();const Sf=["*"],xf=["inputElement"],Of=["nz-checkbox",""];let kf=(()=>{class t{constructor(t,e){this.nzOnChange=new r.n,this.checkboxList=[],t.addClass(e.nativeElement,"ant-checkbox-group")}addCheckbox(t){this.checkboxList.push(t)}removeCheckbox(t){this.checkboxList.splice(this.checkboxList.indexOf(t),1)}onChange(){const t=this.checkboxList.filter(t=>t.nzChecked).map(t=>t.nzValue);this.nzOnChange.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.F),r.Rb(r.l))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-checkbox-wrapper"]],outputs:{nzOnChange:"nzOnChange"},exportAs:["nzCheckboxWrapper"],ngContentSelectors:Sf,decls:1,vars:0,template:function(t,e){1&t&&(r.pc(),r.oc(0))},encapsulation:2,changeDetection:0}),t})(),Tf=(()=>{class t{constructor(t,e,n,i,o){this.elementRef=t,this.nzCheckboxWrapperComponent=e,this.cdr=n,this.focusMonitor=i,this.directionality=o,this.dir="ltr",this.destroy$=new xe.a,this.onChange=()=>{},this.onTouched=()=>{},this.nzCheckedChange=new r.n,this.nzValue=null,this.nzAutoFocus=!1,this.nzDisabled=!1,this.nzIndeterminate=!1,this.nzChecked=!1,this.elementRef.nativeElement.classList.add("ant-checkbox-wrapper")}hostClick(t){t.preventDefault(),this.focus(),this.innerCheckedChange(!this.nzChecked)}innerCheckedChange(t){this.nzDisabled||(this.nzChecked=t,this.onChange(this.nzChecked),this.nzCheckedChange.emit(this.nzChecked),this.nzCheckboxWrapperComponent&&this.nzCheckboxWrapperComponent.onChange())}writeValue(t){this.nzChecked=t,this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.nzDisabled=t,this.cdr.markForCheck()}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}ngOnInit(){var t;this.focusMonitor.monitor(this.elementRef,!0).subscribe(t=>{t||Promise.resolve().then(()=>this.onTouched())}),this.nzCheckboxWrapperComponent&&this.nzCheckboxWrapperComponent.addCheckbox(this),null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterViewInit(){this.nzAutoFocus&&this.focus()}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef),this.nzCheckboxWrapperComponent&&this.nzCheckboxWrapperComponent.removeCheckbox(this),this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(kf,8),r.Rb(r.h),r.Rb(xp),r.Rb(bn,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["","nz-checkbox",""]],viewQuery:function(t,e){if(1&t&&r.Qc(xf,3),2&t){let t;r.zc(t=r.gc())&&(e.inputElement=t.first)}},hostVars:4,hostBindings:function(t,e){1&t&&r.fc("click",function(t){return e.hostClick(t)}),2&t&&r.Jb("ant-checkbox-wrapper-checked",e.nzChecked)("ant-checkbox-rtl","rtl"===e.dir)},inputs:{nzValue:"nzValue",nzAutoFocus:"nzAutoFocus",nzDisabled:"nzDisabled",nzIndeterminate:"nzIndeterminate",nzChecked:"nzChecked"},outputs:{nzCheckedChange:"nzCheckedChange"},exportAs:["nzCheckbox"],features:[r.Cb([{provide:X,useExisting:Object(r.W)(()=>t),multi:!0}])],attrs:Of,ngContentSelectors:Sf,decls:6,vars:10,consts:[[1,"ant-checkbox"],["type","checkbox",1,"ant-checkbox-input",3,"checked","ngModel","disabled","ngModelChange","click"],["inputElement",""],[1,"ant-checkbox-inner"]],template:function(t,e){1&t&&(r.pc(),r.Xb(0,"span",0),r.Xb(1,"input",1,2),r.fc("ngModelChange",function(t){return e.innerCheckedChange(t)})("click",function(t){return t.stopPropagation()}),r.Wb(),r.Sb(3,"span",3),r.Wb(),r.Xb(4,"span"),r.oc(5),r.Wb()),2&t&&(r.Jb("ant-checkbox-checked",e.nzChecked&&!e.nzIndeterminate)("ant-checkbox-disabled",e.nzDisabled)("ant-checkbox-indeterminate",e.nzIndeterminate),r.Db(1),r.qc("checked",e.nzChecked)("ngModel",e.nzChecked)("disabled",e.nzDisabled),r.Eb("autofocus",e.nzAutoFocus?"autofocus":null))},directives:[$,bt,ie],encapsulation:2,changeDetection:0}),sr([Di(),ar("design:type",Object)],t.prototype,"nzAutoFocus",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzDisabled",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzIndeterminate",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzChecked",void 0),t})(),Ef=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,me,Ep]]}),t})(),If=(()=>{class t extends Je{constructor(){super(...arguments),this.defaultOptions={templateOptions:{indeterminate:!0,hideLabel:!0}}}}return t.\u0275fac=function(e){return Df(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["formly-field-nz-checkbox"]],features:[r.Ab],decls:2,vars:4,consts:[["nz-checkbox","",3,"nzIndeterminate","formControl","formlyAttributes"]],template:function(t,e){1&t&&(r.Xb(0,"label",0),r.Mc(1),r.Wb()),2&t&&(r.qc("nzIndeterminate",e.to.indeterminate&&null==e.formControl.value)("formControl",e.formControl)("formlyAttributes",e.field),r.Db(1),r.Oc(" ",e.to.label," "))},directives:[Tf,bt,ae,Qe],encapsulation:2}),t})();const Df=r.Zb(If);let Mf=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[i.c,be,Ef,cp,gn.forChild({types:[{name:"checkbox",component:If,wrappers:["form-field"]}]})]]}),t})(),Rf=(()=>{class t{constructor(t,e){this.elementRef=t,this.renderer=e,this.hidden=null,this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","")}setHiddenAttribute(){!0===this.hidden?this.renderer.setAttribute(this.elementRef.nativeElement,"hidden",""):!1===this.hidden||null===this.hidden?this.renderer.removeAttribute(this.elementRef.nativeElement,"hidden"):"string"==typeof this.hidden&&this.renderer.setAttribute(this.elementRef.nativeElement,"hidden",this.hidden)}ngOnChanges(){this.setHiddenAttribute()}ngAfterViewInit(){this.setHiddenAttribute()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.F))},t.\u0275dir=r.Mb({type:t,selectors:[["","nz-button",""],["nz-button-group"],["","nz-icon",""],["","nz-menu-item",""],["","nz-submenu",""],["nz-select-top-control"],["nz-select-placeholder"],["nz-input-group"]],inputs:{hidden:"hidden"},features:[r.Bb]}),t})(),Af=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[Bn]]}),t})();function Pf(t,e){1&t&&r.Sb(0,"nz-empty",6),2&t&&r.qc("nzNotFoundImage","simple")}function Lf(t,e){1&t&&r.Sb(0,"nz-empty",7),2&t&&r.qc("nzNotFoundImage","simple")}function Ff(t,e){1&t&&r.Sb(0,"nz-empty")}function jf(t,e){if(1&t&&(r.Vb(0,2),r.Kc(1,Pf,1,1,"nz-empty",3),r.Kc(2,Lf,1,1,"nz-empty",4),r.Kc(3,Ff,1,0,"nz-empty",5),r.Ub()),2&t){const t=r.jc();r.qc("ngSwitch",t.size),r.Db(1),r.qc("ngSwitchCase","normal"),r.Db(1),r.qc("ngSwitchCase","small")}}function Nf(t,e){}function Vf(t,e){if(1&t&&r.Kc(0,Nf,0,0,"ng-template",8),2&t){const t=r.jc(2);r.qc("cdkPortalOutlet",t.contentPortal)}}function Wf(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.Oc(" ",t.content," ")}}function qf(t,e){if(1&t&&(r.Vb(0),r.Kc(1,Vf,1,1,void 0,1),r.Kc(2,Wf,2,1,"ng-container",1),r.Ub()),2&t){const t=r.jc();r.Db(1),r.qc("ngIf","string"!==t.contentType),r.Db(1),r.qc("ngIf","string"===t.contentType)}}function Bf(t,e){if(1&t&&(r.Vb(0),r.Sb(1,"img",5),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.qc("src",t.nzNotFoundImage,r.Ec)("alt",t.isContentString?t.nzNotFoundContent:"empty")}}function Xf(t,e){if(1&t&&(r.Vb(0),r.Kc(1,Bf,2,2,"ng-container",4),r.Ub()),2&t){const t=r.jc();r.Db(1),r.qc("nzStringTemplateOutlet",t.nzNotFoundImage)}}function Uf(t,e){1&t&&r.Sb(0,"nz-empty-default")}function $f(t,e){1&t&&r.Sb(0,"nz-empty-simple")}function Hf(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.Oc(" ",t.isContentString?t.nzNotFoundContent:t.locale.description," ")}}function Kf(t,e){if(1&t&&(r.Xb(0,"p",6),r.Kc(1,Hf,2,1,"ng-container",4),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("nzStringTemplateOutlet",t.nzNotFoundContent)}}function Gf(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.Oc(" ",t.nzNotFoundFooter," ")}}function Yf(t,e){if(1&t&&(r.Xb(0,"div",7),r.Kc(1,Gf,2,1,"ng-container",4),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("nzStringTemplateOutlet",t.nzNotFoundFooter)}}const Qf=new r.r("nz-empty-component-name");let Jf=(()=>{class t{constructor(t,e,n,i){this.configService=t,this.viewContainerRef=e,this.cdr=n,this.injector=i,this.contentType="string",this.size="",this.destroy$=new xe.a}ngOnChanges(t){t.nzComponentName&&(this.size=function(t){switch(t){case"table":case"list":return"normal";case"select":case"tree-select":case"cascader":case"transfer":return"small";default:return""}}(t.nzComponentName.currentValue)),t.specificContent&&!t.specificContent.isFirstChange()&&(this.content=t.specificContent.currentValue,this.renderEmpty())}ngOnInit(){this.subscribeDefaultEmptyContentChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}renderEmpty(){const t=this.content;if("string"==typeof t)this.contentType="string";else if(t instanceof r.M){const e={$implicit:this.nzComponentName};this.contentType="template",this.contentPortal=new hl(t,this.viewContainerRef,e)}else if(t instanceof r.O){const e=r.s.create({parent:this.injector,providers:[{provide:Qf,useValue:this.nzComponentName}]});this.contentType="component",this.contentPortal=new ul(t,this.viewContainerRef,e)}else this.contentType="string",this.contentPortal=void 0;this.cdr.detectChanges()}subscribeDefaultEmptyContentChange(){this.configService.getConfigChangeEventForComponent("empty").pipe(Object(Mn.a)(!0),An(this.destroy$)).subscribe(()=>{this.content=this.specificContent||this.getUserDefaultEmptyContent(),this.renderEmpty()})}getUserDefaultEmptyContent(){return(this.configService.getConfigForComponent("empty")||{}).nzDefaultEmptyContent}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Do),r.Rb(r.R),r.Rb(r.h),r.Rb(r.s))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-embed-empty"]],inputs:{nzComponentName:"nzComponentName",specificContent:"specificContent"},exportAs:["nzEmbedEmpty"],features:[r.Bb],decls:2,vars:2,consts:[[3,"ngSwitch",4,"ngIf"],[4,"ngIf"],[3,"ngSwitch"],["class","ant-empty-normal",3,"nzNotFoundImage",4,"ngSwitchCase"],["class","ant-empty-small",3,"nzNotFoundImage",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"ant-empty-normal",3,"nzNotFoundImage"],[1,"ant-empty-small",3,"nzNotFoundImage"],[3,"cdkPortalOutlet"]],template:function(t,e){1&t&&(r.Kc(0,jf,4,3,"ng-container",0),r.Kc(1,qf,3,2,"ng-container",1)),2&t&&(r.qc("ngIf",!e.content&&null!==e.specificContent),r.Db(1),r.qc("ngIf",e.content))},directives:function(){return[i.n,i.p,i.q,i.r,tg,gl]},encapsulation:2,changeDetection:0}),t})();const Zf=["default","simple"];let tg=(()=>{class t{constructor(t,e){this.i18n=t,this.cdr=e,this.nzNotFoundImage="default",this.isContentString=!1,this.isImageBuildIn=!0,this.destroy$=new xe.a}ngOnChanges(t){const{nzNotFoundContent:e,nzNotFoundImage:n}=t;if(e&&(this.isContentString="string"==typeof e.currentValue),n){const t=n.currentValue||"default";this.isImageBuildIn=Zf.findIndex(e=>e===t)>-1}}ngOnInit(){this.i18n.localeChange.pipe(An(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Empty"),this.cdr.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Ed),r.Rb(r.h))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-empty"]],hostAttrs:[1,"ant-empty"],inputs:{nzNotFoundImage:"nzNotFoundImage",nzNotFoundContent:"nzNotFoundContent",nzNotFoundFooter:"nzNotFoundFooter"},exportAs:["nzEmpty"],features:[r.Bb],decls:6,vars:5,consts:[[1,"ant-empty-image"],[4,"ngIf"],["class","ant-empty-description",4,"ngIf"],["class","ant-empty-footer",4,"ngIf"],[4,"nzStringTemplateOutlet"],[3,"src","alt"],[1,"ant-empty-description"],[1,"ant-empty-footer"]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.Kc(1,Xf,2,1,"ng-container",1),r.Kc(2,Uf,1,0,"nz-empty-default",1),r.Kc(3,$f,1,0,"nz-empty-simple",1),r.Wb(),r.Kc(4,Kf,2,1,"p",2),r.Kc(5,Yf,2,1,"div",3)),2&t&&(r.Db(1),r.qc("ngIf",!e.isImageBuildIn),r.Db(1),r.qc("ngIf",e.isImageBuildIn&&"simple"!==e.nzNotFoundImage),r.Db(1),r.qc("ngIf",e.isImageBuildIn&&"simple"===e.nzNotFoundImage),r.Db(1),r.qc("ngIf",null!==e.nzNotFoundContent),r.Db(1),r.qc("ngIf",e.nzNotFoundFooter))},directives:function(){return[i.n,ei,eg,ng]},encapsulation:2,changeDetection:0}),t})(),eg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-empty-default"]],exportAs:["nzEmptyDefault"],decls:12,vars:0,consts:[["width","184","height","152","viewBox","0 0 184 152","xmlns","http://www.w3.org/2000/svg",1,"ant-empty-img-default"],["fill","none","fill-rule","evenodd"],["transform","translate(24 31.67)"],["cx","67.797","cy","106.89","rx","67.797","ry","12.668",1,"ant-empty-img-default-ellipse"],["d","M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",1,"ant-empty-img-default-path-1"],["d","M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z","transform","translate(13.56)",1,"ant-empty-img-default-path-2"],["d","M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",1,"ant-empty-img-default-path-3"],["d","M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",1,"ant-empty-img-default-path-4"],["d","M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",1,"ant-empty-img-default-path-5"],["transform","translate(149.65 15.383)",1,"ant-empty-img-default-g"],["cx","20.654","cy","3.167","rx","2.849","ry","2.815"],["d","M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"]],template:function(t,e){1&t&&(r.ic(),r.Xb(0,"svg",0),r.Xb(1,"g",1),r.Xb(2,"g",2),r.Sb(3,"ellipse",3),r.Sb(4,"path",4),r.Sb(5,"path",5),r.Sb(6,"path",6),r.Sb(7,"path",7),r.Wb(),r.Sb(8,"path",8),r.Xb(9,"g",9),r.Sb(10,"ellipse",10),r.Sb(11,"path",11),r.Wb(),r.Wb(),r.Wb())},encapsulation:2,changeDetection:0}),t})(),ng=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-empty-simple"]],exportAs:["nzEmptySimple"],decls:6,vars:0,consts:[["width","64","height","41","viewBox","0 0 64 41","xmlns","http://www.w3.org/2000/svg",1,"ant-empty-img-simple"],["transform","translate(0 1)","fill","none","fill-rule","evenodd"],["cx","32","cy","33","rx","32","ry","7",1,"ant-empty-img-simple-ellipse"],["fill-rule","nonzero",1,"ant-empty-img-simple-g"],["d","M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"],["d","M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",1,"ant-empty-img-simple-path"]],template:function(t,e){1&t&&(r.ic(),r.Xb(0,"svg",0),r.Xb(1,"g",1),r.Sb(2,"ellipse",2),r.Xb(3,"g",3),r.Sb(4,"path",4),r.Sb(5,"path",5),r.Wb(),r.Wb(),r.Wb())},encapsulation:2,changeDetection:0}),t})(),ig=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,ml,ii,Dd]]}),t})();const rg=["*"];function og(t,e){if(1&t&&(r.Xb(0,"div",4),r.Sb(1,"nz-embed-empty",5),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("specificContent",t.notFoundContent)}}function sg(t,e){if(1&t&&r.Sb(0,"nz-option-item-group",9),2&t){const t=r.jc().$implicit;r.qc("nzLabel",t.groupLabel)}}function ag(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-option-item",10),r.fc("itemHover",function(e){return r.Cc(t),r.jc(2).onItemHover(e)})("itemClick",function(e){return r.Cc(t),r.jc(2).onItemClick(e)}),r.Wb()}if(2&t){const t=r.jc().$implicit,e=r.jc();r.qc("icon",e.menuItemSelectedIcon)("customContent",t.nzCustomContent)("template",t.template)("grouped",!!t.groupLabel)("disabled",t.nzDisabled)("showState","tags"===e.mode||"multiple"===e.mode)("label",t.nzLabel)("compareWith",e.compareWith)("activatedValue",e.activatedValue)("listOfSelectedValue",e.listOfSelectedValue)("value",t.nzValue)}}function cg(t,e){1&t&&(r.Vb(0,6),r.Kc(1,sg,1,1,"nz-option-item-group",7),r.Kc(2,ag,1,11,"nz-option-item",8),r.Ub()),2&t&&(r.qc("ngSwitch",e.$implicit.type),r.Db(1),r.qc("ngSwitchCase","group"),r.Db(1),r.qc("ngSwitchCase","item"))}function lg(t,e){}function ug(t,e){1&t&&r.oc(0)}const hg=["inputElement"],dg=["mirrorElement"];function pg(t,e){1&t&&r.Sb(0,"span",3,4)}function fg(t,e){if(1&t&&r.Sb(0,"nz-select-item",6),2&t){const t=r.jc(2);r.qc("deletable",!1)("disabled",!1)("removeIcon",t.removeIcon)("label",t.listOfTopItem[0].nzLabel)("contentTemplateOutlet",t.customTemplate)("contentTemplateOutletContext",t.listOfTopItem[0])}}function gg(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Xb(1,"nz-select-search",4),r.fc("isComposingChange",function(e){return r.Cc(t),r.jc().isComposingChange(e)})("valueChange",function(e){return r.Cc(t),r.jc().onInputValueChange(e)}),r.Wb(),r.Kc(2,fg,1,6,"nz-select-item",5),r.Ub()}if(2&t){const t=r.jc();r.Db(1),r.qc("disabled",t.disabled)("value",t.inputValue)("showInput",t.showSearch)("mirrorSync",!1)("autofocus",t.autofocus)("focusTrigger",t.open),r.Db(1),r.qc("ngIf",t.isShowSingleLabel)}}function mg(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-select-item",9),r.fc("@zoomMotion.done",function(){return r.Cc(t),r.jc(2).onAnimationEnd()})("delete",function(){r.Cc(t);const n=e.$implicit;return r.jc(2).onDeleteItem(n.contentTemplateOutletContext)}),r.Wb()}if(2&t){const t=e.$implicit,n=r.jc(2);r.qc("@zoomMotion",void 0)("@.disabled",null==n.noAnimation?null:n.noAnimation.nzNoAnimation)("nzNoAnimation",null==n.noAnimation?null:n.noAnimation.nzNoAnimation)("removeIcon",n.removeIcon)("label",t.nzLabel)("disabled",t.nzDisabled||n.disabled)("contentTemplateOutlet",t.contentTemplateOutlet)("deletable",!0)("contentTemplateOutletContext",t.contentTemplateOutletContext)}}function bg(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Kc(1,mg,1,9,"nz-select-item",7),r.Xb(2,"nz-select-search",8),r.fc("isComposingChange",function(e){return r.Cc(t),r.jc().isComposingChange(e)})("valueChange",function(e){return r.Cc(t),r.jc().onInputValueChange(e)}),r.Wb(),r.Ub()}if(2&t){const t=r.jc();r.Db(1),r.qc("ngForOf",t.listOfSlicedItem)("ngForTrackBy",t.trackValue),r.Db(1),r.qc("disabled",t.disabled)("value",t.inputValue)("autofocus",t.autofocus)("showInput",!0)("mirrorSync",!0)("focusTrigger",t.open)}}function yg(t,e){if(1&t&&r.Sb(0,"nz-select-placeholder",10),2&t){const t=r.jc();r.qc("placeholder",t.placeHolder)}}function vg(t,e){if(1&t&&r.Sb(0,"nz-select-arrow",5),2&t){const t=r.jc();r.qc("loading",t.nzLoading)("search",t.nzOpen&&t.nzShowSearch)("suffixIcon",t.nzSuffixIcon)}}function _g(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-select-clear",6),r.fc("clear",function(){return r.Cc(t),r.jc().onClearSelection()}),r.Wb()}if(2&t){const t=r.jc();r.qc("clearIcon",t.nzClearIcon)}}function wg(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-option-container",7),r.fc("keydown",function(e){return r.Cc(t),r.jc().onKeyDown(e)})("itemClick",function(e){return r.Cc(t),r.jc().onItemClick(e)})("scrollToBottom",function(){return r.Cc(t),r.jc().nzScrollToBottom.emit()}),r.Wb()}if(2&t){const t=r.jc();r.Jb("ant-select-dropdown-placement-bottomLeft","bottom"===t.dropDownPosition)("ant-select-dropdown-placement-topLeft","top"===t.dropDownPosition),r.qc("ngStyle",t.nzDropdownStyle)("itemSize",t.nzOptionHeightPx)("maxItemLength",t.nzOptionOverflowSize)("matchWidth",t.nzDropdownMatchSelectWidth)("@slideMotion","enter")("@.disabled",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("listOfContainerItem",t.listOfContainerItem)("menuItemSelectedIcon",t.nzMenuItemSelectedIcon)("notFoundContent",t.nzNotFoundContent)("activatedValue",t.activatedValue)("listOfSelectedValue",t.listOfValue)("dropdownRender",t.nzDropdownRender)("compareWith",t.compareWith)("mode",t.nzMode)}}function zg(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc();r.Db(1),r.Nc(t.nzLabel)}}function Cg(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc();r.Db(1),r.Nc(t.label)}}function Sg(t,e){}function xg(t,e){if(1&t&&(r.Vb(0),r.Kc(1,Sg,0,0,"ng-template",3),r.Ub()),2&t){const t=r.jc();r.Db(1),r.qc("ngTemplateOutlet",t.template)}}function Og(t,e){1&t&&r.Sb(0,"i",6)}function kg(t,e){if(1&t&&(r.Xb(0,"div",4),r.Kc(1,Og,1,0,"i",5),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("ngIf",!t.icon)("ngIfElse",t.icon)}}function Tg(t,e){1&t&&r.Sb(0,"i",2)}function Eg(t,e){1&t&&r.Sb(0,"i",7)}function Ig(t,e){1&t&&r.Sb(0,"i",8)}function Dg(t,e){if(1&t&&(r.Vb(0),r.Kc(1,Eg,1,0,"i",5),r.Kc(2,Ig,1,0,"i",6),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.qc("ngIf",!t.search),r.Db(1),r.qc("ngIf",t.search)}}function Mg(t,e){if(1&t&&(r.Vb(0),r.Sb(1,"i",10),r.Ub()),2&t){const t=e.$implicit;r.Db(1),r.qc("nzType",t)}}function Rg(t,e){if(1&t&&r.Kc(0,Mg,2,1,"ng-container",9),2&t){const t=r.jc(2);r.qc("nzStringTemplateOutlet",t.suffixIcon)}}function Ag(t,e){if(1&t&&(r.Kc(0,Dg,3,2,"ng-container",3),r.Kc(1,Rg,1,1,"ng-template",null,4,r.Lc)),2&t){const t=r.Ac(2),e=r.jc();r.qc("ngIf",!e.suffixIcon)("ngIfElse",t)}}function Pg(t,e){1&t&&r.Sb(0,"i",1)}function Lg(t,e){if(1&t&&(r.Xb(0,"div",4),r.Mc(1),r.Wb()),2&t){const t=r.jc(2);r.Db(1),r.Nc(t.label)}}function Fg(t,e){if(1&t&&r.Mc(0),2&t){const t=r.jc(2);r.Nc(t.label)}}function jg(t,e){if(1&t&&(r.Vb(0),r.Kc(1,Lg,2,1,"div",2),r.Kc(2,Fg,1,1,"ng-template",null,3,r.Lc),r.Ub()),2&t){const t=r.Ac(3),e=r.jc();r.Db(1),r.qc("ngIf",e.deletable)("ngIfElse",t)}}function Ng(t,e){1&t&&r.Sb(0,"i",7)}function Vg(t,e){if(1&t){const t=r.Yb();r.Xb(0,"span",5),r.fc("click",function(e){return r.Cc(t),r.jc().onDelete(e)}),r.Kc(1,Ng,1,0,"i",6),r.Wb()}if(2&t){const t=r.jc();r.Db(1),r.qc("ngIf",!t.removeIcon)("ngIfElse",t.removeIcon)}}const Wg=function(t){return{$implicit:t}};function qg(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc();r.Db(1),r.Oc(" ",t.placeholder," ")}}let Bg=(()=>{class t{constructor(){this.nzLabel=null,this.changes=new xe.a}ngOnChanges(){this.changes.next()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-option-group"]],inputs:{nzLabel:"nzLabel"},exportAs:["nzOptionGroup"],features:[r.Bb],ngContentSelectors:rg,decls:1,vars:0,template:function(t,e){1&t&&(r.pc(),r.oc(0))},encapsulation:2,changeDetection:0}),t})(),Xg=(()=>{class t{constructor(t){this.elementRef=t,this.notFoundContent=void 0,this.menuItemSelectedIcon=null,this.dropdownRender=null,this.activatedValue=null,this.listOfSelectedValue=[],this.mode="default",this.matchWidth=!0,this.itemSize=32,this.maxItemLength=8,this.listOfContainerItem=[],this.itemClick=new r.n,this.scrollToBottom=new r.n,this.scrolledIndex=0,this.elementRef.nativeElement.classList.add("ant-select-dropdown")}onItemClick(t){this.itemClick.emit(t)}onItemHover(t){this.activatedValue=t}trackValue(t,e){return e.key}onScrolledIndexChange(t){this.scrolledIndex=t,t===this.listOfContainerItem.length-this.maxItemLength&&this.scrollToBottom.emit()}scrollToActivatedValue(){const t=this.listOfContainerItem.findIndex(t=>this.compareWith(t.key,this.activatedValue));(t<this.scrolledIndex||t>=this.scrolledIndex+this.maxItemLength)&&this.cdkVirtualScrollViewport.scrollToIndex(t||0)}ngOnChanges(t){const{listOfContainerItem:e,activatedValue:n}=t;(e||n)&&this.scrollToActivatedValue()}ngAfterViewInit(){setTimeout(()=>this.scrollToActivatedValue())}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-option-container"]],viewQuery:function(t,e){if(1&t&&r.Qc(rl,3),2&t){let t;r.zc(t=r.gc())&&(e.cdkVirtualScrollViewport=t.first)}},inputs:{notFoundContent:"notFoundContent",menuItemSelectedIcon:"menuItemSelectedIcon",dropdownRender:"dropdownRender",activatedValue:"activatedValue",listOfSelectedValue:"listOfSelectedValue",mode:"mode",matchWidth:"matchWidth",itemSize:"itemSize",maxItemLength:"maxItemLength",listOfContainerItem:"listOfContainerItem",compareWith:"compareWith"},outputs:{itemClick:"itemClick",scrollToBottom:"scrollToBottom"},exportAs:["nzOptionContainer"],features:[r.Bb],decls:5,vars:14,consts:[["class","ant-select-item-empty",4,"ngIf"],[3,"itemSize","maxBufferPx","minBufferPx","scrolledIndexChange"],["cdkVirtualFor","",3,"cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"],[3,"ngTemplateOutlet"],[1,"ant-select-item-empty"],["nzComponentName","select",3,"specificContent"],[3,"ngSwitch"],[3,"nzLabel",4,"ngSwitchCase"],[3,"icon","customContent","template","grouped","disabled","showState","label","compareWith","activatedValue","listOfSelectedValue","value","itemHover","itemClick",4,"ngSwitchCase"],[3,"nzLabel"],[3,"icon","customContent","template","grouped","disabled","showState","label","compareWith","activatedValue","listOfSelectedValue","value","itemHover","itemClick"]],template:function(t,e){1&t&&(r.Xb(0,"div"),r.Kc(1,og,2,1,"div",0),r.Xb(2,"cdk-virtual-scroll-viewport",1),r.fc("scrolledIndexChange",function(t){return e.onScrolledIndexChange(t)}),r.Kc(3,cg,3,3,"ng-template",2),r.Wb(),r.Kc(4,lg,0,0,"ng-template",3),r.Wb()),2&t&&(r.Db(1),r.qc("ngIf",0===e.listOfContainerItem.length),r.Db(1),r.Hc("height",e.listOfContainerItem.length*e.itemSize,"px")("max-height",e.itemSize*e.maxItemLength,"px"),r.Jb("full-width",!e.matchWidth),r.qc("itemSize",e.itemSize)("maxBufferPx",e.itemSize*e.maxItemLength)("minBufferPx",e.itemSize*e.maxItemLength),r.Db(1),r.qc("cdkVirtualForOf",e.listOfContainerItem)("cdkVirtualForTrackBy",e.trackValue)("cdkVirtualForTemplateCacheSize",0),r.Db(1),r.qc("ngTemplateOutlet",e.dropdownRender))},directives:function(){return[i.n,rl,Zc,sl,i.s,Jf,i.p,i.q,Yg,Qg]},encapsulation:2,changeDetection:0}),t})(),Ug=(()=>{class t{constructor(t){this.nzOptionGroupComponent=t,this.destroy$=new xe.a,this.changes=new xe.a,this.groupLabel=null,this.nzLabel=null,this.nzValue=null,this.nzDisabled=!1,this.nzHide=!1,this.nzCustomContent=!1}ngOnInit(){this.nzOptionGroupComponent&&this.nzOptionGroupComponent.changes.pipe(Object(Mn.a)(!0),An(this.destroy$)).subscribe(()=>{this.groupLabel=this.nzOptionGroupComponent.nzLabel})}ngOnChanges(){this.changes.next()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Bg,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-option"]],viewQuery:function(t,e){if(1&t&&r.Qc(r.M,3),2&t){let t;r.zc(t=r.gc())&&(e.template=t.first)}},inputs:{nzLabel:"nzLabel",nzValue:"nzValue",nzDisabled:"nzDisabled",nzHide:"nzHide",nzCustomContent:"nzCustomContent"},exportAs:["nzOption"],features:[r.Bb],ngContentSelectors:rg,decls:1,vars:0,template:function(t,e){1&t&&(r.pc(),r.Kc(0,ug,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),sr([Di(),ar("design:type",Object)],t.prototype,"nzDisabled",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzHide",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzCustomContent",void 0),t})(),$g=(()=>{class t{constructor(t,e,n){this.elementRef=t,this.renderer=e,this.focusMonitor=n,this.disabled=!1,this.mirrorSync=!1,this.showInput=!0,this.focusTrigger=!1,this.value="",this.autofocus=!1,this.valueChange=new r.n,this.isComposingChange=new r.n,this.elementRef.nativeElement.classList.add("ant-select-selection-search")}setCompositionState(t){this.isComposingChange.next(t)}onValueChange(t){this.value=t,this.valueChange.next(t),this.mirrorSync&&this.syncMirrorWidth()}clearInputValue(){this.inputElement.nativeElement.value="",this.onValueChange("")}syncMirrorWidth(){const t=this.mirrorElement.nativeElement,e=this.elementRef.nativeElement,n=this.inputElement.nativeElement;this.renderer.removeStyle(e,"width"),t.innerHTML=this.renderer.createText(`${n.value}&nbsp;`),this.renderer.setStyle(e,"width",`${t.scrollWidth}px`)}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}ngOnChanges(t){const e=this.inputElement.nativeElement,{focusTrigger:n,showInput:i}=t;i&&(this.showInput?this.renderer.removeAttribute(e,"readonly"):this.renderer.setAttribute(e,"readonly","readonly")),n&&!0===n.currentValue&&!1===n.previousValue&&e.focus()}ngAfterViewInit(){this.mirrorSync&&this.syncMirrorWidth(),this.autofocus&&this.focus()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.F),r.Rb(xp))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-select-search"]],viewQuery:function(t,e){if(1&t&&(r.Qc(hg,3),r.Qc(dg,1)),2&t){let t;r.zc(t=r.gc())&&(e.inputElement=t.first),r.zc(t=r.gc())&&(e.mirrorElement=t.first)}},inputs:{disabled:"disabled",mirrorSync:"mirrorSync",showInput:"showInput",focusTrigger:"focusTrigger",value:"value",autofocus:"autofocus"},outputs:{valueChange:"valueChange",isComposingChange:"isComposingChange"},features:[r.Cb([{provide:K,useValue:!1}]),r.Bb],decls:3,vars:6,consts:[["autocomplete","off",1,"ant-select-selection-search-input",3,"ngModel","disabled","ngModelChange","compositionstart","compositionend"],["inputElement",""],["class","ant-select-selection-search-mirror",4,"ngIf"],[1,"ant-select-selection-search-mirror"],["mirrorElement",""]],template:function(t,e){1&t&&(r.Xb(0,"input",0,1),r.fc("ngModelChange",function(t){return e.onValueChange(t)})("compositionstart",function(){return e.setCompositionState(!0)})("compositionend",function(){return e.setCompositionState(!1)}),r.Wb(),r.Kc(2,pg,2,0,"span",2)),2&t&&(r.Hc("opacity",e.showInput?null:0),r.qc("ngModel",e.value)("disabled",e.disabled),r.Eb("autofocus",e.autofocus?"autofocus":null),r.Db(2),r.qc("ngIf",e.mirrorSync))},directives:[G,bt,ie,i.n],encapsulation:2,changeDetection:0}),t})(),Hg=(()=>{class t{constructor(t,e){this.elementRef=t,this.noAnimation=e,this.showSearch=!1,this.placeHolder=null,this.open=!1,this.maxTagCount=1/0,this.autofocus=!1,this.disabled=!1,this.mode="default",this.customTemplate=null,this.maxTagPlaceholder=null,this.removeIcon=null,this.listOfTopItem=[],this.tokenSeparators=[],this.tokenize=new r.n,this.inputValueChange=new r.n,this.animationEnd=new r.n,this.deleteItem=new r.n,this.listOfSlicedItem=[],this.isShowPlaceholder=!0,this.isShowSingleLabel=!1,this.isComposing=!1,this.inputValue=null,this.elementRef.nativeElement.classList.add("ant-select-selector")}onHostKeydown(t){8===t.keyCode&&"default"!==this.mode&&!t.target.value&&this.listOfTopItem.length>0&&(t.preventDefault(),this.onDeleteItem(this.listOfTopItem[this.listOfTopItem.length-1]))}updateTemplateVariable(){const t=0===this.listOfTopItem.length;this.isShowPlaceholder=t&&!this.isComposing&&!this.inputValue,this.isShowSingleLabel=!t&&!this.isComposing&&!this.inputValue}isComposingChange(t){this.isComposing=t,this.updateTemplateVariable()}onInputValueChange(t){t!==this.inputValue&&(this.inputValue=t,this.updateTemplateVariable(),this.inputValueChange.emit(t),this.tokenSeparate(t,this.tokenSeparators))}tokenSeparate(t,e){if(t&&t.length&&e.length&&"default"!==this.mode&&((t,e)=>{for(let n=0;n<e.length;++n)if(t.lastIndexOf(e[n])>0)return!0;return!1})(t,e)){const n=((t,e)=>{const n=new RegExp(`[${e.join()}]`),i=t.split(n).filter(t=>t);return[...new Set(i)]})(t,e);this.tokenize.next(n)}}clearInputValue(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.clearInputValue()}focus(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.focus()}blur(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.blur()}trackValue(t,e){return e.nzValue}onDeleteItem(t){this.disabled||t.nzDisabled||this.deleteItem.next(t)}onAnimationEnd(){this.animationEnd.next()}ngOnChanges(t){const{listOfTopItem:e,maxTagCount:n,customTemplate:i,maxTagPlaceholder:r}=t;if(e&&this.updateTemplateVariable(),e||n||i||r){const t=this.listOfTopItem.slice(0,this.maxTagCount).map(t=>({nzLabel:t.nzLabel,nzValue:t.nzValue,nzDisabled:t.nzDisabled,contentTemplateOutlet:this.customTemplate,contentTemplateOutletContext:t}));if(this.listOfTopItem.length>this.maxTagCount){const e=`+ ${this.listOfTopItem.length-this.maxTagCount} ...`,n=this.listOfTopItem.map(t=>t.nzValue),i={nzLabel:e,nzValue:"$$__nz_exceeded_item",nzDisabled:!0,contentTemplateOutlet:this.maxTagPlaceholder,contentTemplateOutletContext:n.slice(this.maxTagCount)};t.push(i)}this.listOfSlicedItem=t}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(Ec,9))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-select-top-control"]],viewQuery:function(t,e){if(1&t&&r.Qc($g,1),2&t){let t;r.zc(t=r.gc())&&(e.nzSelectSearchComponent=t.first)}},hostBindings:function(t,e){1&t&&r.fc("keydown",function(t){return e.onHostKeydown(t)})},inputs:{showSearch:"showSearch",placeHolder:"placeHolder",open:"open",maxTagCount:"maxTagCount",autofocus:"autofocus",disabled:"disabled",mode:"mode",customTemplate:"customTemplate",maxTagPlaceholder:"maxTagPlaceholder",removeIcon:"removeIcon",listOfTopItem:"listOfTopItem",tokenSeparators:"tokenSeparators"},outputs:{tokenize:"tokenize",inputValueChange:"inputValueChange",animationEnd:"animationEnd",deleteItem:"deleteItem"},exportAs:["nzSelectTopControl"],features:[r.Bb],decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"placeholder",4,"ngIf"],[3,"disabled","value","showInput","mirrorSync","autofocus","focusTrigger","isComposingChange","valueChange"],[3,"deletable","disabled","removeIcon","label","contentTemplateOutlet","contentTemplateOutletContext",4,"ngIf"],[3,"deletable","disabled","removeIcon","label","contentTemplateOutlet","contentTemplateOutletContext"],[3,"nzNoAnimation","removeIcon","label","disabled","contentTemplateOutlet","deletable","contentTemplateOutletContext","delete",4,"ngFor","ngForOf","ngForTrackBy"],[3,"disabled","value","autofocus","showInput","mirrorSync","focusTrigger","isComposingChange","valueChange"],[3,"nzNoAnimation","removeIcon","label","disabled","contentTemplateOutlet","deletable","contentTemplateOutletContext","delete"],[3,"placeholder"]],template:function(t,e){1&t&&(r.Vb(0,0),r.Kc(1,gg,3,7,"ng-container",1),r.Kc(2,bg,3,8,"ng-container",2),r.Ub(),r.Kc(3,yg,1,1,"nz-select-placeholder",3)),2&t&&(r.qc("ngSwitch",e.mode),r.Db(1),r.qc("ngSwitchCase","default"),r.Db(2),r.qc("ngIf",e.isShowPlaceholder))},directives:function(){return[i.p,i.q,i.r,i.n,$g,tm,i.m,Ec,Rf,em]},encapsulation:2,data:{animation:[ds]},changeDetection:0}),t})();const Kg=(t,e)=>!(!e||!e.nzLabel)&&e.nzLabel.toLowerCase().indexOf(t.toLowerCase())>-1;let Gg=(()=>{class t{constructor(t,e,n,i,o,s,a){this.nzConfigService=t,this.cdr=e,this.elementRef=n,this.platform=i,this.focusMonitor=o,this.directionality=s,this.noAnimation=a,this._nzModuleName="select",this.nzSize="default",this.nzOptionHeightPx=32,this.nzOptionOverflowSize=8,this.nzDropdownClassName=null,this.nzDropdownMatchSelectWidth=!0,this.nzDropdownStyle=null,this.nzNotFoundContent=void 0,this.nzPlaceHolder=null,this.nzMaxTagCount=1/0,this.nzDropdownRender=null,this.nzCustomTemplate=null,this.nzSuffixIcon=null,this.nzClearIcon=null,this.nzRemoveIcon=null,this.nzMenuItemSelectedIcon=null,this.nzTokenSeparators=[],this.nzMaxTagPlaceholder=null,this.nzMaxMultipleCount=1/0,this.nzMode="default",this.nzFilterOption=Kg,this.compareWith=(t,e)=>t===e,this.nzAllowClear=!1,this.nzBorderless=!1,this.nzShowSearch=!1,this.nzLoading=!1,this.nzAutoFocus=!1,this.nzAutoClearSearchValue=!0,this.nzServerSearch=!1,this.nzDisabled=!1,this.nzOpen=!1,this.nzOptions=[],this.nzOnSearch=new r.n,this.nzScrollToBottom=new r.n,this.nzOpenChange=new r.n,this.nzBlur=new r.n,this.nzFocus=new r.n,this.listOfValue$=new fu.a([]),this.listOfTemplateItem$=new fu.a([]),this.listOfTagAndTemplateItem=[],this.searchValue="",this.isReactiveDriven=!1,this.destroy$=new xe.a,this.onChange=()=>{},this.onTouched=()=>{},this.dropDownPosition="bottom",this.triggerWidth=null,this.listOfContainerItem=[],this.listOfTopItem=[],this.activatedValue=null,this.listOfValue=[],this.focused=!1,this.dir="ltr",this.elementRef.nativeElement.classList.add("ant-select")}set nzShowArrow(t){this._nzShowArrow=t}get nzShowArrow(){return void 0===this._nzShowArrow?"default"===this.nzMode:this._nzShowArrow}generateTagItem(t){return{nzValue:t,nzLabel:t,type:"item"}}onItemClick(t){if(this.activatedValue=t,"default"===this.nzMode)0!==this.listOfValue.length&&this.compareWith(this.listOfValue[0],t)||this.updateListOfValue([t]),this.setOpenState(!1);else{const e=this.listOfValue.findIndex(e=>this.compareWith(e,t));if(-1!==e){const t=this.listOfValue.filter((t,n)=>n!==e);this.updateListOfValue(t)}else if(this.listOfValue.length<this.nzMaxMultipleCount){const e=[...this.listOfValue,t];this.updateListOfValue(e)}this.focus(),this.nzAutoClearSearchValue&&this.clearInput()}}onItemDelete(t){const e=this.listOfValue.filter(e=>!this.compareWith(e,t.nzValue));this.updateListOfValue(e),this.clearInput()}onHostClick(){this.nzOpen&&this.nzShowSearch||this.nzDisabled||this.setOpenState(!this.nzOpen)}updateListOfContainerItem(){let t=this.listOfTagAndTemplateItem.filter(t=>!t.nzHide).filter(t=>!(!this.nzServerSearch&&this.searchValue)||this.nzFilterOption(this.searchValue,t));if("tags"===this.nzMode&&this.searchValue){const e=this.listOfTagAndTemplateItem.find(t=>t.nzLabel===this.searchValue);if(e)this.activatedValue=e.nzValue;else{const e=this.generateTagItem(this.searchValue);t=[e,...t],this.activatedValue=e.nzValue}}const e=t.find(t=>this.compareWith(t.nzValue,this.listOfValue[0]))||t[0];this.activatedValue=e&&e.nzValue||null;let n=[];this.isReactiveDriven?n=[...new Set(this.nzOptions.filter(t=>t.groupLabel).map(t=>t.groupLabel))]:this.listOfNzOptionGroupComponent&&(n=this.listOfNzOptionGroupComponent.map(t=>t.nzLabel)),n.forEach(e=>{const n=t.findIndex(t=>e===t.groupLabel);n>-1&&t.splice(n,0,{groupLabel:e,type:"group",key:e})}),this.listOfContainerItem=[...t],this.updateCdkConnectedOverlayPositions()}clearInput(){this.nzSelectTopControlComponent.clearInputValue()}updateListOfValue(t){const e=(n=t,"default"===this.nzMode?n.length>0?n[0]:null:n);var n;this.value!==e&&(this.listOfValue=t,this.listOfValue$.next(t),this.value=e,this.onChange(this.value))}onTokenSeparate(t){const e=this.listOfTagAndTemplateItem.filter(e=>-1!==t.findIndex(t=>t===e.nzLabel)).map(t=>t.nzValue).filter(t=>-1===this.listOfValue.findIndex(e=>this.compareWith(e,t)));if("multiple"===this.nzMode)this.updateListOfValue([...this.listOfValue,...e]);else if("tags"===this.nzMode){const n=t.filter(t=>-1===this.listOfTagAndTemplateItem.findIndex(e=>e.nzLabel===t));this.updateListOfValue([...this.listOfValue,...e,...n])}this.clearInput()}onOverlayKeyDown(t){27===t.keyCode&&this.setOpenState(!1)}onKeyDown(t){if(this.nzDisabled)return;const e=this.listOfContainerItem.filter(t=>"item"===t.type).filter(t=>!t.nzDisabled),n=e.findIndex(t=>this.compareWith(t.nzValue,this.activatedValue));switch(t.keyCode){case 38:t.preventDefault(),this.nzOpen&&(this.activatedValue=e[n>0?n-1:e.length-1].nzValue);break;case 40:t.preventDefault(),this.nzOpen?this.activatedValue=e[n<e.length-1?n+1:0].nzValue:this.setOpenState(!0);break;case 13:t.preventDefault(),this.nzOpen?zi(this.activatedValue)&&this.onItemClick(this.activatedValue):this.setOpenState(!0);break;case 32:this.nzOpen||(this.setOpenState(!0),t.preventDefault());break;case 9:this.setOpenState(!1);break;case 27:break;default:this.nzOpen||this.setOpenState(!0)}}setOpenState(t){this.nzOpen!==t&&(this.nzOpen=t,this.nzOpenChange.emit(t),this.onOpenChange(),this.cdr.markForCheck())}onOpenChange(){this.updateCdkConnectedOverlayStatus(),this.clearInput()}onInputValueChange(t){this.searchValue=t,this.updateListOfContainerItem(),this.nzOnSearch.emit(t),this.updateCdkConnectedOverlayPositions()}onClearSelection(){this.updateListOfValue([])}onClickOutside(t){this.elementRef.nativeElement.contains(t.target)||this.setOpenState(!1)}focus(){this.nzSelectTopControlComponent.focus()}blur(){this.nzSelectTopControlComponent.blur()}onPositionChange(t){this.dropDownPosition=t.connectionPair.originY}updateCdkConnectedOverlayStatus(){this.platform.isBrowser&&this.originElement.nativeElement&&(this.triggerWidth=this.originElement.nativeElement.getBoundingClientRect().width)}updateCdkConnectedOverlayPositions(){this.cdkConnectedOverlay.overlayRef&&this.cdkConnectedOverlay.overlayRef.updatePosition()}writeValue(t){if(this.value!==t){this.value=t;const e=((t,e)=>null==t?[]:"default"===this.nzMode?[t]:t)(t);this.listOfValue=e,this.listOfValue$.next(e),this.cdr.markForCheck()}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.nzDisabled=t,t&&this.setOpenState(!1),this.cdr.markForCheck()}ngOnChanges(t){const{nzOpen:e,nzDisabled:n,nzOptions:i}=t;if(e&&this.onOpenChange(),n&&this.nzDisabled&&this.setOpenState(!1),i){this.isReactiveDriven=!0;const t=(this.nzOptions||[]).map(t=>({template:t.label instanceof r.M?t.label:null,nzLabel:"string"==typeof t.label?t.label:null,nzValue:t.value,nzDisabled:t.disabled||!1,nzHide:t.hide||!1,nzCustomContent:t.label instanceof r.M,groupLabel:t.groupLabel||null,type:"item",key:t.value}));this.listOfTemplateItem$.next(t)}}ngOnInit(){var t;this.focusMonitor.monitor(this.elementRef,!0).pipe(An(this.destroy$)).subscribe(t=>{t?(this.focused=!0,this.cdr.markForCheck(),this.nzFocus.emit()):(this.focused=!1,this.cdr.markForCheck(),this.nzBlur.emit(),Promise.resolve().then(()=>{this.onTouched()}))}),Object(On.a)([this.listOfValue$,this.listOfTemplateItem$]).pipe(An(this.destroy$)).subscribe(([t,e])=>{const n=t.filter(()=>"tags"===this.nzMode).filter(t=>-1===e.findIndex(e=>this.compareWith(e.nzValue,t))).map(t=>this.listOfTopItem.find(e=>this.compareWith(e.nzValue,t))||this.generateTagItem(t));this.listOfTagAndTemplateItem=[...e,...n],this.listOfTopItem=this.listOfValue.map(t=>[...this.listOfTagAndTemplateItem,...this.listOfTopItem].find(e=>this.compareWith(t,e.nzValue))).filter(t=>!!t),this.updateListOfContainerItem()}),null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterViewInit(){this.updateCdkConnectedOverlayStatus()}ngAfterContentInit(){this.isReactiveDriven||Object(bl.a)(this.listOfNzOptionGroupComponent.changes,this.listOfNzOptionComponent.changes).pipe(Object(Mn.a)(!0),Object(Bc.a)(()=>Object(bl.a)(this.listOfNzOptionComponent.changes,this.listOfNzOptionGroupComponent.changes,...this.listOfNzOptionComponent.map(t=>t.changes),...this.listOfNzOptionGroupComponent.map(t=>t.changes)).pipe(Object(Mn.a)(!0))),An(this.destroy$)).subscribe(()=>{const t=this.listOfNzOptionComponent.toArray().map(t=>{const{template:e,nzLabel:n,nzValue:i,nzDisabled:r,nzHide:o,nzCustomContent:s,groupLabel:a}=t;return{template:e,nzLabel:n,nzValue:i,nzDisabled:r,nzHide:o,nzCustomContent:s,groupLabel:a,type:"item",key:i}});this.listOfTemplateItem$.next(t),this.cdr.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Do),r.Rb(r.h),r.Rb(r.l),r.Rb(qn),r.Rb(xp),r.Rb(bn,8),r.Rb(Ec,9))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-select"]],contentQueries:function(t,e,n){if(1&t&&(r.Kb(n,Ug,1),r.Kb(n,Bg,1)),2&t){let t;r.zc(t=r.gc())&&(e.listOfNzOptionComponent=t),r.zc(t=r.gc())&&(e.listOfNzOptionGroupComponent=t)}},viewQuery:function(t,e){if(1&t&&(r.Qc(Yl,3,r.l),r.Qc(Ql,3),r.Qc(Hg,3),r.Qc(Bg,3,r.l),r.Qc(Hg,3,r.l)),2&t){let t;r.zc(t=r.gc())&&(e.originElement=t.first),r.zc(t=r.gc())&&(e.cdkConnectedOverlay=t.first),r.zc(t=r.gc())&&(e.nzSelectTopControlComponent=t.first),r.zc(t=r.gc())&&(e.nzOptionGroupComponentElement=t.first),r.zc(t=r.gc())&&(e.nzSelectTopControlComponentElement=t.first)}},hostVars:24,hostBindings:function(t,e){1&t&&r.fc("click",function(){return e.onHostClick()}),2&t&&r.Jb("ant-select-lg","large"===e.nzSize)("ant-select-sm","small"===e.nzSize)("ant-select-show-arrow",e.nzShowArrow)("ant-select-disabled",e.nzDisabled)("ant-select-show-search",(e.nzShowSearch||"default"!==e.nzMode)&&!e.nzDisabled)("ant-select-allow-clear",e.nzAllowClear)("ant-select-borderless",e.nzBorderless)("ant-select-open",e.nzOpen)("ant-select-focused",e.nzOpen||e.focused)("ant-select-single","default"===e.nzMode)("ant-select-multiple","default"!==e.nzMode)("ant-select-rtl","rtl"===e.dir)},inputs:{nzSize:"nzSize",nzOptionHeightPx:"nzOptionHeightPx",nzOptionOverflowSize:"nzOptionOverflowSize",nzDropdownClassName:"nzDropdownClassName",nzDropdownMatchSelectWidth:"nzDropdownMatchSelectWidth",nzDropdownStyle:"nzDropdownStyle",nzNotFoundContent:"nzNotFoundContent",nzPlaceHolder:"nzPlaceHolder",nzMaxTagCount:"nzMaxTagCount",nzDropdownRender:"nzDropdownRender",nzCustomTemplate:"nzCustomTemplate",nzSuffixIcon:"nzSuffixIcon",nzClearIcon:"nzClearIcon",nzRemoveIcon:"nzRemoveIcon",nzMenuItemSelectedIcon:"nzMenuItemSelectedIcon",nzTokenSeparators:"nzTokenSeparators",nzMaxTagPlaceholder:"nzMaxTagPlaceholder",nzMaxMultipleCount:"nzMaxMultipleCount",nzMode:"nzMode",nzFilterOption:"nzFilterOption",compareWith:"compareWith",nzAllowClear:"nzAllowClear",nzBorderless:"nzBorderless",nzShowSearch:"nzShowSearch",nzLoading:"nzLoading",nzAutoFocus:"nzAutoFocus",nzAutoClearSearchValue:"nzAutoClearSearchValue",nzServerSearch:"nzServerSearch",nzDisabled:"nzDisabled",nzOpen:"nzOpen",nzOptions:"nzOptions",nzShowArrow:"nzShowArrow"},outputs:{nzOnSearch:"nzOnSearch",nzScrollToBottom:"nzScrollToBottom",nzOpenChange:"nzOpenChange",nzBlur:"nzBlur",nzFocus:"nzFocus"},exportAs:["nzSelect"],features:[r.Cb([{provide:X,useExisting:Object(r.W)(()=>t),multi:!0}]),r.Bb],decls:5,vars:22,consts:[["cdkOverlayOrigin","",3,"open","disabled","mode","nzNoAnimation","maxTagPlaceholder","removeIcon","placeHolder","maxTagCount","customTemplate","tokenSeparators","showSearch","autofocus","listOfTopItem","inputValueChange","tokenize","animationEnd","deleteItem","keydown"],["origin","cdkOverlayOrigin"],[3,"loading","search","suffixIcon",4,"ngIf"],[3,"clearIcon","clear",4,"ngIf"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayMinWidth","cdkConnectedOverlayWidth","cdkConnectedOverlayOrigin","cdkConnectedOverlayTransformOriginOn","cdkConnectedOverlayPanelClass","cdkConnectedOverlayOpen","overlayKeydown","overlayOutsideClick","detach","positionChange"],[3,"loading","search","suffixIcon"],[3,"clearIcon","clear"],[3,"ngStyle","itemSize","maxItemLength","matchWidth","nzNoAnimation","listOfContainerItem","menuItemSelectedIcon","notFoundContent","activatedValue","listOfSelectedValue","dropdownRender","compareWith","mode","keydown","itemClick","scrollToBottom"]],template:function(t,e){if(1&t&&(r.Xb(0,"nz-select-top-control",0,1),r.fc("inputValueChange",function(t){return e.onInputValueChange(t)})("tokenize",function(t){return e.onTokenSeparate(t)})("animationEnd",function(){return e.updateCdkConnectedOverlayPositions()})("deleteItem",function(t){return e.onItemDelete(t)})("keydown",function(t){return e.onKeyDown(t)}),r.Wb(),r.Kc(2,vg,1,3,"nz-select-arrow",2),r.Kc(3,_g,1,1,"nz-select-clear",3),r.Kc(4,wg,1,19,"ng-template",4),r.fc("overlayKeydown",function(t){return e.onOverlayKeyDown(t)})("overlayOutsideClick",function(t){return e.onClickOutside(t)})("detach",function(){return e.setOpenState(!1)})("positionChange",function(t){return e.onPositionChange(t)})),2&t){const t=r.Ac(1);r.qc("open",e.nzOpen)("disabled",e.nzDisabled)("mode",e.nzMode)("@.disabled",null==e.noAnimation?null:e.noAnimation.nzNoAnimation)("nzNoAnimation",null==e.noAnimation?null:e.noAnimation.nzNoAnimation)("maxTagPlaceholder",e.nzMaxTagPlaceholder)("removeIcon",e.nzRemoveIcon)("placeHolder",e.nzPlaceHolder)("maxTagCount",e.nzMaxTagCount)("customTemplate",e.nzCustomTemplate)("tokenSeparators",e.nzTokenSeparators)("showSearch",e.nzShowSearch)("autofocus",e.nzAutoFocus)("listOfTopItem",e.listOfTopItem),r.Db(2),r.qc("ngIf",e.nzShowArrow),r.Db(1),r.qc("ngIf",e.nzAllowClear&&!e.nzDisabled&&e.listOfValue.length),r.Db(1),r.qc("cdkConnectedOverlayMinWidth",e.nzDropdownMatchSelectWidth?null:e.triggerWidth)("cdkConnectedOverlayWidth",e.nzDropdownMatchSelectWidth?e.triggerWidth:null)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayTransformOriginOn",".ant-select-dropdown")("cdkConnectedOverlayPanelClass",e.nzDropdownClassName)("cdkConnectedOverlayOpen",e.nzOpen)}},directives:function(){return[Rf,Hg,Yl,Ec,i.n,Ql,tu,Jg,Zg,Xg,i.o]},encapsulation:2,data:{animation:[hs]},changeDetection:0}),sr([Mo(),ar("design:type",Object)],t.prototype,"nzSuffixIcon",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzAllowClear",void 0),sr([Mo(),Di(),ar("design:type",Object)],t.prototype,"nzBorderless",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzShowSearch",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzLoading",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzAutoFocus",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzAutoClearSearchValue",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzServerSearch",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzDisabled",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzOpen",void 0),t})(),Yg=(()=>{class t{constructor(t){this.elementRef=t,this.nzLabel=null,this.elementRef.nativeElement.classList.add("ant-select-item","ant-select-item-group")}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-option-item-group"]],inputs:{nzLabel:"nzLabel"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"]],template:function(t,e){1&t&&r.Kc(0,zg,2,1,"ng-container",0),2&t&&r.qc("nzStringTemplateOutlet",e.nzLabel)},directives:[ei],encapsulation:2,changeDetection:0}),t})(),Qg=(()=>{class t{constructor(t){this.elementRef=t,this.selected=!1,this.activated=!1,this.grouped=!1,this.customContent=!1,this.template=null,this.disabled=!1,this.showState=!1,this.label=null,this.value=null,this.activatedValue=null,this.listOfSelectedValue=[],this.icon=null,this.itemClick=new r.n,this.itemHover=new r.n,this.elementRef.nativeElement.classList.add("ant-select-item","ant-select-item-option")}onHostMouseEnter(){this.disabled||this.itemHover.next(this.value)}onHostClick(){this.disabled||this.itemClick.next(this.value)}ngOnChanges(t){const{value:e,activatedValue:n,listOfSelectedValue:i}=t;(e||i)&&(this.selected=this.listOfSelectedValue.some(t=>this.compareWith(t,this.value))),(e||n)&&(this.activated=this.compareWith(this.activatedValue,this.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-option-item"]],hostVars:9,hostBindings:function(t,e){1&t&&r.fc("mouseenter",function(){return e.onHostMouseEnter()})("click",function(){return e.onHostClick()}),2&t&&(r.Eb("title",e.label),r.Jb("ant-select-item-option-grouped",e.grouped)("ant-select-item-option-selected",e.selected&&!e.disabled)("ant-select-item-option-disabled",e.disabled)("ant-select-item-option-active",e.activated&&!e.disabled))},inputs:{grouped:"grouped",customContent:"customContent",template:"template",disabled:"disabled",showState:"showState",label:"label",value:"value",activatedValue:"activatedValue",listOfSelectedValue:"listOfSelectedValue",icon:"icon",compareWith:"compareWith"},outputs:{itemClick:"itemClick",itemHover:"itemHover"},features:[r.Bb],decls:4,vars:3,consts:[[1,"ant-select-item-option-content"],[4,"ngIf"],["class","ant-select-item-option-state","style","user-select: none","unselectable","on",4,"ngIf"],[3,"ngTemplateOutlet"],["unselectable","on",1,"ant-select-item-option-state",2,"user-select","none"],["nz-icon","","nzType","check","class","ant-select-selected-icon",4,"ngIf","ngIfElse"],["nz-icon","","nzType","check",1,"ant-select-selected-icon"]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.Kc(1,Cg,2,1,"ng-container",1),r.Kc(2,xg,2,1,"ng-container",1),r.Wb(),r.Kc(3,kg,2,2,"div",2)),2&t&&(r.Db(1),r.qc("ngIf",!e.customContent),r.Db(1),r.qc("ngIf",e.customContent),r.Db(1),r.qc("ngIf",e.showState&&e.selected))},directives:[i.n,i.s,No,Rf],encapsulation:2,changeDetection:0}),t})(),Jg=(()=>{class t{constructor(t){this.elementRef=t,this.loading=!1,this.search=!1,this.suffixIcon=null,this.elementRef.nativeElement.classList.add("ant-select-arrow")}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-select-arrow"]],hostVars:2,hostBindings:function(t,e){2&t&&r.Jb("ant-select-arrow-loading",e.loading)},inputs:{loading:"loading",search:"search",suffixIcon:"suffixIcon"},decls:3,vars:2,consts:[["nz-icon","","nzType","loading",4,"ngIf","ngIfElse"],["defaultArrow",""],["nz-icon","","nzType","loading"],[4,"ngIf","ngIfElse"],["suffixTemplate",""],["nz-icon","","nzType","down",4,"ngIf"],["nz-icon","","nzType","search",4,"ngIf"],["nz-icon","","nzType","down"],["nz-icon","","nzType","search"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(t,e){if(1&t&&(r.Kc(0,Tg,1,0,"i",0),r.Kc(1,Ag,3,2,"ng-template",null,1,r.Lc)),2&t){const t=r.Ac(2);r.qc("ngIf",e.loading)("ngIfElse",t)}},directives:[i.n,No,Rf,ei],encapsulation:2,changeDetection:0}),t})(),Zg=(()=>{class t{constructor(t){this.elementRef=t,this.clearIcon=null,this.clear=new r.n,this.elementRef.nativeElement.classList.add("ant-select-clear")}onClick(t){t.preventDefault(),t.stopPropagation(),this.clear.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-select-clear"]],hostBindings:function(t,e){1&t&&r.fc("click",function(t){return e.onClick(t)})},inputs:{clearIcon:"clearIcon"},outputs:{clear:"clear"},decls:1,vars:2,consts:[["nz-icon","","nzType","close-circle","nzTheme","fill","class","ant-select-close-icon",4,"ngIf","ngIfElse"],["nz-icon","","nzType","close-circle","nzTheme","fill",1,"ant-select-close-icon"]],template:function(t,e){1&t&&r.Kc(0,Pg,1,0,"i",0),2&t&&r.qc("ngIf",!e.clearIcon)("ngIfElse",e.clearIcon)},directives:[i.n,No,Rf],encapsulation:2,changeDetection:0}),t})(),tm=(()=>{class t{constructor(t){this.elementRef=t,this.disabled=!1,this.label=null,this.deletable=!1,this.removeIcon=null,this.contentTemplateOutletContext=null,this.contentTemplateOutlet=null,this.delete=new r.n,this.elementRef.nativeElement.classList.add("ant-select-selection-item")}onDelete(t){t.preventDefault(),t.stopPropagation(),this.disabled||this.delete.next(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-select-item"]],hostVars:3,hostBindings:function(t,e){2&t&&(r.Eb("title",e.label),r.Jb("ant-select-selection-item-disabled",e.disabled))},inputs:{disabled:"disabled",label:"label",deletable:"deletable",removeIcon:"removeIcon",contentTemplateOutletContext:"contentTemplateOutletContext",contentTemplateOutlet:"contentTemplateOutlet"},outputs:{delete:"delete"},decls:2,vars:5,consts:[[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["class","ant-select-selection-item-remove",3,"click",4,"ngIf"],["class","ant-select-selection-item-content",4,"ngIf","ngIfElse"],["labelTemplate",""],[1,"ant-select-selection-item-content"],[1,"ant-select-selection-item-remove",3,"click"],["nz-icon","","nzType","close",4,"ngIf","ngIfElse"],["nz-icon","","nzType","close"]],template:function(t,e){1&t&&(r.Kc(0,jg,4,2,"ng-container",0),r.Kc(1,Vg,2,2,"span",1)),2&t&&(r.qc("nzStringTemplateOutlet",e.contentTemplateOutlet)("nzStringTemplateOutletContext",r.vc(3,Wg,e.contentTemplateOutletContext)),r.Db(1),r.qc("ngIf",e.deletable&&!e.disabled))},directives:[ei,i.n,No,Rf],encapsulation:2,changeDetection:0}),t})(),em=(()=>{class t{constructor(t){this.elementRef=t,this.placeholder=null,this.elementRef.nativeElement.classList.add("ant-select-selection-placeholder")}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-select-placeholder"]],inputs:{placeholder:"placeholder"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"]],template:function(t,e){1&t&&r.Kc(0,qg,2,1,"ng-container",0),2&t&&r.qc("nzStringTemplateOutlet",e.placeholder)},directives:[ei],encapsulation:2,changeDetection:0}),t})(),nm=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,Dd,me,Bn,Zl,Vo,ii,ig,eu,Ic,Af,cl,Ep]]}),t})();function im(t,e){if(1&t&&r.Sb(0,"nz-option",6),2&t){const t=e.$implicit;r.qc("nzValue",t.value)("nzDisabled",t.disabled)("nzLabel",t.label)}}function rm(t,e){if(1&t&&(r.Xb(0,"nz-option-group",4),r.Kc(1,im,1,3,"nz-option",5),r.Wb()),2&t){const t=r.jc().$implicit;r.qc("nzLabel",t.label),r.Db(1),r.qc("ngForOf",t.group)}}function om(t,e){if(1&t&&r.Sb(0,"nz-option",6),2&t){const t=r.jc().$implicit;r.qc("nzValue",t.value)("nzDisabled",t.disabled)("nzLabel",t.label)}}function sm(t,e){if(1&t&&(r.Vb(0),r.Kc(1,rm,2,2,"nz-option-group",2),r.Kc(2,om,1,3,"nz-option",3),r.Ub()),2&t){const t=e.$implicit;r.Db(1),r.qc("ngIf",t.group),r.Db(1),r.qc("ngIf",!t.group)}}let am=(()=>{class t extends Je{constructor(){super(...arguments),this.defaultOptions={templateOptions:{options:[]}}}}return t.\u0275fac=function(e){return cm(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["formly-field-nz-select"]],features:[r.Ab],decls:4,vars:12,consts:[[3,"nzPlaceHolder","formControl","formlyAttributes","nzMode"],[4,"ngFor","ngForOf"],[3,"nzLabel",4,"ngIf"],[3,"nzValue","nzDisabled","nzLabel",4,"ngIf"],[3,"nzLabel"],[3,"nzValue","nzDisabled","nzLabel",4,"ngFor","ngForOf"],[3,"nzValue","nzDisabled","nzLabel"]],template:function(t,e){1&t&&(r.Xb(0,"nz-select",0),r.Kc(1,sm,3,2,"ng-container",1),r.kc(2,"async"),r.kc(3,"formlySelectOptions"),r.Wb()),2&t&&(r.Jb("ng-dirty",e.showError),r.qc("nzPlaceHolder",e.to.placeholder)("formControl",e.formControl)("formlyAttributes",e.field)("nzMode",e.to.multiple?"multiple":"default"),r.Db(1),r.qc("ngForOf",r.lc(2,7,r.mc(3,9,e.to.options,e.field))))},directives:[Gg,bt,ae,Qe,i.m,i.n,Bg,Ug],pipes:[i.b,uf],encapsulation:2}),t})();const cm=r.Zb(am);let lm=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[i.c,be,nm,cp,hf,gn.forChild({types:[{name:"select",component:am,wrappers:["form-field"]}]})]]}),t})(),um=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[cp,sf,lf,Cf,Mf,lm]]}),t})();const hm={production:!0,backend_url:"https://balder.itccanarias.org",firebase_config:n("w4B5"),firebaseui_config:{enableFirestoreSync:!0,toastMessageOnAuthSuccess:!1,toastMessageOnAuthError:!1,authGuardFallbackURL:"login",authGuardLoggedInURL:"logout",passwordMaxLength:60,passwordMinLength:8,nameMaxLength:50,nameMinLength:2,guardProtectedRoutesUntilEmailIsVerified:!0,enableEmailVerification:!0}};var dm=n("tyNb"),pm=n("SxV6");function fm(t,e){return e?Object(Bc.a)(()=>t,e):Object(Bc.a)(()=>t)}var gm=n("tf+s"),mm=n("spgP");const bm=new r.r("angularfire2.auth.use-emulator"),ym=new r.r("angularfire2.auth.settings"),vm=new r.r("angularfire2.auth.tenant-id"),_m=new r.r("angularfire2.auth.langugage-code"),wm=new r.r("angularfire2.auth.use-device-language"),zm=new r.r("angularfire.auth.persistence");let Cm=(()=>{class t{constructor(t,e,r,o,s,a,c,l,u,h){const d=new mm.c(o),p=Object(mm.g)(d),f=new xe.a,g=Object(wi.a)(void 0).pipe(Object(Qi.b)(d.outsideAngular),Object(Bc.a)(()=>o.runOutsideAngular(()=>n.e(10).then(n.bind(null,"6nsN")))),Object(N.a)(()=>Object(mm.f)(t,o,e)),Object(N.a)(t=>o.runOutsideAngular(()=>{const e=s,n=a;return Object(mm.e)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const i=o.runOutsideAngular(()=>t.auth());return e&&i.useEmulator(`http://${e.join(":")}`),c&&(i.tenantId=c),i.languageCode=l,u&&i.useDeviceLanguage(),n&&(i.settings=n),h&&i.setPersistence(h),i},[e,c,l,u,n,h])})),Xc({bufferSize:1,refCount:!1}));if(Object(i.A)(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(wi.a)(null);else{g.pipe(Object(pm.a)()).subscribe();const t=g.pipe(Object(Bc.a)(t=>t.getRedirectResult().then(t=>t,()=>null)),p,Xc({bufferSize:1,refCount:!1})),e=t=>new F.a(e=>({unsubscribe:o.runOutsideAngular(()=>t(e))})),n=g.pipe(Object(Bc.a)(t=>e(t.onAuthStateChanged.bind(t)))),i=g.pipe(Object(Bc.a)(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(fm(n),Object(gm.a)(d.outsideAngular),Object(Qi.b)(d.insideAngular)),this.user=t.pipe(fm(i),Object(gm.a)(d.outsideAngular),Object(Qi.b)(d.insideAngular)),this.idToken=this.user.pipe(Object(Bc.a)(t=>t?Object(W.a)(t.getIdToken()):Object(wi.a)(null))),this.idTokenResult=this.user.pipe(Object(Bc.a)(t=>t?Object(W.a)(t.getIdTokenResult()):Object(wi.a)(null))),this.credential=Object(bl.a)(t,f,this.authState.pipe(Object(di.a)(t=>!t))).pipe(Object(N.a)(t=>(null==t?void 0:t.user)?t:null),Object(gm.a)(d.outsideAngular),Object(Qi.b)(d.insideAngular))}return Object(mm.h)(this,g,o,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.bc(mm.b),r.bc(mm.a,8),r.bc(r.C),r.bc(r.A),r.bc(bm,8),r.bc(ym,8),r.bc(vm,8),r.bc(_m,8),r.bc(wm,8),r.bc(zm,8))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(mm.b),Object(r.bc)(mm.a,8),Object(r.bc)(r.C),Object(r.bc)(r.A),Object(r.bc)(bm,8),Object(r.bc)(ym,8),Object(r.bc)(vm,8),Object(r.bc)(_m,8),Object(r.bc)(wm,8),Object(r.bc)(zm,8))},token:t,providedIn:"any"}),t})();Object(mm.d)(Cm,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let Sm=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[Cm]}),t})();n("t6oF");var xm=n("Jgta"),Om=n("Kqap"),km=n("zIRd"),Tm=n("q/0M"),Em=n("qOnz"),Im=function(t,e){return(Im=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Dm(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Mm,Rm="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Am=Am||{},Pm=Rm||self;function Lm(){}function Fm(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function jm(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Nm="closure_uid_"+(1e9*Math.random()>>>0),Vm=0;function Wm(t,e,n){return t.call.apply(t.bind,arguments)}function qm(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Bm(t,e,n){return(Bm=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Wm:qm).apply(null,arguments)}function Xm(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Um(){return Date.now()}function $m(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}}function Hm(){this.j=this.j,this.i=this.i}Hm.prototype.j=!1,Hm.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Nm)&&t[Nm]||(t[Nm]=++Vm)}(this)},Hm.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Km=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Gm=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"==typeof t?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)};function Ym(t){return Array.prototype.concat.apply([],arguments)}function Qm(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function Jm(t){return/^[\s\xa0]*$/.test(t)}var Zm,tb=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function eb(t,e){return-1!=t.indexOf(e)}function nb(t,e){return t<e?-1:t>e?1:0}t:{var ib=Pm.navigator;if(ib){var rb=ib.userAgent;if(rb){Zm=rb;break t}}Zm=""}function ob(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function sb(t){var e={};for(var n in t)e[n]=t[n];return e}var ab="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cb(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<ab.length;o++)n=ab[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function lb(t){return lb[" "](t),t}lb[" "]=Lm;var ub,hb,db=eb(Zm,"Opera"),pb=eb(Zm,"Trident")||eb(Zm,"MSIE"),fb=eb(Zm,"Edge"),gb=fb||pb,mb=eb(Zm,"Gecko")&&!(eb(Zm.toLowerCase(),"webkit")&&!eb(Zm,"Edge"))&&!(eb(Zm,"Trident")||eb(Zm,"MSIE"))&&!eb(Zm,"Edge"),bb=eb(Zm.toLowerCase(),"webkit")&&!eb(Zm,"Edge");function yb(){var t=Pm.document;return t?t.documentMode:void 0}t:{var vb="",_b=(hb=Zm,mb?/rv:([^\);]+)(\)|;)/.exec(hb):fb?/Edge\/([\d\.]+)/.exec(hb):pb?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(hb):bb?/WebKit\/(\S+)/.exec(hb):db?/(?:Version)[ \/]?(\S+)/.exec(hb):void 0);if(_b&&(vb=_b?_b[1]:""),pb){var wb=yb();if(null!=wb&&wb>parseFloat(vb)){ub=String(wb);break t}}ub=vb}var zb={};function Cb(t){return function(t,e){var n=zb;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=tb(String(ub)).split("."),i=tb(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var s=n[o]||"",a=i[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=nb(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||nb(0==s[2].length,0==a[2].length)||nb(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var Sb=Pm.document&&pb&&(yb()||parseInt(ub,10))||void 0,xb=!pb||9<=Number(Sb),Ob=pb&&!Cb("9"),kb=function(){if(!Pm.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Pm.addEventListener("test",Lm,e),Pm.removeEventListener("test",Lm,e)}catch(n){}return t}();function Tb(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Eb(t,e){if(Tb.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(mb){t:{try{lb(e.nodeName);var r=!0;break t}catch(o){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ib[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Tb.prototype.b=function(){this.defaultPrevented=!0},$m(Eb,Tb);var Ib={2:"touch",3:"pen",4:"mouse"};Eb.prototype.b=function(){Eb.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ob)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Db="closure_listenable_"+(1e6*Math.random()|0),Mb=0;function Rb(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ca=r,this.key=++Mb,this.Y=this.Z=!1}function Ab(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Pb(t){this.src=t,this.a={},this.b=0}function Lb(t,e){var n=e.type;if(n in t.a){var i,r=t.a[n],o=Km(r,e);(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(Ab(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Fb(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==i)return r}return-1}Pb.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Fb(t,e,i,r);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Rb(e,this.src,o,!!i,r)).Z=n,t.push(e)),e};var jb="closure_lm_"+(1e6*Math.random()|0),Nb={};function Vb(t,e,n,i,r){if(i&&i.once)return qb(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Vb(t,e[o],n,i,r);return null}return n=Yb(n),t&&t[Db]?t.va(e,n,jm(i)?!!i.capture:!!i,r):Wb(t,e,n,!1,i,r)}function Wb(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var s=jm(r)?!!r.capture:!!r;if(s&&!xb)return null;var a=Kb(t);if(a||(t[jb]=a=new Pb(t)),(n=a.add(e,n,i,s,o)).proxy)return n;if(i=function(){var t=Hb,e=xb?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)kb||(r=s),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(Ub(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function qb(t,e,n,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)qb(t,e[o],n,i,r);return null}return n=Yb(n),t&&t[Db]?t.wa(e,n,jm(i)?!!i.capture:!!i,r):Wb(t,e,n,!0,i,r)}function Bb(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)Bb(t,e[o],n,i,r);else i=jm(i)?!!i.capture:!!i,n=Yb(n),t&&t[Db]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Fb(o=t.a[e],n,i,r))&&(Ab(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Kb(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Fb(e,n,i,r)),(n=-1<t?e[t]:null)&&Xb(n))}function Xb(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Db])Lb(e.c,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(Ub(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Kb(e))?(Lb(n,t),0==n.b&&(n.src=null,e[jb]=null)):Ab(t)}}}function Ub(t){return t in Nb?Nb[t]:Nb[t]="on"+t}function $b(t,e){var n=t.listener,i=t.ca||t.src;return t.Z&&Xb(t),n.call(i,e)}function Hb(t,e){if(t.Y)return!0;if(!xb){if(!e)t:{e=["window","event"];for(var n=Pm,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}return $b(t,e=new Eb(e,this))}return $b(t,new Eb(e,this))}function Kb(t){return(t=t[jb])instanceof Pb?t:null}var Gb="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yb(t){return"function"==typeof t?t:(t[Gb]||(t[Gb]=function(e){return t.handleEvent(e)}),t[Gb])}function Qb(){Hm.call(this),this.c=new Pb(this),this.J=this,this.C=null}function Jb(t,e){var n,i=t.C;if(i)for(n=[];i;i=i.C)n.push(i);if(t=t.J,i=e.type||e,"string"==typeof e)e=new Tb(e,t);else if(e instanceof Tb)e.target=e.target||t;else{var r=e;cb(e=new Tb(i,t),r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];r=Zb(s,i,!0,e)&&r}if(r=Zb(s=e.a=t,i,!0,e)&&r,r=Zb(s,i,!1,e)&&r,n)for(o=0;o<n.length;o++)r=Zb(s=e.a=n[o],i,!1,e)&&r}function Zb(t,e,n,i){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,c=s.ca||s.src;s.Z&&Lb(t.c,s),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}$m(Qb,Hm),Qb.prototype[Db]=!0,(Mm=Qb.prototype).addEventListener=function(t,e,n,i){Vb(this,t,e,n,i)},Mm.removeEventListener=function(t,e,n,i){Bb(this,t,e,n,i)},Mm.G=function(){if(Qb.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)Ab(n[i]);delete e.a[t],e.b--}}this.C=null},Mm.va=function(t,e,n,i){return this.c.add(String(t),e,!1,n,i)},Mm.wa=function(t,e,n,i){return this.c.add(String(t),e,!0,n,i)};var ty=Pm.JSON.stringify;function ey(){this.b=this.a=null}var ny,iy=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new oy},function(t){t.reset()});function ry(){var t=ly,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function oy(){this.next=this.b=this.a=null}function sy(t){Pm.setTimeout(function(){throw t},0)}function ay(t,e){ny||function(){var t=Pm.Promise.resolve(void 0);ny=function(){t.then(uy)}}(),cy||(ny(),cy=!0),ly.add(t,e)}ey.prototype.add=function(t,e){var n=iy.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},oy.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},oy.prototype.reset=function(){this.next=this.b=this.a=null};var cy=!1,ly=new ey;function uy(){for(var t;t=ry();){try{t.a.call(t.b)}catch(n){sy(n)}var e=iy;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}cy=!1}function hy(t,e){Qb.call(this),this.b=t||1,this.a=e||Pm,this.f=Bm(this.Za,this),this.g=Um()}function dy(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function py(t,e,n){if("function"==typeof t)n&&(t=Bm(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Bm(t.handleEvent,t)}return 2147483647<Number(e)?-1:Pm.setTimeout(t,e||0)}function fy(t){t.a=py(function(){t.a=null,t.c&&(t.c=!1,fy(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}$m(hy,Qb),(Mm=hy.prototype).aa=!1,Mm.M=null,Mm.Za=function(){if(this.aa){var t=Um()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Jb(this,"tick"),this.aa&&(dy(this),this.start()))}},Mm.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Um())},Mm.G=function(){hy.X.G.call(this),dy(this),delete this.a};var gy=function(t){function e(e,n){var i=t.call(this)||this;return i.g=e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}Im(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:fy(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Pm.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Hm);function my(t){Hm.call(this),this.b=t,this.a={}}$m(my,Hm);var by=[];function yy(t,e,n,i){Array.isArray(n)||(n&&(by[0]=n.toString()),n=by);for(var r=0;r<n.length;r++){var o=Vb(e,n[r],i||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function vy(t){ob(t.a,function(t,e){this.a.hasOwnProperty(e)&&Xb(t)},t),t.a={}}function _y(){this.a=!0}function wy(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return ty(n)}catch(a){return e}}(t,n)+(i?" "+i:"")})}my.prototype.G=function(){my.X.G.call(this),vy(this)},my.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_y.prototype.info=function(){};var zy={},Cy=null;function Sy(){return Cy=Cy||new Qb}function xy(t){Tb.call(this,zy.Fa,t)}function Oy(t){var e=Sy();Jb(e,new xy(e,t))}function ky(t,e){Tb.call(this,zy.STAT_EVENT,t),this.stat=e}function Ty(t){var e=Sy();Jb(e,new ky(e,t))}function Ey(t){Tb.call(this,zy.Ga,t)}function Iy(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Pm.setTimeout(function(){t()},e)}zy.Fa="serverreachability",$m(xy,Tb),zy.STAT_EVENT="statevent",$m(ky,Tb),zy.Ga="timingevent",$m(Ey,Tb);var Dy={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},My={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Ry(){}function Ay(){}Ry.prototype.a=null;var Py,Ly={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Fy(){Tb.call(this,"d")}function jy(){Tb.call(this,"c")}function Ny(){}function Vy(t,e,n,i){this.g=t,this.c=e,this.f=n,this.S=i||1,this.J=new my(this),this.P=Wy,this.R=new hy(t=gb?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}$m(Fy,Tb),$m(jy,Tb),$m(Ny,Ry),Py=new Ny;var Wy=45e3,qy={},By={};function Xy(t,e,n){t.H=1,t.i=dv(sv(e)),t.j=n,t.I=!0,Uy(t,null)}function Uy(t,e){t.u=Um(),Ky(t),t.l=sv(t.i);var n=t.l,i=t.S;Array.isArray(i)||(i=[String(i)]),xv(n.b,"t",i),t.D=0,t.a=v_(t.g,t.g.C?e:null),0<t.O&&(t.F=new gy(Bm(t.Ca,t,t.a),t.O)),yy(t.J,t.a,"readystatechange",t.Xa),e=t.B?sb(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Oy(1),function(t,e,n,i,r,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function $y(t,e,n){for(var i=!0;!t.A&&t.D<n.length;){var r=Hy(t,n);if(r==By){4==e&&(t.h=4,Ty(14),i=!1),wy(t.c,t.f,null,"[Incomplete Response]");break}if(r==qy){t.h=4,Ty(15),wy(t.c,t.f,n,"[Invalid Chunk]"),i=!1;break}wy(t.c,t.f,r,null),Zy(t,r)}4==e&&0==n.length&&(t.h=1,Ty(16),i=!1),t.b=t.b&&i,i?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),h_(e),e.F=!0,Ty(11))):(wy(t.c,t.f,n,"[Invalid Chunked Response]"),Jy(t),Qy(t))}function Hy(t,e){var n=t.D,i=e.indexOf("\n",n);return-1==i?By:(n=Number(e.substring(n,i)),isNaN(n)?qy:(i+=1)+n>e.length?By:(e=e.substr(i,n),t.D=i+n,e))}function Ky(t){t.T=Um()+t.P,Gy(t,t.P)}function Gy(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Iy(Bm(t.Va,t),e)}function Yy(t){t.o&&(Pm.clearTimeout(t.o),t.o=null)}function Qy(t){0==t.g.v||t.A||f_(t.g,t)}function Jy(t){Yy(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,dy(t.R),vy(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Zy(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Mv(n.b,t)))if(n.I=t.N,!t.C&&Mv(n.b,t)&&3==n.v){try{var i=n.ka.a.parse(e)}catch(iI){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;p_(n),n_(n)}u_(n),Ty(18)}}else n.oa=r[1],0<n.oa-n.P&&37500>r[2]&&n.H&&0==n.o&&!n.m&&(n.m=Iy(Bm(n.Sa,n),6e3));if(1>=Dv(n.b)&&n.ea){try{n.ea()}catch(iI){}n.ea=void 0}}else m_(n,11)}else if((t.C||n.a==t)&&p_(n),!Jm(e))for(e=i=n.ka.a.parse(e),i=0;i<e.length;i++)if(n.P=(r=e[i])[0],r=r[1],2==n.v)if("c"==r[0]){n.J=r[1],n.ga=r[2];var o=r[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=r[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=r[5];if(null!=a&&"number"==typeof a&&0<a){var c=1.5*a;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var l=t.a;if(l){var u=l.a?l.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(u){var h=c.b;!h.a&&(eb(u,"spdy")||eb(u,"quic")||eb(u,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Rv(h,h.b),h.b=null))}if(c.A){var d=l.a?l.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(c.na=d,hv(c.B,c.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Um()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=t;if((c=n).la=y_(c,c.C?c.ga:null,c.fa),p.C){Av(c.b,p);var f=p,g=c.D;g&&f.setTimeout(g),f.o&&(Yy(f),Ky(f)),c.a=p}else l_(c);0<n.g.length&&o_(n)}else"stop"!=r[0]&&"close"!=r[0]||m_(n,7);else 3==n.v&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?m_(n,7):e_(n):"noop"!=r[0]&&n.f&&n.f.sa(r),n.o=0);Oy(4)}catch(iI){}}function tv(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Fm(t)||"string"==typeof t)Gm(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Fm(t)||"string"==typeof t){n=[];for(var i=t.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,t)n[i++]=r;r=(i=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Fm(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t)).length;for(var o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}}function ev(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof ev)for(n=t.L(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function nv(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];iv(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)iv(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function iv(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Mm=Vy.prototype).setTimeout=function(t){this.P=t},Mm.Xa=function(t){t=t.target;var e=this.F;e&&3==Qv(t)?e.f():this.Ca(t)},Mm.Ca=function(t){try{if(t==this.a)t:{var e=Qv(this.a),n=this.a.ua(),i=this.a.W();if(!(3>e||3==e&&!gb&&!this.a.$())){this.A||4!=e||7==n||Oy(8==n||0>=i?3:2),Yy(this);var r=this.a.W();this.N=r;var o=this.a.$();if(this.b=200==r,function(t,e,n,i,r,o,s){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,r),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jm(s)){var c=s;break e}}c=null}if(!c){this.b=!1,this.h=3,Ty(12),Jy(this),Qy(this);break t}wy(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Zy(this,c)}this.I?($y(this,e,o),gb&&this.b&&3==e&&(yy(this.J,this.R,"tick",this.Wa),this.R.start())):(wy(this.c,this.f,o,null),Zy(this,o)),4==e&&Jy(this),this.b&&!this.A&&(4==e?f_(this.g,this):(this.b=!1,Ky(this)))}else 400==r&&0<o.indexOf("Unknown SID")?(this.h=3,Ty(12)):(this.h=0,Ty(13)),Jy(this),Qy(this)}}}catch(l){}},Mm.Wa=function(){if(this.a){var t=Qv(this.a),e=this.a.$();this.D<e.length&&(Yy(this),$y(this,t,e),this.b&&4!=t&&Ky(this))}},Mm.cancel=function(){this.A=!0,Jy(this)},Mm.Va=function(){this.o=null;var t=Um();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Oy(3),Ty(17)),Jy(this),this.h=2,Qy(this)):Gy(this,this.T-t)},(Mm=ev.prototype).K=function(){nv(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Mm.L=function(){return nv(this),this.a.concat()},Mm.get=function(t,e){return iv(this.b,t)?this.b[t]:e},Mm.set=function(t,e){iv(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Mm.forEach=function(t,e){for(var n=this.L(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var rv=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ov(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ov){this.a=void 0!==e?e:t.a,av(this,t.f),this.j=t.j,cv(this,t.c),lv(this,t.h),this.g=t.g,e=t.b;var n=new wv;n.c=e.c,e.a&&(n.a=new ev(e.a),n.b=e.b),uv(this,n),this.i=t.i}else t&&(n=String(t).match(rv))?(this.a=!!e,av(this,n[1]||"",!0),this.j=pv(n[2]||""),cv(this,n[3]||"",!0),lv(this,n[4]),this.g=pv(n[5]||"",!0),uv(this,n[6]||"",!0),this.i=pv(n[7]||"")):(this.a=!!e,this.b=new wv(null,this.a))}function sv(t){return new ov(t)}function av(t,e,n){t.f=n?pv(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function cv(t,e,n){t.c=n?pv(e,!0):e}function lv(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function uv(t,e,n){e instanceof wv?(t.b=e,function(t,e){e&&!t.f&&(zv(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Cv(this,e),xv(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=fv(e,vv)),t.b=new wv(e,t.a))}function hv(t,e,n){t.b.set(e,n)}function dv(t){return hv(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Um()).toString(36)),t}function pv(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function fv(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,gv),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function gv(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ov.prototype.toString=function(){var t=[],e=this.f;e&&t.push(fv(e,mv,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(fv(e,mv,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(fv(n,"/"==n.charAt(0)?yv:bv,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",fv(n,_v)),t.join("")};var mv=/[#\/\?@]/g,bv=/[#\?:]/g,yv=/[#\?]/g,vv=/[#\?@]/g,_v=/#/g;function wv(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function zv(t){t.a||(t.a=new ev,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Cv(t,e){zv(t),e=Ov(t,e),iv(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,iv((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&nv(t)))}function Sv(t,e){return zv(t),e=Ov(t,e),iv(t.a.b,e)}function xv(t,e,n){Cv(t,e),0<n.length&&(t.c=null,t.a.set(Ov(t,e),Qm(n)),t.b+=n.length)}function Ov(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Mm=wv.prototype).add=function(t,e){zv(this),this.c=null,t=Ov(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Mm.forEach=function(t,e){zv(this),this.a.forEach(function(n,i){Gm(n,function(n){t.call(e,n,i,this)},this)},this)},Mm.L=function(){zv(this);for(var t=this.a.K(),e=this.a.L(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},Mm.K=function(t){zv(this);var e=[];if("string"==typeof t)Sv(this,t)&&(e=Ym(e,this.a.get(Ov(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Ym(e,t[n])}return e},Mm.set=function(t,e){return zv(this),this.c=null,Sv(this,t=Ov(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Mm.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Mm.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.K(i);for(var o=0;o<i.length;o++){var s=r;""!==i[o]&&(s+="="+encodeURIComponent(String(i[o]))),t.push(s)}}return this.c=t.join("&")};var kv=function(){return function(t,e){this.b=t,this.a=e}}();function Tv(t){this.g=t||Ev,t=Pm.PerformanceNavigationTiming?0<(t=Pm.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Pm.ia&&Pm.ia.ya&&Pm.ia.ya()&&Pm.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Ev=10;function Iv(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Dv(t){return t.b?1:t.a?t.a.size:0}function Mv(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Rv(t,e){t.a?t.a.add(e):t.b=e}function Av(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Pv(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var i=t.c;try{for(var r=Dm(t.a.values()),o=r.next();!o.done;o=r.next())i=i.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i}return Qm(t.c)}function Lv(){}function Fv(){this.a=new Lv}function jv(t,e,n){var i=n||"";try{tv(t,function(t,n){var r=t;jm(t)&&(r=ty(t)),e.push(i+n+"="+encodeURIComponent(r))})}catch(UI){throw e.push(i+"type="+encodeURIComponent("_badmap")),UI}}function Nv(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(o){}}Tv.prototype.cancel=function(){var t,e;if(this.c=Pv(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Dm(this.a.values()),i=n.next();!i.done;i=n.next())i.value.cancel()}catch(r){t={error:r}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Lv.prototype.stringify=function(t){return Pm.JSON.stringify(t,void 0)},Lv.prototype.parse=function(t){return Pm.JSON.parse(t,void 0)};var Vv=Pm.JSON.parse;function Wv(t){Qb.call(this),this.headers=new ev,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=qv,this.D=this.F=!1}$m(Wv,Qb);var qv="",Bv=/^https?$/i,Xv=["POST","PUT"];function Uv(t){return"content-type"==t.toLowerCase()}function $v(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Hv(t),Gv(t)}function Hv(t){t.u||(t.u=!0,Jb(t,"complete"),Jb(t,"error"))}function Kv(t){if(t.b&&void 0!==Am&&(!t.s[1]||4!=Qv(t)||2!=t.W()))if(t.l&&4==Qv(t))py(t.za,0,t);else if(Jb(t,"readystatechange"),4==Qv(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var o=String(t.B).match(rv)[1]||null;if(!o&&Pm.self&&Pm.self.location){var s=Pm.self.location.protocol;o=s.substr(0,s.length-1)}r=!Bv.test(o?o.toLowerCase():"")}e=r}if(e)Jb(t,"complete"),Jb(t,"success");else{t.h=6;try{var a=2<Qv(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Hv(t)}}finally{Gv(t)}}}function Gv(t,e){if(t.a){Yv(t);var n=t.a,i=t.s[0]?Lm:null;t.a=null,t.s=null,e||Jb(t,"ready");try{n.onreadystatechange=i}catch(UI){}}}function Yv(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Pm.clearTimeout(t.m),t.m=null)}function Qv(t){return t.a?t.a.readyState:0}function Jv(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=function(t){var e="";return ob(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):hv(t,e,n))}function Zv(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function t_(t){this.pa=0,this.g=[],this.c=new _y,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Zv("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Zv("baseRetryDelayMs",5e3,t),this.Ra=Zv("retryDelaySeedMs",1e4,t),this.Ma=Zv("forwardChannelMaxRetries",2,t),this.ma=Zv("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Tv(t&&t.concurrentRequestLimit),this.ka=new Fv,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function e_(t){if(i_(t),3==t.v){var e=t.R++,n=sv(t.B);hv(n,"SID",t.J),hv(n,"RID",e),hv(n,"TYPE","terminate"),a_(t,n),(e=new Vy(t,t.c,e,void 0)).H=2,e.i=dv(sv(n)),n=!1,Pm.navigator&&Pm.navigator.sendBeacon&&(n=Pm.navigator.sendBeacon(e.i.toString(),"")),!n&&Pm.Image&&((new Image).src=e.i,n=!0),n||(e.a=v_(e.g,null),e.a.ba(e.i)),e.u=Um(),Ky(e)}b_(t)}function n_(t){t.a&&(h_(t),t.a.cancel(),t.a=null)}function i_(t){n_(t),t.j&&(Pm.clearTimeout(t.j),t.j=null),p_(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Pm.clearTimeout(t.h),t.h=null)}function r_(t,e){t.g.push(new kv(t.Oa++,e)),3==t.v&&o_(t)}function o_(t){Iv(t.b)||t.h||(t.h=!0,ay(t.Ba,t),t.u=0)}function s_(t,e){var n;n=e?e.f:t.R++;var i=sv(t.B);hv(i,"SID",t.J),hv(i,"RID",n),hv(i,"AID",t.P),a_(t,i),t.i&&t.l&&Jv(i,t.i,t.l),n=new Vy(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=c_(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Rv(t.b,n),Xy(n,i,e)}function a_(t,e){t.f&&tv({},function(t,n){hv(e,n,t)})}function c_(t,e,n){n=Math.min(t.g.length,n);var i=t.f?Bm(t.f.Ja,t.f,t):null;t:for(var r=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=r[0].b)):o=0:s.push("ofs="+o);for(var a=!0,c=0;c<n;c++){var l=r[c].b,u=r[c].a;if(0>(l-=o))o=Math.max(0,r[c].b-100),a=!1;else try{jv(u,s,"req"+l+"_")}catch(h){i&&i(u)}}if(a){i=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,i}function l_(t){t.a||t.j||(t.T=1,ay(t.Aa,t),t.o=0)}function u_(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Iy(Bm(t.Aa,t),g_(t,t.o)),t.o++,0))}function h_(t){null!=t.s&&(Pm.clearTimeout(t.s),t.s=null)}function d_(t){t.a=new Vy(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=sv(t.la);hv(e,"RID","rpc"),hv(e,"SID",t.J),hv(e,"CI",t.H?"0":"1"),hv(e,"AID",t.P),a_(t,e),hv(e,"TYPE","xmlhttp"),t.i&&t.l&&Jv(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=dv(sv(e)),n.j=null,n.I=!0,Uy(n,t)}function p_(t){null!=t.m&&(Pm.clearTimeout(t.m),t.m=null)}function f_(t,e){var n=null;if(t.a==e){p_(t),h_(t),t.a=null;var i=2}else{if(!Mv(t.b,e))return;n=e.s,Av(t.b,e),i=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==i){n=e.j?e.j.length:0,e=Um()-e.u;var r=t.u;Jb(i=Sy(),new Ey(i,n,e,r)),o_(t)}else l_(t);else if(3==(r=e.h)||0==r&&0<t.I||!(1==i&&function(t,e){return!(Dv(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Iy(Bm(t.Ba,t,e),g_(t,t.u)),t.u++,0)))}(t,e)||2==i&&u_(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),r){case 1:m_(t,5);break;case 4:m_(t,10);break;case 3:m_(t,6);break;default:m_(t,2)}}function g_(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function m_(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var i=Bm(t.Ya,t);n||(n=new ov("//www.google.com/images/cleardot.gif"),Pm.location&&"http"==Pm.location.protocol||av(n,"https"),dv(n)),function(t,e){var n=new _y;if(Pm.Image){var i=new Image;i.onload=Xm(Nv,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Xm(Nv,n,i,"TestLoadImage: error",!1,e),i.onabort=Xm(Nv,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Xm(Nv,n,i,"TestLoadImage: timeout",!1,e),Pm.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}(n.toString(),i)}else Ty(2);t.v=0,t.f&&t.f.ra(e),b_(t),i_(t)}function b_(t){t.v=0,t.I=-1,t.f&&(0==Pv(t.b).length&&0==t.g.length||(t.b.c.length=0,Qm(t.g),t.g.length=0),t.f.qa())}function y_(t,e,n){var i=function(t){return t instanceof ov?sv(t):new ov(t,void 0)}(n);if(""!=i.c)e&&cv(i,e+"."+i.c),lv(i,i.h);else{var r=Pm.location;i=function(t,e,n,i){var r=new ov(null,void 0);return t&&av(r,t),e&&cv(r,e),n&&lv(r,n),i&&(r.g=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,n)}return t.V&&ob(t.V,function(t,e){hv(i,e,t)}),n=t.na,(e=t.A)&&n&&hv(i,e,n),hv(i,"VER",t.ha),a_(t,i),i}function v_(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Wv(t.Na)).F=t.C,e}function __(){}function w_(){if(pb&&!(10<=Number(Sb)))throw Error("Environmental error: no available transport.")}function z_(t,e){Qb.call(this),this.a=new t_(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Jm(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Jm(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new x_(this)}function C_(t){Fy.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function S_(){jy.call(this),this.status=1}function x_(t){this.a=t}(Mm=Wv.prototype).ba=function(t,e,n,i){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Py),this.a.onreadystatechange=Bm(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void $v(this,o)}t=n||"";var r=new ev(this.headers);i&&tv(i,function(t,e){r.set(e,t)}),i=function(t){t:{for(var e=Uv,n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(r.L()),n=Pm.FormData&&t instanceof Pm.FormData,!(0<=Km(Xv,e))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Yv(this),0<this.o&&((this.D=function(t){return pb&&Cb(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Bm(this.xa,this)):this.m=py(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){$v(this,o)}},Mm.xa=function(){void 0!==Am&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Jb(this,"timeout"),this.abort(8))},Mm.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Jb(this,"complete"),Jb(this,"abort"),Gv(this))},Mm.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Gv(this,!0)),Wv.X.G.call(this)},Mm.za=function(){this.j||(this.A||this.l||this.g?Kv(this):this.Ua())},Mm.Ua=function(){Kv(this)},Mm.W=function(){try{return 2<Qv(this)?this.a.status:-1}catch(hb){return-1}},Mm.$=function(){try{return this.a?this.a.responseText:""}catch(hb){return""}},Mm.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Vv(e)}},Mm.ua=function(){return this.h},Mm.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Mm=t_.prototype).ha=8,Mm.v=1,Mm.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Vy(this,this.c,t,void 0),i=this.l;if(this.O&&(i?cb(i=sb(i),this.O):i=this.O),null===this.i&&(n.B=i),this.da)t:{for(var r=e=0;r<this.g.length;r++){var o=this.g[r];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=r;break t}if(4096===e||r===this.g.length-1){e=r+1;break t}}e=1e3}else e=1e3;e=c_(this,n,e),hv(r=sv(this.B),"RID",t),hv(r,"CVER",22),this.A&&hv(r,"X-HTTP-Session-Id",this.A),a_(this,r),this.i&&i&&Jv(r,this.i,i),Rv(this.b,n),this.Ia&&hv(r,"TYPE","init"),this.da?(hv(r,"$req",e),hv(r,"SID","null"),n.U=!0,Xy(n,r,null)):Xy(n,r,e),this.v=2}}else 3==this.v&&(t?s_(this,t):0==this.g.length||Iv(this.b)||s_(this))},Mm.Aa=function(){if(this.j=null,d_(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Iy(Bm(this.Ta,this),t)}},Mm.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Ty(10),n_(this),d_(this))},Mm.Sa=function(){null!=this.m&&(this.m=null,n_(this),u_(this),Ty(19))},Mm.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Ty(2)):(this.c.info("Failed to ping google.com"),Ty(1))},(Mm=__.prototype).ta=function(){},Mm.sa=function(){},Mm.ra=function(){},Mm.qa=function(){},Mm.Ja=function(){},w_.prototype.a=function(t,e){return new z_(t,e)},$m(z_,Qb),z_.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Ty(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=y_(t,null,t.fa),o_(t)},z_.prototype.close=function(){e_(this.a)},z_.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,r_(this.a,e)}else this.l?((e={}).__data__=ty(t),r_(this.a,e)):r_(this.a,t)},z_.prototype.G=function(){this.a.f=null,delete this.f,e_(this.a),delete this.a,z_.X.G.call(this)},$m(C_,Fy),$m(S_,jy),$m(x_,__),x_.prototype.ta=function(){Jb(this.a,"a")},x_.prototype.sa=function(t){Jb(this.a,new C_(t))},x_.prototype.ra=function(t){Jb(this.a,new S_(t))},x_.prototype.qa=function(){Jb(this.a,"b")},w_.prototype.createWebChannel=w_.prototype.a,z_.prototype.send=z_.prototype.h,z_.prototype.open=z_.prototype.g,z_.prototype.close=z_.prototype.close,Dy.NO_ERROR=0,Dy.TIMEOUT=8,Dy.HTTP_ERROR=6,My.COMPLETE="complete",Ay.EventType=Ly,Ly.OPEN="a",Ly.CLOSE="b",Ly.ERROR="c",Ly.MESSAGE="d",Qb.prototype.listen=Qb.prototype.va,Wv.prototype.listenOnce=Wv.prototype.wa,Wv.prototype.getLastError=Wv.prototype.Qa,Wv.prototype.getLastErrorCode=Wv.prototype.ua,Wv.prototype.getStatus=Wv.prototype.W,Wv.prototype.getResponseJson=Wv.prototype.Pa,Wv.prototype.getResponseText=Wv.prototype.$,Wv.prototype.send=Wv.prototype.ba;var O_=Dy,k_=My,T_=zy,E_=Ay,I_=Wv,D_=n("mrSG"),M_=new Tm.b("@firebase/firestore");function R_(){return M_.logLevel}function A_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(M_.logLevel<=Tm.a.DEBUG){var i=e.map(F_);M_.debug.apply(M_,Object(D_.g)(["Firestore (8.2.4): "+t],i))}}function P_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(M_.logLevel<=Tm.a.ERROR){var i=e.map(F_);M_.error.apply(M_,Object(D_.g)(["Firestore (8.2.4): "+t],i))}}function L_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(M_.logLevel<=Tm.a.WARN){var i=e.map(F_);M_.warn.apply(M_,Object(D_.g)(["Firestore (8.2.4): "+t],i))}}function F_(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(UI){return t}}function j_(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.4) INTERNAL ASSERTION FAILED: "+t;throw P_(e),new Error(e)}function N_(t,e){t||j_()}function V_(t,e){return t}function W_(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var q_=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var i=W_(40),r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%t.length));return n},t}();function B_(t,e){return t<e?-1:t>e?1:0}function X_(t,e,n){return t.length===e.length&&t.every(function(t,i){return n(t,e[i])})}function U_(t){return t+"\0"}var $_=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return B_(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();$_.h=new $_("");var H_={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},K_=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).code=e,i.message=n,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return Object(D_.c)(e,t),e}(Error),G_=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t($_.fromBase64String(e))}catch(e){throw new K_(H_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t($_.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),Y_=function(t){this._=t};function Q_(){if("undefined"==typeof Uint8Array)throw new K_(H_.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function J_(){if("undefined"==typeof atob)throw new K_(H_.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Z_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(D_.c)(e,t),e.fromBase64String=function(t){return J_(),new e(G_.fromBase64String(t))},e.fromUint8Array=function(t){return Q_(),new e(G_.fromUint8Array(t))},e.prototype.toBase64=function(){return J_(),this._.toBase64()},e.prototype.toUint8Array=function(){return Q_(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Y_),tw=function(t,e,n,i,r,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=i,this.forceLongPolling=r,this.I=o},ew=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),nw=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();nw.UNAUTHENTICATED=new nw(null),nw.P=new nw("google-credentials-uid"),nw.g=new nw("first-party-uid");var iw=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},rw=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(nw.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),ow=function(){function t(t){var e=this;this.C=null,this.currentUser=nw.UNAUTHENTICATED,this.N=!1,this.F=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.F++,e.currentUser=e.O(),e.N=!0,e.p&&e.p(e.currentUser)},this.F=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then(function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.F,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.F!==e?(A_("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(N_("string"==typeof n.accessToken),new iw(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.O=function(){var t=this.auth&&this.auth.getUid();return N_(null===t||"string"==typeof t),new nw(t)},t}(),sw=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=nw.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),aw=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new sw(this.k,this.M))},t.prototype.S=function(t){t(nw.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),cw=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();cw.U=-1;var lw=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new K_(H_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new K_(H_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new K_(H_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new K_(H_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?B_(this.nanoseconds,t.nanoseconds):B_(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),uw=function(){function t(t){this.timestamp=t}return t.W=function(e){return new t(e)},t.min=function(){return new t(new lw(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.j=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),hw=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&j_(),void 0===n?n=t.length-e:n>t.length-e&&j_(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i++){var r=t.get(i),o=e.get(i);if(r<o)return-1;if(r>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),dw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(D_.c)(e,t),e.prototype.Y=function(t,n,i){return new e(t,n,i)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=[],r=0,o=t;r<o.length;r++){var s=o[r];if(s.indexOf("//")>=0)throw new K_(H_.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");i.push.apply(i,s.split("/").filter(function(t){return t.length>0}))}return new e(i)},e.at=function(){return new e([])},e}(hw),pw=/^[_a-zA-Z][_a-zA-Z0-9]*$/,fw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(D_.c)(e,t),e.prototype.Y=function(t,n,i){return new e(t,n,i)},e.ut=function(t){return pw.test(t)},e.prototype.ot=function(){return this.rt().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],i="",r=0,o=function(){if(0===i.length)throw new K_(H_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(i),i=""},s=!1;r<t.length;){var a=t[r];if("\\"===a){if(r+1===t.length)throw new K_(H_.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new K_(H_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=c,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new K_(H_.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(hw),gw=function(){function t(t){this.path=t}return t.ft=function(e){return new t(dw.ct(e))},t.dt=function(e){return new t(dw.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===dw.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return dw.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new dw(e.slice()))},t}();function mw(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bw(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yw(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var vw=function(){function t(t){this.fields=t,t.sort(fw.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return X_(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),_w=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ww(t){if(N_(!!t),"string"==typeof t){var e=0,n=_w.exec(t);if(N_(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:zw(t.seconds),nanos:zw(t.nanos)}}function zw(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Cw(t){return"string"==typeof t?$_.fromBase64String(t):$_.fromUint8Array(t)}function Sw(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function xw(t){var e=t.mapValue.fields.__previous_value__;return Sw(e)?xw(e):e}function Ow(t){var e=ww(t.mapValue.fields.__local_write_time__.timestampValue);return new lw(e.seconds,e.nanos)}function kw(t){return null==t}function Tw(t){return 0===t&&1/t==-1/0}function Ew(t){return"number"==typeof t&&Number.isInteger(t)&&!Tw(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Iw(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Sw(t)?4:10:j_()}function Dw(t,e){var n=Iw(t);if(n!==Iw(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ow(t).isEqual(Ow(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=ww(t.timestampValue),i=ww(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Cw(t.bytesValue).isEqual(Cw(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return zw(t.geoPointValue.latitude)===zw(e.geoPointValue.latitude)&&zw(t.geoPointValue.longitude)===zw(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return zw(t.integerValue)===zw(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=zw(t.doubleValue),i=zw(e.doubleValue);return n===i?Tw(n)===Tw(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return X_(t.arrayValue.values||[],e.arrayValue.values||[],Dw);case 10:return function(t,e){var n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(mw(n)!==mw(i))return!1;for(var r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!Dw(n[r],i[r])))return!1;return!0}(t,e);default:return j_()}}function Mw(t,e){return void 0!==(t.values||[]).find(function(t){return Dw(t,e)})}function Rw(t,e){var n=Iw(t),i=Iw(e);if(n!==i)return B_(n,i);switch(n){case 0:return 0;case 1:return B_(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=zw(t.integerValue||t.doubleValue),i=zw(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return Aw(t.timestampValue,e.timestampValue);case 4:return Aw(Ow(t),Ow(e));case 5:return B_(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Cw(t),i=Cw(e);return n.u(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),i=e.split("/"),r=0;r<n.length&&r<i.length;r++){var o=B_(n[r],i[r]);if(0!==o)return o}return B_(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=B_(zw(t.latitude),zw(e.latitude));return 0!==n?n:B_(zw(t.longitude),zw(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],i=e.values||[],r=0;r<n.length&&r<i.length;++r){var o=Rw(n[r],i[r]);if(o)return o}return B_(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},i=Object.keys(n),r=e.fields||{},o=Object.keys(r);i.sort(),o.sort();for(var s=0;s<i.length&&s<o.length;++s){var a=B_(i[s],o[s]);if(0!==a)return a;var c=Rw(n[i[s]],r[o[s]]);if(0!==c)return c}return B_(i.length,o.length)}(t.mapValue,e.mapValue);default:throw j_()}}function Aw(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return B_(t,e);var n=ww(t),i=ww(e),r=B_(n.seconds,i.seconds);return 0!==r?r:B_(n.nanos,i.nanos)}function Pw(t){return Lw(t)}function Lw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=ww(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Cw(t.bytesValue).toBase64():"referenceValue"in t?gw.dt(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,i=0,r=t.values||[];i<r.length;i++)n?n=!1:e+=",",e+=Lw(r[i]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,i=0,r=Object.keys(t.fields||{}).sort();i<r.length;i++){var o=r[i];n?n=!1:e+=",",e+=o+":"+Lw(t.fields[o])}return e+"}"}(t.mapValue):j_();var e}function Fw(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function jw(t){return!!t&&"integerValue"in t}function Nw(t){return!!t&&"arrayValue"in t}function Vw(t){return!!t&&"nullValue"in t}function Ww(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qw(t){return!!t&&"mapValue"in t}var Bw=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!qw(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return Dw(this.proto,t.proto)},t}(),Xw=function(){function t(t){void 0===t&&(t=Bw.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,i=0;i<t.length-1;++i){var r=t.get(i),o=n.get(r);o instanceof Map?n=o:o&&10===Iw(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(r,o),n=o):(o=new Map,n.set(r,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(fw.at(),this.Rt);return null!=t?new Bw(t):this.At},t.prototype.gt=function(t,e){var n=this,i=!1,r=this.At.field(t),o=qw(r)?Object.assign({},r.mapValue.fields):{};return e.forEach(function(e,r){if(e instanceof Map){var s=n.gt(t.child(r),e);null!=s&&(o[r]=s,i=!0)}else null!==e?(o[r]=e,i=!0):o.hasOwnProperty(r)&&(delete o[r],i=!0)}),i?{mapValue:{fields:o}}:null},t}();function Uw(t){var e=[];return bw(t.fields||{},function(t,n){var i=new fw([t]);if(qw(n)){var r=Uw(n.mapValue).fields;if(0===r.length)e.push(i);else for(var o=0,s=r;o<s.length;o++)e.push(i.child(s[o]))}else e.push(i)}),new vw(e)}var $w=function(t,e){this.key=t,this.version=e},Hw=function(t){function e(e,n,i,r){var o=this;return(o=t.call(this,e,n)||this).Vt=i,o.bt=!!r.bt,o.hasCommittedMutations=!!r.hasCommittedMutations,o}return Object(D_.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}($w),Kw=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n)||this).hasCommittedMutations=!(!i||!i.hasCommittedMutations),r}return Object(D_.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}($w),Gw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(D_.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}($w),Yw=function(t,e,n,i,r,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=o,this.endAt=s,this.St=null};function Qw(t,e,n,i,r,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=null),new Yw(t,e,n,i,r,o,s)}function Jw(t){var e=V_(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.ot()+t.op.toString()+Pw(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.ot()+t.dir}(t)}).join(","),kw(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=hz(e.startAt)),e.endAt&&(n+="|ub:",n+=hz(e.endAt)),e.St=n}return e.St}function Zw(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!pz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var i=0;i<t.filters.length;i++)if((r=t.filters[i]).op!==(o=e.filters[i]).op||!r.field.isEqual(o.field)||!Dw(r.value,o.value))return!1;var r,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gz(t.startAt,e.startAt)&&gz(t.endAt,e.endAt)}function tz(t){return gw.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var ez=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).field=e,r.op=n,r.value=i,r}return Object(D_.c)(e,t),e.create=function(t,n,i){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,i):new nz(t,n,i):"array-contains"===n?new sz(t,i):"in"===n?new az(t,i):"not-in"===n?new cz(t,i):"array-contains-any"===n?new lz(t,i):new e(t,n,i)},e.Dt=function(t,e,n){return"in"===e?new iz(t,n):new rz(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(Rw(e,this.value)):null!==e&&Iw(this.value)===Iw(e)&&this.Ct(Rw(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return j_()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),nz=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n,i)||this).key=gw.dt(i.referenceValue),r}return Object(D_.c)(e,t),e.prototype.matches=function(t){var e=gw.J(t.key,this.key);return this.Ct(e)},e}(ez),iz=function(t){function e(e,n){var i=this;return(i=t.call(this,e,"in",n)||this).keys=oz(0,n),i}return Object(D_.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(ez),rz=function(t){function e(e,n){var i=this;return(i=t.call(this,e,"not-in",n)||this).keys=oz(0,n),i}return Object(D_.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(ez);function oz(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return gw.dt(t.referenceValue)})}var sz=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(D_.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Nw(e)&&Mw(e.arrayValue,this.value)},e}(ez),az=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(D_.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Mw(this.value.arrayValue,e)},e}(ez),cz=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(D_.c)(e,t),e.prototype.matches=function(t){if(Mw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Mw(this.value.arrayValue,e)},e}(ez),lz=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(D_.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Nw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Mw(e.value.arrayValue,t)})},e}(ez),uz=function(t,e){this.position=t,this.before=e};function hz(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Pw(t)}).join(",")}var dz=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function pz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function fz(t,e,n){for(var i=0,r=0;r<t.position.length;r++){var o=e[r],s=t.position[r];if(i=o.field.ht()?gw.J(gw.dt(s.referenceValue),n.key):Rw(s,n.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return t.before?i<=0:i<0}function gz(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Dw(t.position[n],e.position[n]))return!1;return!0}var mz=function(t,e,n,i,r,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=i,this.limit=r,this.limitType=o,this.startAt=s,this.endAt=a,this.Ft=null,this.Ot=null};function bz(t,e,n,i,r,o,s,a){return new mz(t,e,n,i,r,o,s,a)}function yz(t){return new mz(t)}function vz(t){return!kw(t.limit)&&"F"===t.limitType}function _z(t){return!kw(t.limit)&&"L"===t.limitType}function wz(t){return t.Nt.length>0?t.Nt[0].field:null}function zz(t){for(var e=0,n=t.filters;e<n.length;e++){var i=n[e];if(i.xt())return i.field}return null}function Cz(t){return null!==t.collectionGroup}function Sz(t){var e=V_(t);if(null===e.Ft){e.Ft=[];var n=zz(e),i=wz(e);if(null!==n&&null===i)n.ht()||e.Ft.push(new dz(n)),e.Ft.push(new dz(fw.lt(),"asc"));else{for(var r=!1,o=0,s=e.Nt;o<s.length;o++){var a=s[o];e.Ft.push(a),a.field.ht()&&(r=!0)}if(!r){var c=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ft.push(new dz(fw.lt(),c))}}}return e.Ft}function xz(t){var e=V_(t);if(!e.Ot)if("F"===e.limitType)e.Ot=Qw(e.path,e.collectionGroup,Sz(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],i=0,r=Sz(e);i<r.length;i++){var o=r[i];n.push(new dz(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new uz(e.endAt.position,!e.endAt.before):null,a=e.startAt?new uz(e.startAt.position,!e.startAt.before):null;e.Ot=Qw(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.Ot}function Oz(t,e,n){return new mz(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kz(t,e){return Zw(xz(t),xz(e))&&t.limitType===e.limitType}function Tz(t){return Jw(xz(t))+"|lt:"+t.limitType}function Ez(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.ot()+" "+e.op+" "+Pw(e.value);var e}).join(", ")+"]"),kw(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+hz(t.startAt)),t.endAt&&(e+=", endAt: "+hz(t.endAt)),"Target("+e+")"}(xz(t))+"; limitType="+t.limitType+")"}function Iz(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):gw.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,i=t.Nt;n<i.length;n++){var r=i[n];if(!r.field.ht()&&null===e.field(r.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,i=t.filters;n<i.length;n++)if(!i[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!fz(t.startAt,Sz(t),e)||t.endAt&&fz(t.endAt,Sz(t),e))}(t,e)}function Dz(t){return function(e,n){for(var i=!1,r=0,o=Sz(t);r<o.length;r++){var s=o[r],a=Mz(s,e,n);if(0!==a)return a;i=i||s.field.ht()}return 0}}function Mz(t,e,n){var i=t.field.ht()?gw.J(e.key,n.key):function(t,e,n){var i=e.field(t),r=n.field(t);return null!==i&&null!==r?Rw(i,r):j_()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return j_()}}var Rz=function(){function t(t,e,n,i,r,o,s){void 0===r&&(r=uw.min()),void 0===o&&(o=uw.min()),void 0===s&&(s=$_.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=i,this.Mt=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function Az(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tw(e)?"-0":e}}function Pz(t){return{integerValue:""+t}}function Lz(t,e){return Ew(e)?Pz(e):Az(t,e)}var Fz=function(){this.Ut=void 0};function jz(t,e,n){return t instanceof Wz?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof qz?Bz(t,e):t instanceof Xz?Uz(t,e):function(t,e){var n=Vz(t,e),i=Hz(n)+Hz(t.Qt);return jw(n)&&jw(t.Qt)?Pz(i):Az(t.Kt,i)}(t,e)}function Nz(t,e,n){return t instanceof qz?Bz(t,e):t instanceof Xz?Uz(t,e):n}function Vz(t,e){return t instanceof $z?jw(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Wz=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(D_.c)(e,t),e}(Fz),qz=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(D_.c)(e,t),e}(Fz);function Bz(t,e){for(var n=Kz(e),i=function(t){n.some(function(e){return Dw(e,t)})||n.push(t)},r=0,o=t.elements;r<o.length;r++)i(o[r]);return{arrayValue:{values:n}}}var Xz=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(D_.c)(e,t),e}(Fz);function Uz(t,e){for(var n=Kz(e),i=function(t){n=n.filter(function(e){return!Dw(e,t)})},r=0,o=t.elements;r<o.length;r++)i(o[r]);return{arrayValue:{values:n}}}var $z=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).Kt=e,i.Qt=n,i}return Object(D_.c)(e,t),e}(Fz);function Hz(t){return zw(t.integerValue||t.doubleValue)}function Kz(t){return Nw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Gz=function(t,e){this.field=t,this.transform=e},Yz=function(t,e){this.version=t,this.transformResults=e},Qz=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Wt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"jt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Jz(t,e){return void 0!==t.updateTime?e instanceof Hw&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Hw}var Zz=function(){};function tC(t,e,n){return t instanceof oC?function(t,e,n){var i=t.value;if(n.transformResults){var r=cC(t.fieldTransforms,e,n.transformResults);i=uC(t.fieldTransforms,i,r)}return new Hw(t.key,n.version,i,{hasCommittedMutations:!0})}(t,e,n):t instanceof sC?function(t,e,n){if(!Jz(t.Gt,e))return new Gw(t.key,n.version);var i=aC(t,e,n.transformResults?cC(t.fieldTransforms,e,n.transformResults):[]);return new Hw(t.key,n.version,i,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Kw(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function eC(t,e,n,i){return t instanceof oC?function(t,e,n,i){if(!Jz(t.Gt,e))return e;var r=t.value,o=lC(t.fieldTransforms,n,e);r=uC(t.fieldTransforms,r,o);var s=rC(e);return new Hw(t.key,s,r,{bt:!0})}(t,e,i):t instanceof sC?function(t,e,n,i){if(!Jz(t.Gt,e))return e;var r=rC(e),o=aC(t,e,lC(t.fieldTransforms,n,e));return new Hw(t.key,r,o,{bt:!0})}(t,e,i):function(t,e){return Jz(t.Gt,e)?new Kw(t.key,uw.min()):e}(t,e)}function nC(t,e){return function(t,e){for(var n=null,i=0,r=t;i<r.length;i++){var o=r[i],s=e instanceof Hw?e.field(o.field):void 0,a=Vz(o.transform,s||null);null!=a&&(n=null==n?(new Xw).set(o.field,a):n.set(o.field,a))}return n?n.yt():null}(t.fieldTransforms,e)}function iC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&X_(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof qz&&e instanceof qz||t instanceof Xz&&e instanceof Xz?X_(t.elements,e.elements,Dw):t instanceof $z&&e instanceof $z?Dw(t.Qt,e.Qt):t instanceof Wz&&e instanceof Wz}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function rC(t){return t instanceof Hw?t.version:uw.min()}var oC=function(t){function e(e,n,i,r){void 0===r&&(r=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=i,o.fieldTransforms=r,o.type=0,o}return Object(D_.c)(e,t),e}(Zz),sC=function(t){function e(e,n,i,r,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.zt=i,s.Gt=r,s.fieldTransforms=o,s.type=1,s}return Object(D_.c)(e,t),e}(Zz);function aC(t,e,n){var i;return i=function(t,e){var n=new Xw(e);return t.zt.fields.forEach(function(e){if(!e.nt()){var i=t.data.field(e);null!==i?n.set(e,i):n.delete(e)}}),n.yt()}(t,i=e instanceof Hw?e.data():Bw.empty()),uC(t.fieldTransforms,i,n)}function cC(t,e,n){var i=[];N_(t.length===n.length);for(var r=0;r<n.length;r++){var o=t[r],s=o.transform,a=null;e instanceof Hw&&(a=e.field(o.field)),i.push(Nz(s,a,n[r]))}return i}function lC(t,e,n,i){for(var r=[],o=0,s=t;o<s.length;o++){var a=s[o],c=a.transform,l=null;n instanceof Hw&&(l=n.field(a.field)),r.push(jz(c,l,e))}return r}function uC(t,e,n){for(var i=new Xw(e),r=0;r<t.length;r++)i.set(t[r].field,n[r]);return i.yt()}var hC,dC,pC=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.Gt=n,i.type=2,i.fieldTransforms=[],i}return Object(D_.c)(e,t),e}(Zz),fC=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.Gt=n,i.type=3,i.fieldTransforms=[],i}return Object(D_.c)(e,t),e}(Zz),gC=function(t){this.count=t};function mC(t){switch(t){case H_.OK:return j_();case H_.CANCELLED:case H_.UNKNOWN:case H_.DEADLINE_EXCEEDED:case H_.RESOURCE_EXHAUSTED:case H_.INTERNAL:case H_.UNAVAILABLE:case H_.UNAUTHENTICATED:return!1;case H_.INVALID_ARGUMENT:case H_.NOT_FOUND:case H_.ALREADY_EXISTS:case H_.PERMISSION_DENIED:case H_.FAILED_PRECONDITION:case H_.ABORTED:case H_.OUT_OF_RANGE:case H_.UNIMPLEMENTED:case H_.DATA_LOSS:return!0;default:return j_()}}function bC(t){if(void 0===t)return P_("GRPC error has no .code"),H_.UNKNOWN;switch(t){case hC.OK:return H_.OK;case hC.CANCELLED:return H_.CANCELLED;case hC.UNKNOWN:return H_.UNKNOWN;case hC.DEADLINE_EXCEEDED:return H_.DEADLINE_EXCEEDED;case hC.RESOURCE_EXHAUSTED:return H_.RESOURCE_EXHAUSTED;case hC.INTERNAL:return H_.INTERNAL;case hC.UNAVAILABLE:return H_.UNAVAILABLE;case hC.UNAUTHENTICATED:return H_.UNAUTHENTICATED;case hC.INVALID_ARGUMENT:return H_.INVALID_ARGUMENT;case hC.NOT_FOUND:return H_.NOT_FOUND;case hC.ALREADY_EXISTS:return H_.ALREADY_EXISTS;case hC.PERMISSION_DENIED:return H_.PERMISSION_DENIED;case hC.FAILED_PRECONDITION:return H_.FAILED_PRECONDITION;case hC.ABORTED:return H_.ABORTED;case hC.OUT_OF_RANGE:return H_.OUT_OF_RANGE;case hC.UNIMPLEMENTED:return H_.UNIMPLEMENTED;case hC.DATA_LOSS:return H_.DATA_LOSS;default:return j_()}}(dC=hC||(hC={}))[dC.OK=0]="OK",dC[dC.CANCELLED=1]="CANCELLED",dC[dC.UNKNOWN=2]="UNKNOWN",dC[dC.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dC[dC.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dC[dC.NOT_FOUND=5]="NOT_FOUND",dC[dC.ALREADY_EXISTS=6]="ALREADY_EXISTS",dC[dC.PERMISSION_DENIED=7]="PERMISSION_DENIED",dC[dC.UNAUTHENTICATED=16]="UNAUTHENTICATED",dC[dC.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dC[dC.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dC[dC.ABORTED=10]="ABORTED",dC[dC.OUT_OF_RANGE=11]="OUT_OF_RANGE",dC[dC.UNIMPLEMENTED=12]="UNIMPLEMENTED",dC[dC.INTERNAL=13]="INTERNAL",dC[dC.UNAVAILABLE=14]="UNAVAILABLE",dC[dC.DATA_LOSS=15]="DATA_LOSS";var yC=function(){function t(t,e){this.J=t,this.root=e||_C.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,_C.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,_C.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var i=this.J(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Zt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new vC(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new vC(this.root,t,this.J,!1)},t.prototype.se=function(){return new vC(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new vC(this.root,t,this.J,!0)},t}(),vC=function(){function t(t,e,n,i){this.re=i,this.oe=[];for(var r=1;!t.nt();)if(r=e?n(t.key,e):1,i&&(r*=-1),r<0)t=this.re?t.left:t.right;else{if(0===r){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),_C=function(){function t(e,n,i,r,o){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,i,r,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.Ht(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var i,r=this;if(n(e,r.key)<0)r.left.nt()||r.left._e()||r.left.left._e()||(r=r.fe()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left._e()&&(r=r.de()),r.right.nt()||r.right._e()||r.right.left._e()||(r=r.we()),0===n(e,r.key)){if(r.right.nt())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.le())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw j_();if(this.right._e())throw j_();var t=this.left.me();if(t!==this.right.me())throw j_();return t+(this._e()?0:1)},t}();_C.EMPTY=null,_C.RED=!0,_C.Jt=!1,_C.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw j_()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw j_()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw j_()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw j_()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw j_()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.Ht=function(t,e,n){return new _C(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var wC=function(){function t(t){this.J=t,this.data=new yC(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt(function(e,n){return t(e),!1})},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var i=n.ce();if(this.J(i.key,t[1])>=0)return;e(i.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new zC(this.data.ee())},t.prototype.ne=function(t){return new zC(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),i=e.data.ee();n.ae();){var r=n.ce().key,o=i.ce().key;if(0!==this.J(r,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),zC=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),CC=new yC(gw.J);function SC(){return CC}function xC(){return SC()}var OC=new yC(gw.J);function kC(){return OC}var TC=new yC(gw.J);function EC(){return TC}var IC=new wC(gw.J);function DC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=IC,i=0,r=t;i<r.length;i++){var o=r[i];n=n.add(o)}return n}var MC=new wC(B_);function RC(){return MC}var AC=function(){function t(t){this.J=t?function(e,n){return t(e,n)||gw.J(e.key,n.key)}:function(t,e){return gw.J(t.key,e.key)},this.Ve=kC(),this.pe=new yC(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),i=e.pe.ee();n.ae();){var r=n.ce().key,o=i.ce().key;if(!r.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var i=new t;return i.J=this.J,i.Ve=e,i.pe=n,i},t}(),PC=function(){function t(){this.ve=new yC(gw.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):j_():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt(function(e,n){t.push(n)}),t},t}(),LC=function(){function t(t,e,n,i,r,o,s,a){this.query=t,this.docs=e,this.De=n,this.docChanges=i,this.Ce=r,this.fromCache=o,this.xe=s,this.Ne=a}return t.Fe=function(e,n,i,r){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,AC.be(n),o,i,r,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&kz(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0},t}(),FC=function(){function t(t,e,n,i,r){this.Mt=t,this.Oe=e,this.ke=n,this.Me=i,this.Le=r}return t.$e=function(e,n){var i=new Map;return i.set(e,jC.Be(e,n)),new t(uw.min(),i,RC(),SC(),DC())},t}(),jC=function(){function t(t,e,n,i,r){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=i,this.Ke=r}return t.Be=function(e,n){return new t($_.h,n,DC(),DC(),DC())},t}(),NC=function(t,e,n,i){this.We=t,this.removedTargetIds=e,this.key=n,this.je=i},VC=function(t,e){this.targetId=t,this.Ge=e},WC=function(t,e,n,i){void 0===n&&(n=$_.h),void 0===i&&(i=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i},qC=function(){function t(){this.ze=0,this.He=UC(),this.Je=$_.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=DC(),e=DC(),n=DC();return this.He.forEach(function(i,r){switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:j_()}}),new jC(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=UC()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),BC=function(){function t(t){this.hn=t,this.ln=new Map,this._n=SC(),this.fn=XC(),this.dn=new wC(B_)}return t.prototype.wn=function(t){for(var e=0,n=t.We;e<n.length;e++){var i=n[e];t.je instanceof Hw?this.En(i,t.je):t.je instanceof Kw&&this.Tn(i,t.key,t.je)}for(var r=0,o=t.removedTargetIds;r<o.length;r++)this.Tn(i=o[r],t.key,t.je)},t.prototype.In=function(t){var e=this;this.mn(t,function(n){var i=e.An(n);switch(t.state){case 0:e.Rn(n)&&i.en(t.resumeToken);break;case 1:i.an(),i.Ze||i.sn(),i.en(t.resumeToken);break;case 2:i.an(),i.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(i.un(),i.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),i.en(t.resumeToken));break;default:j_()}})},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach(function(t,i){n.Rn(i)&&e(i)})},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,i=this.gn(e);if(i){var r=i.target;if(tz(r))if(0===n){var o=new gw(r.path);this.Tn(e,o,new Kw(o,uw.min()))}else N_(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach(function(i,r){var o=e.gn(r);if(o){if(i.qe&&tz(o.target)){var s=new gw(o.target.path);null!==e._n.get(s)||e.bn(r,s)||e.Tn(r,s,new Kw(s,t))}i.tn&&(n.set(r,i.nn()),i.sn())}});var i=DC();this.fn.forEach(function(t,n){var r=!0;n.Re(function(t){var n=e.gn(t);return!n||2===n.kt||(r=!1,!1)}),r&&(i=i.add(t))});var r=new FC(t,n,this.dn,this._n,i);return this._n=SC(),this.fn=XC(),this.dn=new wC(B_),r},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var i=this.An(t);this.bn(t,e)?i.rn(e,1):i.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new qC,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new wC(B_),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||A_("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new qC),this.hn.Sn(t).forEach(function(n){e.Tn(t,n,null)})},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function XC(){return new yC(gw.J)}function UC(){return new yC(gw.J)}var $C={asc:"ASCENDING",desc:"DESCENDING"},HC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KC=function(t,e){this.T=t,this.qt=e};function GC(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function YC(t,e){return t.qt?e.toBase64():e.toUint8Array()}function QC(t,e){return GC(t,e.G())}function JC(t){return N_(!!t),uw.W(function(t){var e=ww(t);return new lw(e.seconds,e.nanos)}(t))}function ZC(t,e){return function(t){return new dw(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function tS(t){var e=dw.ct(t);return N_(SS(e)),e}function eS(t,e){return ZC(t.T,e.path)}function nS(t,e){var n=tS(e);if(n.get(1)!==t.T.projectId)throw new K_(H_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new K_(H_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new gw(sS(n))}function iS(t,e){return ZC(t.T,e)}function rS(t){var e=tS(t);return 4===e.length?dw.at():sS(e)}function oS(t){return new dw(["projects",t.T.projectId,"databases",t.T.database]).ot()}function sS(t){return N_(t.length>4&&"documents"===t.get(4)),t.X(5)}function aS(t,e,n){return{name:eS(t,e),fields:n.proto.mapValue.fields}}function cS(t,e,n){var i=nS(t,e.name),r=JC(e.updateTime),o=new Bw({mapValue:{fields:e.fields}});return new Hw(i,r,o,{hasCommittedMutations:!!n})}function lS(t,e){var n;if(e instanceof oC)n={update:aS(t,e.key,e.value)};else if(e instanceof pC)n={delete:eS(t,e.key)};else if(e instanceof sC)n={update:aS(t,e.key,e.data),updateMask:CS(e.zt)};else{if(!(e instanceof fC))return j_();n={verify:eS(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Wz)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof qz)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof Xz)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof $z)return{fieldPath:e.field.ot(),increment:n.Qt};throw j_()}(0,t)})),e.Gt.jt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:QC(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:j_()}(t,e.Gt)),n}function uS(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Qz.updateTime(JC(t.updateTime)):void 0!==t.exists?Qz.exists(t.exists):Qz.Wt()}(e.currentDocument):Qz.Wt(),i=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(N_("REQUEST_TIME"===e.setToServerValue),n=new Wz):"appendMissingElements"in e?n=new qz(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Xz(e.removeAllFromArray.values||[]):"increment"in e?n=new $z(t,e.increment):j_();var i=fw._t(e.fieldPath);return new Gz(i,n)}(t,e)}):[];if(e.update){var r=nS(t,e.update.name),o=new Bw({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new vw((t.fieldPaths||[]).map(function(t){return fw._t(t)}))}(e.updateMask);return new sC(r,o,s,n,i)}return new oC(r,o,n,i)}if(e.delete){var a=nS(t,e.delete);return new pC(a,n)}if(e.verify){var c=nS(t,e.verify);return new fC(c,n)}return j_()}function hS(t,e){return{documents:[iS(t,e.path)]}}function dS(t,e){var n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=iS(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=iS(t,i.Z()),n.structuredQuery.from=[{collectionId:i.et()}]);var r=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Ww(t.value))return{unaryFilter:{field:vS(t.field),op:"IS_NAN"}};if(Vw(t.value))return{unaryFilter:{field:vS(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ww(t.value))return{unaryFilter:{field:vS(t.field),op:"IS_NOT_NAN"}};if(Vw(t.value))return{unaryFilter:{field:vS(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vS(t.field),op:yS(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);r&&(n.structuredQuery.where=r);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:vS(t.field),direction:bS(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.qt||kw(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=gS(e.startAt)),e.endAt&&(n.structuredQuery.endAt=gS(e.endAt)),n}function pS(t){var e=rS(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){N_(1===i);var o=n.from[0];o.allDescendants?r=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=fS(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new dz(_S(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var c=null;n.limit&&(c=function(t){var e;return kw(e="object"==typeof t?t.value:t)?null:e}(n.limit));var l=null;n.startAt&&(l=mS(n.startAt));var u=null;return n.endAt&&(u=mS(n.endAt)),bz(e,r,a,s,c,"F",l,u)}function fS(t){return t?void 0!==t.unaryFilter?[zS(t)]:void 0!==t.fieldFilter?[wS(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return fS(t)}).reduce(function(t,e){return t.concat(e)}):j_():[]}function gS(t){return{before:t.before,values:t.position}}function mS(t){return new uz(t.values||[],!!t.before)}function bS(t){return $C[t]}function yS(t){return HC[t]}function vS(t){return{fieldPath:t.ot()}}function _S(t){return fw._t(t.fieldPath)}function wS(t){return ez.create(_S(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return j_()}}(t.fieldFilter.op),t.fieldFilter.value)}function zS(t){switch(t.unaryFilter.op){case"IS_NAN":var e=_S(t.unaryFilter.field);return ez.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=_S(t.unaryFilter.field);return ez.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=_S(t.unaryFilter.field);return ez.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var r=_S(t.unaryFilter.field);return ez.create(r,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return j_()}}function CS(t){var e=[];return t.fields.forEach(function(t){return e.push(t.ot())}),{fieldPaths:e}}function SS(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var xS=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},OS=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.Fn=!1,t(function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)},function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var i=this;return this.Fn&&j_(),this.Fn=!0,this.Nn?this.error?this.On(n,this.error):this.kn(e,this.result):new t(function(t,r){i.Cn=function(n){i.kn(e,n).next(t,r)},i.xn=function(e){i.On(n,e).next(t,r)}})},t.prototype.Mn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln(function(){return e(n)}):t.resolve(n)},t.prototype.On=function(e,n){return e?this.Ln(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.$n=function(e){return new t(function(t,n){var i=0,r=0,o=!1;e.forEach(function(e){++i,e.next(function(){++r,o&&r===i&&t()},function(t){return n(t)})}),o=!0,r===i&&t()})},t.Bn=function(e){for(var n=t.resolve(!1),i=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},r=0,o=e;r<o.length;r++)i(o[r]);return n},t.forEach=function(t,e){var n=this,i=[];return t.forEach(function(t,r){i.push(e.call(n,t,r))}),this.$n(i)},t}(),kS=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new xS,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new IS(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var i=PS(e.target.error);n.qn.reject(new IS(t,i))}}return t.open=function(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(e){throw new IS(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(A_("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new MS(e)},t}(),TS=function(){function t(e,n,i){this.name=e,this.version=n,this.Qn=i,12.2===t.Kn(Object(Em.g)())&&P_("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return A_("SimpleDb","Removing database:",t),RS(window.indexedDB.deleteDatabase(t)).Mn()},t.Wn=function(){if("undefined"==typeof indexedDB)return!1;if(t.jn())return!0;var e=Object(Em.g)(),n=t.Kn(e),i=0<n&&n<10,r=t.Gn(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)},t.jn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(D_.b)(this,void 0,void 0,function(){var e,n=this;return Object(D_.d)(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(A_("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,i){var r=indexedDB.open(n.name,n.version);r.onsuccess=function(t){e(t.target.result)},r.onblocked=function(){i(new IS(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(e){var n=e.target.error;i("VersionError"===n.name?new K_(H_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new IS(t,n))},r.onupgradeneeded=function(t){A_("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,r.transaction,t.oldVersion,n.version).next(function(){A_("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=i.sent(),i.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}})})},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,i){return Object(D_.b)(this,void 0,void 0,function(){var r,o,s,a,c;return Object(D_.d)(this,function(l){switch(l.label){case 0:r="readonly"===e,o=0,s=function(){var e,s,c,l,u;return Object(D_.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=h.sent(),e=kS.open(a.db,t,r?"readonly":"readwrite",n),s=i(e).catch(function(t){return e.abort(t),OS.reject(t)}).Mn(),c={},s.catch(function(){}),[4,e.Un];case 3:return[2,(c.value=(h.sent(),s),c)];case 4:return A_("SimpleDb","Transaction failed with error:",(l=h.sent()).message,"Retrying:",u="FirebaseError"!==l.name&&o<3),a.close(),u?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}})},a=this,l.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),ES=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return RS(this.ts.delete())},t}(),IS=function(t){function e(e,n){var i=this;return(i=t.call(this,H_.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",i}return Object(D_.c)(e,t),e}(K_);function DS(t){return"IndexedDbTransactionError"===t.name}var MS=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(A_("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(A_("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),RS(n)},t.prototype.add=function(t){return A_("SimpleDb","ADD",this.store.name,t,t),RS(this.store.add(t))},t.prototype.get=function(t){var e=this;return RS(this.store.get(t)).next(function(n){return void 0===n&&(n=null),A_("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return A_("SimpleDb","DELETE",this.store.name,t),RS(this.store.delete(t))},t.prototype.count=function(){return A_("SimpleDb","COUNT",this.store.name),RS(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),i=[];return this.cs(n,function(t,e){i.push(e)}).next(function(){return i})},t.prototype.us=function(t,e){A_("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var i=this.cursor(n);return this.cs(i,function(t,e,n){return n.delete()})},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var i=this.cursor(n);return this.cs(i,e)},t.prototype._s=function(t){var e=this.cursor({});return new OS(function(n,i){e.onerror=function(t){var e=PS(t.target.error);i(e)},e.onsuccess=function(e){var i=e.target.result;i?t(i.primaryKey,i.value).next(function(t){t?i.continue():n()}):n()}})},t.prototype.cs=function(t,e){var n=[];return new OS(function(i,r){t.onerror=function(t){r(t.target.error)},t.onsuccess=function(t){var r=t.target.result;if(r){var o=new ES(r),s=e(r.primaryKey,r.value,o);if(s instanceof OS){var a=s.catch(function(t){return o.done(),OS.reject(t)});n.push(a)}o.Nn?i():null===o.ss?r.continue():r.continue(o.ss)}else i()}}).next(function(){return OS.$n(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function RS(t){return new OS(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=PS(t.target.error);n(e)}})}var AS=!1;function PS(t){var e=TS.Kn(Object(Em.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var i=new K_("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return AS||(AS=!0,setTimeout(function(){throw i},0)),i}}return t}var LS=function(){function t(t,e,n,i,r){this.fs=t,this.ds=e,this.ws=n,this.op=i,this.Es=r,this.Ts=new xS,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch(function(t){})}return t.Is=function(e,n,i,r,o){var s=new t(e,n,Date.now()+i,r,o);return s.start(i),s},t.prototype.start=function(t){var e=this;this.As=setTimeout(function(){return e.Rs()},t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new K_(H_.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys(function(){return null!==t.As?(t.clearTimeout(),t.op().then(function(e){return t.Ts.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function FS(t,e){if(P_("AsyncQueue",e+": "+t),DS(t))return new K_(H_.UNAVAILABLE,e+": "+t);throw t}var jS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",NS=function(){function t(){this.gs=[]}return t.prototype.Vs=function(t){this.gs.push(t)},t.prototype.ps=function(){this.gs.forEach(function(t){return t()})},t}();function VS(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=qS(e)),e=WS(t.get(n),e);return qS(e)}function WS(t,e){for(var n=e,i=t.length,r=0;r<i;r++){var o=t.charAt(r);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function qS(t){return t+"\x01\x01"}function BS(t){var e=t.length;if(N_(e>=2),2===e)return N_("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),dw.at();for(var n=e-2,i=[],r="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&j_(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),c=void 0;0===r.length?c=a:(c=r+=a,r=""),i.push(c);break;case"\x10":r+=t.substring(o,s),r+="\0";break;case"\x11":r+=t.substring(o,s+1);break;default:j_()}o=s+2}return new dw(i)}var XS=function(t,e){this.seconds=t,this.nanoseconds=e},US=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};US.store="owner",US.key="owner";var $S=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};$S.store="mutationQueues",$S.keyPath="userId";var HS=function(t,e,n,i,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=r};HS.store="mutations",HS.keyPath="batchId",HS.userMutationsIndex="userMutationsIndex",HS.userMutationsKeyPath=["userId","batchId"];var KS=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,VS(e)]},t.key=function(t,e,n){return[t,VS(e),n]},t}();KS.store="documentMutations",KS.PLACEHOLDER=new KS;var GS=function(t,e){this.path=t,this.readTime=e},YS=function(t,e){this.path=t,this.version=e},QS=function(t,e,n,i,r,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=r,this.parentPath=o};QS.store="remoteDocuments",QS.readTimeIndex="readTimeIndex",QS.readTimeIndexPath="readTime",QS.collectionReadTimeIndex="collectionReadTimeIndex",QS.collectionReadTimeIndexPath=["parentPath","readTime"];var JS=function(t){this.byteSize=t};JS.store="remoteDocumentGlobal",JS.key="remoteDocumentGlobalKey";var ZS=function(t,e,n,i,r,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=o,this.query=s};ZS.store="targets",ZS.keyPath="targetId",ZS.queryTargetsIndexName="queryTargetsIndex",ZS.queryTargetsKeyPath=["canonicalId","targetId"];var tx=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};tx.store="targetDocuments",tx.keyPath=["targetId","path"],tx.documentTargetsIndex="documentTargetsIndex",tx.documentTargetsKeyPath=["path","targetId"];var ex=function(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i};ex.key="targetGlobalKey",ex.store="targetGlobal";var nx=function(t,e){this.collectionId=t,this.parent=e};nx.store="collectionParents",nx.keyPath=["collectionId","parent"];var ix=function(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i};ix.store="clientMetadata",ix.keyPath="clientId";var rx=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};rx.store="bundles",rx.keyPath="bundleId";var ox=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};ox.store="namedQueries",ox.keyPath="name";var sx=Object(D_.g)(Object(D_.g)(Object(D_.g)(Object(D_.g)([$S.store,HS.store,KS.store,QS.store,ZS.store,US.store,ex.store,tx.store],[ix.store]),[JS.store]),[nx.store]),[rx.store,ox.store]),ax=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).bs=e,i.vs=n,i}return Object(D_.c)(e,t),e}(NS);function cx(t,e){var n=V_(t);return TS.Hn(n.bs,e)}var lx=function(){function t(t,e,n,i){this.batchId=t,this.Ss=e,this.baseMutations=n,this.mutations=i}return t.prototype.Ds=function(t,e,n){for(var i=n.Cs,r=0;r<this.mutations.length;r++){var o=this.mutations[r];o.key.isEqual(t)&&(e=tC(o,e,i[r]))}return e},t.prototype.xs=function(t,e){for(var n=0,i=this.baseMutations;n<i.length;n++)(s=i[n]).key.isEqual(t)&&(e=eC(s,e,0,this.Ss));for(var r=0,o=this.mutations;r<o.length;r++){var s;(s=o[r]).key.isEqual(t)&&(e=eC(s,e,0,this.Ss))}return e},t.prototype.Ns=function(t){var e=this,n=t;return this.mutations.forEach(function(i){var r=e.xs(i.key,t.get(i.key));r&&(n=n.Ht(i.key,r))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},DC())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&X_(this.mutations,t.mutations,function(t,e){return iC(t,e)})&&X_(this.baseMutations,t.baseMutations,function(t,e){return iC(t,e)})},t}(),ux=function(){function t(t,e,n,i){this.batch=t,this.Fs=e,this.Cs=n,this.Os=i}return t.from=function(e,n,i){N_(e.mutations.length===i.length);for(var r=EC(),o=e.mutations,s=0;s<o.length;s++)r=r.Ht(o[s].key,i[s].version);return new t(e,n,i,r)},t}(),hx=function(t){this.ks=t};function dx(t,e){if(e.document)return cS(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=gw.Tt(e.noDocument.path),i=bx(e.noDocument.readTime);return new Kw(n,i,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var r=gw.Tt(e.unknownDocument.path);return i=bx(e.unknownDocument.version),new Gw(r,i)}return j_()}function px(t,e,n){var i=fx(n),r=e.key.path.Z().rt();if(e instanceof Hw){var o=function(t,e){return{name:eS(t,e.key),fields:e.vt().mapValue.fields,updateTime:GC(t,e.version.G())}}(t.ks,e),s=e.hasCommittedMutations;return new QS(null,null,o,s,i,r)}if(e instanceof Kw){var a=e.key.path.rt(),c=mx(e.version);return s=e.hasCommittedMutations,new QS(null,new GS(a,c),null,s,i,r)}if(e instanceof Gw){var l=e.key.path.rt(),u=mx(e.version);return new QS(new YS(l,u),null,null,!0,i,r)}return j_()}function fx(t){var e=t.G();return[e.seconds,e.nanoseconds]}function gx(t){var e=new lw(t[0],t[1]);return uw.W(e)}function mx(t){var e=t.G();return new XS(e.seconds,e.nanoseconds)}function bx(t){var e=new lw(t.seconds,t.nanoseconds);return uw.W(e)}function yx(t,e){for(var n=(e.baseMutations||[]).map(function(e){return uS(t.ks,e)}),i=e.mutations.length-1;i>=0;--i){var r=e.mutations[i];void 0!==(null==r?void 0:r.transform)&&(e.mutations[i-1].updateTransforms=r.transform.fieldTransforms,e.mutations.splice(i,1),--i)}var o=e.mutations.map(function(e){return uS(t.ks,e)}),s=lw.fromMillis(e.localWriteTimeMs);return new lx(e.batchId,s,n,o)}function vx(t){var e,n,i=bx(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?bx(t.lastLimboFreeSnapshotVersion):uw.min();return void 0!==t.query.documents?(N_(1===(n=t.query).documents.length),e=xz(yz(rS(n.documents[0])))):e=function(t){return xz(pS(t))}(t.query),new Rz(e,t.targetId,0,t.lastListenSequenceNumber,i,r,$_.fromBase64String(t.resumeToken))}function _x(t,e){var n,i=mx(e.Mt),r=mx(e.lastLimboFreeSnapshotVersion);n=tz(e.target)?hS(t.ks,e.target):dS(t.ks,e.target);var o=e.resumeToken.toBase64();return new ZS(e.targetId,Jw(e.target),i,o,e.sequenceNumber,r,n)}function wx(t){var e=pS({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Oz(e,e.limit,"L"):e}var zx=function(){function t(){}return t.prototype.Ms=function(t,e){return Cx(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:bx(e.createTime),version:e.version};var e})},t.prototype.Ls=function(t,e){return Cx(t).put({bundleId:(n=e).id,createTime:mx(JC(n.createTime)),version:n.version});var n},t.prototype.$s=function(t,e){return Sx(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:wx(e.bundledQuery),readTime:bx(e.readTime)};var e})},t.prototype.Bs=function(t,e){return Sx(t).put(function(t){return{name:t.name,readTime:mx(JC(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Cx(t){return cx(t,rx.store)}function Sx(t){return cx(t,ox.store)}var xx=function(){function t(){this.qs=new Ox}return t.prototype.Us=function(t,e){return this.qs.add(e),OS.resolve()},t.prototype.Qs=function(t,e){return OS.resolve(this.qs.getEntries(e))},t}(),Ox=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),i=this.index[e]||new wC(dw.J),r=!i.has(n);return this.index[e]=i.add(n),r},t.prototype.has=function(t){var e=t.et(),n=t.Z(),i=this.index[e];return i&&i.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new wC(dw.J)).rt()},t}(),kx=function(){function t(){this.Ks=new Ox}return t.prototype.Us=function(t,e){var n=this;if(!this.Ks.has(e)){var i=e.et(),r=e.Z();t.Vs(function(){n.Ks.add(e)});var o={collectionId:i,parent:VS(r)};return Tx(t).put(o)}return OS.resolve()},t.prototype.Qs=function(t,e){var n=[],i=IDBKeyRange.bound([e,""],[U_(e),""],!1,!0);return Tx(t).os(i).next(function(t){for(var i=0,r=t;i<r.length;i++){var o=r[i];if(o.collectionId!==e)break;n.push(BS(o.parent))}return n})},t}();function Tx(t){return cx(t,nx.store)}var Ex={Ws:!1,js:0,Gs:0,zs:0},Ix=function(){function t(t,e,n){this.Hs=t,this.Js=e,this.Ys=n}return t.Xs=function(e){return new t(e,t.Zs,t.ti)},t}();function Dx(t){return Object(D_.b)(this,void 0,void 0,function(){return Object(D_.d)(this,function(e){if(t.code!==H_.FAILED_PRECONDITION||t.message!==jS)throw t;return A_("LocalStore","Unexpectedly lost primary lease"),[2]})})}Ix.Zs=10,Ix.ti=1e3,Ix.ei=new Ix(41943040,Ix.Zs,Ix.ti),Ix.ni=new Ix(-1,0,0);var Mx=function(){function t(t,e){this.si=t,this.ii=e,this.ri={}}return t.prototype.get=function(t){var e=this.si(t),n=this.ri[e];if(void 0!==n)for(var i=0,r=n;i<r.length;i++){var o=r[i],s=o[1];if(this.ii(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.si(t),i=this.ri[n];if(void 0!==i){for(var r=0;r<i.length;r++)if(this.ii(i[r][0],t))return void(i[r]=[t,e]);i.push([t,e])}else this.ri[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.si(t),n=this.ri[e];if(void 0===n)return!1;for(var i=0;i<n.length;i++)if(this.ii(n[i][0],t))return 1===n.length?delete this.ri[e]:n.splice(i,1),!0;return!1},t.prototype.forEach=function(t){bw(this.ri,function(e,n){for(var i=0,r=n;i<r.length;i++){var o=r[i];t(o[0],o[1])}})},t.prototype.nt=function(){return yw(this.ri)},t}(),Rx=function(){function t(){this.oi=new Mx(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.ci=!1}return t.prototype.ai=function(t){var e=this.oi.get(t);return e?e.readTime:uw.min()},t.prototype.ui=function(t,e){this.hi(),this.oi.set(t.key,{li:t,readTime:e})},t.prototype._i=function(t,e){void 0===e&&(e=null),this.hi(),this.oi.set(t,{li:null,readTime:e})},t.prototype.fi=function(t,e){this.hi();var n=this.oi.get(e);return void 0!==n?OS.resolve(n.li):this.di(t,e)},t.prototype.getEntries=function(t,e){return this.wi(t,e)},t.prototype.apply=function(t){return this.hi(),this.ci=!0,this.Ei(t)},t.prototype.hi=function(){},t}();function Ax(t,e,n){var i=t.store(HS.store),r=t.store(KS.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,c=i.ls({range:s},function(t,e,n){return a++,n.delete()});o.push(c.next(function(){N_(1===a)}));for(var l=[],u=0,h=n.mutations;u<h.length;u++){var d=h[u],p=KS.key(e,d.key.path,n.batchId);o.push(r.delete(p)),l.push(d.key)}return OS.$n(o).next(function(){return l})}function Px(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw j_();e=t.noDocument}return JSON.stringify(e).length}var Lx=function(){function t(t,e,n,i){this.userId=t,this.Kt=e,this.Ti=n,this.Ii=i,this.mi={}}return t.Ai=function(e,n,i,r){return N_(""!==e.uid),new t(e.A()?e.uid:"",n,i,r)},t.prototype.Ri=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return jx(t).ls({index:HS.userMutationsIndex,range:n},function(t,n,i){e=!1,i.done()}).next(function(){return e})},t.prototype.Pi=function(t,e,n,i){var r=this,o=Nx(t),s=jx(t);return s.add({}).next(function(a){N_("number"==typeof a);for(var c=new lx(a,e,n,i),l=function(t,e,n){var i=n.baseMutations.map(function(e){return lS(t.ks,e)}),r=n.mutations.map(function(e){return lS(t.ks,e)});return new HS(e,n.batchId,n.Ss.toMillis(),i,r)}(r.Kt,r.userId,c),u=[],h=new wC(function(t,e){return B_(t.ot(),e.ot())}),d=0,p=i;d<p.length;d++){var f=p[d],g=KS.key(r.userId,f.key.path,a);h=h.add(f.key.path.Z()),u.push(s.put(l)),u.push(o.put(g,KS.PLACEHOLDER))}return h.forEach(function(e){u.push(r.Ti.Us(t,e))}),t.Vs(function(){r.mi[a]=c.keys()}),OS.$n(u).next(function(){return c})})},t.prototype.yi=function(t,e){var n=this;return jx(t).get(e).next(function(t){return t?(N_(t.userId===n.userId),yx(n.Kt,t)):null})},t.prototype.gi=function(t,e){var n=this;return this.mi[e]?OS.resolve(this.mi[e]):this.yi(t,e).next(function(t){if(t){var i=t.keys();return n.mi[e]=i,i}return null})},t.prototype.Vi=function(t,e){var n=this,i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]),o=null;return jx(t).ls({index:HS.userMutationsIndex,range:r},function(t,e,r){e.userId===n.userId&&(N_(e.batchId>=i),o=yx(n.Kt,e)),r.done()}).next(function(){return o})},t.prototype.pi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return jx(t).ls({index:HS.userMutationsIndex,range:e,reverse:!0},function(t,e,i){n=e.batchId,i.done()}).next(function(){return n})},t.prototype.bi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return jx(t).os(HS.userMutationsIndex,n).next(function(t){return t.map(function(t){return yx(e.Kt,t)})})},t.prototype.vi=function(t,e){var n=this,i=KS.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return Nx(t).ls({range:r},function(i,r,s){var a=i[0],c=i[2],l=BS(i[1]);if(a===n.userId&&e.path.isEqual(l))return jx(t).get(c).next(function(t){if(!t)throw j_();N_(t.userId===n.userId),o.push(yx(n.Kt,t))});s.done()}).next(function(){return o})},t.prototype.Si=function(t,e){var n=this,i=new wC(B_),r=[];return e.forEach(function(e){var o=KS.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Nx(t).ls({range:s},function(t,r,o){var s=t[0],a=t[2],c=BS(t[1]);s===n.userId&&e.path.isEqual(c)?i=i.add(a):o.done()});r.push(a)}),OS.$n(r).next(function(){return n.Di(t,i)})},t.prototype.Ci=function(t,e){var n=this,i=e.path,r=i.length+1,o=KS.prefixForPath(this.userId,i),s=IDBKeyRange.lowerBound(o),a=new wC(B_);return Nx(t).ls({range:s},function(t,e,o){var s=t[0],c=t[2],l=BS(t[1]);s===n.userId&&i.st(l)?l.length===r&&(a=a.add(c)):o.done()}).next(function(){return n.Di(t,a)})},t.prototype.Di=function(t,e){var n=this,i=[],r=[];return e.forEach(function(e){r.push(jx(t).get(e).next(function(t){if(null===t)throw j_();N_(t.userId===n.userId),i.push(yx(n.Kt,t))}))}),OS.$n(r).next(function(){return i})},t.prototype.xi=function(t,e){var n=this;return Ax(t.bs,this.userId,e).next(function(i){return t.Vs(function(){n.Ni(e.batchId)}),OS.forEach(i,function(e){return n.Ii.Fi(t,e)})})},t.prototype.Ni=function(t){delete this.mi[t]},t.prototype.Oi=function(t){var e=this;return this.Ri(t).next(function(n){if(!n)return OS.resolve();var i=IDBKeyRange.lowerBound(KS.prefixForUser(e.userId)),r=[];return Nx(t).ls({range:i},function(t,n,i){if(t[0]===e.userId){var o=BS(t[1]);r.push(o)}else i.done()}).next(function(){N_(0===r.length)})})},t.prototype.ki=function(t,e){return Fx(t,this.userId,e)},t.prototype.Mi=function(t){var e=this;return Vx(t).get(this.userId).next(function(t){return t||new $S(e.userId,-1,"")})},t}();function Fx(t,e,n){var i=KS.prefixForPath(e,n.path),r=i[1],o=IDBKeyRange.lowerBound(i),s=!1;return Nx(t).ls({range:o,hs:!0},function(t,n,i){t[0]===e&&t[1]===r&&(s=!0),i.done()}).next(function(){return s})}function jx(t){return cx(t,HS.store)}function Nx(t){return cx(t,KS.store)}function Vx(t){return cx(t,$S.store)}var Wx=function(){function t(t){this.Li=t}return t.prototype.next=function(){return this.Li+=2,this.Li},t.$i=function(){return new t(0)},t.Bi=function(){return new t(-1)},t}(),qx=function(){function t(t,e){this.Ii=t,this.Kt=e}return t.prototype.qi=function(t){var e=this;return this.Ui(t).next(function(n){var i=new Wx(n.highestTargetId);return n.highestTargetId=i.next(),e.Qi(t,n).next(function(){return n.highestTargetId})})},t.prototype.Ki=function(t){return this.Ui(t).next(function(t){return uw.W(new lw(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Wi=function(t){return this.Ui(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.ji=function(t,e,n){var i=this;return this.Ui(t).next(function(r){return r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.G()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),i.Qi(t,r)})},t.prototype.Gi=function(t,e){var n=this;return this.zi(t,e).next(function(){return n.Ui(t).next(function(i){return i.targetCount+=1,n.Hi(e,i),n.Qi(t,i)})})},t.prototype.Ji=function(t,e){return this.zi(t,e)},t.prototype.Yi=function(t,e){var n=this;return this.Xi(t,e.targetId).next(function(){return Bx(t).delete(e.targetId)}).next(function(){return n.Ui(t)}).next(function(e){return N_(e.targetCount>0),e.targetCount-=1,n.Qi(t,e)})},t.prototype.Zi=function(t,e,n){var i=this,r=0,o=[];return Bx(t).ls(function(s,a){var c=vx(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(r++,o.push(i.Yi(t,c)))}).next(function(){return OS.$n(o)}).next(function(){return r})},t.prototype.mn=function(t,e){return Bx(t).ls(function(t,n){var i=vx(n);e(i)})},t.prototype.Ui=function(t){return Xx(t).get(ex.key).next(function(t){return N_(null!==t),t})},t.prototype.Qi=function(t,e){return Xx(t).put(ex.key,e)},t.prototype.zi=function(t,e){return Bx(t).put(_x(this.Kt,e))},t.prototype.Hi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tr=function(t){return this.Ui(t).next(function(t){return t.targetCount})},t.prototype.er=function(t,e){var n=Jw(e),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),r=null;return Bx(t).ls({range:i,index:ZS.queryTargetsIndexName},function(t,n,i){var o=vx(n);Zw(e,o.target)&&(r=o,i.done())}).next(function(){return r})},t.prototype.nr=function(t,e,n){var i=this,r=[],o=Ux(t);return e.forEach(function(e){var s=VS(e.path);r.push(o.put(new tx(n,s))),r.push(i.Ii.sr(t,n,e))}),OS.$n(r)},t.prototype.ir=function(t,e,n){var i=this,r=Ux(t);return OS.forEach(e,function(e){var o=VS(e.path);return OS.$n([r.delete([n,o]),i.Ii.rr(t,n,e)])})},t.prototype.Xi=function(t,e){var n=Ux(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(i)},t.prototype.cr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),i=Ux(t),r=DC();return i.ls({range:n,hs:!0},function(t,e,n){var i=BS(t[1]),o=new gw(i);r=r.add(o)}).next(function(){return r})},t.prototype.ki=function(t,e){var n=VS(e.path),i=IDBKeyRange.bound([n],[U_(n)],!1,!0),r=0;return Ux(t).ls({index:tx.documentTargetsIndex,hs:!0,range:i},function(t,e,n){0!==t[0]&&(r++,n.done())}).next(function(){return r>0})},t.prototype.Dn=function(t,e){return Bx(t).get(e).next(function(t){return t?vx(t):null})},t}();function Bx(t){return cx(t,ZS.store)}function Xx(t){return cx(t,ex.store)}function Ux(t){return cx(t,tx.store)}function $x(t,e){var n=t[1],i=e[1],r=B_(t[0],e[0]);return 0===r?B_(n,i):r}var Hx=function(){function t(t){this.ar=t,this.buffer=new wC($x),this.ur=0}return t.prototype.hr=function(){return++this.ur},t.prototype.lr=function(t){var e=[t,this.hr()];if(this.buffer.size<this.ar)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();$x(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Kx=function(){function t(t,e){this._r=t,this.fs=e,this.dr=!1,this.wr=null}return t.prototype.start=function(t){-1!==this._r.params.Hs&&this.Er(t)},t.prototype.stop=function(){this.wr&&(this.wr.cancel(),this.wr=null)},Object.defineProperty(t.prototype,"Tr",{get:function(){return null!==this.wr},enumerable:!1,configurable:!0}),t.prototype.Er=function(t){var e=this,n=this.dr?3e5:6e4;A_("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.wr=this.fs.Ir("lru_garbage_collection",n,function(){return Object(D_.b)(e,void 0,void 0,function(){var e;return Object(D_.d)(this,function(n){switch(n.label){case 0:this.wr=null,this.dr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mr(this._r)];case 2:return n.sent(),[3,7];case 3:return DS(e=n.sent())?(A_("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Dx(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Er(t)];case 8:return n.sent(),[2]}})})})},t}(),Gx=function(){function t(t,e){this.Ar=t,this.params=e}return t.prototype.Rr=function(t,e){return this.Ar.Pr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.yr=function(t,e){var n=this;if(0===e)return OS.resolve(cw.U);var i=new Hx(e);return this.Ar.mn(t,function(t){return i.lr(t.sequenceNumber)}).next(function(){return n.Ar.gr(t,function(t){return i.lr(t)})}).next(function(){return i.maxValue})},t.prototype.Zi=function(t,e,n){return this.Ar.Zi(t,e,n)},t.prototype.Vr=function(t,e){return this.Ar.Vr(t,e)},t.prototype.pr=function(t,e){var n=this;return-1===this.params.Hs?(A_("LruGarbageCollector","Garbage collection skipped; disabled"),OS.resolve(Ex)):this.br(t).next(function(i){return i<n.params.Hs?(A_("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+n.params.Hs),Ex):n.vr(t,e)})},t.prototype.br=function(t){return this.Ar.br(t)},t.prototype.vr=function(t,e){var n,i,r,o,s,a,c,l=this,u=Date.now();return this.Rr(t,this.params.Js).next(function(e){return e>l.params.Ys?(A_("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.Ys+" from "+e),i=l.params.Ys):i=e,o=Date.now(),l.yr(t,i)}).next(function(i){return n=i,s=Date.now(),l.Zi(t,n,e)}).next(function(e){return r=e,a=Date.now(),l.Vr(t,n)}).next(function(t){return c=Date.now(),R_()<=Tm.a.DEBUG&&A_("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-u)+"ms\n\tDetermined least recently used "+i+" in "+(s-o)+"ms\n\tRemoved "+r+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-u)+"ms"),OS.resolve({Ws:!0,js:i,Gs:r,zs:t})})},t}(),Yx=function(){function t(t,e){this.db=t,this._r=function(t,e){return new Gx(t,e)}(this,e)}return t.prototype.Pr=function(t){var e=this.Sr(t);return this.db.Dr().tr(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Sr=function(t){var e=0;return this.gr(t,function(t){e++}).next(function(){return e})},t.prototype.mn=function(t,e){return this.db.Dr().mn(t,e)},t.prototype.gr=function(t,e){return this.Cr(t,function(t,n){return e(n)})},t.prototype.sr=function(t,e,n){return Qx(t,n)},t.prototype.rr=function(t,e,n){return Qx(t,n)},t.prototype.Zi=function(t,e,n){return this.db.Dr().Zi(t,e,n)},t.prototype.Fi=function(t,e){return Qx(t,e)},t.prototype.Nr=function(t,e){return function(t,e){var n=!1;return Vx(t)._s(function(i){return Fx(t,i,e).next(function(t){return t&&(n=!0),OS.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.Vr=function(t,e){var n=this,i=this.db.Or().Fr(),r=[],o=0;return this.Cr(t,function(s,a){if(a<=e){var c=n.Nr(t,s).next(function(e){if(!e)return o++,i.fi(t,s).next(function(){return i._i(s),Ux(t).delete([0,VS(s.path)])})});r.push(c)}}).next(function(){return OS.$n(r)}).next(function(){return i.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.vs);return this.db.Dr().Ji(t,n)},t.prototype.kr=function(t,e){return Qx(t,e)},t.prototype.Cr=function(t,e){var n,i=Ux(t),r=cw.U;return i.ls({index:tx.documentTargetsIndex},function(t,i){var o=i.path,s=i.sequenceNumber;0===t[0]?(r!==cw.U&&e(new gw(BS(n)),r),r=s,n=o):r=cw.U}).next(function(){r!==cw.U&&e(new gw(BS(n)),r)})},t.prototype.br=function(t){return this.db.Or().Mr(t)},t}();function Qx(t,e){return Ux(t).put(function(t,e){return new tx(0,VS(t.path),e)}(e,t.vs))}var Jx=function(){function t(t,e){this.Kt=t,this.Ti=e}return t.prototype.ui=function(t,e,n){return eO(t).put(nO(e),n)},t.prototype._i=function(t,e){var n=eO(t),i=nO(e);return n.delete(i)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(i){return i.byteSize+=e,n.Lr(t,i)})},t.prototype.fi=function(t,e){var n=this;return eO(t).get(nO(e)).next(function(t){return n.$r(t)})},t.prototype.Br=function(t,e){var n=this;return eO(t).get(nO(e)).next(function(t){var e=n.$r(t);return e?{li:e,size:Px(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,i=xC();return this.qr(t,e,function(t,e){var r=n.$r(e);i=i.Ht(t,r)}).next(function(){return i})},t.prototype.Ur=function(t,e){var n=this,i=xC(),r=new yC(gw.J);return this.qr(t,e,function(t,e){var o=n.$r(e);o?(i=i.Ht(t,o),r=r.Ht(t,Px(e))):(i=i.Ht(t,null),r=r.Ht(t,0))}).next(function(){return{Qr:i,Kr:r}})},t.prototype.qr=function(t,e,n){if(e.nt())return OS.resolve();var i=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),r=e.ee(),o=r.ce();return eO(t).ls({range:i},function(t,e,i){for(var s=gw.Tt(t);o&&gw.J(o,s)<0;)n(o,null),o=r.ce();o&&o.isEqual(s)&&(n(o,e),o=r.ae()?r.ce():null),o?i.rs(o.path.rt()):i.done()}).next(function(){for(;o;)n(o,null),o=r.ae()?r.ce():null})},t.prototype.Wr=function(t,e,n){var i=this,r=kC(),o=e.path.length+1,s={};if(n.isEqual(uw.min())){var a=e.path.rt();s.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.rt(),l=fx(n);s.range=IDBKeyRange.lowerBound([c,l],!0),s.index=QS.collectionReadTimeIndex}return eO(t).ls(s,function(t,n,s){if(t.length===o){var a=dx(i.Kt,n);e.path.st(a.key.path)?a instanceof Hw&&Iz(e,a)&&(r=r.Ht(a.key,a)):s.done()}}).next(function(){return r})},t.prototype.Fr=function(t){return new Zx(this,!!t&&t.jr)},t.prototype.Mr=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return tO(t).get(JS.key).next(function(t){return N_(!!t),t})},t.prototype.Lr=function(t,e){return tO(t).put(JS.key,e)},t.prototype.$r=function(t){if(t){var e=dx(this.Kt,t);return e instanceof Kw&&e.version.isEqual(uw.min())?null:e}return null},t}(),Zx=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).Gr=e,i.jr=n,i.zr=new Mx(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),i}return Object(D_.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[],i=0,r=new wC(function(t,e){return B_(t.ot(),e.ot())});return this.oi.forEach(function(o,s){var a=e.zr.get(o);if(s.li){var c=px(e.Gr.Kt,s.li,e.ai(o));r=r.add(o.path.Z());var l=Px(c);i+=l-a,n.push(e.Gr.ui(t,o,c))}else if(i-=a,e.jr){var u=px(e.Gr.Kt,new Kw(o,uw.min()),e.ai(o));n.push(e.Gr.ui(t,o,u))}else n.push(e.Gr._i(t,o))}),r.forEach(function(i){n.push(e.Gr.Ti.Us(t,i))}),n.push(this.Gr.updateMetadata(t,i)),OS.$n(n)},e.prototype.di=function(t,e){var n=this;return this.Gr.Br(t,e).next(function(t){return null===t?(n.zr.set(e,0),null):(n.zr.set(e,t.size),t.li)})},e.prototype.wi=function(t,e){var n=this;return this.Gr.Ur(t,e).next(function(t){var e=t.Qr;return t.Kr.forEach(function(t,e){n.zr.set(t,e)}),e})},e}(Rx);function tO(t){return cx(t,JS.store)}function eO(t){return cx(t,QS.store)}function nO(t){return t.path.rt()}var iO=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,i){var r=this;N_(n<i&&n>=0&&i<=11);var o=new kS("createOrUpgrade",e);n<1&&i>=1&&(function(t){t.createObjectStore(US.store)}(t),function(t){t.createObjectStore($S.store,{keyPath:$S.keyPath}),t.createObjectStore(HS.store,{keyPath:HS.keyPath,autoIncrement:!0}).createIndex(HS.userMutationsIndex,HS.userMutationsKeyPath,{unique:!0}),t.createObjectStore(KS.store)}(t),rO(t),function(t){t.createObjectStore(QS.store)}(t));var s=OS.resolve();return n<3&&i>=3&&(0!==n&&(function(t){t.deleteObjectStore(tx.store),t.deleteObjectStore(ZS.store),t.deleteObjectStore(ex.store)}(t),rO(t)),s=s.next(function(){return function(t){var e=t.store(ex.store),n=new ex(0,0,uw.min().G(),0);return e.put(ex.key,n)}(o)})),n<4&&i>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(HS.store).os().next(function(n){t.deleteObjectStore(HS.store),t.createObjectStore(HS.store,{keyPath:HS.keyPath,autoIncrement:!0}).createIndex(HS.userMutationsIndex,HS.userMutationsKeyPath,{unique:!0});var i=e.store(HS.store),r=n.map(function(t){return i.put(t)});return OS.$n(r)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(ix.store,{keyPath:ix.keyPath})}(t)})),n<5&&i>=5&&(s=s.next(function(){return r.Hr(o)})),n<6&&i>=6&&(s=s.next(function(){return function(t){t.createObjectStore(JS.store)}(t),r.Jr(o)})),n<7&&i>=7&&(s=s.next(function(){return r.Yr(o)})),n<8&&i>=8&&(s=s.next(function(){return r.Xr(t,o)})),n<9&&i>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(QS.store);e.createIndex(QS.readTimeIndex,QS.readTimeIndexPath,{unique:!1}),e.createIndex(QS.collectionReadTimeIndex,QS.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&i>=10&&(s=s.next(function(){return r.Zr(o)})),n<11&&i>=11&&(s=s.next(function(){!function(t){t.createObjectStore(rx.store,{keyPath:rx.keyPath})}(t),function(t){t.createObjectStore(ox.store,{keyPath:ox.keyPath})}(t)})),s},t.prototype.Jr=function(t){var e=0;return t.store(QS.store).ls(function(t,n){e+=Px(n)}).next(function(){var n=new JS(e);return t.store(JS.store).put(JS.key,n)})},t.prototype.Hr=function(t){var e=this,n=t.store($S.store),i=t.store(HS.store);return n.os().next(function(n){return OS.forEach(n,function(n){var r=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return i.os(HS.userMutationsIndex,r).next(function(i){return OS.forEach(i,function(i){N_(i.userId===n.userId);var r=yx(e.Kt,i);return Ax(t,n.userId,r).next(function(){})})})})})},t.prototype.Yr=function(t){var e=t.store(tx.store),n=t.store(QS.store);return t.store(ex.store).get(ex.key).next(function(t){var i=[];return n.ls(function(n,r){var o=new dw(n),s=function(t){return[0,VS(t)]}(o);i.push(e.get(s).next(function(n){return n?OS.resolve():function(n){return e.put(new tx(0,VS(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return OS.$n(i)})})},t.prototype.Xr=function(t,e){t.createObjectStore(nx.store,{keyPath:nx.keyPath});var n=e.store(nx.store),i=new Ox,r=function(t){if(i.add(t)){var e=t.et(),r=t.Z();return n.put({collectionId:e,parent:VS(r)})}};return e.store(QS.store).ls({hs:!0},function(t,e){var n=new dw(t);return r(n.Z())}).next(function(){return e.store(KS.store).ls({hs:!0},function(t,e){var n=BS(t[1]);return r(n.Z())})})},t.prototype.Zr=function(t){var e=this,n=t.store(ZS.store);return n.ls(function(t,i){var r=vx(i),o=_x(e.Kt,r);return n.put(o)})},t}();function rO(t){t.createObjectStore(tx.store,{keyPath:tx.keyPath}).createIndex(tx.documentTargetsIndex,tx.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ZS.store,{keyPath:ZS.keyPath}).createIndex(ZS.queryTargetsIndexName,ZS.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ex.store)}var oO="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",sO=function(){function t(e,n,i,r,o,s,a,c,l,u){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.eo=o,this.window=s,this.document=a,this.no=l,this.so=u,this.io=null,this.ro=!1,this.isPrimary=!1,this.networkEnabled=!0,this.oo=null,this.inForeground=!1,this.co=null,this.ao=null,this.uo=Number.NEGATIVE_INFINITY,this.ho=function(t){return Promise.resolve()},!t.Wn())throw new K_(H_.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ii=new Yx(this,r),this.lo=n+"main",this.Kt=new hx(c),this._o=new TS(this.lo,11,new iO(this.Kt)),this.fo=new qx(this.Ii,this.Kt),this.Ti=new kx,this.wo=function(t,e){return new Jx(t,e)}(this.Kt,this.Ti),this.Eo=new zx,this.window&&this.window.localStorage?this.To=this.window.localStorage:(this.To=null,!1===u&&P_("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Io().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new K_(H_.FAILED_PRECONDITION,oO);return t.mo(),t.Ao(),t.Ro(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.fo.Wi(e)})}).then(function(e){t.io=new cw(e,t.no)}).then(function(){t.ro=!0}).catch(function(e){return t._o&&t._o.close(),Promise.reject(e)})},t.prototype.Po=function(t){var e=this;return this.ho=function(n){return Object(D_.b)(e,void 0,void 0,function(){return Object(D_.d)(this,function(e){return this.Tr?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.yo=function(t){var e=this;this._o.Zn(function(n){return Object(D_.b)(e,void 0,void 0,function(){return Object(D_.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.Vo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.eo.ys(function(){return Object(D_.b)(e,void 0,void 0,function(){return Object(D_.d)(this,function(t){switch(t.label){case 0:return this.Tr?[4,this.Io()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Io=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return cO(e).put(new ix(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.po(e).next(function(e){e||(t.isPrimary=!1,t.eo.bo(function(){return t.ho(!1)}))})}).next(function(){return t.vo(e)}).next(function(n){return t.isPrimary&&!n?t.So(e).next(function(){return!1}):!!n&&t.Do(e).next(function(){return!0})})}).catch(function(e){if(DS(e))return A_("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return A_("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.eo.bo(function(){return t.ho(e)}),t.isPrimary=e})},t.prototype.po=function(t){var e=this;return aO(t).get(US.key).next(function(t){return OS.resolve(e.Co(t))})},t.prototype.xo=function(t){return cO(t).delete(this.clientId)},t.prototype.No=function(){return Object(D_.b)(this,void 0,void 0,function(){var t,e,n,i=this;return Object(D_.d)(this,function(r){switch(r.label){case 0:return!this.isPrimary||this.Fo(this.uo,18e5)?[3,2]:(this.uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=cx(t,ix.store);return e.os().next(function(t){var n=i.Oo(t,18e5),r=t.filter(function(t){return-1===n.indexOf(t)});return OS.forEach(r,function(t){return e.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(t=r.sent(),this.To)for(e=0,n=t;e<n.length;e++)this.To.removeItem(this.ko(n[e].clientId));r.label=2;case 2:return[2]}})})},t.prototype.Ro=function(){var t=this;this.ao=this.eo.Ir("client_metadata_refresh",4e3,function(){return t.Io().then(function(){return t.No()}).then(function(){return t.Ro()})})},t.prototype.Co=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.vo=function(t){var e=this;return this.so?OS.resolve(!0):aO(t).get(US.key).next(function(n){if(null!==n&&e.Fo(n.leaseTimestampMs,5e3)&&!e.Mo(n.ownerId)){if(e.Co(n)&&e.networkEnabled)return!0;if(!e.Co(n)){if(!n.allowTabSynchronization)throw new K_(H_.FAILED_PRECONDITION,oO);return!1}}return!(!e.networkEnabled||!e.inForeground)||cO(t).os().next(function(t){return void 0===e.Oo(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&A_("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.Lo=function(){return Object(D_.b)(this,void 0,void 0,function(){var t=this;return Object(D_.d)(this,function(e){switch(e.label){case 0:return this.ro=!1,this.$o(),this.ao&&(this.ao.cancel(),this.ao=null),this.Bo(),this.qo(),[4,this._o.runTransaction("shutdown","readwrite",[US.store,ix.store],function(e){var n=new ax(e,cw.U);return t.So(n).next(function(){return t.xo(n)})})];case 1:return e.sent(),this._o.close(),this.Uo(),[2]}})})},t.prototype.Oo=function(t,e){var n=this;return t.filter(function(t){return n.Fo(t.updateTimeMs,e)&&!n.Mo(t.clientId)})},t.prototype.Qo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return cO(e).os().next(function(e){return t.Oo(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.Ko=function(t){return Lx.Ai(t,this.Kt,this.Ti,this.Ii)},t.prototype.Dr=function(){return this.fo},t.prototype.Or=function(){return this.wo},t.prototype.Wo=function(){return this.Ti},t.prototype.jo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var i,r=this;return A_("IndexedDbPersistence","Starting transaction:",t),this._o.runTransaction(t,"readonly"===e?"readonly":"readwrite",sx,function(o){return i=new ax(o,r.io?r.io.next():cw.U),"readwrite-primary"===e?r.po(i).next(function(t){return!!t||r.vo(i)}).next(function(e){if(!e)throw P_("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.eo.bo(function(){return r.ho(!1)}),new K_(H_.FAILED_PRECONDITION,jS);return n(i)}).next(function(t){return r.Do(i).next(function(){return t})}):r.Go(i).next(function(){return n(i)})}).then(function(t){return i.ps(),t})},t.prototype.Go=function(t){var e=this;return aO(t).get(US.key).next(function(t){if(null!==t&&e.Fo(t.leaseTimestampMs,5e3)&&!e.Mo(t.ownerId)&&!e.Co(t)&&!(e.so||e.allowTabSynchronization&&t.allowTabSynchronization))throw new K_(H_.FAILED_PRECONDITION,oO)})},t.prototype.Do=function(t){var e=new US(this.clientId,this.allowTabSynchronization,Date.now());return aO(t).put(US.key,e)},t.Wn=function(){return TS.Wn()},t.prototype.So=function(t){var e=this,n=aO(t);return n.get(US.key).next(function(t){return e.Co(t)?(A_("IndexedDbPersistence","Releasing primary lease."),n.delete(US.key)):OS.resolve()})},t.prototype.Fo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(P_("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.co=function(){t.eo.ys(function(){return t.inForeground="visible"===t.document.visibilityState,t.Io()})},this.document.addEventListener("visibilitychange",this.co),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Bo=function(){this.co&&(this.document.removeEventListener("visibilitychange",this.co),this.co=null)},t.prototype.Ao=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.oo=function(){e.$o(),e.eo.ys(function(){return e.Lo()})},this.window.addEventListener("unload",this.oo))},t.prototype.qo=function(){this.oo&&(this.window.removeEventListener("unload",this.oo),this.oo=null)},t.prototype.Mo=function(t){var e;try{var n=null!==(null===(e=this.To)||void 0===e?void 0:e.getItem(this.ko(t)));return A_("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return P_("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.$o=function(){if(this.To)try{this.To.setItem(this.ko(this.clientId),String(Date.now()))}catch(t){P_("Failed to set zombie client id.",t)}},t.prototype.Uo=function(){if(this.To)try{this.To.removeItem(this.ko(this.clientId))}catch(t){}},t.prototype.ko=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function aO(t){return cx(t,US.store)}function cO(t){return cx(t,ix.store)}function lO(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var uO=function(t,e){this.progress=t,this.zo=e},hO=function(){function t(t,e,n){this.wo=t,this.Ho=e,this.Ti=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.vi(t,e).next(function(i){return n.Yo(t,e,i)})},t.prototype.Yo=function(t,e,n){return this.wo.fi(t,e).next(function(t){for(var i=0,r=n;i<r.length;i++)t=r[i].xs(e,t);return t})},t.prototype.Xo=function(t,e,n){var i=xC();return e.forEach(function(t,e){for(var r=0,o=n;r<o.length;r++)e=o[r].xs(t,e);i=i.Ht(t,e)}),i},t.prototype.Zo=function(t,e){var n=this;return this.wo.getEntries(t,e).next(function(e){return n.tc(t,e)})},t.prototype.tc=function(t,e){var n=this;return this.Ho.Si(t,e).next(function(i){var r=n.Xo(t,e,i),o=SC();return r.forEach(function(t,e){e||(e=new Kw(t,uw.min())),o=o.Ht(t,e)}),o})},t.prototype.Wr=function(t,e,n){return function(t){return gw.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):Cz(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new gw(e)).next(function(t){var e=kC();return t instanceof Hw&&(e=e.Ht(t.key,t)),e})},t.prototype.nc=function(t,e,n){var i=this,r=e.collectionGroup,o=kC();return this.Ti.Qs(t,r).next(function(s){return OS.forEach(s,function(s){var a=function(t,e){return new mz(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(r));return i.sc(t,a,n).next(function(t){t.forEach(function(t,e){o=o.Ht(t,e)})})}).next(function(){return o})})},t.prototype.sc=function(t,e,n){var i,r,o=this;return this.wo.Wr(t,e,n).next(function(n){return i=n,o.Ho.Ci(t,e)}).next(function(e){return o.ic(t,r=e,i).next(function(t){i=t;for(var e=0,n=r;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var c=a[s],l=c.key,u=eC(c,i.get(l),0,o.Ss);i=u instanceof Hw?i.Ht(l,u):i.remove(l)}})}).next(function(){return i.forEach(function(t,n){Iz(e,n)||(i=i.remove(t))}),i})},t.prototype.ic=function(t,e,n){for(var i=DC(),r=0,o=e;r<o.length;r++)for(var s=0,a=o[r].mutations;s<a.length;s++){var c=a[s];c instanceof sC&&null===n.get(c.key)&&(i=i.add(c.key))}var l=n;return this.wo.getEntries(t,i).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Hw&&(l=l.Ht(t,e))}),l})},t}(),dO=function(){function t(t,e,n,i){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=i}return t.cc=function(e,n){for(var i=DC(),r=DC(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}}return new t(e,n.fromCache,i,r)},t}(),pO=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.Wr=function(t,e,n,i){var r=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(uw.min())?this.hc(t,e):this.uc.Zo(t,i).next(function(o){var s=r.lc(e,o);return(vz(e)||_z(e))&&r._c(e.limitType,s,i,n)?r.hc(t,e):(R_()<=Tm.a.DEBUG&&A_("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ez(e)),r.uc.Wr(t,e,n).next(function(t){return s.forEach(function(e){t=t.Ht(e.key,e)}),t}))})},t.prototype.lc=function(t,e){var n=new wC(Dz(t));return e.forEach(function(e,i){i instanceof Hw&&Iz(t,i)&&(n=n.add(i))}),n},t.prototype._c=function(t,e,n,i){if(n.size!==e.size)return!0;var r="F"===t?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.u(i)>0)},t.prototype.hc=function(t,e){return R_()<=Tm.a.DEBUG&&A_("QueryEngine","Using full collection scan to execute query:",Ez(e)),this.uc.Wr(t,e,uw.min())},t}(),fO=function(){function t(t,e,n,i){this.persistence=t,this.fc=e,this.Kt=i,this.dc=new yC(B_),this.wc=new Mx(function(t){return Jw(t)},Zw),this.Ec=uw.min(),this.Ho=t.Ko(n),this.Tc=t.Or(),this.fo=t.Dr(),this.Ic=new hO(this.Tc,this.Ho,this.persistence.Wo()),this.Eo=t.jo(),this.fc.ac(this.Ic)}return t.prototype.mr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.pr(n,e.dc)})},t}();function gO(t,e,n,i){return new fO(t,e,n,i)}function mO(t,e){return Object(D_.b)(this,void 0,void 0,function(){var n,i,r,o;return Object(D_.d)(this,function(s){switch(s.label){case 0:return n=V_(t),i=n.Ho,r=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.Ho.bi(t).next(function(s){return o=s,i=n.persistence.Ko(e),r=new hO(n.Tc,i,n.persistence.Wo()),i.bi(t)}).next(function(e){for(var n=[],i=[],s=DC(),a=0,c=o;a<c.length;a++){var l=c[a];n.push(l.batchId);for(var u=0,h=l.mutations;u<h.length;u++)s=s.add(h[u].key)}for(var d=0,p=e;d<p.length;d++){var f=p[d];i.push(f.batchId);for(var g=0,m=f.mutations;g<m.length;g++)s=s.add(m[g].key)}return r.Zo(t,s).next(function(t){return{mc:t,Ac:n,Rc:i}})})})];case 1:return o=s.sent(),[2,(n.Ho=i,n.Ic=r,n.fc.ac(n.Ic),o)]}})})}function bO(t,e){var n=V_(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var i=e.batch.keys(),r=n.Tc.Fr({jr:!0});return function(t,e,n,i){var r=n.batch,o=r.keys(),s=OS.resolve();return o.forEach(function(t){s=s.next(function(){return i.fi(e,t)}).next(function(e){var o=e,s=n.Os.get(t);N_(null!==s),(!o||o.version.u(s)<0)&&(o=r.Ds(t,o,n))&&i.ui(o,n.Fs)})}),s.next(function(){return t.Ho.xi(e,r)})}(n,t,e,r).next(function(){return r.apply(t)}).next(function(){return n.Ho.Oi(t)}).next(function(){return n.Ic.Zo(t,i)})})}function yO(t){var e=V_(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.fo.Ki(t)})}function vO(t,e){var n=V_(t),i=e.Mt,r=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Tc.Fr({jr:!0});r=n.dc;var s=[];e.Oe.forEach(function(e,o){var a=r.get(o);if(a){s.push(n.fo.ir(t,e.Ke,o).next(function(){return n.fo.nr(t,e.Ue,o)}));var c=e.resumeToken;if(c.o()>0){var l=a.$t(c,i).Lt(t.vs);r=r.Ht(o,l),function(t,e,n){return N_(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.j()-t.Mt.j()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,l,e)&&s.push(n.fo.Ji(t,l))}}});var a=SC();if(e.Me.forEach(function(i,r){e.Le.has(i)&&s.push(n.persistence.Ii.kr(t,i))}),s.push(_O(t,o,e.Me,i,void 0).next(function(t){a=t})),!i.isEqual(uw.min())){var c=n.fo.Ki(t).next(function(e){return n.fo.ji(t,t.vs,i)});s.push(c)}return OS.$n(s).next(function(){return o.apply(t)}).next(function(){return n.Ic.tc(t,a)})}).then(function(t){return n.dc=r,t})}function _O(t,e,n,i,r){var o=DC();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=SC();return n.forEach(function(n,s){var a=t.get(n),c=(null==r?void 0:r.get(n))||i;s instanceof Kw&&s.version.isEqual(uw.min())?(e._i(n,c),o=o.Ht(n,s)):null==a||s.version.u(a.version)>0||0===s.version.u(a.version)&&a.hasPendingWrites?(e.ui(s,c),o=o.Ht(n,s)):A_("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function wO(t,e){var n=V_(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Ho.Vi(t,e)})}function zO(t,e){var n=V_(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var i;return n.fo.er(t,e).next(function(r){return r?OS.resolve(i=r):n.fo.qi(t).next(function(r){return i=new Rz(e,r,0,t.vs),n.fo.Gi(t,i).next(function(){return i})})})}).then(function(t){var i=n.dc.get(t.targetId);return(null===i||t.Mt.u(i.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t})}function CO(t,e,n){return Object(D_.b)(this,void 0,void 0,function(){var i,r,o,s;return Object(D_.d)(this,function(a){switch(a.label){case 0:i=V_(t),r=i.dc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",o,function(t){return i.persistence.Ii.removeTarget(t,r)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!DS(s=a.sent()))throw s;return A_("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return i.dc=i.dc.remove(e),i.wc.delete(r.target),[2]}})})}function SO(t,e,n){var i=V_(t),r=uw.min(),o=DC();return i.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var i=V_(t),r=i.wc.get(n);return void 0!==r?OS.resolve(i.dc.get(r)):i.fo.er(e,n)}(i,t,xz(e)).next(function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,i.fo.cr(t,e.targetId).next(function(t){o=t})}).next(function(){return i.fc.Wr(t,e,n?r:uw.min(),n?o:DC())}).next(function(t){return{documents:t,Pc:o}})})}function xO(t,e){var n=V_(t),i=V_(n.fo),r=n.dc.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",function(t){return i.Dn(t,e).next(function(t){return t?t.target:null})})}function OO(t){var e=V_(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var i=V_(t),r=SC(),o=fx(n),s=eO(e),a=IDBKeyRange.lowerBound(o,!0);return s.ls({index:QS.readTimeIndex,range:a},function(t,e){var n=dx(i.Kt,e);r=r.Ht(n.key,n),o=e.readTime}).next(function(){return{zo:r,readTime:gx(o)}})}(e.Tc,t,e.Ec)}).then(function(t){var n=t.zo;return e.Ec=t.readTime,n})}function kO(t){return Object(D_.b)(this,void 0,void 0,function(){var e;return Object(D_.d)(this,function(n){return[2,(e=V_(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=eO(t),n=uw.min();return e.ls({index:QS.readTimeIndex,reverse:!0},function(t,e,i){e.readTime&&(n=gx(e.readTime)),i.done()}).next(function(){return n})}(t)}).then(function(t){e.Ec=t})]})})}function TO(t,e,n,i){return Object(D_.b)(this,void 0,void 0,function(){var r,o,s,a,c,l,u,h,d,p;return Object(D_.d)(this,function(f){switch(f.label){case 0:for(r=V_(t),o=DC(),s=SC(),a=EC(),c=0,l=n;c<l.length;c++)h=e.yc((u=l[c]).metadata.name),u.document&&(o=o.add(h)),s=s.Ht(h,e.gc(u)),a=a.Ht(h,e.Vc(u.metadata.readTime));return d=r.Tc.Fr({jr:!0}),[4,zO(r,function(t){return xz(yz(dw.ct("__bundle__/docs/"+t)))}(i))];case 1:return p=f.sent(),[2,r.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return _O(t,d,s,uw.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return r.fo.Xi(t,p.targetId).next(function(){return r.fo.nr(t,o,p.targetId)}).next(function(){return r.Ic.tc(t,e)})})})]}})})}function EO(t,e,n){return void 0===n&&(n=DC()),Object(D_.b)(this,void 0,void 0,function(){var i,r;return Object(D_.d)(this,function(o){switch(o.label){case 0:return[4,zO(t,xz(wx(e.bundledQuery)))];case 1:return i=o.sent(),[2,(r=V_(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=JC(e.readTime);if(i.Mt.u(o)>=0)return r.Eo.Bs(t,e);var s=i.$t($_.h,o);return r.dc=r.dc.Ht(s.targetId,s),r.fo.Ji(t,s).next(function(){return r.fo.Xi(t,i.targetId)}).next(function(){return r.fo.nr(t,n,i.targetId)}).next(function(){return r.Eo.Bs(t,e)})})]}})})}var IO=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ms=function(t,e){return OS.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:JC(n.createTime)}),OS.resolve()},t.prototype.$s=function(t,e){return OS.resolve(this.vc.get(e))},t.prototype.Bs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:wx(t.bundledQuery),readTime:JC(t.readTime)}}(e)),OS.resolve()},t}(),DO=function(){function t(){this.Sc=new wC(MO.Dc),this.Cc=new wC(MO.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.sr=function(t,e){var n=new MO(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach(function(t){return n.sr(t,e)})},t.prototype.rr=function(t,e){this.Fc(new MO(t,e))},t.prototype.Oc=function(t,e){var n=this;t.forEach(function(t){return n.rr(t,e)})},t.prototype.kc=function(t){var e=this,n=new gw(new dw([])),i=new MO(n,t),r=new MO(n,t+1),o=[];return this.Cc.Ae([i,r],function(t){e.Fc(t),o.push(t.key)}),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach(function(e){return t.Fc(e)})},t.prototype.Fc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new gw(new dw([])),n=new MO(e,t),i=new MO(e,t+1),r=DC();return this.Cc.Ae([n,i],function(t){r=r.add(t.key)}),r},t.prototype.ki=function(t){var e=new MO(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),MO=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return gw.J(t.key,e.key)||B_(t.$c,e.$c)},t.xc=function(t,e){return B_(t.$c,e.$c)||gw.J(t.key,e.key)},t}(),RO=function(){function t(t,e){this.Ti=t,this.Ii=e,this.Ho=[],this.Bc=1,this.qc=new wC(MO.Dc)}return t.prototype.Ri=function(t){return OS.resolve(0===this.Ho.length)},t.prototype.Pi=function(t,e,n,i){var r=this.Bc;this.Bc++;var o=new lx(r,e,n,i);this.Ho.push(o);for(var s=0,a=i;s<a.length;s++){var c=a[s];this.qc=this.qc.add(new MO(c.key,r)),this.Ti.Us(t,c.key.path.Z())}return OS.resolve(o)},t.prototype.yi=function(t,e){return OS.resolve(this.Uc(e))},t.prototype.Vi=function(t,e){var n=this.Qc(e+1),i=n<0?0:n;return OS.resolve(this.Ho.length>i?this.Ho[i]:null)},t.prototype.pi=function(){return OS.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.bi=function(t){return OS.resolve(this.Ho.slice())},t.prototype.vi=function(t,e){var n=this,i=new MO(e,0),r=new MO(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([i,r],function(t){var e=n.Uc(t.$c);o.push(e)}),OS.resolve(o)},t.prototype.Si=function(t,e){var n=this,i=new wC(B_);return e.forEach(function(t){var e=new MO(t,0),r=new MO(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,r],function(t){i=i.add(t.$c)})}),OS.resolve(this.Kc(i))},t.prototype.Ci=function(t,e){var n=e.path,i=n.length+1,r=n;gw.Et(r)||(r=r.child(""));var o=new MO(new gw(r),0),s=new wC(B_);return this.qc.Re(function(t){var e=t.key.path;return!!n.st(e)&&(e.length===i&&(s=s.add(t.$c)),!0)},o),OS.resolve(this.Kc(s))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach(function(t){var i=e.Uc(t);null!==i&&n.push(i)}),n},t.prototype.xi=function(t,e){var n=this;N_(0===this.Wc(e.batchId,"removed")),this.Ho.shift();var i=this.qc;return OS.forEach(e.mutations,function(r){var o=new MO(r.key,e.batchId);return i=i.delete(o),n.Ii.Fi(t,r.key)}).next(function(){n.qc=i})},t.prototype.Ni=function(t){},t.prototype.ki=function(t,e){var n=new MO(e,0),i=this.qc.Pe(n);return OS.resolve(e.isEqual(i&&i.key))},t.prototype.Oi=function(t){return OS.resolve()},t.prototype.Wc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),AO=function(){function t(t,e){this.Ti=t,this.jc=e,this.docs=new yC(gw.J),this.size=0}return t.prototype.ui=function(t,e,n){var i=e.key,r=this.docs.get(i),o=r?r.size:0,s=this.jc(e);return this.docs=this.docs.Ht(i,{li:e,size:s,readTime:n}),this.size+=s-o,this.Ti.Us(t,i.path.Z())},t.prototype._i=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.fi=function(t,e){var n=this.docs.get(e);return OS.resolve(n?n.li:null)},t.prototype.getEntries=function(t,e){var n=this,i=xC();return e.forEach(function(t){var e=n.docs.get(t);i=i.Ht(t,e?e.li:null)}),OS.resolve(i)},t.prototype.Wr=function(t,e,n){for(var i=kC(),r=new gw(e.path.child("")),o=this.docs.ne(r);o.ae();){var s=o.ce(),a=s.value,c=a.li,l=a.readTime;if(!e.path.st(s.key.path))break;l.u(n)<=0||c instanceof Hw&&Iz(e,c)&&(i=i.Ht(c.key,c))}return OS.resolve(i)},t.prototype.Gc=function(t,e){return OS.forEach(this.docs,function(t){return e(t)})},t.prototype.Fr=function(t){return new PO(this)},t.prototype.Mr=function(t){return OS.resolve(this.size)},t}(),PO=function(t){function e(e){var n=this;return(n=t.call(this)||this).Gr=e,n}return Object(D_.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[];return this.oi.forEach(function(i,r){r&&r.li?n.push(e.Gr.ui(t,r.li,e.ai(i))):e.Gr._i(i)}),OS.$n(n)},e.prototype.di=function(t,e){return this.Gr.fi(t,e)},e.prototype.wi=function(t,e){return this.Gr.getEntries(t,e)},e}(Rx),LO=function(){function t(t){this.persistence=t,this.zc=new Mx(function(t){return Jw(t)},Zw),this.lastRemoteSnapshotVersion=uw.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new DO,this.targetCount=0,this.Yc=Wx.$i()}return t.prototype.mn=function(t,e){return this.zc.forEach(function(t,n){return e(n)}),OS.resolve()},t.prototype.Ki=function(t){return OS.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Wi=function(t){return OS.resolve(this.Hc)},t.prototype.qi=function(t){return this.highestTargetId=this.Yc.next(),OS.resolve(this.highestTargetId)},t.prototype.ji=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),OS.resolve()},t.prototype.zi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new Wx(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.Gi=function(t,e){return this.zi(e),this.targetCount+=1,OS.resolve()},t.prototype.Ji=function(t,e){return this.zi(e),OS.resolve()},t.prototype.Yi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,OS.resolve()},t.prototype.Zi=function(t,e,n){var i=this,r=0,o=[];return this.zc.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i.zc.delete(s),o.push(i.Xi(t,a.targetId)),r++)}),OS.$n(o).next(function(){return r})},t.prototype.tr=function(t){return OS.resolve(this.targetCount)},t.prototype.er=function(t,e){var n=this.zc.get(e)||null;return OS.resolve(n)},t.prototype.nr=function(t,e,n){return this.Jc.Nc(e,n),OS.resolve()},t.prototype.ir=function(t,e,n){this.Jc.Oc(e,n);var i=this.persistence.Ii,r=[];return i&&e.forEach(function(e){r.push(i.Fi(t,e))}),OS.$n(r)},t.prototype.Xi=function(t,e){return this.Jc.kc(e),OS.resolve()},t.prototype.cr=function(t,e){var n=this.Jc.Lc(e);return OS.resolve(n)},t.prototype.ki=function(t,e){return OS.resolve(this.Jc.ki(e))},t}(),FO=function(){function t(t,e){var n=this;this.Xc={},this.io=new cw(0),this.ro=!1,this.ro=!0,this.Ii=t(this),this.fo=new LO(this),this.Ti=new xx,this.wo=function(t,e){return new AO(t,function(t){return n.Ii.Zc(t)})}(this.Ti),this.Kt=new hx(e),this.Eo=new IO(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Lo=function(){return this.ro=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.yo=function(){},t.prototype.Vo=function(){},t.prototype.Wo=function(){return this.Ti},t.prototype.Ko=function(t){var e=this.Xc[t.R()];return e||(e=new RO(this.Ti,this.Ii),this.Xc[t.R()]=e),e},t.prototype.Dr=function(){return this.fo},t.prototype.Or=function(){return this.wo},t.prototype.jo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var i=this;A_("MemoryPersistence","Starting transaction:",t);var r=new jO(this.io.next());return this.Ii.ta(),n(r).next(function(t){return i.Ii.ea(r).next(function(){return t})}).Mn().then(function(t){return r.ps(),t})},t.prototype.na=function(t,e){return OS.Bn(Object.values(this.Xc).map(function(n){return function(){return n.ki(t,e)}}))},t}(),jO=function(t){function e(e){var n=this;return(n=t.call(this)||this).vs=e,n}return Object(D_.c)(e,t),e}(NS),NO=function(){function t(t){this.persistence=t,this.sa=new DO,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw j_()},enumerable:!1,configurable:!0}),t.prototype.sr=function(t,e,n){return this.sa.sr(n,e),this.oa.delete(n.toString()),OS.resolve()},t.prototype.rr=function(t,e,n){return this.sa.rr(n,e),this.oa.add(n.toString()),OS.resolve()},t.prototype.Fi=function(t,e){return this.oa.add(e.toString()),OS.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach(function(t){return n.oa.add(t.toString())});var i=this.persistence.Dr();return i.cr(t,e.targetId).next(function(t){t.forEach(function(t){return n.oa.add(t.toString())})}).next(function(){return i.Yi(t,e)})},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.Or().Fr();return OS.forEach(this.oa,function(i){var r=gw.ft(i);return e.ca(t,r).next(function(t){t||n._i(r)})}).next(function(){return e.ia=null,n.apply(t)})},t.prototype.kr=function(t,e){var n=this;return this.ca(t,e).next(function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())})},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return OS.Bn([function(){return OS.resolve(n.sa.ki(e))},function(){return n.persistence.Dr().ki(t,e)},function(){return n.persistence.na(t,e)}])},t}();function VO(t,e){return"firestore_clients_"+t+"_"+e}function WO(t,e,n){var i="firestore_mutations_"+t+"_"+n;return e.A()&&(i+="_"+e.uid),i}function qO(t,e){return"firestore_targets_"+t+"_"+e}var BO=function(){function t(t,e,n,i){this.user=t,this.batchId=e,this.state=n,this.error=i}return t.aa=function(e,n,i){var r=JSON.parse(i),o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new K_(r.error.code,r.error.message)),o?new t(e,n,r.state,s):(P_("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),XO=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var i=JSON.parse(n),r="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return r&&i.error&&(r="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new K_(i.error.code,i.error.message)),r?new t(e,i.state,o):(P_("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),UO=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var i=JSON.parse(n),r="object"==typeof i&&i.activeTargetIds instanceof Array,o=RC(),s=0;r&&s<i.activeTargetIds.length;++s)r=Ew(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new t(e,o):(P_("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),$O=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(P_("SharedClientState","Failed to parse online state: "+e),null)},t}(),HO=function(){function t(){this.activeTargetIds=RC()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),KO=function(){function t(t,e,n,i,r){this.window=t,this.eo=e,this.persistenceKey=n,this._a=i,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new yC(B_),this.Tr=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=r,this.ma=VO(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new HO),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.Wn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(D_.b)(this,void 0,void 0,function(){var t,e,n,i,r,o,s,a,c,l,u=this;return Object(D_.d)(this,function(h){switch(h.label){case 0:return[4,this.fa.Qo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this._a&&(r=this.getItem(VO(this.persistenceKey,i)))&&(o=UO.aa(i,r))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(s=this.storage.getItem(this.ga))&&(a=this.ba(s))&&this.va(a),c=0,l=this.Ia;c<l.length;c++)this.Ea(l[c]);return this.Ia=[],this.window.addEventListener("unload",function(){return u.Lo()}),this.Tr=!0,[2]}})})},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach(function(n,i){i.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Fa=function(t,e,n){this.Na(t,e,n),this.Oa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(qO(this.persistenceKey,t));if(n){var i=XO.aa(t,n);i&&(e=i.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(qO(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var i=this;e.forEach(function(t){i.Oa(t)}),this.currentUser=t,n.forEach(function(t){i.xa(t)})},t.prototype.Ka=function(t){this.Wa(t)},t.prototype.ja=function(){this.Ga()},t.prototype.Lo=function(){this.Tr&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return A_("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){A_("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){A_("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(A_("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void P_("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.eo.bo(function(){return Object(D_.b)(e,void 0,void 0,function(){var t,e,i,r,o,s;return Object(D_.d)(this,function(a){if(this.Tr){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Ya(n.key,n.newValue)))return[2,this.Xa(i)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(r=this.Za(n.key,n.newValue)))return[2,this.tu(r)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(s=function(t){var e=cw.U;if(null!=t)try{var n=JSON.parse(t);N_("number"==typeof n),e=n}catch(t){P_("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==cw.U&&this.L(s);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var i=new BO(this.currentUser,t,e,n),r=WO(this.persistenceKey,this.currentUser,t);this.setItem(r,i.ua())},t.prototype.Oa=function(t){var e=WO(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Wa=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var i=qO(this.persistenceKey,t),r=new XO(t,e,n);this.setItem(i,r.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return UO.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),i=Number(n[1]);return BO.aa(new nw(void 0!==n[2]?n[2]:null),i,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),i=Number(n[1]);return XO.aa(i,e)},t.prototype.ba=function(t){return $O.aa(t)},t.prototype.Xa=function(t){return Object(D_.b)(this,void 0,void 0,function(){return Object(D_.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(A_("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,i=e?this.Ta.Ht(t,e):this.Ta.remove(t),r=this.Da(this.Ta),o=this.Da(i),s=[],a=[];return o.forEach(function(t){r.has(t)||s.push(t)}),r.forEach(function(t){o.has(t)||a.push(t)}),this.fa.iu(s,a).then(function(){n.Ta=i})},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=RC();return t.forEach(function(t,n){e=e.ye(n.activeTargetIds)}),e},t}(),GO=function(){function t(){this.ru=new HO,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Fa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new HO,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.Lo=function(){},t.prototype.q=function(t){},t.prototype.ja=function(){},t}(),YO=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.Lo=function(){},t}(),QO=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.Lo=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){A_("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){A_("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.Wn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),JO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ZO=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),tk=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(D_.c)(e,t),e.prototype.Du=function(t,e,n,i){return new Promise(function(r,o){var s=new I_;s.listenOnce(k_.COMPLETE,function(){try{switch(s.getLastErrorCode()){case O_.NO_ERROR:var e=s.getResponseJson();A_("Connection","XHR received:",JSON.stringify(e)),r(e);break;case O_.TIMEOUT:A_("Connection",'RPC "'+t+'" timed out'),o(new K_(H_.DEADLINE_EXCEEDED,"Request time out"));break;case O_.HTTP_ERROR:var n=s.getStatus();if(A_("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var i=s.getResponseJson().error;if(i&&i.status&&i.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(H_).indexOf(e)>=0?e:H_.UNKNOWN}(i.status);o(new K_(a,i.message))}else o(new K_(H_.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new K_(H_.UNAVAILABLE,"Connection failed."));break;default:j_()}}finally{A_("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(i);s.send(e,"POST",a,n,15)})},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new w_,r=Sy(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(o.initMessageHeaders,e),Object(Em.l)()||Object(Em.n)()||Object(Em.j)()||Object(Em.k)()||Object(Em.o)()||Object(Em.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");A_("Connection","Creating WebChannel: "+s,o);var a=i.createWebChannel(s,o),c=!1,l=!1,u=new ZO({du:function(t){l?A_("Connection","Not sending because WebChannel is closed:",t):(c||(A_("Connection","Opening WebChannel transport."),a.open(),c=!0),A_("Connection","WebChannel sending:",t),a.send(t))},wu:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,E_.EventType.OPEN,function(){l||A_("Connection","WebChannel transport opened.")}),h(a,E_.EventType.CLOSE,function(){l||(l=!0,A_("Connection","WebChannel transport closed"),u.Pu())}),h(a,E_.EventType.ERROR,function(t){l||(l=!0,L_("Connection","WebChannel transport errored:",t),u.Pu(new K_(H_.UNAVAILABLE,"The operation could not be completed")))}),h(a,E_.EventType.MESSAGE,function(t){var e;if(!l){var n=t.data[0];N_(!!n);var i=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(i){A_("Connection","WebChannel received error:",i);var r=i.status,o=function(t){var e=hC[t];if(void 0!==e)return bC(e)}(r),s=i.message;void 0===o&&(o=H_.INTERNAL,s="Unknown error status: "+r+" with message "+i.message),l=!0,u.Pu(new K_(o,s)),a.close()}else A_("Connection","WebChannel received:",n),u.yu(n)}}),h(r,T_.STAT_EVENT,function(t){10===t.stat?A_("Connection","Detected buffering proxy"):11===t.stat&&A_("Connection","Detected no buffering proxy")}),setTimeout(function(){u.Ru()},0),u},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,i){var r=this.vu(t,e);A_("RestConnection","Sending: ",r,n);var o={};return this.Su(o,i),this.Du(t,r,o,n).then(function(t){return A_("RestConnection","Received: ",t),t},function(e){throw L_("RestConnection",t+" failed with error: ",e,"url: ",r,"request:",n),e})},t.prototype.Cu=function(t,e,n,i){return this.bu(t,e,n,i)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.4",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+JO[t]},t}());function ek(){return"undefined"!=typeof window?window:null}function nk(){return"undefined"!=typeof document?document:null}function ik(t){return new KC(t,!0)}var rk=function(){function t(t,e,n,i,r){void 0===n&&(n=1e3),void 0===i&&(i=1.5),void 0===r&&(r=6e4),this.eo=t,this.ds=e,this.Nu=n,this.Fu=i,this.Ou=r,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Ou},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),i=Math.max(0,Date.now()-this.Lu),r=Math.max(0,n-i);r>0&&A_("ExponentialBackoff","Backing off for "+r+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+i+" ms ago)"),this.Mu=this.eo.Ir(this.ds,r,function(){return e.Lu=Date.now(),t()}),this.ku*=this.Fu,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Ou&&(this.ku=this.Ou)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),ok=function(){function t(t,e,n,i,r,o){this.eo=t,this.Qu=n,this.Ku=i,this.Wu=r,this.listener=o,this.state=0,this.ju=0,this.Gu=null,this.stream=null,this.zu=new rk(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(D_.b)(this,void 0,void 0,function(){return Object(D_.d)(this,function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.eo.Ir(this.Qu,6e4,function(){return t.th()}))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(D_.b)(this,void 0,void 0,function(){return Object(D_.d)(this,function(t){return this.Ju()?[2,this.close(0)]:[2]})})},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(D_.b)(this,void 0,void 0,function(){return Object(D_.d)(this,function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.ju++,3!==t?this.zu.reset():e&&e.code===H_.RESOURCE_EXHAUSTED?(P_(e.toString()),P_("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===H_.UNAUTHENTICATED&&this.Wu.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}})})},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.ju),n=this.ju;this.Wu.getToken().then(function(e){t.ju===n&&t.rh(e)},function(n){e(function(){var e=new K_(H_.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)})})},t.prototype.rh=function(t){var e=this,n=this.ih(this.ju);this.stream=this.ah(t),this.stream.Eu(function(){n(function(){return e.state=2,e.listener.Eu()})}),this.stream.Iu(function(t){n(function(){return e.oh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu(function(){return Object(D_.b)(t,void 0,void 0,function(){return Object(D_.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.oh=function(t){return A_("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.eo.ys(function(){return e.ju===t?n():(A_("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),sk=function(t){function e(e,n,i,r,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,i,o)||this).Kt=r,s}return Object(D_.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:j_()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(N_(void 0===e||"string"==typeof e),$_.fromBase64String(e||"")):(N_(void 0===e||e instanceof Uint8Array),$_.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?H_.UNKNOWN:bC(t.code);return new K_(e,t.message||"")}(a);n=new WC(i,r,o,s||null)}else if("documentChange"in e){r=nS(t,(i=e.documentChange).document.name),o=JC(i.document.updateTime);var a=new Bw({mapValue:{fields:i.document.fields}}),c=(s=new Hw(r,o,a,{}),i.targetIds||[]);n=new NC(c,i.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)r=nS(t,(i=e.documentDelete).document),o=i.readTime?JC(i.readTime):uw.min(),a=new Kw(r,o),n=new NC([],s=i.removedTargetIds||[],a.key,a);else if("documentRemove"in e)r=nS(t,(i=e.documentRemove).document),n=new NC([],o=i.removedTargetIds||[],r,null);else{if(!("filter"in e))return j_();var l=e.filter;r=new gC(i=l.count||0),n=new VC(o=l.targetId,r)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return uw.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?uw.min():e.readTime?JC(e.readTime):uw.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=oS(this.Kt),e.addTarget=function(t,e){var n,i=e.target;return(n=tz(i)?{documents:hS(t,i)}:{query:dS(t,i)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=YC(t,e.resumeToken):e.Mt.u(uw.min())>0&&(n.readTime=GC(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return j_()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=oS(this.Kt),e.removeTarget=t,this.eh(e)},e}(ok),ak=function(t){function e(e,n,i,r,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,i,o)||this).Kt=r,s._h=!1,s}return Object(D_.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(N_(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(N_(void 0!==e),t.map(function(t){return function(t,e){var n=JC(t.updateTime?t.updateTime:e);n.isEqual(uw.min())&&(n=JC(e));var i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults),new Yz(n,i)}(t,e)})):[]}(t.writeResults,t.commitTime),n=JC(t.commitTime);return this.listener.wh(n,e)}return N_(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=oS(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return lS(e.Kt,t)})};this.eh(n)},e}(ok),ck=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).credentials=e,r.Ku=n,r.Kt=i,r.Ih=!1,r}return Object(D_.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new K_(H_.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var i=this;return this.mh(),this.credentials.getToken().then(function(r){return i.Ku.bu(t,e,n,r)}).catch(function(t){throw t.code===H_.UNAUTHENTICATED&&i.credentials.v(),t})},e.prototype.Cu=function(t,e,n){var i=this;return this.mh(),this.credentials.getToken().then(function(r){return i.Ku.Cu(t,e,n,r)}).catch(function(t){throw t.code===H_.UNAUTHENTICATED&&i.credentials.v(),t})},e.prototype.terminate=function(){this.Ih=!1},e}(function(){}),lk=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.Ir("online_state_timeout",1e4,function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()}))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(P_(e),this.Ph=!1):A_("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),uk=function(t,e,n,i,r){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Fh=new Set,this.Oh=[],this.kh=r,this.kh.cu(function(t){n.ys(function(){return Object(D_.b)(o,void 0,void 0,function(){return Object(D_.d)(this,function(t){switch(t.label){case 0:return vk(this)?(A_("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(D_.b)(this,void 0,void 0,function(){var e;return Object(D_.d)(this,function(n){switch(n.label){case 0:return(e=V_(t)).Fh.add(4),[4,dk(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Fh.delete(4),[4,hk(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Mh=new lk(n,i)};function hk(t){return Object(D_.b)(this,void 0,void 0,function(){var e,n;return Object(D_.d)(this,function(i){switch(i.label){case 0:if(!vk(t))return[3,4];e=0,n=t.Oh,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function dk(t){return Object(D_.b)(this,void 0,void 0,function(){var e,n;return Object(D_.d)(this,function(i){switch(i.label){case 0:e=0,n=t.Oh,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function pk(t,e){var n=V_(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),yk(n)?bk(n):Ak(n).Ju()&&gk(n,e))}function fk(t,e){var n=V_(t),i=Ak(n);n.Nh.delete(e),i.Ju()&&mk(n,e),0===n.Nh.size&&(i.Ju()?i.Zu():vk(n)&&n.Mh.set("Unknown"))}function gk(t,e){t.Lh.cn(e.targetId),Ak(t).hh(e)}function mk(t,e){t.Lh.cn(e),Ak(t).lh(e)}function bk(t){t.Lh=new BC({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),Ak(t).start(),t.Mh.yh()}function yk(t){return vk(t)&&!Ak(t).Hu()&&t.Nh.size>0}function vk(t){return 0===V_(t).Fh.size}function _k(t){t.Lh=void 0}function wk(t){return Object(D_.b)(this,void 0,void 0,function(){return Object(D_.d)(this,function(e){return t.Nh.forEach(function(e,n){gk(t,e)}),[2]})})}function zk(t,e){return Object(D_.b)(this,void 0,void 0,function(){return Object(D_.d)(this,function(n){return _k(t),yk(t)?(t.Mh.ph(e),bk(t)):t.Mh.set("Unknown"),[2]})})}function Ck(t,e,n){return Object(D_.b)(this,void 0,void 0,function(){var i,r,o;return Object(D_.d)(this,function(s){switch(s.label){case 0:if(t.Mh.set("Online"),!(e instanceof WC&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(D_.b)(this,void 0,void 0,function(){var n,i,r,o;return Object(D_.d)(this,function(s){switch(s.label){case 0:n=e.cause,i=0,r=e.targetIds,s.label=1;case 1:return i<r.length?t.Nh.has(o=r[i])?[4,t.Ch.$h(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return i++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return i=s.sent(),A_("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,Sk(t,i)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof NC?t.Lh.wn(e):e instanceof VC?t.Lh.yn(e):t.Lh.In(e),n.isEqual(uw.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,yO(t.Sh)];case 8:return r=s.sent(),n.u(r)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Oe.forEach(function(n,i){if(n.resumeToken.o()>0){var r=t.Nh.get(i);r&&t.Nh.set(i,r.$t(n.resumeToken,e))}}),n.ke.forEach(function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t($_.h,n.Mt)),mk(t,e);var i=new Rz(n.target,e,1,n.sequenceNumber);gk(t,i)}}),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return A_("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Sk(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Sk(t,e,n){return Object(D_.b)(this,void 0,void 0,function(){var i=this;return Object(D_.d)(this,function(r){switch(r.label){case 0:if(!DS(e))throw e;return t.Fh.add(1),[4,dk(t)];case 1:return r.sent(),t.Mh.set("Offline"),n||(n=function(){return yO(t.Sh)}),t.fs.bo(function(){return Object(D_.b)(i,void 0,void 0,function(){return Object(D_.d)(this,function(e){switch(e.label){case 0:return A_("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Fh.delete(1),[4,hk(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function xk(t,e){return e().catch(function(n){return Sk(t,n,e)})}function Ok(t){return Object(D_.b)(this,void 0,void 0,function(){var e,n,i,r,o;return Object(D_.d)(this,function(s){switch(s.label){case 0:e=V_(t),n=Pk(e),i=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return vk(t)&&t.xh.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,wO(e.Sh,i)];case 3:return null===(r=s.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(i=r.batchId,function(t,e){t.xh.push(e);var n=Pk(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,r),[3,6]);case 4:return o=s.sent(),[4,Sk(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return kk(e)&&Tk(e),[2]}})})}function kk(t){return vk(t)&&!Pk(t).Hu()&&t.xh.length>0}function Tk(t){Pk(t).start()}function Ek(t){return Object(D_.b)(this,void 0,void 0,function(){return Object(D_.d)(this,function(e){return Pk(t).Th(),[2]})})}function Ik(t){return Object(D_.b)(this,void 0,void 0,function(){var e,n,i;return Object(D_.d)(this,function(r){for(e=Pk(t),n=0,i=t.xh;n<i.length;n++)e.dh(i[n].mutations);return[2]})})}function Dk(t,e,n){return Object(D_.b)(this,void 0,void 0,function(){var i,r;return Object(D_.d)(this,function(o){switch(o.label){case 0:return i=t.xh.shift(),r=ux.from(i,e,n),[4,xk(t,function(){return t.Ch.qh(r)})];case 1:return o.sent(),[4,Ok(t)];case 2:return o.sent(),[2]}})})}function Mk(t,e){return Object(D_.b)(this,void 0,void 0,function(){return Object(D_.d)(this,function(n){switch(n.label){case 0:return e&&Pk(t).fh?[4,function(t,e){return Object(D_.b)(this,void 0,void 0,function(){var n,i;return Object(D_.d)(this,function(r){switch(r.label){case 0:return mC(i=e.code)&&i!==H_.ABORTED?(n=t.xh.shift(),Pk(t).Xu(),[4,xk(t,function(){return t.Ch.Uh(n.batchId,e)})]):[3,3];case 1:return r.sent(),[4,Ok(t)];case 2:r.sent(),r.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return kk(t)&&Tk(t),[2]}})})}function Rk(t,e){return Object(D_.b)(this,void 0,void 0,function(){var n;return Object(D_.d)(this,function(i){switch(i.label){case 0:return n=V_(t),e?(n.Fh.delete(2),[4,hk(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return e?[3,4]:(n.Fh.add(2),[4,dk(n)]);case 3:i.sent(),n.Mh.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function Ak(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var i=V_(t);return i.mh(),new sk(e,i.Ku,i.credentials,i.Kt,n)}(t.Dh,t.fs,{Eu:wk.bind(null,t),Iu:zk.bind(null,t),uh:Ck.bind(null,t)}),t.Oh.push(function(n){return Object(D_.b)(e,void 0,void 0,function(){return Object(D_.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),yk(t)?bk(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),_k(t),e.label=3;case 3:return[2]}})})})),t.Qh}function Pk(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var i=V_(t);return i.mh(),new ak(e,i.Ku,i.credentials,i.Kt,n)}(t.Dh,t.fs,{Eu:Ek.bind(null,t),Iu:Mk.bind(null,t),Eh:Ik.bind(null,t),wh:Dk.bind(null,t)}),t.Oh.push(function(n){return Object(D_.b)(e,void 0,void 0,function(){return Object(D_.d)(this,function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,Ok(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(A_("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}})})})),t.Kh}var Lk=function(){this.Wh=void 0,this.listeners=[]},Fk=function(){this.queries=new Mx(function(t){return Tz(t)},kz),this.onlineState="Unknown",this.jh=new Set};function jk(t,e){return Object(D_.b)(this,void 0,void 0,function(){var n,i,r,o,s,a,c;return Object(D_.d)(this,function(l){switch(l.label){case 0:if(n=V_(t),r=!1,(o=n.queries.get(i=e.query))||(r=!0,o=new Lk),!r)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),s=o,[4,n.Gh(i)];case 2:return s.Wh=l.sent(),[3,4];case 3:return a=l.sent(),c=FS(a,"Initialization of query '"+Ez(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(i,o),o.listeners.push(e),e.zh(n.onlineState),o.Wh&&e.Hh(o.Wh)&&qk(n),[2]}})})}function Nk(t,e){return Object(D_.b)(this,void 0,void 0,function(){var n,i,r,o,s;return Object(D_.d)(this,function(a){return n=V_(t),r=!1,(o=n.queries.get(i=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length),r?[2,(n.queries.delete(i),n.Jh(i))]:[2]})})}function Vk(t,e){for(var n=V_(t),i=!1,r=0,o=e;r<o.length;r++){var s=o[r],a=n.queries.get(s.query);if(a){for(var c=0,l=a.listeners;c<l.length;c++)l[c].Hh(s)&&(i=!0);a.Wh=s}}i&&qk(n)}function Wk(t,e,n){var i=V_(t),r=i.queries.get(e);if(r)for(var o=0,s=r.listeners;o<s.length;o++)s[o].onError(n);i.queries.delete(e)}function qk(t){t.jh.forEach(function(t){t.next()})}var Bk=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,i=t.docChanges;n<i.length;n++){var r=i[n];3!==r.type&&e.push(r)}t=new LC(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=LC.Fe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),Xk=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),Uk=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return nS(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?cS(this.Kt,t.document,!1):new Kw(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return JC(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new Uk(this.Kt),i=0,r=t;i<r.length;i++){var o=r[i];if(o.metadata.queries)for(var s=n.yc(o.metadata.name),a=0,c=o.metadata.queries;a<c.length;a++){var l=c[a],u=(e.get(l)||DC()).add(s);e.set(l,u)}}return e},t.prototype.complete=function(){return Object(D_.b)(this,void 0,void 0,function(){var t,e,n,i,r;return Object(D_.d)(this,function(o){switch(o.label){case 0:return[4,TO(this.Sh,new Uk(this.Kt),this.documents,this.rl.id)];case 1:t=o.sent(),e=this.cl(this.documents),n=0,i=this.queries,o.label=2;case 2:return n<i.length?[4,EO(this.Sh,r=i[n],e.get(r.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new uO(Object.assign({},this.progress),t))]}})})}}();var $k=function(t){this.key=t},Hk=function(t){this.key=t},Kk=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=DC(),this.Ce=DC(),this.ll=Dz(t),this._l=new AC(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,i=e?e.wl:new PC,r=e?e._l:this._l,o=e?e.Ce:this.Ce,s=r,a=!1,c=vz(this.query)&&r.size===this.query.limit?r.last():null,l=_z(this.query)&&r.size===this.query.limit?r.first():null;if(t.Zt(function(t,e){var u=r.get(t),h=e instanceof Hw?e:null;h&&(h=Iz(n.query,h)?h:null);var d=!!u&&n.Ce.has(u.key),p=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),f=!1;u&&h?u.data().isEqual(h.data())?d!==p&&(i.track({type:3,doc:h}),f=!0):n.El(u,h)||(i.track({type:2,doc:h}),f=!0,(c&&n.ll(h,c)>0||l&&n.ll(h,l)<0)&&(a=!0)):!u&&h?(i.track({type:0,doc:h}),f=!0):u&&!h&&(i.track({type:1,doc:u}),f=!0,(c||l)&&(a=!0)),f&&(h?(s=s.add(h),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),vz(this.query)||_z(this.query))for(;s.size>this.query.limit;){var u=vz(this.query)?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{_l:s,wl:i,_c:a,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ei=function(t,e,n){var i=this,r=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return j_()}};return n(t)-n(e)}(t.type,e.type)||i.ll(t.doc,e.doc)}),this.Tl(n);var s=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,c=a!==this.ul;return this.ul=a,0!==o.length||c?{snapshot:new LC(this.query,t._l,r,o,t.Ce,0===a,c,!1),ml:s}:{ml:s}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ei({_l:this._l,wl:new PC,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach(function(t){return e.al=e.al.add(t)}),t.Qe.forEach(function(t){}),t.Ke.forEach(function(t){return e.al=e.al.delete(t)}),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=DC(),this._l.forEach(function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))});var n=[];return e.forEach(function(e){t.hl.has(e)||n.push(new Hk(e))}),this.hl.forEach(function(t){e.has(t)||n.push(new $k(t))}),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=DC();var e=this.dl(t.documents);return this.Ei(e,!0)},t.prototype.Pl=function(){return LC.Fe(this.query,this._l,this.Ce,0===this.ul)},t}(),Gk=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Yk=function(t){this.key=t,this.yl=!1},Qk=function(){function t(t,e,n,i,r,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=i,this.currentUser=r,this.bl=o,this.vl={},this.Sl=new Mx(function(t){return Tz(t)},kz),this.Dl=new Map,this.Cl=[],this.xl=new yC(gw.J),this.Nl=new Map,this.Fl=new DO,this.Ol={},this.kl=new Map,this.Ml=Wx.Bi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function Jk(t,e){return Object(D_.b)(this,void 0,void 0,function(){var n,i,r,o,s;return Object(D_.d)(this,function(a){switch(a.label){case 0:return n=kT(t),(r=n.Sl.get(e))?(n.pl.ka(r.targetId),i=r.view.Pl(),[3,4]):[3,1];case 1:return[4,zO(n.Sh,xz(e))];case 2:return o=a.sent(),s=n.pl.ka(o.targetId),[4,Zk(n,e,o.targetId,"current"===s)];case 3:i=a.sent(),n.$l&&pk(n.gl,o),a.label=4;case 4:return[2,i]}})})}function Zk(t,e,n,i){return Object(D_.b)(this,void 0,void 0,function(){var r,o,s,a,c,l;return Object(D_.d)(this,function(u){switch(u.label){case 0:return t.Bl=function(e,n,i){return function(t,e,n,i){return Object(D_.b)(this,void 0,void 0,function(){var r,o,s;return Object(D_.d)(this,function(a){switch(a.label){case 0:return(r=e.view.dl(n))._c?[4,SO(t.Sh,e.query,!1).then(function(t){return e.view.dl(t.documents,r)})]:[3,2];case 1:r=a.sent(),a.label=2;case 2:return o=i&&i.Oe.get(e.targetId),s=e.view.Ei(r,t.$l,o),[2,(dT(t,e.targetId,s.ml),s.snapshot)]}})})}(t,e,n,i)},[4,SO(t.Sh,e,!0)];case 1:return r=u.sent(),o=new Kk(e,r.Pc),s=o.dl(r.documents),a=jC.Be(n,i&&"Offline"!==t.onlineState),c=o.Ei(s,t.$l,a),dT(t,n,c.ml),l=new Gk(e,n,o),[2,(t.Sl.set(e,l),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),c.snapshot)]}})})}function tT(t,e){return Object(D_.b)(this,void 0,void 0,function(){var n,i,r;return Object(D_.d)(this,function(o){switch(o.label){case 0:return n=V_(t),i=n.Sl.get(e),(r=n.Dl.get(i.targetId)).length>1?[2,(n.Dl.set(i.targetId,r.filter(function(t){return!kz(t,e)})),void n.Sl.delete(e))]:n.$l?(n.pl.La(i.targetId),n.pl.Ca(i.targetId)?[3,2]:[4,CO(n.Sh,i.targetId,!1).then(function(){n.pl.Ba(i.targetId),fk(n.gl,i.targetId),uT(n,i.targetId)}).catch(Dx)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return uT(n,i.targetId),[4,CO(n.Sh,i.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function eT(t,e,n){return Object(D_.b)(this,void 0,void 0,function(){var i,r,o,s;return Object(D_.d)(this,function(a){switch(a.label){case 0:i=TT(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,i=V_(t),r=lw.now(),o=e.reduce(function(t,e){return t.add(e.key)},DC());return i.persistence.runTransaction("Locally write mutations","readwrite",function(t){return i.Ic.Zo(t,o).next(function(o){n=o;for(var s=[],a=0,c=e;a<c.length;a++){var l=c[a],u=nC(l,n.get(l.key));null!=u&&s.push(new sC(l.key,u,Uw(u.proto.mapValue),Qz.exists(!0)))}return i.Ho.Pi(t,r,s,e)})}).then(function(t){var e=t.Ns(n);return{batchId:t.batchId,oi:e}})}(i.Sh,e)];case 2:return r=a.sent(),i.pl.xa(r.batchId),function(t,e,n){var i=t.Ol[t.currentUser.R()];i||(i=new yC(B_)),i=i.Ht(e,n),t.Ol[t.currentUser.R()]=i}(i,r.batchId,n),[4,gT(i,r.oi)];case 3:return a.sent(),[4,Ok(i.gl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=FS(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function nT(t,e){return Object(D_.b)(this,void 0,void 0,function(){var n,i;return Object(D_.d)(this,function(r){switch(r.label){case 0:n=V_(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,vO(n.Sh,e)];case 2:return i=r.sent(),e.Oe.forEach(function(t,e){var i=n.Nl.get(e);i&&(N_(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?i.yl=!0:t.Qe.size>0?N_(i.yl):t.Ke.size>0&&(N_(i.yl),i.yl=!1))}),[4,gT(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,Dx(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})}function iT(t,e,n){var i=V_(t);if(i.$l&&0===n||!i.$l&&1===n){var r=[];i.Sl.forEach(function(t,n){var i=n.view.zh(e);i.snapshot&&r.push(i.snapshot)}),function(t,e){var n=V_(t);n.onlineState=e;var i=!1;n.queries.forEach(function(t,n){for(var r=0,o=n.listeners;r<o.length;r++)o[r].zh(e)&&(i=!0)}),i&&qk(n)}(i.Vl,e),r.length&&i.vl.uh(r),i.onlineState=e,i.$l&&i.pl.Ka(e)}}function rT(t,e,n){return Object(D_.b)(this,void 0,void 0,function(){var i,r,o,s,a,c;return Object(D_.d)(this,function(l){switch(l.label){case 0:return(i=V_(t)).pl.qa(e,"rejected",n),r=i.Nl.get(e),(o=r&&r.key)?(s=(s=new yC(gw.J)).Ht(o,new Kw(o,uw.min())),a=DC().add(o),c=new FC(uw.min(),new Map,new wC(B_),s,a),[4,nT(i,c)]):[3,2];case 1:return l.sent(),i.xl=i.xl.remove(o),i.Nl.delete(e),fT(i),[3,4];case 2:return[4,CO(i.Sh,e,!1).then(function(){return uT(i,e,n)}).catch(Dx)];case 3:l.sent(),l.label=4;case 4:return[2]}})})}function oT(t,e){return Object(D_.b)(this,void 0,void 0,function(){var n,i,r;return Object(D_.d)(this,function(o){switch(o.label){case 0:n=V_(t),i=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,bO(n.Sh,e)];case 2:return r=o.sent(),lT(n,i,null),cT(n,i),n.pl.Fa(i,"acknowledged"),[4,gT(n,r)];case 3:return o.sent(),[3,6];case 4:return[4,Dx(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function sT(t,e,n){return Object(D_.b)(this,void 0,void 0,function(){var i,r;return Object(D_.d)(this,function(o){switch(o.label){case 0:i=V_(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=V_(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var i;return n.Ho.yi(t,e).next(function(e){return N_(null!==e),i=e.keys(),n.Ho.xi(t,e)}).next(function(){return n.Ho.Oi(t)}).next(function(){return n.Ic.Zo(t,i)})})}(i.Sh,e)];case 2:return r=o.sent(),lT(i,e,n),cT(i,e),i.pl.Fa(e,"rejected",n),[4,gT(i,r)];case 3:return o.sent(),[3,6];case 4:return[4,Dx(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function aT(t,e){return Object(D_.b)(this,void 0,void 0,function(){var n,i,r,o,s;return Object(D_.d)(this,function(a){switch(a.label){case 0:vk((n=V_(t)).gl)||A_("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=V_(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Ho.pi(t)})}(n.Sh)];case 2:return-1===(i=a.sent())?[2,void e.resolve()]:((r=n.kl.get(i)||[]).push(e),n.kl.set(i,r),[3,4]);case 3:return o=a.sent(),s=FS(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function cT(t,e){(t.kl.get(e)||[]).forEach(function(t){t.resolve()}),t.kl.delete(e)}function lT(t,e,n){var i=V_(t),r=i.Ol[i.currentUser.R()];if(r){var o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Ol[i.currentUser.R()]=r}}function uT(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var i=0,r=t.Dl.get(e);i<r.length;i++){var o=r[i];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Fl.kc(e).forEach(function(e){t.Fl.ki(e)||hT(t,e)})}function hT(t,e){var n=t.xl.get(e);null!==n&&(fk(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),fT(t))}function dT(t,e,n){for(var i=0,r=n;i<r.length;i++){var o=r[i];o instanceof $k?(t.Fl.sr(o.key,e),pT(t,o)):o instanceof Hk?(A_("SyncEngine","Document no longer in limbo: "+o.key),t.Fl.rr(o.key,e),t.Fl.ki(o.key)||hT(t,o.key)):j_()}}function pT(t,e){var n=e.key;t.xl.get(n)||(A_("SyncEngine","New document in limbo: "+n),t.Cl.push(n),fT(t))}function fT(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new Yk(e)),t.xl=t.xl.Ht(e,n),pk(t.gl,new Rz(xz(yz(e.path)),n,2,cw.U))}}function gT(t,e,n){return Object(D_.b)(this,void 0,void 0,function(){var i,r,o,s;return Object(D_.d)(this,function(a){switch(a.label){case 0:return i=V_(t),r=[],o=[],s=[],i.Sl.nt()?[3,3]:(i.Sl.forEach(function(t,a){s.push(i.Bl(a,e,n).then(function(t){if(t){i.$l&&i.pl.qa(a.targetId,t.fromCache?"not-current":"current"),r.push(t);var e=dO.cc(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),i.vl.uh(r),[4,function(t,e){return Object(D_.b)(this,void 0,void 0,function(){var n,i,r,o,s,a,c,l;return Object(D_.d)(this,function(u){switch(u.label){case 0:n=V_(t),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return OS.forEach(e,function(e){return OS.forEach(e.rc,function(i){return n.persistence.Ii.sr(t,e.targetId,i)}).next(function(){return OS.forEach(e.oc,function(i){return n.persistence.Ii.rr(t,e.targetId,i)})})})})];case 2:return u.sent(),[3,4];case 3:if(!DS(i=u.sent()))throw i;return A_("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(r=0,o=e;r<o.length;r++)a=(s=o[r]).targetId,s.fromCache||(c=n.dc.get(a),l=c.Bt(c.Mt),n.dc=n.dc.Ht(a,l));return[2]}})})}(i.Sh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function mT(t,e){return Object(D_.b)(this,void 0,void 0,function(){var n,i;return Object(D_.d)(this,function(r){switch(r.label){case 0:return(n=V_(t)).currentUser.isEqual(e)?[3,3]:(A_("SyncEngine","User change. New user:",e.R()),[4,mO(n.Sh,e)]);case 1:return i=r.sent(),n.currentUser=e,function(t,e){t.kl.forEach(function(t){t.forEach(function(t){t.reject(new K_(H_.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.kl.clear()}(n),n.pl.Qa(e,i.Ac,i.Rc),[4,gT(n,i.mc)];case 2:r.sent(),r.label=3;case 3:return[2]}})})}function bT(t,e){var n=V_(t),i=n.Nl.get(e);if(i&&i.yl)return DC().add(i.key);var r=DC(),o=n.Dl.get(e);if(!o)return r;for(var s=0,a=o;s<a.length;s++){var c=n.Sl.get(a[s]);r=r.ye(c.view.fl)}return r}function yT(t,e){return Object(D_.b)(this,void 0,void 0,function(){var n,i,r;return Object(D_.d)(this,function(o){switch(o.label){case 0:return[4,SO((n=V_(t)).Sh,e.query,!0)];case 1:return i=o.sent(),r=e.view.Rl(i),[2,(n.$l&&dT(n,e.targetId,r.ml),r)]}})})}function vT(t){return Object(D_.b)(this,void 0,void 0,function(){var e;return Object(D_.d)(this,function(n){return[2,OO((e=V_(t)).Sh).then(function(t){return gT(e,t)})]})})}function _T(t,e,n,i){return Object(D_.b)(this,void 0,void 0,function(){var r,o;return Object(D_.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=V_(t),i=V_(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return i.gi(t,e).next(function(e){return e?n.Ic.Zo(t,e):OS.resolve(null)})})}((r=V_(t)).Sh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Ok(r.gl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(lT(r,e,i||null),cT(r,e),function(t,e){V_(V_(t).Ho).Ni(e)}(r.Sh,e)):j_(),s.label=4;case 4:return[4,gT(r,o)];case 5:return s.sent(),[3,7];case 6:A_("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function wT(t,e){return Object(D_.b)(this,void 0,void 0,function(){var n,i,r,o,s,a,c;return Object(D_.d)(this,function(l){switch(l.label){case 0:return kT(n=V_(t)),TT(n),!0!==e||!0===n.Ll?[3,3]:(i=n.pl.Sa(),[4,zT(n,i.rt())]);case 1:return r=l.sent(),n.Ll=!0,[4,Rk(n.gl,!0)];case 2:for(l.sent(),o=0,s=r;o<s.length;o++)pk(n.gl,s[o]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(a=[],c=Promise.resolve(),n.Dl.forEach(function(t,e){n.pl.$a(e)?a.push(e):c=c.then(function(){return uT(n,e),CO(n.Sh,e,!0)}),fk(n.gl,e)}),[4,c]);case 4:return l.sent(),[4,zT(n,a)];case 5:return l.sent(),function(t){var e=V_(t);e.Nl.forEach(function(t,n){fk(e.gl,n)}),e.Fl.Mc(),e.Nl=new Map,e.xl=new yC(gw.J)}(n),n.Ll=!1,[4,Rk(n.gl,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}})})}function zT(t,e,n){return Object(D_.b)(this,void 0,void 0,function(){var n,i,r,o,s,a,c,l,u,h,d,p,f;return Object(D_.d)(this,function(g){switch(g.label){case 0:n=V_(t),i=[],r=[],o=0,s=e,g.label=1;case 1:return o<s.length?(c=void 0,(l=n.Dl.get(a=s[o]))&&0!==l.length?[4,zO(n.Sh,xz(l[0]))]:[3,7]):[3,13];case 2:c=g.sent(),u=0,h=l,g.label=3;case 3:return u<h.length?(d=n.Sl.get(h[u]),[4,yT(n,d)]):[3,6];case 4:(p=g.sent()).snapshot&&r.push(p.snapshot),g.label=5;case 5:return u++,[3,3];case 6:return[3,11];case 7:return[4,xO(n.Sh,a)];case 8:return f=g.sent(),[4,zO(n.Sh,f)];case 9:return c=g.sent(),[4,Zk(n,CT(f),a,!1)];case 10:g.sent(),g.label=11;case 11:i.push(c),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(r),i)]}})})}function CT(t){return bz(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function ST(t){var e=V_(t);return V_(V_(e.Sh).persistence).Qo()}function xT(t,e,n,i){return Object(D_.b)(this,void 0,void 0,function(){var r,o,s;return Object(D_.d)(this,function(a){switch(a.label){case 0:return(r=V_(t)).Ll?(A_("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!r.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,OO(r.Sh)];case 3:return o=a.sent(),s=FC.$e(e,"current"===n),[4,gT(r,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,CO(r.Sh,e,!0)];case 6:return a.sent(),uT(r,e,i),[3,8];case 7:j_(),a.label=8;case 8:return[2]}})})}function OT(t,e,n){return Object(D_.b)(this,void 0,void 0,function(){var i,r,o,s,a,c,l,u,h;return Object(D_.d)(this,function(d){switch(d.label){case 0:if(!(i=kT(t)).Ll)return[3,10];r=0,o=e,d.label=1;case 1:return r<o.length?i.Dl.has(s=o[r])?(A_("SyncEngine","Adding an already active target "+s),[3,5]):[4,xO(i.Sh,s)]:[3,6];case 2:return a=d.sent(),[4,zO(i.Sh,a)];case 3:return c=d.sent(),[4,Zk(i,CT(a),c.targetId,!1)];case 4:d.sent(),pk(i.gl,c),d.label=5;case 5:return r++,[3,1];case 6:l=function(t){return Object(D_.d)(this,function(e){switch(e.label){case 0:return i.Dl.has(t)?[4,CO(i.Sh,t,!1).then(function(){fk(i.gl,t),uT(i,t)}).catch(Dx)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},u=0,h=n,d.label=7;case 7:return u<h.length?[5,l(h[u])]:[3,10];case 8:d.sent(),d.label=9;case 9:return u++,[3,7];case 10:return[2]}})})}function kT(t){var e=V_(t);return e.gl.Ch.Bh=nT.bind(null,e),e.gl.Ch.Sn=bT.bind(null,e),e.gl.Ch.$h=rT.bind(null,e),e.vl.uh=Vk.bind(null,e.Vl),e.vl.ql=Wk.bind(null,e.Vl),e}function TT(t){var e=V_(t);return e.gl.Ch.qh=oT.bind(null,e),e.gl.Ch.Uh=sT.bind(null,e),e}var ET=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(D_.b)(this,void 0,void 0,function(){return Object(D_.d)(this,function(e){switch(e.label){case 0:return this.Kt=ik(t.gu.T),this.pl=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return gO(this.persistence,new pO,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new FO(NO.ra,this.Kt)},t.prototype.jl=function(t){return new GO},t.prototype.terminate=function(){return Object(D_.b)(this,void 0,void 0,function(){return Object(D_.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.Lo()];case 1:return t.sent(),[4,this.persistence.Lo()];case 2:return t.sent(),[2]}})})},t}(),IT=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).Xl=e,r.cacheSizeBytes=n,r.forceOwnership=i,r.synchronizeTabs=!1,r}return Object(D_.c)(e,t),e.prototype.initialize=function(e){return Object(D_.b)(this,void 0,void 0,function(){return Object(D_.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,kO(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,TT(this.Xl.fa)];case 4:return n.sent(),[4,Ok(this.Xl.gl)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return gO(this.persistence,new pO,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new Kx(this.persistence.Ii._r,t.fs)},e.prototype.Gl=function(t){var e=lO(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?Ix.Xs(this.cacheSizeBytes):Ix.ei;return new sO(this.synchronizeTabs,e,t.clientId,n,t.fs,ek(),nk(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.jl=function(t){return new GO},e}(ET),DT=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n,!1)||this).Xl=e,i.cacheSizeBytes=n,i.synchronizeTabs=!0,i}return Object(D_.c)(e,t),e.prototype.initialize=function(e){return Object(D_.b)(this,void 0,void 0,function(){var n,i=this;return Object(D_.d)(this,function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),n=this.Xl.fa,this.pl instanceof KO?(this.pl.fa={nu:_T.bind(null,n),su:xT.bind(null,n),iu:OT.bind(null,n),Qo:ST.bind(null,n),eu:vT.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:r.sent(),r.label=3;case 3:return[4,this.persistence.Po(function(t){return Object(D_.b)(i,void 0,void 0,function(){return Object(D_.d)(this,function(e){switch(e.label){case 0:return[4,wT(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Tr?this.zl.start(this.Sh):t||this.zl.stop()),[2]}})})})];case 4:return r.sent(),[2]}})})},e.prototype.jl=function(t){var e=ek();if(!KO.Wn(e))throw new K_(H_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=lO(t.gu.T,t.gu.persistenceKey);return new KO(e,t.fs,n,t.clientId,t.Yl)},e}(IT),MT=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(D_.b)(this,void 0,void 0,function(){var n=this;return Object(D_.d)(this,function(i){switch(i.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return iT(n.fa,t,1)},this.gl.Ch.s_=mT.bind(null,this.fa),[4,Rk(this.gl,this.fa.$l)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new Fk},t.prototype.Zl=function(t){var e=ik(t.gu.T),n=new tk(t.gu);return function(t,e,n){return new ck(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,i,r,o,s=this;return e=this.Sh,n=this.Dh,i=t.fs,r=function(t){return iT(s.fa,t,0)},o=QO.Wn()?new QO:new YO,new uk(e,n,i,r,o)},t.prototype.n_=function(t,e){return function(t,e,n,i,r,o,s){var a=new Qk(t,e,n,i,r,o);return s&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(D_.b)(this,void 0,void 0,function(){var e;return Object(D_.d)(this,function(n){switch(n.label){case 0:return e=V_(t),A_("RemoteStore","RemoteStore shutting down."),e.Fh.add(5),[4,dk(e)];case 1:return n.sent(),e.kh.Lo(),e.Mh.set("Unknown"),[2]}})})}(this.gl)},t}(),RT=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),AT=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new xS,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then(function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(D_.b)(this,void 0,void 0,function(){return Object(D_.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Kl=function(){return Object(D_.b)(this,void 0,void 0,function(){return Object(D_.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}})})},t.prototype.a_=function(){return Object(D_.b)(this,void 0,void 0,function(){var t,e,n,i;return Object(D_.d)(this,function(r){switch(r.label){case 0:return[4,this.u_()];case 1:return null===(t=r.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return i=r.sent(),[2,new Xk(JSON.parse(i),t.length+n)]}})})},t.prototype.__=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.u_=function(){return Object(D_.b)(this,void 0,void 0,function(){var t,e;return Object(D_.d)(this,function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.l_=function(t){return Object(D_.b)(this,void 0,void 0,function(){var e;return Object(D_.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(D_.b)(this,void 0,void 0,function(){var t,e;return Object(D_.d)(this,function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new K_(H_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new fw(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),PT=function(t){this._methodName=t};function LT(t,e,n){if(!n)throw new K_(H_.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function FT(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new K_(H_.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function jT(t,e,n,i){if(!0===e&&!0===i)throw new K_(H_.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function NT(t){if(!gw.Et(t))throw new K_(H_.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function VT(t){if(gw.Et(t))throw new K_(H_.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function WT(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":j_()}function qT(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new K_(H_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=WT(t);throw new K_(H_.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function BT(t,e){if(e<=0)throw new K_(H_.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var XT=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new K_(H_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new K_(H_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,jT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),UT=new Map,$T=function(){function t(t,e){this.w_="(lite)",this.E_=new XT({}),this.T_=!1,t instanceof ew?(this.I_=t,this.m_=new rw):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new K_(H_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ew(t.options.projectId)}(t),this.m_=new ow(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new K_(H_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new K_(H_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new XT(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new rw;switch(t.type){case"gapi":var e=t.client;return N_(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new aw(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new K_(H_.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=UT.get(this))&&(A_("ComponentProvider","Removing Datastore"),UT.delete(this),t.terminate()),Promise.resolve();var t},t}(),HT=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new GT(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),KT=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),GT=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n,yz(i))||this).firestore=e,r.D_=i,r.type="collection",r}return Object(D_.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new HT(this.firestore,null,new gw(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(KT);function YT(t,e){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(t instanceof Y_&&(t=t._),LT("collection","path",e),t instanceof $T)return VT(n=dw.ct.apply(dw,Object(D_.g)([e],i))),new GT(t,null,n);if(!(t instanceof HT||t instanceof GT))throw new K_(H_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return VT(n=dw.ct.apply(dw,Object(D_.g)([t.path],i)).child(dw.ct(e))),new GT(t.firestore,null,n)}function QT(t,e){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(t instanceof Y_&&(t=t._),1===arguments.length&&(e=q_.t()),LT("doc","path",e),t instanceof $T)return NT(n=dw.ct.apply(dw,Object(D_.g)([e],i))),new HT(t,null,new gw(n));if(!(t instanceof HT||t instanceof GT))throw new K_(H_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return NT(n=t.D_.child(dw.ct.apply(dw,Object(D_.g)([e],i)))),new HT(t.firestore,t instanceof GT?t.v_:null,new gw(n))}function JT(t,e){return t instanceof Y_&&(t=t._),e instanceof Y_&&(e=e._),(t instanceof HT||t instanceof GT)&&(e instanceof HT||e instanceof GT)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function ZT(t,e){return t instanceof Y_&&(t=t._),e instanceof Y_&&(e=e._),t instanceof KT&&e instanceof KT&&t.firestore===e.firestore&&kz(t.C_,e.C_)&&t.v_===e.v_}var tE=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new K_(H_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new K_(H_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return B_(this.x_,t.x_)||B_(this.N_,t.N_)},t}(),eE=/^__.*__$/,nE=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.zt?new sC(t,this.data,this.zt,e,this.fieldTransforms):new oC(t,this.data,e,this.fieldTransforms)},t}(),iE=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new sC(t,this.data,this.zt,e,this.fieldTransforms)},t}();function rE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw j_()}}var oE=function(){function t(t,e,n,i,r,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=i,void 0===r&&this.O_(),this.fieldTransforms=r||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.M_({path:n,B_:!1});return i.q_(t),i},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.M_({path:n,B_:!1});return i.O_(),i},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return xE(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.zt.find(function(e){return t.st(e)})||void 0!==this.fieldTransforms.find(function(e){return t.st(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(rE(this.k_)&&eE.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),sE=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||ik(t)}return t.prototype.G_=function(t,e,n,i){return void 0===i&&(i=!1),new oE({k_:t,methodName:e,j_:n,path:fw.at(),B_:!1,W_:i},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function aE(t){var e=t.p_(),n=ik(t.I_);return new sE(t.I_,!!e.ignoreUndefinedProperties,n)}function cE(t,e,n,i,r,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,r);wE("Data must be an object, but it was:",s,i);var a,c,l=vE(i,s);if(o.merge)a=new vw(s.zt),c=s.fieldTransforms;else if(o.mergeFields){for(var u=[],h=0,d=o.mergeFields;h<d.length;h++){var p=zE(e,d[h],n);if(!s.contains(p))throw new K_(H_.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");OE(u,p)||u.push(p)}a=new vw(u),c=s.fieldTransforms.filter(function(t){return a.It(t.field)})}else a=null,c=s.fieldTransforms;return new nE(new Bw(l),a,c)}var lE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(D_.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(PT);function uE(t,e,n){return new oE({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var hE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(D_.c)(e,t),e.prototype.z_=function(t){return new Gz(t.path,new Wz)},e.prototype.isEqual=function(t){return t instanceof e},e}(PT),dE=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).H_=n,i}return Object(D_.c)(e,t),e.prototype.z_=function(t){var e=uE(this,t,!0),n=this.H_.map(function(t){return yE(t,e)}),i=new qz(n);return new Gz(t.path,i)},e.prototype.isEqual=function(t){return this===t},e}(PT),pE=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).H_=n,i}return Object(D_.c)(e,t),e.prototype.z_=function(t){var e=uE(this,t,!0),n=this.H_.map(function(t){return yE(t,e)}),i=new Xz(n);return new Gz(t.path,i)},e.prototype.isEqual=function(t){return this===t},e}(PT),fE=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).J_=n,i}return Object(D_.c)(e,t),e.prototype.z_=function(t){var e=new $z(t.Kt,Lz(t.Kt,this.J_));return new Gz(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(PT);function gE(t,e,n,i){var r=t.G_(1,e,n);wE("Data must be an object, but it was:",r,i);var o=[],s=new Xw;bw(i,function(t,i){var a=SE(e,t,n);i instanceof Y_&&(i=i._);var c=r.U_(a);if(i instanceof lE)o.push(a);else{var l=yE(i,c);null!=l&&(o.push(a),s.set(a,l))}});var a=new vw(o);return new iE(s.yt(),a,r.fieldTransforms)}function mE(t,e,n,i,r,o){var s=t.G_(1,e,n),a=[zE(e,i,n)],c=[r];if(o.length%2!=0)throw new K_(H_.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<o.length;l+=2)a.push(zE(e,o[l])),c.push(o[l+1]);for(var u=[],h=new Xw,d=a.length-1;d>=0;--d)if(!OE(u,a[d])){var p=a[d],f=c[d];f instanceof Y_&&(f=f._);var g=s.U_(p);if(f instanceof lE)u.push(p);else{var m=yE(f,g);null!=m&&(u.push(p),h.set(p,m))}}var b=new vw(u);return new iE(h.yt(),b,s.fieldTransforms)}function bE(t,e,n,i){return void 0===i&&(i=!1),yE(n,t.G_(i?4:3,e))}function yE(t,e){if(t instanceof Y_&&(t=t._),_E(t))return wE("Unsupported field value:",e,t),vE(t,e);if(t instanceof PT)return function(t,e){if(!rE(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],i=0,r=0,o=t;r<o.length;r++){var s=yE(o[r],e.Q_(i));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Y_&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Lz(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=lw.fromDate(t);return{timestampValue:GC(e.Kt,n)}}if(t instanceof lw)return n=new lw(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:GC(e.Kt,n)};if(t instanceof tE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof G_)return{bytesValue:YC(e.Kt,t.l)};if(t instanceof HT){var i=t.firestore.I_;if(!i.isEqual(n=e.T))throw e.K_("Document reference is for database "+i.projectId+"/"+i.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:ZC(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+WT(t))}(t,e)}function vE(t,e){var n={};return yw(t)?e.path&&e.path.length>0&&e.zt.push(e.path):bw(t,function(t,i){var r=yE(i,e.L_(t));null!=r&&(n[t]=r)}),{mapValue:{fields:n}}}function _E(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof lw||t instanceof tE||t instanceof G_||t instanceof HT||t instanceof PT)}function wE(t,e,n){if(!_E(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var i=WT(n);throw e.K_("an object"===i?t+" a custom object":t+" "+i)}}function zE(t,e,n){if(e instanceof Y_&&(e=e._),e instanceof AT)return e.d_;if("string"==typeof e)return SE(t,e);throw xE("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var CE=new RegExp("[~\\*/\\[\\]]");function SE(t,e,n){if(e.search(CE)>=0)throw xE("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(AT.bind.apply(AT,Object(D_.g)([void 0],e.split("."))))).d_}catch(i){throw xE("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function xE(t,e,n,i,r){var o=i&&!i.nt(),s=void 0!==r,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(o||s)&&(c+=" (found",o&&(c+=" in field "+i),s&&(c+=" in document "+r),c+=")"),new K_(H_.INVALID_ARGUMENT,(a+=". ")+t+c)}function OE(t,e){return t.some(function(t){return t.isEqual(e)})}var kE=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(D_.b)(this,void 0,void 0,function(){var e,n=this;return Object(D_.d)(this,function(i){switch(i.label){case 0:if(this.nf(),this.mutations.length>0)throw new K_(H_.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(D_.b)(this,void 0,void 0,function(){var n,i,r,o,s,a;return Object(D_.d)(this,function(c){switch(c.label){case 0:return n=V_(t),i=oS(n.Kt)+"/documents",r={documents:e.map(function(t){return eS(n.Kt,t)})},[4,n.Cu("BatchGetDocuments",i,r)];case 1:return o=c.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){N_(!!e.found);var n=nS(t,e.found.name),i=JC(e.found.updateTime),r=new Bw({mapValue:{fields:e.found.fields}});return new Hw(n,i,r,{})}(t,e):"missing"in e?function(t,e){N_(!!e.missing),N_(!!e.readTime);var n=nS(t,e.missing),i=JC(e.readTime);return new Kw(n,i)}(t,e):j_()}(n.Kt,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());N_(!!e),a.push(e)}),a)]}})})}(this.Dh,t)];case 1:return[2,((e=i.sent()).forEach(function(t){t instanceof Kw||t instanceof Hw?n.sf(t):j_()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new pC(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(D_.b)(this,void 0,void 0,function(){var t,e=this;return Object(D_.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var i=gw.ft(n);e.mutations.push(new fC(i,e.Gt(i)))}),[4,function(t,e){return Object(D_.b)(this,void 0,void 0,function(){var n,i,r;return Object(D_.d)(this,function(o){switch(o.label){case 0:return n=V_(t),i=oS(n.Kt)+"/documents",r={writes:e.map(function(t){return lS(n.Kt,t)})},[4,n.bu("Commit",i,r)];case 1:return o.sent(),[2]}})})}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof Hw)e=t.version;else{if(!(t instanceof Kw))throw j_();e=uw.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new K_(H_.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Qz.updateTime(e):Qz.Wt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(uw.min()))throw new K_(H_.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qz.updateTime(e)}return Qz.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),TE=function(){function t(t,e,n,i){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=i,this.cf=5,this.zu=new rk(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu(function(){return Object(D_.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(D_.d)(this,function(i){return t=new kE(this.Dh),(e=this.uf(t))&&e.then(function(e){n.fs.ys(function(){return t.commit().then(function(){n.Ts.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!kw(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys(function(){return e.af(),Promise.resolve()})):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!mC(e)}return!1},t}(),EE=function(){function t(t,e,n){var i=this;this.credentials=t,this.fs=e,this.gu=n,this.user=nw.UNAUTHENTICATED,this.clientId=q_.t(),this._f=function(){},this.N=new xS,this.credentials.S(function(t){A_("FirestoreClient","Received user=",t.uid),i.user=t,i._f(t),i.N.resolve()})}return t.prototype.getConfiguration=function(){return Object(D_.b)(this,void 0,void 0,function(){return Object(D_.d)(this,function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this.fs.wf)throw new K_(H_.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new xS;return this.fs.Tf(function(){return Object(D_.b)(t,void 0,void 0,function(){var t,n;return Object(D_.d)(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:i.sent(),i.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:i.sent(),i.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=i.sent(),n=FS(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function IE(t,e){return Object(D_.b)(this,void 0,void 0,function(){var n,i,r=this;return Object(D_.d)(this,function(o){switch(o.label){case 0:return t.fs.Af(),A_("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),i=n.Yl,t.ff(function(n){i.isEqual(n)||(i=n,t.fs.bo(function(){return Object(D_.b)(r,void 0,void 0,function(){return Object(D_.d)(this,function(t){switch(t.label){case 0:return[4,mO(e.Sh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.yo(function(){return t.terminate()}),t.mf=e,[2]}})})}function DE(t,e){return Object(D_.b)(this,void 0,void 0,function(){var n,i;return Object(D_.d)(this,function(r){switch(r.label){case 0:return t.fs.Af(),[4,ME(t)];case 1:return n=r.sent(),A_("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return i=r.sent(),[4,e.initialize(n,i)];case 3:return r.sent(),t.ff(function(n){return t.fs.bo(function(){return function(t,e){return Object(D_.b)(this,void 0,void 0,function(){var n,i;return Object(D_.d)(this,function(r){switch(r.label){case 0:return(n=V_(t)).fs.Af(),A_("RemoteStore","RemoteStore received new credentials"),i=vk(n),n.Fh.add(3),[4,dk(n)];case 1:return r.sent(),i&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return r.sent(),n.Fh.delete(3),[4,hk(n)];case 3:return r.sent(),[2]}})})}(e.gl,n)})}),t.If=e,[2]}})})}function ME(t){return Object(D_.b)(this,void 0,void 0,function(){return Object(D_.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(A_("FirestoreClient","Using default OfflineComponentProvider"),[4,IE(t,new ET)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function RE(t){return Object(D_.b)(this,void 0,void 0,function(){return Object(D_.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(A_("FirestoreClient","Using default OnlineComponentProvider"),[4,DE(t,new MT)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function AE(t){return ME(t).then(function(t){return t.persistence})}function PE(t){return ME(t).then(function(t){return t.Sh})}function LE(t){return RE(t).then(function(t){return t.gl})}function FE(t){return RE(t).then(function(t){return t.fa})}function jE(t){return Object(D_.b)(this,void 0,void 0,function(){var e,n;return Object(D_.d)(this,function(i){switch(i.label){case 0:return[4,RE(t)];case 1:return e=i.sent(),[2,((n=e.Vl).Gh=Jk.bind(null,e.fa),n.Jh=tT.bind(null,e.fa),n)]}})})}function NE(t,e,n){var i=this;void 0===n&&(n={});var r=new xS;return t.fs.ys(function(){return Object(D_.b)(i,void 0,void 0,function(){var i;return Object(D_.d)(this,function(o){switch(o.label){case 0:return i=function(t,e,n,i,r){var o=new RT({next:function(o){e.ys(function(){return Nk(t,s)});var a=o.docs.has(n);!a&&o.fromCache?r.reject(new K_(H_.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&i&&"server"===i.source?r.reject(new K_(H_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(o)},error:function(t){return r.reject(t)}}),s=new Bk(yz(n.path),o,{includeMetadataChanges:!0,sl:!0});return jk(t,s)},[4,jE(t)];case 1:return[2,i.apply(void 0,[o.sent(),t.fs,e,n,r])]}})})}),r.promise}function VE(t,e,n){var i=this;void 0===n&&(n={});var r=new xS;return t.fs.ys(function(){return Object(D_.b)(i,void 0,void 0,function(){var i;return Object(D_.d)(this,function(o){switch(o.label){case 0:return i=function(t,e,n,i,r){var o=new RT({next:function(n){e.ys(function(){return Nk(t,s)}),n.fromCache&&"server"===i.source?r.reject(new K_(H_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:function(t){return r.reject(t)}}),s=new Bk(n,o,{includeMetadataChanges:!0,sl:!0});return jk(t,s)},[4,jE(t)];case 1:return[2,i.apply(void 0,[o.sent(),t.fs,e,n,r])]}})})}),r.promise}var WE=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new rk(this,"async_queue_retry"),this.vf=function(){var e=nk();e&&A_("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=nk();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=nk();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.bo=function(t){var e=this;this.ys(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(D_.b)(this,void 0,void 0,function(){var t,e=this;return Object(D_.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!DS(t=n.sent()))throw t;return A_("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,P_("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Ir=function(t,e,n){var i=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var r=LS.Is(this,t,e,n,function(t){return i.xf(t)});return this.gf.push(r),r},t.prototype.Sf=function(){this.Vf&&j_()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(D_.b)(this,void 0,void 0,function(){var t;return Object(D_.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ws-e.ws});for(var n=0,i=e.gf;n<i.length;n++){var r=i[n];if(r.Ps(),"all"!==t&&r.ds===t)break}return e.Nf()})},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),qE=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this).Mf=new WE,i.w_="name"in e?e.name:"[DEFAULT]",i}return Object(D_.c)(e,t),e.prototype.b_=function(){return this.Lf||XE(this),this.Lf.terminate()},e}($T);function BE(t){return t.Lf||XE(t),t.Lf.df(),t.Lf}function XE(t){var e=t.p_(),n=function(t,e,n){return new tw(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new EE(t.m_,t.Mf,n)}function UE(t,e,n){var i=this,r=new xS;return t.fs.enqueue(function(){return Object(D_.b)(i,void 0,void 0,function(){var i;return Object(D_.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,IE(t,n)];case 1:return o.sent(),[4,DE(t,e)];case 2:return o.sent(),r.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===H_.FAILED_PRECONDITION||t.code===H_.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(i=o.sent()))throw i;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i),[3,4];case 4:return[2]}})})}).then(function(){return r.promise})}function $E(t){if(t.R_||t.P_)throw new K_(H_.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var HE=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),Iw(t)){case 0:return null;case 1:return t.booleanValue;case 2:return zw(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(Cw(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw j_()}},t.prototype.jf=function(t,e){var n=this,i={};return bw(t.fields||{},function(t,r){i[t]=n.$f(r,e)}),i},t.prototype.Kf=function(t){return new tE(zw(t.latitude),zw(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.$f(t,e)})},t.prototype.qf=function(t,e){switch(e){case"previous":var n=xw(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(Ow(t));default:return null}},t.prototype.Bf=function(t){var e=ww(t);return new lw(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=dw.ct(t);N_(SS(n));var i=new ew(n.get(1),n.get(3)),r=new gw(n.X(5));return i.isEqual(e)||P_("Document "+r+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),r},t}(),KE=function(){function t(t,e,n,i,r){this.zf=t,this.Hf=e,this.S_=n,this.Jf=i,this.v_=r}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new HT(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new GE(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(YE("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),GE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(D_.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(KE);function YE(t,e){return"string"==typeof e?SE(t,e):e instanceof Y_?e._.d_:e.d_}function QE(t){if(_z(t)&&0===t.Nt.length)throw new K_(H_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var JE=function(){};function ZE(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0,r=e;i<r.length;i++){var o=r[i];t=o.Yf(t)}return t}var tI=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).Xf=e,r.Zf=n,r.td=i,r.type="where",r}return Object(D_.c)(e,t),e.prototype.Yf=function(t){var e=aE(t.firestore),n=function(t,e,n,i,r,o,s){var a;if(r.ht()){if("array-contains"===o||"array-contains-any"===o)throw new K_(H_.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){aI(s,o);for(var c=[],l=0,u=s;l<u.length;l++)c.push(sI(i,t,u[l]));a={arrayValue:{values:c}}}else a=sI(i,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||aI(s,o),a=bE(n,"where",s,"in"===o||"not-in"===o);var h=ez.create(r,o,a);return function(t,e){if(e.xt()){var n=zz(t);if(null!==n&&!n.isEqual(e.field))throw new K_(H_.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var i=wz(t);null!==i&&cI(0,e.field,i)}var r=function(t,e){for(var n=0,i=t.filters;n<i.length;n++){var r=i[n];if(e.indexOf(r.op)>=0)return r.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new K_(H_.INVALID_ARGUMENT,r===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+r.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new KT(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new mz(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(JE),eI=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).Xf=e,i.ed=n,i.type="orderBy",i}return Object(D_.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new K_(H_.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new K_(H_.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var i=new dz(e,n);return function(t,e){if(null===wz(t)){var n=zz(t);null!==n&&cI(0,n,e.field)}}(t,i),i}(t.C_,this.Xf,this.ed);return new KT(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new mz(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(JE),nI=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.nd=n,r.sd=i,r}return Object(D_.c)(e,t),e.prototype.Yf=function(t){return new KT(t.firestore,t.v_,Oz(t.C_,this.nd,this.sd))},e}(JE),iI=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.rd=n,r.od=i,r}return Object(D_.c)(e,t),e.prototype.Yf=function(t){var e=oI(t,this.type,this.rd,this.od);return new KT(t.firestore,t.v_,function(t,e){return new mz(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(JE),rI=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.rd=n,r.od=i,r}return Object(D_.c)(e,t),e.prototype.Yf=function(t){var e=oI(t,this.type,this.rd,this.od);return new KT(t.firestore,t.v_,function(t,e){return new mz(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(JE);function oI(t,e,n,i){if(n[0]instanceof Y_&&(n[0]=n[0]._),n[0]instanceof KE)return function(t,e,n,i,r){if(!i)throw new K_(H_.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Sz(t);s<a.length;s++){var c=a[s];if(c.field.ht())o.push(Fw(e,i.key));else{var l=i.field(c.field);if(Sw(l))throw new K_(H_.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var u=c.field.ot();throw new K_(H_.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}o.push(l)}}return new uz(o,r)}(t.C_,t.firestore.I_,e,n[0].Jf,i);var r=aE(t.firestore);return function(t,e,n,i,r,o){var s=t.Nt;if(r.length>s.length)throw new K_(H_.INVALID_ARGUMENT,"Too many arguments provided to "+i+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<r.length;c++){var l=r[c];if(s[c].field.ht()){if("string"!=typeof l)throw new K_(H_.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+i+"(), but got a "+typeof l);if(!Cz(t)&&-1!==l.indexOf("/"))throw new K_(H_.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+i+"() must be a plain document ID, but '"+l+"' contains a slash.");var u=t.path.child(dw.ct(l));if(!gw.Et(u))throw new K_(H_.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+i+"() must result in a valid document path, but '"+u+"' is not because it contains an odd number of segments.");var h=new gw(u);a.push(Fw(e,h))}else{var d=bE(n,i,l);a.push(d)}}return new uz(a,o)}(t.C_,t.firestore.I_,r,e,n,i)}function sI(t,e,n){if(n instanceof Y_&&(n=n._),"string"==typeof n){if(""===n)throw new K_(H_.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cz(e)&&-1!==n.indexOf("/"))throw new K_(H_.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=e.path.child(dw.ct(n));if(!gw.Et(i))throw new K_(H_.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return Fw(t,new gw(i))}if(n instanceof HT)return Fw(t,n.S_);throw new K_(H_.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+WT(n)+".")}function aI(t,e){if(!Array.isArray(t)||0===t.length)throw new K_(H_.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new K_(H_.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function cI(t,e,n){if(!n.isEqual(e))throw new K_(H_.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function lI(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,i=0,r=["next","error","complete"];i<r.length;i++){var o=r[i];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function uI(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var hI=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(D_.c)(e,t),e.prototype.Uf=function(t){return new G_(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new HT(this.firestore,null,e)},e}(HE),dI=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),pI=function(t){function e(e,n,i,r,o,s){var a=this;return(a=t.call(this,e,n,i,r,s)||this).zf=e,a.ad=e,a.metadata=o,a}return Object(D_.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new fI(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(YE("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(KE),fI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(D_.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(pI),gI=function(){function t(t,e,n,i){this.zf=t,this.Hf=e,this.ud=i,this.metadata=new dI(i.hasPendingWrites,i.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach(function(i){t.call(e,new fI(n.zf,n.Hf,i.key,i,new dI(n.ud.Ce.has(i.key),n.ud.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new K_(H_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map(function(e){return{type:"added",doc:new fI(t.zf,t.Hf,e.doc.key,e.doc,new dI(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var i=t.ud.De;return t.ud.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new fI(t.zf,t.Hf,e.doc.key,e.doc,new dI(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),r=-1,o=-1;return 0!==e.type&&(r=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(o=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:mI(e.type),doc:n,oldIndex:r,newIndex:o}})}(this,e),this.ld=e),this.hd},t}();function mI(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return j_()}}function bI(t,e){return t instanceof pI&&e instanceof pI?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof gI&&e instanceof gI&&t.zf===e.zf&&ZT(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var yI=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(D_.c)(e,t),e.prototype.Uf=function(t){return new G_(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new HT(this.firestore,null,e)},e}(HE);function vI(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];t=qT(t,HT);var o=qT(t.firestore,qE),s=aE(o);return e instanceof Y_&&(e=e._),wI(o,[("string"==typeof e||e instanceof AT?mE(s,"updateDoc",t.S_,e,n,i):gE(s,"updateDoc",t.S_,e)).F_(t.S_,Qz.exists(!0))])}function _I(t){for(var e,n,i,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];t instanceof Y_&&(t=t._);var s={includeMetadataChanges:!1},a=0;"object"!=typeof r[a]||lI(r[a])||(s=r[a],a++);var c,l,u,h={includeMetadataChanges:s.includeMetadataChanges};if(lI(r[a])){var d=r[a];r[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),r[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),r[a+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}if(t instanceof HT)l=qT(t.firestore,qE),u=yz(t.S_.path),c={next:function(e){r[a]&&r[a](zI(l,t,e))},error:r[a+1],complete:r[a+2]};else{var p=qT(t,KT);l=qT(p.firestore,qE),u=p.C_;var f=new yI(l);c={next:function(t){r[a]&&r[a](new gI(l,f,p,t))},error:r[a+1],complete:r[a+2]},QE(t.C_)}return function(t,e,n,i){var r=this,o=new RT(i),s=new Bk(e,o,n);return t.fs.ys(function(){return Object(D_.b)(r,void 0,void 0,function(){var e;return Object(D_.d)(this,function(n){switch(n.label){case 0:return e=jk,[4,jE(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.r_(),t.fs.ys(function(){return Object(D_.b)(r,void 0,void 0,function(){var e;return Object(D_.d)(this,function(n){switch(n.label){case 0:return e=Nk,[4,jE(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(BE(l),u,h,c)}function wI(t,e){return function(t,e){var n=this,i=new xS;return t.fs.ys(function(){return Object(D_.b)(n,void 0,void 0,function(){var n;return Object(D_.d)(this,function(r){switch(r.label){case 0:return n=eT,[4,FE(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}})})}),i.promise}(BE(t),e)}function zI(t,e,n){var i=n.docs.get(e.S_),r=new yI(t);return new pI(t,r,e.S_,i,new dI(n.hasPendingWrites,n.fromCache),e.v_)}var CI=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=aE(t)}return t.prototype.set=function(t,e,n){this.Ed();var i=SI(t,this.zf),r=uI(i.v_,e,n),o=cE(this.wd,"WriteBatch.set",i.S_,r,null!==i.v_,n);return this.fd.push(o.F_(i.S_,Qz.Wt())),this},t.prototype.update=function(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];this.Ed();var o,s=SI(t,this.zf);return e instanceof Y_&&(e=e._),o="string"==typeof e||e instanceof AT?mE(this.wd,"WriteBatch.update",s.S_,e,n,i):gE(this.wd,"WriteBatch.update",s.S_,e),this.fd.push(o.F_(s.S_,Qz.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=SI(t,this.zf);return this.fd=this.fd.concat(new pC(e.S_,Qz.Wt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new K_(H_.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function SI(t,e){if(t instanceof Y_&&(t=t._),t.firestore!==e)throw new K_(H_.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var xI=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this).zf=e,i}return Object(D_.c)(e,t),e.prototype.get=function(e){var n=this,i=SI(e,this.zf),r=new yI(this.zf);return t.prototype.get.call(this,e).then(function(t){return new pI(n.zf,r,i.S_,t.Jf,new dI(!1,!1),i.v_)})},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=aE(t)}return t.prototype.get=function(t){var e=this,n=SI(t,this.zf),i=new hI(this.zf);return this.Td.ef([n.S_]).then(function(t){if(!t||1!==t.length)return j_();var r=t[0];if(r instanceof Kw)return new KE(e.zf,i,n.S_,null,n.v_);if(r instanceof Hw)return new KE(e.zf,i,r.key,r,n.v_);throw j_()})},t.prototype.set=function(t,e,n){var i=SI(t,this.zf),r=uI(i.v_,e,n),o=cE(this.wd,"Transaction.set",i.S_,r,null!==i.v_,n);return this.Td.set(i.S_,o),this},t.prototype.update=function(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];var o,s=SI(t,this.zf);return e instanceof Y_&&(e=e._),o="string"==typeof e||e instanceof AT?mE(this.wd,"Transaction.update",s.S_,e,n,i):gE(this.wd,"Transaction.update",s.S_,e),this.Td.update(s.S_,o),this},t.prototype.delete=function(t){var e=SI(t,this.zf);return this.Td.delete(e.S_),this},t}()),OI=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){$E(t=qT(t,qE));var n=BE(t),i=t.p_(),r=new MT;return UE(n,r,new IT(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){$E(t=qT(t,qE));var e=BE(t),n=t.p_(),i=new MT;return UE(e,i,new DT(i,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new K_(H_.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new xS;return t.Mf.Tf(function(){return Object(D_.b)(e,void 0,void 0,function(){var e;return Object(D_.d)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t){return Object(D_.b)(this,void 0,void 0,function(){return Object(D_.d)(this,function(e){switch(e.label){case 0:return TS.Wn()?[4,TS.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(lO(t.I_,t.w_))];case 1:return i.sent(),n.resolve(),[3,3];case 2:return e=i.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._)},t}(),kI=function(t){function e(e,n,i){var r=this;return(r=t.call(this,n)||this).Id=i,r.INTERNAL={delete:function(){return r.terminate()}},e instanceof ew||(r.md=e),r}return Object(D_.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var i=(t=qT(t,$T)).V_();"firestore.googleapis.com"!==i.host&&i.host!==e&&L_("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1}))}(this._,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(D_.b)(e,void 0,void 0,function(){var e,n;return Object(D_.d)(this,function(i){switch(i.label){case 0:return[4,AE(t)];case 1:return e=i.sent(),[4,LE(t)];case 2:return n=i.sent(),[2,(e.Vo(!0),function(t){var e=V_(t);return e.Fh.delete(0),hk(e)}(n))]}})})})}(BE(qT(this._,qE)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(D_.b)(e,void 0,void 0,function(){var e,n;return Object(D_.d)(this,function(i){switch(i.label){case 0:return[4,AE(t)];case 1:return e=i.sent(),[4,LE(t)];case 2:return n=i.sent(),[2,(e.Vo(!1),function(t){return Object(D_.b)(this,void 0,void 0,function(){var e;return Object(D_.d)(this,function(n){switch(n.label){case 0:return(e=V_(t)).Fh.add(0),[4,dk(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}})})}(n))]}})})})}(BE(qT(this._,qE)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&jT("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new xS;return t.fs.ys(function(){return Object(D_.b)(e,void 0,void 0,function(){var e;return Object(D_.d)(this,function(i){switch(i.label){case 0:return e=aT,[4,FE(t)];case 1:return[2,e.apply(void 0,[i.sent(),n])]}})})}),n.promise}(BE(qT(this._,qE)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,i=new RT(e);return t.fs.ys(function(){return Object(D_.b)(n,void 0,void 0,function(){var e;return Object(D_.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){V_(t).jh.add(e),e.next()},[4,jE(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}})})}),function(){i.r_(),t.fs.ys(function(){return Object(D_.b)(n,void 0,void 0,function(){var e;return Object(D_.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){V_(t).jh.delete(e)},[4,jE(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}})})})}}(BE(t=qT(t,qE)),lI(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new K_(H_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new WI(this,YT(this._,t))}catch(t){throw RI(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new MI(this,QT(this._,t))}catch(t){throw RI(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new jI(this,function(t,e){if(t=qT(t,$T),LT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new K_(H_.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new KT(t,null,function(t){return new mz(dw.at(),t)}(e))}(this._,t))}catch(t){throw RI(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,i=new xS;return t.fs.ys(function(){return Object(D_.b)(n,void 0,void 0,function(){var n;return Object(D_.d)(this,function(r){switch(r.label){case 0:return[4,function(t){return RE(t).then(function(t){return t.Dh})}(t)];case 1:return n=r.sent(),new TE(t.fs,n,e,i).run(),[2]}})})}),i.promise}(BE(t),function(n){return e(new xI(t,n))})}(this._,function(n){return t(new EI(e,n))})},e.prototype.batch=function(){var t=this;return BE(this._),new II(new CI(this._,function(e){return wI(t._,e)}))},e.prototype.loadBundle=function(t){throw new K_(H_.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new K_(H_.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Y_),TI=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(D_.c)(e,t),e.prototype.Uf=function(t){return new Z_(new G_(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return MI.Ad(e,this.firestore,null)},e}(HE),EI=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).zf=e,i.Hf=new TI(e),i}return Object(D_.c)(e,t),e.prototype.get=function(t){var e=this,n=qI(t);return this._.get(n).then(function(t){return new LI(e.zf,new pI(e.zf._,e.Hf,t.S_,t.Jf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var i=qI(t);return n?(FT("Transaction.set",n),this._.set(i,e,n)):this._.set(i,e),this},e.prototype.update=function(t,e,n){for(var i,r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var s=qI(t);return 2===arguments.length?this._.update(s,e):(i=this._).update.apply(i,Object(D_.g)([s,e,n],r)),this},e.prototype.delete=function(t){var e=qI(t);return this._.delete(e),this},e}(Y_),II=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(D_.c)(e,t),e.prototype.set=function(t,e,n){var i=qI(t);return n?(FT("WriteBatch.set",n),this._.set(i,e,n)):this._.set(i,e),this},e.prototype.update=function(t,e,n){for(var i,r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var s=qI(t);return 2===arguments.length?this._.update(s,e):(i=this._).update.apply(i,Object(D_.g)([s,e,n],r)),this},e.prototype.delete=function(t){var e=qI(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(Y_),DI=function(t){function e(e,n,i){var r=this;return(r=t.call(this,i)||this).zf=e,r.Hf=n,r}return Object(D_.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new fI(this.zf._,this.Hf,t.S_,t.Jf,t.metadata,null);return this._.fromFirestore(new FI(this.zf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this._.toFirestore(t,e):this._.toFirestore(t)},e.Rd=function(t,n){var i=e.Pd,r=i.get(t);r||(r=new WeakMap,i.set(t,r));var o=r.get(n);return o||(o=new e(t,new TI(t),n),r.set(n,o)),o},e}(Y_);DI.Pd=new WeakMap;var MI=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).firestore=e,i.Hf=new TI(e),i}return Object(D_.c)(e,t),e.yd=function(t,n,i){if(t.length%2!=0)throw new K_(H_.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new HT(n._,i,new gw(t)))},e.Ad=function(t,n,i){return new e(n,new HT(n._,i,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new WI(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new WI(this.firestore,YT(this._,t))}catch(t){throw RI(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Y_&&(t=t._),t instanceof HT&&JT(this._,t)},e.prototype.set=function(t,e){e=FT("DocumentReference.set",e);try{return function(t,e,n){t=qT(t,HT);var i=qT(t.firestore,qE),r=uI(t.v_,e,n);return wI(i,[cE(aE(i),"setDoc",t.S_,r,null!==t.v_,n).F_(t.S_,Qz.Wt())])}(this._,t,e)}catch(t){throw RI(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];try{return 1===arguments.length?vI(this._,t):vI.apply(void 0,Object(D_.g)([this._,t,e],n))}catch(t){throw RI(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return wI(qT((t=this._).firestore,qE),[new pC(t.S_,Qz.Wt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=AI(e),r=PI(e,function(e){return new LI(t.firestore,new pI(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))});return _I(this._,i,r)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=qT(t,HT);var e=qT(t.firestore,qE),n=BE(e),i=new yI(e);return function(t,e){var n=this,i=new xS;return t.fs.ys(function(){return Object(D_.b)(n,void 0,void 0,function(){var n;return Object(D_.d)(this,function(r){switch(r.label){case 0:return n=function(t,e,n){return Object(D_.b)(this,void 0,void 0,function(){var i,r;return Object(D_.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=V_(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Ic.Jo(t,e)})}(t,e)];case 1:return(r=o.sent())instanceof Hw?n.resolve(r):r instanceof Kw?n.resolve(null):n.reject(new K_(H_.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=o.sent(),r=FS(i,"Failed to get document '"+e+" from cache"),n.reject(r),[3,3];case 3:return[2]}})})},[4,PE(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}})})}),i.promise}(n,t.S_).then(function(n){return new pI(e,i,t.S_,n,new dI(n instanceof Hw&&n.bt,!0),t.v_)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=qT(t,HT);var e=qT(t.firestore,qE);return NE(BE(e),t.S_,{source:"server"}).then(function(n){return zI(e,t,n)})}(this._):function(t){t=qT(t,HT);var e=qT(t.firestore,qE);return NE(BE(e),t.S_).then(function(n){return zI(e,t,n)})}(this._)).then(function(t){return new LI(e.firestore,new pI(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(DI.Rd(this.firestore,t)))},e}(Y_);function RI(t,e,n){return t.message=t.message.replace(e,n),t}function AI(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];if("object"==typeof i&&!lI(i))return i}return{}}function PI(t,e){var n,i,r;return{next:function(t){r.next&&r.next(e(t))},error:null===(n=(r=lI(t[0])?t[0]:lI(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}var LI=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).zf=e,i}return Object(D_.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new MI(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return bI(this._,t._)},e}(Y_),FI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(D_.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(LI),jI=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).firestore=e,i.Hf=new TI(e),i}return Object(D_.c)(e,t),e.prototype.where=function(t,n,i){try{return new e(this.firestore,ZE(this._,function(t,e,n){var i=e,r=YE("where",t);return new tI(r,i,n)}(t,n,i)))}catch(t){throw RI(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,ZE(this._,function(t,e){void 0===e&&(e="asc");var n=e,i=YE("orderBy",t);return new eI(i,n)}(t,n)))}catch(t){throw RI(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,ZE(this._,function(t){return BT("limit",t),new nI("limit",t,"F")}(t)))}catch(t){throw RI(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,ZE(this._,function(t){return BT("limitToLast",t),new nI("limitToLast",t,"L")}(t)))}catch(t){throw RI(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ZE(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new iI("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw RI(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ZE(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new iI("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw RI(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ZE(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new rI("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw RI(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ZE(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new rI("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw RI(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return ZT(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=qT(t,KT);var e=qT(t.firestore,qE),n=BE(e),i=new yI(e);return function(t,e){var n=this,i=new xS;return t.fs.ys(function(){return Object(D_.b)(n,void 0,void 0,function(){var n;return Object(D_.d)(this,function(r){switch(r.label){case 0:return n=function(t,e,n){return Object(D_.b)(this,void 0,void 0,function(){var i,r,o,s,a;return Object(D_.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,SO(t,e,!0)];case 1:return a=c.sent(),i=new Kk(e,a.Pc),r=i.dl(a.documents),o=i.Ei(r,!1),n.resolve(o.snapshot),[3,3];case 2:return s=c.sent(),a=FS(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,PE(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}})})}),i.promise}(n,t.C_).then(function(n){return new gI(e,i,t,n)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=qT(t,KT);var e=qT(t.firestore,qE),n=BE(e),i=new yI(e);return VE(n,t.C_,{source:"server"}).then(function(n){return new gI(e,i,t,n)})}(this._):function(t){t=qT(t,KT);var e=qT(t.firestore,qE),n=BE(e),i=new yI(e);return QE(t.C_),VE(n,t.C_).then(function(n){return new gI(e,i,t,n)})}(this._)).then(function(t){return new VI(e.firestore,new gI(e.firestore._,e.Hf,e._,t.ud))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=AI(e),r=PI(e,function(e){return new VI(t.firestore,new gI(t.firestore._,t.Hf,t._,e.ud))});return _I(this._,i,r)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(DI.Rd(this.firestore,t)))},e}(Y_),NI=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).zf=e,i}return Object(D_.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new FI(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(Y_),VI=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).zf=e,i}return Object(D_.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new jI(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map(function(e){return new FI(t.zf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map(function(t){return new NI(e.zf,t)})},e.prototype.forEach=function(t,e){var n=this;this._.forEach(function(i){t.call(e,new FI(n.zf,i))})},e.prototype.isEqual=function(t){return bI(this._,t._)},e}(Y_),WI=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this).firestore=e,i._=n,i}return Object(D_.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new MI(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new MI(this.firestore,void 0===t?QT(this._):QT(this._,t))}catch(t){throw RI(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=qT(t.firestore,qE),i=QT(t),r=uI(t.v_,e);return wI(n,[cE(aE(t.firestore),"addDoc",i.S_,r,null!==t.v_,{}).F_(i.S_,Qz.exists(!1))]).then(function(){return i})}(this._,t).then(function(t){return new MI(e.firestore,t)})},e.prototype.isEqual=function(t){return JT(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(DI.Rd(this.firestore,t)))},e}(jI);function qI(t){return t instanceof Y_&&(t=t._),qT(t,HT)}var BI=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(AT.bind.apply(AT,Object(D_.g)([void 0],e))))||this}return Object(D_.c)(e,t),e.documentId=function(){return new e(fw.lt().ot())},e.prototype.isEqual=function(t){return t instanceof Y_&&(t=t._),t instanceof AT&&this._.d_.isEqual(t.d_)},e}(Y_),XI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(D_.c)(e,t),e.serverTimestamp=function(){var t=new hE("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new lE("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new dE("arrayUnion",t)}).apply(void 0,t);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new pE("arrayRemove",t)}).apply(void 0,t);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(t){var n=function(t){return new fE("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(Y_);!function(){function t(){this.gd={},this.Vd=new xS,this.pd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.gd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Vd.promise.catch(t)},t.prototype.then=function(t,e){return this.Vd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.gd.complete&&this.gd.complete(),this.Vd.resolve(t)},t.prototype.Wl=function(t){this.pd.taskState="Error",this.gd.next&&this.gd.next(this.pd),this.gd.error&&this.gd.error(t),this.Vd.reject(t)},t.prototype.Ql=function(t){this.pd=t,this.gd.next&&this.gd.next(t)}}();var UI,$I=n("/6Yf"),HI={Firestore:kI,GeoPoint:tE,Timestamp:lw,Blob:Z_,Transaction:EI,WriteBatch:II,DocumentReference:MI,DocumentSnapshot:LI,Query:jI,QueryDocumentSnapshot:FI,QuerySnapshot:VI,CollectionReference:WI,FieldPath:BI,FieldValue:XI,setLogLevel:function(t){M_.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function KI(t,e){return function(t,e=ve.b){return new F.a(n=>{let i;return null!=e?e.schedule(()=>{i=t.onSnapshot({includeMetadataChanges:!0},n)}):i=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=i&&i()}})}(t,e)}function GI(t,e){return KI(t,e).pipe(Object(N.a)(t=>({payload:t,type:"query"})))}function YI(t,e){return GI(t,e).pipe(Object(Mn.a)(void 0),Vc(),Object(N.a)(([t,e])=>{const n=e.payload.docChanges(),i=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,r)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||i.push({type:"modified",payload:{oldIndex:r,newIndex:r,type:"modified",doc:e}})}),i}))}function QI(t,e,n){return YI(t,n).pipe(Object(Om.a)((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return JI(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return JI(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return JI(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),pi(),Object(N.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function JI(t,e,n,...i){const r=t.slice();return r.splice(e,n,...i),r}function ZI(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new $I.a("firestore",function(t){return function(t,e){return new kI(t,new qE(t,e),new OI)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},HI)))})(UI=km.a),UI.registerVersion("@firebase/firestore","2.1.3");class tD{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=YI(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(N.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Object(Mn.a)(void 0),Vc(),Object(di.a)(([t,e])=>e.length>0||!t),Object(N.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(Om.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=ZI(t);return QI(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return GI(this.query,this.afs.schedulers.outsideAngular).pipe(Object(N.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(W.a)(this.query.get(t)).pipe(Object(Qi.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new eD(this.ref.doc(t),this.afs)}}class eD{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:i,query:r}=aD(n,e);return new tD(i,r,this.afs)}snapshotChanges(){return KI(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(Mn.a)(void 0),Vc(),Object(N.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(N.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(W.a)(this.ref.get(t)).pipe(Object(Qi.b)(this.afs.schedulers.insideAngular))}}class nD{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?YI(this.query,this.afs.schedulers.outsideAngular).pipe(Object(N.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Object(di.a)(t=>t.length>0),this.afs.keepUnstableUntilFirst):YI(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(Om.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=ZI(t);return QI(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return GI(this.query,this.afs.schedulers.outsideAngular).pipe(Object(N.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(W.a)(this.query.get(t)).pipe(Object(Qi.b)(this.afs.schedulers.insideAngular))}}const iD=new r.r("angularfire2.enableFirestorePersistence"),rD=new r.r("angularfire2.firestore.persistenceSettings"),oD=new r.r("angularfire2.firestore.settings"),sD=new r.r("angularfire2.firestore.use-emulator");function aD(t,e=(t=>t)){return{query:e(t),ref:t}}let cD=(()=>{class t{constructor(t,e,n,r,o,s,a,c,l){this.schedulers=new mm.c(s),this.keepUnstableUntilFirst=Object(mm.g)(this.schedulers);const u=Object(mm.f)(t,s,e);!xm.a.auth&&l&&Object(mm.i)();const h=c;[this.firestore,this.persistenceEnabled$]=Object(mm.e)(`${u.name}.firestore`,"AngularFirestore",u,()=>{const t=s.runOutsideAngular(()=>u.firestore());if(r&&t.settings(r),h&&t.useEmulator(...h),n&&!Object(i.A)(o)){const e=()=>{try{return Object(W.a)(t.enablePersistence(a||void 0).then(()=>!0,()=>!1))}catch(UI){return"undefined"!=typeof console&&console.warn(UI),Object(wi.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(wi.a)(!1)]},[r,h,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:i,query:r}=aD(n,e),o=this.schedulers.ngZone.run(()=>i);return new tD(o,r,this)}collectionGroup(t,e){const n=e||(t=>t),i=this.firestore.collectionGroup(t);return new nD(n(i),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new eD(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.bc(mm.b),r.bc(mm.a,8),r.bc(iD,8),r.bc(oD,8),r.bc(r.C),r.bc(r.A),r.bc(rD,8),r.bc(sD,8),r.bc(bm,8))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(mm.b),Object(r.bc)(mm.a,8),Object(r.bc)(iD,8),Object(r.bc)(oD,8),Object(r.bc)(r.C),Object(r.bc)(r.A),Object(r.bc)(rD,8),Object(r.bc)(sD,8),Object(r.bc)(bm,8))},token:t,providedIn:"any"}),t})(),lD=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:iD,useValue:!0},{provide:rD,useValue:e}]}}}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[cD]}),t})();const uD=new r.Q("11.1.0"),hD=new r.Q("11.1.0"),dD=new r.r("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let pD,fD=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Object(r.Y)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&hD.full!==uD.full&&console.warn("The Angular Material version ("+hD.full+") does not match the Angular CDK version ("+uD.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)(r.bc(Tp),r.bc(dD,8),r.bc(i.d))},imports:[[vn],vn]}),t})();function gD(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=_n(t)}}}function mD(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}function bD(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=_n(t)}}}try{pD="undefined"!=typeof Intl}catch(mpt){pD=!1}let yD=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Nb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();class vD{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const _D={enterDuration:450,exitDuration:400},wD=Xn({passive:!0}),zD=["mousedown","touchstart"],CD=["mouseup","mouseleave","touchend","touchcancel"];class SD{constructor(t,e,n,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=xn(n))}fadeInRipple(t,e,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},_D),n.animation);n.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const o=n.radius||function(t,e,n){const i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(t,e,i),s=t-i.left,a=e-i.top,c=r.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=s-o+"px",l.style.top=a-o+"px",l.style.height=2*o+"px",l.style.width=2*o+"px",null!=n.color&&(l.style.backgroundColor=n.color),l.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";const u=new vD(this,l,n);return u.state=0,this._activeRipples.add(u),n.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const t=u===this._mostRecentTransientRipple;u.state=1,n.persistent||t&&this._isPointerDown||u.fadeOut()},c),u}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,i=Object.assign(Object.assign({},_D),t.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=xn(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(zD))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(CD),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=zp(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,wD)})})}_removeTriggerEvents(){this._triggerElement&&(zD.forEach(t=>{this._triggerElement.removeEventListener(t,this,wD)}),this._pointerUpEventsRegistered&&CD.forEach(t=>{this._triggerElement.removeEventListener(t,this,wD)}))}}const xD=new r.r("mat-ripple-global-options");let OD=(()=>{class t{constructor(t,e,n,i,r){this._elementRef=t,this._animationMode=r,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new SD(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.A),r.Rb(qn),r.Rb(xD,8),r.Rb(Oc,8))},t.\u0275dir=r.Mb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Jb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),kD=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[fD,Bn],fD]}),t})();const TD=["mat-button",""],ED=["*"],ID=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class DD{constructor(t){this._elementRef=t}}const MD=mD(gD(bD(DD)));let RD=(()=>{class t extends MD{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const i of ID)this._hasHostAttributes(i)&&this._getHostElement().classList.add(i);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(xp),r.Rb(Oc,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&r.Qc(OD,1),2&t){let t;r.zc(t=r.gc())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(r.Eb("disabled",e.disabled||null),r.Jb("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.Ab],attrs:TD,ngContentSelectors:ED,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.pc(),r.Xb(0,"span",0),r.oc(1),r.Wb(),r.Sb(2,"span",1),r.Sb(3,"span",2)),2&t&&(r.Db(2),r.Jb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.qc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[OD],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),AD=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[kD,fD],fD]}),t})();function PD(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",1),r.Xb(1,"button",2),r.fc("click",function(){return r.Cc(t),r.jc().action()}),r.Mc(2),r.Wb(),r.Wb()}if(2&t){const t=r.jc();r.Db(2),r.Nc(t.data.action)}}function LD(t,e){}const FD=new r.r("MatSnackBarData");class jD{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const ND=Math.pow(2,31)-1;class VD{constructor(t,e){this._overlayRef=e,this._afterDismissed=new xe.a,this._afterOpened=new xe.a,this._onAction=new xe.a,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,ND))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let WD=(()=>{class t{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(VD),r.Rb(FD))},t.\u0275cmp=r.Lb({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(r.Xb(0,"span"),r.Mc(1),r.Wb(),r.Kc(2,PD,3,1,"div",0)),2&t&&(r.Db(1),r.Nc(e.data.message),r.Db(1),r.qc("ngIf",e.hasAction))},directives:[i.n,RD],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),t})();const qD={snackBarState:qo("state",[$o("void, hidden",Uo({transform:"scale(0.8)",opacity:0})),$o("visible",Uo({transform:"scale(1)",opacity:1})),Ko("* => visible",Bo("150ms cubic-bezier(0, 0, 0.2, 1)")),Ko("* => void, * => hidden",Bo("75ms cubic-bezier(0.4, 0.0, 1, 1)",Uo({opacity:0})))])};let BD=(()=>{class t extends pl{constructor(t,e,n,i,r){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=n,this._platform=i,this.snackBarConfig=r,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new xe.a,this._onExit=new xe.a,this._onEnter=new xe.a,this._animationState="void",this.attachDomPortal=t=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(t)),this._live="assertive"!==r.politeness||r.announcementMessage?"off"===r.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:e,toState:n}=t;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){const t=this._onEnter;this._ngZone.run(()=>{t.next(),t.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Object(Tn.a)(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(e=>t.classList.add(e)):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),e=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&e){let n=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(n=document.activeElement),t.removeAttribute("aria-hidden"),e.appendChild(t),null==n||n.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.A),r.Rb(r.l),r.Rb(r.h),r.Rb(qn),r.Rb(jD))},t.\u0275cmp=r.Lb({type:t,selectors:[["snack-bar-container"]],viewQuery:function(t,e){if(1&t&&r.Qc(gl,3),2&t){let t;r.zc(t=r.gc())&&(e._portalOutlet=t.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,e){1&t&&r.Ic("@state.done",function(t){return e.onAnimationEnd(t)}),2&t&&r.Jc("@state",e._animationState)},features:[r.Ab],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.Kc(1,LD,0,0,"ng-template",1),r.Wb(),r.Sb(2,"div")),2&t&&(r.Db(2),r.Eb("aria-live",e._live)("role",e._role))},directives:[gl],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[qD.snackBarState]}}),t})(),XD=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[Zl,ml,i.c,AD,fD],fD]}),t})();const UD=new r.r("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new jD}});let $D=(()=>{class t{constructor(t,e,n,i,r,o){this._overlay=t,this._live=e,this._injector=n,this._breakpointObserver=i,this._parentSnackBar=r,this._defaultConfig=o,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=WD,this.snackBarContainerComponent=BD,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",n){const i=Object.assign(Object.assign({},this._defaultConfig),n);return i.data={message:t,action:e},i.announcementMessage===t&&(i.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,i)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){const n=r.s.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:jD,useValue:e}]}),i=new ul(this.snackBarContainerComponent,e.viewContainerRef,n),o=t.attach(i);return o.instance.snackBarConfig=e,o.instance}_attach(t,e){const n=Object.assign(Object.assign(Object.assign({},new jD),this._defaultConfig),e),i=this._createOverlay(n),o=this._attachSnackBarContainer(i,n),s=new VD(o,i);if(t instanceof r.M){const e=new hl(t,null,{$implicit:n.data,snackBarRef:s});s.instance=o.attachTemplatePortal(e)}else{const e=this._createInjector(n,s),i=new ul(t,void 0,e),r=o.attachComponentPortal(i);s.instance=r.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(An(i.detachments())).subscribe(t=>{const e=i.overlayElement.classList;t.matches?e.add(this.handsetCssClass):e.remove(this.handsetCssClass)}),n.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(n.announcementMessage,n.politeness)}),this._animateSnackBar(s,n),this._openedSnackBarRef=s,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration))}_createOverlay(t){const e=new El;e.direction=t.direction;let n=this._overlay.position().global();const i="rtl"===t.direction,r="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!i||"end"===t.horizontalPosition&&i,o=!r&&"center"!==t.horizontalPosition;return r?n.left("0"):o?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}_createInjector(t,e){return r.s.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:VD,useValue:e},{provide:FD,useValue:t.data}]})}}return t.\u0275fac=function(e){return new(e||t)(r.bc(Hl),r.bc(wp),r.bc(r.s),r.bc(Zn),r.bc(t,12),r.bc(UD))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(Hl),Object(r.bc)(wp),Object(r.bc)(r.o),Object(r.bc)(Zn),Object(r.bc)(t,12),Object(r.bc)(UD))},token:t,providedIn:XD}),t})();var HD=n("NXyV");function KD(t,e){}class GD{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const YD={dialogContainer:qo("dialogContainer",[$o("void, exit",Uo({opacity:0,transform:"scale(0.7)"})),$o("enter",Uo({transform:"none"})),Ko("* => enter",Bo("150ms cubic-bezier(0, 0, 0.2, 1)",Uo({transform:"none",opacity:1}))),Ko("* => void, * => exit",Bo("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Uo({opacity:0})))])};let QD=(()=>{class t extends pl{constructor(t,e,n,i,o,s){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=o,this._focusMonitor=s,this._animationStateChanged=new r.n,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=t=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=o.ariaLabelledBy||null,this._document=i}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement)}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(yp),r.Rb(r.h),r.Rb(i.d,8),r.Rb(GD),r.Rb(xp))},t.\u0275dir=r.Mb({type:t,viewQuery:function(t,e){if(1&t&&r.Qc(gl,3),2&t){let t;r.zc(t=r.gc())&&(e._portalOutlet=t.first)}},features:[r.Ab]}),t})(),JD=(()=>{class t extends QD{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:e}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:e}))}_onAnimationStart({toState:t,totalTime:e}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:e}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:e})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return ZD(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&r.Ic("@dialogContainer.start",function(t){return e._onAnimationStart(t)})("@dialogContainer.done",function(t){return e._onAnimationDone(t)}),2&t&&(r.ac("id",e._id),r.Eb("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),r.Jc("@dialogContainer",e._state))},features:[r.Ab],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.Kc(0,KD,0,0,"ng-template",0)},directives:[gl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[YD.dialogContainer]}}),t})();const ZD=r.Zb(JD);let tM=0;class eM{constructor(t,e,n="mat-dialog-"+tM++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new xe.a,this._afterClosed=new xe.a,this._beforeClosed=new xe.a,this._state=0,e._id=n,e._animationStateChanged.pipe(Object(di.a)(t=>"opened"===t.state),Object(Tn.a)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Object(di.a)(t=>"closed"===t.state),Object(Tn.a)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Object(di.a)(t=>27===t.keyCode&&!this.disableClose&&!_l(t))).subscribe(t=>{t.preventDefault(),nM(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():nM(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Object(di.a)(t=>"closing"===t.state),Object(Tn.a)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function nM(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}const iM=new r.r("MatDialogData"),rM=new r.r("mat-dialog-default-options"),oM=new r.r("mat-dialog-scroll-strategy"),sM={provide:oM,deps:[Hl],useFactory:function(t){return()=>t.scrollStrategies.block()}};let aM=(()=>{class t{constructor(t,e,n,i,r,o,s,a,c){this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=i,this._overlayContainer=r,this._dialogRefConstructor=s,this._dialogContainerType=a,this._dialogDataToken=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new xe.a,this._afterOpenedAtThisLevel=new xe.a,this._ariaHiddenElements=new Map,this.afterAllClosed=Object(HD.a)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Object(Mn.a)(void 0))),this._scrollStrategy=o}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,e){(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new GD)).id&&this.getDialogById(e.id);const n=this._createOverlay(e),i=this._attachDialogContainer(n,e),r=this._attachDialogContent(t,i,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(r),r.afterClosed().subscribe(()=>this._removeOpenDialog(r)),this.afterOpened.next(r),i._initializeWithAttachedContent(),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new El({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=r.s.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:GD,useValue:e}]}),i=new ul(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}_attachDialogContent(t,e,n,i){const o=new this._dialogRefConstructor(n,e,i.id);if(t instanceof r.M)e.attachTemplatePortal(new hl(t,null,{$implicit:i.data,dialogRef:o}));else{const n=this._createInjector(i,o,e),r=e.attachComponentPortal(new ul(t,i.viewContainerRef,n));o.componentInstance=r.instance}return o.updateSize(i.width,i.height).updatePosition(i.position),o}_createInjector(t,e,n){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,o=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||i&&i.get(bn,null)||o.push({provide:bn,useValue:{value:t.direction,change:Object(wi.a)()}}),r.s.create({parent:i||this._injector,providers:o})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let i=e[n];i===t||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Hl),r.Rb(r.s),r.Rb(void 0),r.Rb(void 0),r.Rb(Ll),r.Rb(void 0),r.Rb(r.O),r.Rb(r.O),r.Rb(r.r))},t.\u0275dir=r.Mb({type:t}),t})(),cM=(()=>{class t extends aM{constructor(t,e,n,i,r,o,s){super(t,e,i,o,s,r,eM,JD,iM)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(Hl),r.bc(r.s),r.bc(i.j,8),r.bc(rM,8),r.bc(oM),r.bc(t,12),r.bc(Ll))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),lM=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[cM,sM],imports:[[Zl,ml,fD],fD]}),t})(),uM=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[i.c,fD,ml,kD,dp,Ep],fD]}),t})(),hM=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[i.c,fD],fD]}),t})(),dM=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[fD],fD]}),t})();var pM=n("z6cu");const fM=["*"];function gM(t){return Error(`Unable to find icon with the name "${t}"`)}function mM(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function bM(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class yM{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let vM=(()=>{class t{constructor(t,e,n,i){this._httpClient=t,this._sanitizer=e,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,i){return this._addSvgIconConfig(t,e,new yM(n,null,i))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,n,i){const o=this._sanitizer.sanitize(r.J.HTML,n);if(!o)throw bM(n);return this._addSvgIconConfig(t,e,new yM("",o,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new yM(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(r.J.HTML,e);if(!i)throw bM(e);return this._addSvgIconSetConfig(t,new yM("",i,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(r.J.RESOURCE_URL,t);if(!e)throw mM(t);const n=this._cachedIconsByUrl.get(e);return n?Object(wi.a)(_M(n)):this._loadSvgIconFromConfig(new yM(t,null)).pipe(Object(go.a)(t=>this._cachedIconsByUrl.set(e,t)),Object(N.a)(t=>_M(t)))}getNamedSvgIcon(t,e=""){const n=wM(e,t);let i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);if(i=this._getIconConfigFromResolvers(e,t),i)return this._svgIconConfigs.set(n,i),this._getSvgFromConfig(i);const r=this._iconSetConfigs.get(e);return r?this._getSvgFromIconSetConfigs(t,r):Object(pM.a)(gM(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Object(wi.a)(_M(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Object(N.a)(t=>_M(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?Object(wi.a)(n):q(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(Object(mo.a)(e=>{const n=this._sanitizer.sanitize(r.J.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),Object(wi.a)(null)})))).pipe(Object(N.a)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw gM(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.svgText&&i.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(i),n=this._extractSvgIconFromSet(e,t,i.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Object(go.a)(e=>t.svgText=e),Object(N.a)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Object(wi.a)(null):this._fetchIcon(t).pipe(Object(go.a)(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const i=t.querySelector(`[id="${e}"]`);if(!i)return null;const r=i.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r,n);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r),n);const o=this._svgElementFromString("<svg></svg>");return o.appendChild(r),this._setSvgAttributes(o,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let i=0;i<n.length;i++){const{name:t,value:r}=n[i];"id"!==t&&e.setAttribute(t,r)}for(let i=0;i<t.childNodes.length;i++)t.childNodes[i].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[i].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:i}=t,o=null!==(e=null==i?void 0:i.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const s=this._sanitizer.sanitize(r.J.RESOURCE_URL,n);if(!s)throw mM(n);const a=this._inProgressUrlFetches.get(s);if(a)return a;const c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(Object(hi.a)(()=>this._inProgressUrlFetches.delete(s)),Object(bo.a)());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(wM(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let i=0;i<this._resolvers.length;i++){const r=this._resolvers[i](e,t);if(r)return(n=r).url&&n.options?new yM(r.url,null,r.options):new yM(r,null)}var n}}return t.\u0275fac=function(e){return new(e||t)(r.bc(Jr,8),r.bc(D),r.bc(i.d,8),r.bc(r.m))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(Jr,8),Object(r.bc)(D),Object(r.bc)(i.d,8),Object(r.bc)(r.m))},token:t,providedIn:"root"}),t})();function _M(t){return t.cloneNode(!0)}function wM(t,e){return t+":"+e}class zM{constructor(t){this._elementRef=t}}const CM=mD(zM),SM=new r.r("mat-icon-location",{providedIn:"root",factory:function(){const t=Object(r.X)(i.d),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),xM=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],OM=xM.map(t=>`[${t}]`).join(", "),kM=/^url\(['"]?#(.*?)['"]?\)$/;let TM=(()=>{class t extends CM{constructor(t,e,n,i,r){super(t),this._iconRegistry=e,this._location=i,this._errorHandler=r,this._inline=!1,this._currentIconFetch=Yi.a.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=_n(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let i=0;i<e.length;i++)e[i].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(OM),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let i=0;i<e.length;i++)xM.forEach(t=>{const r=e[i],o=r.getAttribute(t),s=o?o.match(kM):null;if(s){let e=n.get(r);e||(e=[],n.set(r,e)),e.push({name:t,value:s[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(Object(Tn.a)(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(vM),r.cc("aria-hidden"),r.Rb(SM),r.Rb(r.m))},t.\u0275cmp=r.Lb({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Eb("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),r.Jb("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.Ab],ngContentSelectors:fM,decls:1,vars:0,template:function(t,e){1&t&&(r.pc(),r.oc(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),EM=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[fD],fD]}),t})();function IM(t,e,n){const i={timing:t,delay:0,rotateX:e,rotateY:n};return Go([Uo({"backface-visibility":"visible"}),Bo("{{ timing }}s {{ delay }}s ease-in",Ho([Uo({opacity:0,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 90deg)",offset:0}),Uo({opacity:1,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -20deg)",offset:.4}),Uo({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 10deg)",offset:.6}),Uo({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -5deg)",offset:.8}),Uo({transform:"perspective(400px) rotate3d(0, 0, 0, 0)",offset:1})]))],{params:i})}RegExp(/^(?=.*?[a-z])/),RegExp(/^(?=.*?[A-Z])/),RegExp(/^(?=.*?[0-9])/),RegExp(/^(?=.*?[" !"#$%&'()*+,-./:;<=>?@[\]^_`{|}~"])/),IM(1,1,0),IM(1,0,1),Go(Bo("{{ timing }}s {{ delay }}s",Ho([Uo({transform:"translate3d(0, 0, 0)",offset:0}),Uo({transform:"translate3d(-10px, 0, 0)",offset:.1}),Uo({transform:"translate3d(10px, 0, 0)",offset:.2}),Uo({transform:"translate3d(-10px, 0, 0)",offset:.3}),Uo({transform:"translate3d(10px, 0, 0)",offset:.4}),Uo({transform:"translate3d(-10px, 0, 0)",offset:.5}),Uo({transform:"translate3d(10px, 0, 0)",offset:.6}),Uo({transform:"translate3d(-10px, 0, 0)",offset:.7}),Uo({transform:"translate3d(10px, 0, 0)",offset:.8}),Uo({transform:"translate3d(-10px, 0, 0)",offset:.9}),Uo({transform:"translate3d(0, 0, 0)",offset:1})])),{params:{timing:1,delay:0}});let DM=(()=>{class t{static forRoot(){return{ngModule:t,providers:[]}}}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[i.c,hM,dM,EM,kD]]}),t})();const MM={provide:r.b,useFactory:function(t,e){return()=>{if(Object(i.z)(e)){const e=Array.from(t.querySelectorAll(`[class*=${RM}]`)),n=/\bflex-layout-.+?\b/g;e.forEach(t=>{t.classList.contains(`${RM}ssr`)&&t.parentNode?t.parentNode.removeChild(t):t.className.replace(n,"")})}}},deps:[i.d,r.C],multi:!0},RM="flex-layout-";let AM=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[MM]}),t})();class PM{constructor(t=!1,e="all",n="",i="",r=0){this.matches=t,this.mediaQuery=e,this.mqAlias=n,this.suffix=i,this.priority=r,this.property=""}clone(){return new PM(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let LM=(()=>{class t{constructor(){this.stylesheet=new Map}addStyleToElement(t,e,n){const i=this.stylesheet.get(t);i?i.set(e,n):this.stylesheet.set(t,new Map([[e,n]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,e){const n=this.stylesheet.get(t);let i="";if(n){const t=n.get(e);"number"!=typeof t&&"string"!=typeof t||(i=t+"")}return i}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Nb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const FM={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},jM=new r.r("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>FM}),NM=new r.r("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),VM=new r.r("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function WM(t,e){return t=t?t.clone():new PM,e&&(t.mqAlias=e.alias,t.mediaQuery=e.mediaQuery,t.suffix=e.suffix,t.priority=e.priority),t}const qM=["row","column","row-reverse","column-reverse"];function BM(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}let XM=(()=>{class t{constructor(t,e,n,i){this.elementRef=t,this.styleBuilder=e,this.styler=n,this.marshal=i,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new xe.a,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}ngOnChanges(t){Object.keys(t).forEach(e=>{if(-1!==this.inputs.indexOf(e)){const n=e.split(".").slice(1).join(".");this.setValue(t[e].currentValue,n)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,e){const n=this.styleBuilder,i=n.shouldCache;let r=this.styleCache.get(t);r&&i||(r=n.buildStyles(t,e),i&&this.styleCache.set(t,r)),this.mru=Object.assign({},r),this.applyStyleToElement(r),n.sideEffect(t,r,e)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,e=!1){if(t){const[n,i]=this.styler.getFlowDirection(t);if(!i&&e){const e=function(t){let[e,n,i]=function(t){t=t?t.toLowerCase():"";let[e,n,i]=t.split(" ");return qM.find(t=>t===e)||(e=qM[0]),"inline"===n&&(n="inline"!==i?i:"",i="inline"),[e,BM(n),!!i]}(t);return function(t,e=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":e||null}}(e,n,i)}(n);this.styler.applyStyleToElements(e,[t])}return n.trim()}return"row"}hasWrap(t){return this.styler.hasWrap(t)}applyStyleToElement(t,e,n=this.nativeElement){this.styler.applyStyleToElement(n,t,e)}setValue(t,e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,e)}updateWithValue(t){this.currentValue!==t&&(this.addStyles(t),this.currentValue=t)}}return t.\u0275fac=function(t){r.ec()},t.\u0275dir=r.Mb({type:t,features:[r.Bb]}),t})();const UM=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],$M="(orientation: portrait) and (max-width: 599.98px)",HM="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",KM="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",GM="(orientation: portrait) and (min-width: 840px)",YM="(orientation: landscape) and (min-width: 1280px)",QM={HANDSET:`${$M}, (orientation: landscape) and (max-width: 959.98px)`,TABLET:`${HM} , ${KM}`,WEB:`${GM}, ${YM} `,HANDSET_PORTRAIT:`${$M}`,TABLET_PORTRAIT:`${HM} `,WEB_PORTRAIT:`${GM}`,HANDSET_LANDSCAPE:"(orientation: landscape) and (max-width: 959.98px)",TABLET_LANDSCAPE:`${KM}`,WEB_LANDSCAPE:`${YM}`},JM=[{alias:"handset",priority:2e3,mediaQuery:QM.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:QM.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:QM.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:QM.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:QM.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:QM.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:QM.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:QM.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:QM.WEB_PORTRAIT,overlapping:!0}],ZM=/(\.|-|_)/g;function tR(t){let e=t.length>0?t.charAt(0):"",n=t.length>1?t.slice(1):"";return e.toUpperCase()+n}const eR=new r.r("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const t=Object(r.X)(VM),e=Object(r.X)(jM),n=[].concat.apply([],(t||[]).map(t=>Array.isArray(t)?t:[t]));return function(t,e=[]){const n={};return t.forEach(t=>{n[t.alias]=t}),e.forEach(t=>{n[t.alias]?function(t,...e){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(let n of e)if(null!=n)for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e])}(n[t.alias],t):n[t.alias]=t}),(i=Object.keys(n).map(t=>n[t])).forEach(t=>{t.suffix||(t.suffix=function(t){return t.replace(ZM,"|").split("|").map(tR).join("")}(t.alias),t.overlapping=!!t.overlapping)}),i;var i}((e.disableDefaultBps?[]:UM).concat(e.addOrientationBps?JM:[]),n)}});function nR(t,e){return(e&&e.priority||0)-(t&&t.priority||0)}function iR(t,e){return(t.priority||0)-(e.priority||0)}let rR=(()=>{class t{constructor(t){this.findByMap=new Map,this.items=[...t].sort(iR)}findByAlias(t){return t?this.findWithPredicate(t,e=>e.alias==t):null}findByQuery(t){return this.findWithPredicate(t,e=>e.mediaQuery==t)}get overlappings(){return this.items.filter(t=>1==t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>t.suffix?t.suffix:"")}findWithPredicate(t,e){let n=this.findByMap.get(t);return n||(n=this.items.find(e)||null,this.findByMap.set(t,n)),n||null}}return t.\u0275fac=function(e){return new(e||t)(r.bc(eR))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(eR))},token:t,providedIn:"root"}),t})(),oR=(()=>{class t{constructor(t,e,n){this._zone=t,this._platformId=e,this._document=n,this.source=new fu.a(new PM(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const t=[];return this.registry.forEach((e,n)=>{e.matches&&t.push(n)}),t}isActive(t){const e=this.registry.get(t);return e?e.matches:this.registerQuery(t).some(t=>t.matches)}observe(t,e=!1){if(t&&t.length){const n=this._observable$.pipe(Object(di.a)(n=>!e||t.indexOf(n.mediaQuery)>-1)),i=new F.a(e=>{const n=this.registerQuery(t);if(n.length){const t=n.pop();n.forEach(t=>{e.next(t)}),this.source.next(t)}e.complete()});return Object(bl.a)(i,n)}return this._observable$}registerQuery(t){const e=Array.isArray(t)?t:[t],n=[];return function(t,e){const n=t.filter(t=>!sR[t]);if(n.length>0){const t=n.join(", ");try{const i=e.createElement("style");i.setAttribute("type","text/css"),i.styleSheet||i.appendChild(e.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${t} {.fx-query-test{ }}\n`)),e.head.appendChild(i),n.forEach(t=>sR[t]=i)}catch(UI){console.error(UI)}}}(e,this._document),e.forEach(t=>{const e=e=>{this._zone.run(()=>this.source.next(new PM(e.matches,t)))};let i=this.registry.get(t);i||(i=this.buildMQL(t),i.addListener(e),this.pendingRemoveListenerFns.push(()=>i.removeListener(e)),this.registry.set(t,i)),i.matches&&n.push(new PM(!0,t))}),n}ngOnDestroy(){let t;for(;t=this.pendingRemoveListenerFns.pop();)t()}buildMQL(t){return function(t,e){return e&&window.matchMedia("all").addListener?window.matchMedia(t):{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(t,Object(i.z)(this._platformId))}}return t.\u0275fac=function(e){return new(e||t)(r.bc(r.A),r.bc(r.C),r.bc(i.d))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(r.A),Object(r.bc)(r.C),Object(r.bc)(i.d))},token:t,providedIn:"root"}),t})();const sR={},aR={alias:"print",mediaQuery:"print",priority:1e3};let cR=(()=>{class t{constructor(t,e,n){this.breakpoints=t,this.layoutConfig=e,this._document=n,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.isPrinting=!1,this.queue=new lR,this.deactivations=[]}withPrintQuery(t){return[...t,"print"]}isPrintEvent(t){return t.mediaQuery.startsWith("print")}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>null!==t)}getEventBreakpoints({mediaQuery:t}){const e=this.breakpoints.findByQuery(t);return(e?[...this.printBreakPoints,e]:this.printBreakPoints).sort(nR)}updateEvent(t){let e=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(e=this.getEventBreakpoints(t)[0],t.mediaQuery=e?e.mediaQuery:""),WM(t,e)}registerBeforeAfterPrintHooks(t){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const e=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(t,this.getEventBreakpoints(new PM(!0,"print"))),t.updateStyles())},n=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(t),t.updateStyles())};this._document.defaultView.addEventListener("beforeprint",e),this._document.defaultView.addEventListener("afterprint",n),this.beforePrintEventListeners.push(e),this.afterPrintEventListeners.push(n)}interceptEvents(t){return this.registerBeforeAfterPrintHooks(t),e=>{this.isPrintEvent(e)?e.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(e)),t.updateStyles()):e.matches||!this.isPrinting||this.isPrintingBeforeAfterEvent||(this.stopPrinting(t),t.updateStyles()):this.collectActivations(e)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,e){this.isPrinting=!0,t.activatedBreakpoints=this.queue.addPrintBreakpoints(e)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(t){if(!this.isPrinting||this.isPrintingBeforeAfterEvent)if(t.matches)this.isPrintingBeforeAfterEvent||(this.deactivations=[]);else{const e=this.breakpoints.findByQuery(t.mediaQuery);e&&(this.deactivations.push(e),this.deactivations.sort(nR))}}ngOnDestroy(){this.beforePrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("beforeprint",t)),this.afterPrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("afterprint",t))}}return t.\u0275fac=function(e){return new(e||t)(r.bc(rR),r.bc(jM),r.bc(i.d))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(rR),Object(r.bc)(jM),Object(r.bc)(i.d))},token:t,providedIn:"root"}),t})();class lR{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(aR),t.sort(nR),t.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(e=>e.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function(t){return!!t&&t.mediaQuery.startsWith("print")}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}function uR(t){for(let e in t){let n=t[e]||"";switch(e){case"display":t.display="flex"===n?["-webkit-flex","flex"]:"inline-flex"===n?["-webkit-inline-flex","inline-flex"]:n;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":t["-webkit-"+e]=n;break;case"flex-direction":n=n||"row",t["-webkit-flex-direction"]=n,t["flex-direction"]=n;break;case"order":t.order=t["-webkit-"+e]=isNaN(+n)?"0":n}}return t}let hR=(()=>{class t{constructor(t,e,n,i){this._serverStylesheet=t,this._serverModuleLoaded=e,this._platformId=n,this.layoutConfig=i}applyStyleToElement(t,e,n=null){let i={};"string"==typeof e&&(i[e]=n,e=i),i=this.layoutConfig.disableVendorPrefixes?e:uR(e),this._applyMultiValueStyleToElement(i,t)}applyStyleToElements(t,e=[]){const n=this.layoutConfig.disableVendorPrefixes?t:uR(t);e.forEach(t=>{this._applyMultiValueStyleToElement(n,t)})}getFlowDirection(t){let e=this.lookupStyle(t,"flex-direction");return[e||"row",this.lookupInlineStyle(t,"flex-direction")||Object(i.A)(this._platformId)&&this._serverModuleLoaded?e:""]}hasWrap(t){return"wrap"===this.lookupStyle(t,"flex-wrap")}lookupAttributeValue(t,e){return t.getAttribute(e)||""}lookupInlineStyle(t,e){return Object(i.z)(this._platformId)?t.style.getPropertyValue(e):this._getServerStyle(t,e)}lookupStyle(t,e,n=!1){let r="";return t&&((r=this.lookupInlineStyle(t,e))||(Object(i.z)(this._platformId)?n||(r=getComputedStyle(t).getPropertyValue(e)):this._serverModuleLoaded&&(r=this._serverStylesheet.getStyleForElement(t,e)))),r?r.trim():""}_applyMultiValueStyleToElement(t,e){Object.keys(t).sort().forEach(n=>{const r=t[n],o=Array.isArray(r)?r:[r];o.sort();for(let t of o)t=t?t+"":"",Object(i.z)(this._platformId)||!this._serverModuleLoaded?Object(i.z)(this._platformId)?e.style.setProperty(n,t):this._setServerStyle(e,n,t):this._serverStylesheet.addStyleToElement(e,n,t)})}_setServerStyle(t,e,n){e=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=this._readStyleAttribute(t);i[e]=n||"",this._writeStyleAttribute(t,i)}_getServerStyle(t,e){return this._readStyleAttribute(t)[e]||""}_readStyleAttribute(t){const e={},n=t.getAttribute("style");if(n){const t=n.split(/;+/g);for(let n=0;n<t.length;n++){const i=t[n].trim();if(i.length>0){const t=i.indexOf(":");if(-1===t)throw new Error(`Invalid CSS style: ${i}`);e[i.substr(0,t).trim()]=i.substr(t+1).trim()}}}return e}_writeStyleAttribute(t,e){let n="";for(const i in e)e[i]&&(n+=i+":"+e[i]+";");t.setAttribute("style",n)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(LM),r.bc(NM),r.bc(r.C),r.bc(jM))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(LM),Object(r.bc)(NM),Object(r.bc)(r.C),Object(r.bc)(jM))},token:t,providedIn:"root"}),t})();class dR{constructor(){this.shouldCache=!0}sideEffect(t,e,n){}}function pR(t,e="1",n="1"){let i=[e,n,t],r=t.indexOf("calc");if(r>0){i[2]=fR(t.substring(r).trim());let e=t.substr(0,r).trim().split(" ");2==e.length&&(i[0]=e[0],i[1]=e[1])}else if(0==r)i[2]=fR(t.trim());else{let r=t.split(" ");i=3===r.length?r:[e,n,t]}return i}function fR(t){return t.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}let gR=(()=>{class t{constructor(t,e,n){this.matchMedia=t,this.breakpoints=e,this.hook=n,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new xe.a,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(t){const e=this.findByQuery(t.mediaQuery);e&&((t=WM(t,e)).matches&&-1===this.activatedBreakpoints.indexOf(e)?(this.activatedBreakpoints.push(e),this.activatedBreakpoints.sort(nR),this.updateStyles()):t.matches||-1===this.activatedBreakpoints.indexOf(e)||(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(e),1),this.activatedBreakpoints.sort(nR),this.updateStyles()))}init(t,e,n,i,r=[]){mR(this.updateMap,t,e,n),mR(this.clearMap,t,e,i),this.buildElementKeyMap(t,e),this.watchExtraTriggers(t,e,r)}getValue(t,e,n){const i=this.elementMap.get(t);if(i){const t=void 0!==n?i.get(n):this.getActivatedValues(i,e);if(t)return t.get(e)}}hasValue(t,e){const n=this.elementMap.get(t);if(n){const t=this.getActivatedValues(n,e);if(t)return void 0!==t.get(e)||!1}return!1}setValue(t,e,n,i){let r=this.elementMap.get(t);if(r){const o=(r.get(i)||new Map).set(e,n);r.set(i,o),this.elementMap.set(t,r)}else r=(new Map).set(i,(new Map).set(e,n)),this.elementMap.set(t,r);const o=this.getValue(t,e);void 0!==o&&this.updateElement(t,e,o)}trackValue(t,e){return this.subject.asObservable().pipe(Object(di.a)(n=>n.element===t&&n.key===e))}updateStyles(){this.elementMap.forEach((t,e)=>{const n=new Set(this.elementKeyMap.get(e));let i=this.getActivatedValues(t);i&&i.forEach((t,i)=>{this.updateElement(e,i,t),n.delete(i)}),n.forEach(n=>{if(i=this.getActivatedValues(t,n),i){const t=i.get(n);this.updateElement(e,n,t)}else this.clearElement(e,n)})})}clearElement(t,e){const n=this.clearMap.get(t);if(n){const i=n.get(e);i&&(i(),this.subject.next({element:t,key:e,value:""}))}}updateElement(t,e,n){const i=this.updateMap.get(t);if(i){const r=i.get(e);r&&(r(n),this.subject.next({element:t,key:e,value:n}))}}releaseElement(t){const e=this.watcherMap.get(t);e&&(e.forEach(t=>t.unsubscribe()),this.watcherMap.delete(t));const n=this.elementMap.get(t);n&&(n.forEach((t,e)=>n.delete(e)),this.elementMap.delete(t))}triggerUpdate(t,e){const n=this.elementMap.get(t);if(n){const i=this.getActivatedValues(n,e);i&&(e?this.updateElement(t,e,i.get(e)):i.forEach((e,n)=>this.updateElement(t,n,e)))}}buildElementKeyMap(t,e){let n=this.elementKeyMap.get(t);n||(n=new Set,this.elementKeyMap.set(t,n)),n.add(e)}watchExtraTriggers(t,e,n){if(n&&n.length){let i=this.watcherMap.get(t);if(i||(i=new Map,this.watcherMap.set(t,i)),!i.get(e)){const r=Object(bl.a)(...n).subscribe(()=>{const n=this.getValue(t,e);this.updateElement(t,e,n)});i.set(e,r)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,e){for(let i=0;i<this.activatedBreakpoints.length;i++){const n=t.get(this.activatedBreakpoints[i].alias);if(n&&(void 0===e||n.has(e)&&null!=n.get(e)))return n}const n=t.get("");return void 0===e||n&&n.has(e)?n:void 0}observeActivations(){const t=this.breakpoints.items.map(t=>t.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe(Object(go.a)(this.hook.interceptEvents(this)),Object(di.a)(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return t.\u0275fac=function(e){return new(e||t)(r.bc(oR),r.bc(rR),r.bc(cR))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(oR),Object(r.bc)(rR),Object(r.bc)(cR))},token:t,providedIn:"root"}),t})();function mR(t,e,n,i){if(void 0!==i){let r=t.get(e);r||(r=new Map,t.set(e,r)),r.set(n,i)}}new Map;let bR=(()=>{class t extends XM{constructor(t,e,n,r,o,s,a){super(t,null,e,n),this.ngClassInstance=a,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new i.l(r,o,t,s)),this.init(),this.setValue("","")}set klass(t){this.ngClassInstance.klass=t,this.setValue(t,"")}updateWithValue(t){this.ngClassInstance.ngClass=t,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(hR),r.Rb(gR),r.Rb(r.t),r.Rb(r.u),r.Rb(r.F),r.Rb(i.l,10))},t.\u0275dir=r.Mb({type:t,inputs:{klass:["class","klass"]},features:[r.Ab]}),t})();const yR=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let vR=(()=>{class t extends bR{constructor(){super(...arguments),this.inputs=yR}}return t.\u0275fac=function(e){return _R(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[r.Ab]}),t})();const _R=r.Zb(vR);new WeakMap;class wR{constructor(t,e,n=!0){this.key=t,this.value=e,this.key=n?t.replace(/['"]/g,"").trim():t.trim(),this.value=n?e.replace(/['"]/g,"").trim():e.trim(),this.value=this.value.replace(/;/,"")}}function zR(t){let e=typeof t;return"object"===e?t.constructor===Array?"array":t.constructor===Set?"set":"object":e}function CR(t){const[e,...n]=t.split(":");return new wR(e,n.join(":"))}function SR(t,e){return e.key&&(t[e.key]=e.value),t}let xR=(()=>{class t extends XM{constructor(t,e,n,r,o,s,a,c,l){super(t,null,e,n),this.sanitizer=r,this.ngStyleInstance=a,this.DIRECTIVE_KEY="ngStyle",this.ngStyleInstance||(this.ngStyleInstance=new i.o(t,o,s)),this.init();const u=this.nativeElement.getAttribute("style")||"";this.fallbackStyles=this.buildStyleMap(u),this.isServer=c&&Object(i.A)(l)}updateWithValue(t){const e=this.buildStyleMap(t);this.ngStyleInstance.ngStyle=Object.assign(Object.assign({},this.fallbackStyles),e),this.isServer&&this.applyStyleToElement(e),this.ngStyleInstance.ngDoCheck()}clearStyles(){this.ngStyleInstance.ngStyle=this.fallbackStyles,this.ngStyleInstance.ngDoCheck()}buildStyleMap(t){const e=t=>this.sanitizer.sanitize(r.J.STYLE,t)||"";if(t)switch(zR(t)){case"string":return ER(function(t,e=";"){return String(t).trim().split(e).map(t=>t.trim()).filter(t=>""!==t)}(t),e);case"array":return ER(t,e);case"set":default:return function(t,e){let n=[];return"set"===zR(t)?t.forEach(t=>n.push(t)):Object.keys(t).forEach(e=>{n.push(`${e}:${t[e]}`)}),function(t,e){return t.map(CR).filter(t=>!!t).map(t=>(e&&(t.value=e(t.value)),t)).reduce(SR,{})}(n,e)}(t,e)}return{}}ngDoCheck(){this.ngStyleInstance.ngDoCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(hR),r.Rb(gR),r.Rb(D),r.Rb(r.u),r.Rb(r.F),r.Rb(i.o,10),r.Rb(NM),r.Rb(r.C))},t.\u0275dir=r.Mb({type:t,features:[r.Ab]}),t})();const OR=["ngStyle","ngStyle.xs","ngStyle.sm","ngStyle.md","ngStyle.lg","ngStyle.xl","ngStyle.lt-sm","ngStyle.lt-md","ngStyle.lt-lg","ngStyle.lt-xl","ngStyle.gt-xs","ngStyle.gt-sm","ngStyle.gt-md","ngStyle.gt-lg"];let kR=(()=>{class t extends xR{constructor(){super(...arguments),this.inputs=OR}}return t.\u0275fac=function(e){return TR(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["","ngStyle",""],["","ngStyle.xs",""],["","ngStyle.sm",""],["","ngStyle.md",""],["","ngStyle.lg",""],["","ngStyle.xl",""],["","ngStyle.lt-sm",""],["","ngStyle.lt-md",""],["","ngStyle.lt-lg",""],["","ngStyle.lt-xl",""],["","ngStyle.gt-xs",""],["","ngStyle.gt-sm",""],["","ngStyle.gt-md",""],["","ngStyle.gt-lg",""]],inputs:{ngStyle:"ngStyle","ngStyle.xs":"ngStyle.xs","ngStyle.sm":"ngStyle.sm","ngStyle.md":"ngStyle.md","ngStyle.lg":"ngStyle.lg","ngStyle.xl":"ngStyle.xl","ngStyle.lt-sm":"ngStyle.lt-sm","ngStyle.lt-md":"ngStyle.lt-md","ngStyle.lt-lg":"ngStyle.lt-lg","ngStyle.lt-xl":"ngStyle.lt-xl","ngStyle.gt-xs":"ngStyle.gt-xs","ngStyle.gt-sm":"ngStyle.gt-sm","ngStyle.gt-md":"ngStyle.gt-md","ngStyle.gt-lg":"ngStyle.gt-lg"},features:[r.Ab]}),t})();const TR=r.Zb(kR);function ER(t,e){return t.map(CR).filter(t=>!!t).map(t=>(e&&(t.value=e(t.value)),t)).reduce(SR,{})}let IR=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[AM]]}),t})();const DR=["row","column","row-reverse","column-reverse"];function MR(t){t=t?t.toLowerCase():"";let[e,n,i]=t.split(" ");return DR.find(t=>t===e)||(e=DR[0]),"inline"===n&&(n="inline"!==i?i:"",i="inline"),[e,AR(n),!!i]}function RR(t){let[e]=MR(t);return e.indexOf("row")>-1}function AR(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}let PR=(()=>{class t extends dR{buildStyles(t){return function(t){let[e,n,i]=MR(t);return function(t,e=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":e||null}}(e,n,i)}(t)}}return t.\u0275fac=function(e){return LR(e||t)},t.\u0275prov=Object(r.Nb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const LR=r.Zb(PR),FR=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let jR=(()=>{class t extends XM{constructor(t,e,n,i){super(t,n,e,i),this.DIRECTIVE_KEY="layout",this.styleCache=WR,this.init()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(hR),r.Rb(PR),r.Rb(gR))},t.\u0275dir=r.Mb({type:t,features:[r.Ab]}),t})(),NR=(()=>{class t extends jR{constructor(){super(...arguments),this.inputs=FR}}return t.\u0275fac=function(e){return VR(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[r.Ab]}),t})();const VR=r.Zb(NR),WR=new Map;function qR(t,...e){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(let n of e)if(null!=n)for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}new Map,new Map,new Map,new Map;let BR=(()=>{class t extends dR{constructor(t){super(),this.layoutConfig=t}buildStyles(t,e){let[n,i,...r]=t.split(" "),o=r.join(" ");const s=e.direction.indexOf("column")>-1?"column":"row",a=RR(s)?"max-width":"max-height",c=RR(s)?"min-width":"min-height",l=String(o).indexOf("calc")>-1,u=l||"auto"===o,h=String(o).indexOf("%")>-1&&!l,d=String(o).indexOf("px")>-1||String(o).indexOf("rem")>-1||String(o).indexOf("em")>-1||String(o).indexOf("vw")>-1||String(o).indexOf("vh")>-1;let p=l||d;n="0"==n?0:n,i="0"==i?0:i;const f=!n&&!i;let g={};const m={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(o||""){case"":const t=!1!==this.layoutConfig.useColumnBasisZero;o="row"===s?"0%":t?"0.000000001px":"auto";break;case"initial":case"nogrow":n=0,o="auto";break;case"grow":o="100%";break;case"noshrink":i=0,o="auto";break;case"auto":break;case"none":n=0,i=0,o="auto";break;default:p||h||isNaN(o)||(o+="%"),"0%"===o&&(p=!0),"0px"===o&&(o="0%"),g=qR(m,l?{"flex-grow":n,"flex-shrink":i,"flex-basis":p?o:"100%"}:{flex:`${n} ${i} ${p?o:"100%"}`})}return g.flex||g["flex-grow"]||(g=qR(m,l?{"flex-grow":n,"flex-shrink":i,"flex-basis":o}:{flex:`${n} ${i} ${o}`})),"0%"!==o&&"0px"!==o&&"0.000000001px"!==o&&"auto"!==o&&(g[c]=f||p&&n?o:null,g[a]=f||!u&&i?o:null),g[c]||g[a]?e.hasWrap&&(g[l?"flex-basis":"flex"]=g[a]?l?g[a]:`${n} ${i} ${g[a]}`:l?g[c]:`${n} ${i} ${g[c]}`):g=qR(m,l?{"flex-grow":n,"flex-shrink":i,"flex-basis":o}:{flex:`${n} ${i} ${o}`}),qR(g,{"box-sizing":"border-box"})}}return t.\u0275fac=function(e){return new(e||t)(r.bc(jM))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(jM))},token:t,providedIn:"root"}),t})();const XR=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let UR=(()=>{class t extends XM{constructor(t,e,n,i,r){super(t,i,e,r),this.layoutConfig=n,this.marshal=r,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(t){this.flexShrink=t||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(t){this.flexGrow=t||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(An(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(An(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(t){const e=t.value.split(" ");this.direction=e[0],this.wrap=void 0!==e[1]&&"wrap"===e[1],this.triggerUpdate()}updateWithValue(t){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const e=this.direction,n=e.startsWith("row"),i=this.wrap;n&&i?this.styleCache=YR:n&&!i?this.styleCache=KR:!n&&i?this.styleCache=QR:n||i||(this.styleCache=GR);const r=pR(String(t).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(r.join(" "),{direction:e,hasWrap:i})}triggerReflow(){const t=this.activatedValue;if(void 0!==t){const e=pR(t+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,e.join(" "))}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(hR),r.Rb(jM),r.Rb(BR),r.Rb(gR))},t.\u0275dir=r.Mb({type:t,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[r.Ab]}),t})(),$R=(()=>{class t extends UR{constructor(){super(...arguments),this.inputs=XR}}return t.\u0275fac=function(e){return HR(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[r.Ab]}),t})();const HR=r.Zb($R),KR=new Map,GR=new Map,YR=new Map,QR=new Map;new Map,new Map,new Map,new Map,new Map,new Map;const JR={margin:0,width:"100%",height:"100%","min-width":"100%","min-height":"100%"};let ZR=(()=>{class t extends dR{buildStyles(t){return JR}}return t.\u0275fac=function(e){return tA(e||t)},t.\u0275prov=Object(r.Nb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const tA=r.Zb(ZR);let eA=(()=>{class t extends XM{constructor(t,e,n,i){super(t,n,e,i),this.styleCache=nA,this.addStyles("")}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(hR),r.Rb(ZR),r.Rb(gR))},t.\u0275dir=r.Mb({type:t,selectors:[["","fxFill",""],["","fxFlexFill",""]],features:[r.Ab]}),t})();const nA=new Map;let iA=(()=>{class t extends dR{buildStyles(t,e){const n={},[i,r]=t.split(" ");switch(i){case"center":n["justify-content"]="center";break;case"space-around":n["justify-content"]="space-around";break;case"space-between":n["justify-content"]="space-between";break;case"space-evenly":n["justify-content"]="space-evenly";break;case"end":case"flex-end":n["justify-content"]="flex-end";break;case"start":case"flex-start":default:n["justify-content"]="flex-start"}switch(r){case"start":case"flex-start":n["align-items"]=n["align-content"]="flex-start";break;case"center":n["align-items"]=n["align-content"]="center";break;case"end":case"flex-end":n["align-items"]=n["align-content"]="flex-end";break;case"space-between":n["align-content"]="space-between",n["align-items"]="stretch";break;case"space-around":n["align-content"]="space-around",n["align-items"]="stretch";break;case"baseline":n["align-content"]="stretch",n["align-items"]="baseline";break;case"stretch":default:n["align-items"]=n["align-content"]="stretch"}return qR(n,{display:e.inline?"inline-flex":"flex","flex-direction":e.layout,"box-sizing":"border-box","max-width":"stretch"===r?RR(e.layout)?null:"100%":null,"max-height":"stretch"===r&&RR(e.layout)?"100%":null})}}return t.\u0275fac=function(e){return rA(e||t)},t.\u0275prov=Object(r.Nb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const rA=r.Zb(iA),oA=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let sA=(()=>{class t extends XM{constructor(t,e,n,i){super(t,n,e,i),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(An(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(t){const e=this.layout||"row",n=this.inline;"row"===e&&n?this.styleCache=pA:"row"!==e||n?"row-reverse"===e&&n?this.styleCache=gA:"row-reverse"!==e||n?"column"===e&&n?this.styleCache=fA:"column"!==e||n?"column-reverse"===e&&n?this.styleCache=mA:"column-reverse"!==e||n||(this.styleCache=dA):this.styleCache=uA:this.styleCache=hA:this.styleCache=lA,this.addStyles(t,{layout:e,inline:n})}onLayoutChange(t){const e=t.value.split(" ");this.layout=e[0],this.inline=t.value.includes("inline"),DR.find(t=>t===this.layout)||(this.layout="row"),this.triggerUpdate()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(hR),r.Rb(iA),r.Rb(gR))},t.\u0275dir=r.Mb({type:t,features:[r.Ab]}),t})(),aA=(()=>{class t extends sA{constructor(){super(...arguments),this.inputs=oA}}return t.\u0275fac=function(e){return cA(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[r.Ab]}),t})();const cA=r.Zb(aA),lA=new Map,uA=new Map,hA=new Map,dA=new Map,pA=new Map,fA=new Map,gA=new Map,mA=new Map;let bA=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[AM,vn]]}),t})();new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map;let yA=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[AM]]}),t})();new r.Q("11.0.0-beta.33");let vA=(()=>{class t{constructor(t,e){Object(i.A)(e)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,n=[]){return{ngModule:t,providers:e.serverLoaded?[{provide:jM,useValue:Object.assign(Object.assign({},FM),e)},{provide:VM,useValue:n,multi:!0},{provide:NM,useValue:!0}]:[{provide:jM,useValue:Object.assign(Object.assign({},FM),e)},{provide:VM,useValue:n,multi:!0}]}}}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)(r.bc(NM),r.bc(r.C))},imports:[[bA,IR,yA],bA,IR,yA]}),t})(),_A=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)}}),t})(),wA=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[kD,fD,dp,_A],fD,_A]}),t})(),zA=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[i.c,fD,dp],fD]}),t})();const CA=new r.r("mat-chips-default-options"),SA={separatorKeyCodes:[13]};let xA=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[yD,{provide:CA,useValue:SA}],imports:[[fD]]}),t})(),OA=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[fD],fD]}),t})(),kA=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[Bn]]}),t})(),TA=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[yD],imports:[[kA,zA,fD],kA,zA]}),t})();var EA=n("WMd4");function IA(t,e=ve.a){var n;const i=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new DA(i,e))}class DA{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new MA(t,this.delay,this.scheduler))}}class MA extends ye.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,i=t.scheduler,r=t.destination;for(;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){const e=Math.max(0,n[0].time-i.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(MA.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new RA(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(EA.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(EA.a.createComplete()),this.unsubscribe()}}class RA{constructor(t,e){this.time=t,this.notification=e}}const AA={provide:new r.r("mat-menu-scroll-strategy"),deps:[Hl],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let PA=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[AA],imports:[fD]}),t})(),LA=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[AA],imports:[[i.c,fD,kD,Zl,PA],al,fD,PA]}),t})(),FA=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[fD,i.c],fD]}),t})();const jA={provide:new r.r("mat-tooltip-scroll-strategy"),deps:[Hl],useFactory:function(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}};let NA=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[jA],imports:[[Ep,i.c,Zl,fD],fD,al]}),t})();var VA=function(t){return t.NONE="account",t.CHECK="account-check",t.EDIT="account-edit",t.OFF="account-off",t.REMOVE="account-remove",t}({});let WA=(()=>{class t{constructor(t){this.afs=t}getUserDocRefByUID(t){return this.afs.doc(`users/${t}`)}deleteUserData(t){return this.getUserDocRefByUID(t).delete()}updateUserData(t){return this.getUserDocRefByUID(t.uid).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,phoneNumber:t.phoneNumber,providerId:t.providerId},{merge:!0})}}return t.\u0275fac=function(e){return new(e||t)(r.bc(cD))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(cD))},token:t,providedIn:"root"}),t})();const qA=new r.r("NgxAuthFirebaseUIConfigToken"),BA=new r.r("UserProvidedConfigToken"),XA=new xm.a.auth.FacebookAuthProvider,UA=new xm.a.auth.GoogleAuthProvider,$A=new xm.a.auth.OAuthProvider("apple.com"),HA=new xm.a.auth.TwitterAuthProvider,KA=new xm.a.auth.GithubAuthProvider,GA=new xm.a.auth.OAuthProvider("microsoft.com"),YA=new xm.a.auth.OAuthProvider("yahoo.com");var QA=function(t){return t.ALL="all",t.ANONYMOUS="anonymous",t.EmailAndPassword="firebase",t.Google="google",t.Apple="apple",t.Facebook="facebook",t.Twitter="twitter",t.Github="github",t.Microsoft="microsoft",t.Yahoo="yahoo",t.PhoneNumber="phoneNumber",t}({});let JA=(()=>{class t{constructor(t,e,n,i,o){this.afa=t,this.config=e,this.snackBar=n,this.fireStoreService=i,this.matSnackBarConfig=o,this.onSuccessEmitter=new r.n,this.onErrorEmitter=new r.n,this._user$=new fu.a(null)}get user$(){return this._user$.asObservable()}listenToUserEvents(){this.afa.user.subscribe(t=>{this._user$.next(t),this.user=t})}resetPassword(t){return cr(this,void 0,void 0,function*(){try{return console.log("Password reset email sent"),yield this.afa.sendPasswordResetEmail(t)}catch(e){return this.notifyError(e)}})}signInWith(t,e){return cr(this,void 0,void 0,function*(){try{let n;switch(t){case QA.ANONYMOUS:n=yield this.afa.signInAnonymously();break;case QA.EmailAndPassword:n=yield this.afa.signInWithEmailAndPassword(e.email,e.password);break;case QA.Google:n=yield this.afa.signInWithPopup(UA);break;case QA.Apple:n=yield this.afa.signInWithPopup($A);break;case QA.Facebook:n=yield this.afa.signInWithPopup(XA);break;case QA.Twitter:n=yield this.afa.signInWithPopup(HA);break;case QA.Github:n=yield this.afa.signInWithPopup(KA);break;case QA.Microsoft:n=yield this.afa.signInWithPopup(GA);break;case QA.Yahoo:n=yield this.afa.signInWithPopup(YA);break;case QA.PhoneNumber:break;default:throw new Error(`${QA[t]} is not available as auth provider`)}yield this.handleSuccess(n)}catch(n){this.handleError(n)}})}signUp(t,e){return cr(this,void 0,void 0,function*(){try{const n=yield this.afa.createUserWithEmailAndPassword(e.email,e.password),i=n.user;yield this.updateProfile(t,i.photoURL),this.config.enableFirestoreSync&&(yield this.fireStoreService.getUserDocRefByUID(i.uid).set({uid:i.uid,displayName:t,email:i.email,photoURL:i.photoURL})),this.config.enableEmailVerification&&(yield i.sendEmailVerification()),this.emailConfirmationSent=!0,this.emailToConfirm=e.email,yield this.handleSuccess(n)}catch(n){this.handleError(n)}})}sendNewVerificationEmail(){return cr(this,void 0,void 0,function*(){return this.user?this.user.sendEmailVerification():Promise.reject(new Error("No signed in user"))})}signOut(){return cr(this,void 0,void 0,function*(){try{yield this.afa.signOut()}catch(t){this.notifyError(t)}})}updateProfile(t,e){return this.afa.currentUser.then(n=>n.updateProfile(e?{displayName:t,photoURL:e}:{displayName:t}))}parseUserInfo(t){return{uid:t.uid,displayName:t.displayName,email:t.email,phoneNumber:t.phoneNumber,photoURL:t.photoURL,providerId:t.providerData.length>0?t.providerData[0].providerId:null}}getUserPhotoUrl(){return this._user$.pipe(Object(N.a)(t=>t?t.photoURL?t.photoURL:this.getPhotoPath(t.emailVerified?VA.CHECK:t.isAnonymous?VA.OFF:VA.NONE):null))}getPhotoPath(t){return`assets/user/${t}.svg`}signInWithPhoneNumber(){}handleSuccess(t){return cr(this,void 0,void 0,function*(){if(this.onSuccessEmitter.next(t.user),this.config.enableFirestoreSync)try{yield this.fireStoreService.updateUserData(this.parseUserInfo(t.user))}catch(UI){console.error(`Error occurred while updating user data with firestore: ${UI}`)}if(this.config.toastMessageOnAuthSuccess){const e=`Hello ${t.user.displayName?t.user.displayName:""}!`;this.showToast(this.messageOnAuthSuccess||e)}})}handleError(t){this.notifyError(t),console.error(t)}reloadUserInfo(){return this._user$.pipe(Object(Tn.a)(1)).subscribe(t=>t&&t.reload())}getMessageOnAuthError(t){return t.toString()||"Sorry, something went wrong. Please retry later."}showToast(t){t&&this.snackBar.open(t,this.matSnackBarConfig.duration?null:"OK")}showErrorToast(t){this.config.toastMessageOnAuthError&&this.showToast(this.getMessageOnAuthError(t))}notifyError(t){this.onErrorEmitter.emit(t),this.showErrorToast(t)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(Cm),r.bc(Object(r.W)(()=>qA)),r.bc($D),r.bc(WA),r.bc(UD))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(Cm),Object(r.bc)(qA),Object(r.bc)($D),Object(r.bc)(WA),Object(r.bc)(UD))},token:t,providedIn:"root"}),t})();qo("animate",[Ko("void => *",[function(t,e=null){return{type:10,animation:t,options:e}}(Go([Uo({opacity:"{{opacity}}",transform:"scale({{scale}}) translate3d({{x}}, {{y}}, {{z}})"}),Bo("{{duration}} {{delay}} cubic-bezier(0.0, 0.0, 0.2, 1)",Uo("*"))],{params:{duration:"200ms",delay:"0ms",opacity:"0",scale:"1",x:"0",y:"0",z:"0"}}))])]),qo("animateStagger",[$o("50",Uo("*")),$o("100",Uo("*")),$o("200",Uo("*")),Ko("void => 50",Qo("@*",[Jo("50ms",[Yo()])],{optional:!0})),Ko("void => 100",Qo("@*",[Jo("100ms",[Yo()])],{optional:!0})),Ko("void => 200",Qo("@*",[Jo("200ms",[Yo()])],{optional:!0}))]),new RegExp(['^(([^<>()[\\]\\.,;:\\s@"]+(\\.[^<>()\\[\\]\\.,;:\\s@"]+)*)','|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.',"[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+","[a-zA-Z]{2,}))$"].join("")),new RegExp(["^[+]{0,1}[(]{0,1}[0-9]{1,4}[)]{0,1}[-\\s\\.]{0,1}[(]{0,1}[0-9]{1,4}[)]{0,1}[-\\s\\./0-9]{4,12}$"].join(""));const ZA={enableFirestoreSync:!0,toastMessageOnAuthSuccess:!0,toastMessageOnAuthError:!0,authGuardFallbackURL:"/",authGuardLoggedInURL:"/",passwordMaxLength:60,passwordMinLength:8,nameMaxLength:50,nameMinLength:2,guardProtectedRoutesUntilEmailIsVerified:!0,enableEmailVerification:!0};function tP(t){return Object.assign({},ZA,t)}let eP=(()=>{class t{constructor(t,e,n){this.config=t,this.router=e,this.authProcess=n}canActivate(t,e){return this.authProcess.afa.user.pipe(Object(N.a)(t=>t?!(this.config.guardProtectedRoutesUntilEmailIsVerified&&!t.emailVerified&&!t.isAnonymous&&(this.config.authGuardFallbackURL&&this.router.navigate([`${this.config.authGuardFallbackURL}`],{queryParams:{redirectUrl:e.url}}),1)):(this.config.authGuardFallbackURL&&this.router.navigate([`/${this.config.authGuardFallbackURL}`],{queryParams:{redirectUrl:e.url}}),!1)))}}return t.\u0275fac=function(e){return new(e||t)(r.bc(qA),r.bc(dm.g),r.bc(JA))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(qA),Object(r.bc)(dm.g),Object(r.bc)(JA))},token:t,providedIn:"root"}),t})(),nP=(()=>{class t{constructor(t,e,n){this.iconRegistry=t,this.sanitizer=e,n.listenToUserEvents(),this.registerProviderIcons()}static forRoot(e,n=(()=>{}),i={}){return{ngModule:t,providers:[{provide:mm.b,useValue:e},{provide:mm.a,useFactory:n},{provide:BA,useValue:i},{provide:qA,useFactory:tP,deps:[BA]},JA,WA,eP]}}registerProviderIcons(){this.iconRegistry.addSvgIcon("google",this.sanitizer.bypassSecurityTrustResourceUrl("/assets/mdi/google.svg")).addSvgIcon("apple",this.sanitizer.bypassSecurityTrustResourceUrl("/assets/mdi/apple.svg")).addSvgIcon("google-colored",this.sanitizer.bypassSecurityTrustResourceUrl("/assets/google.svg")).addSvgIcon("facebook",this.sanitizer.bypassSecurityTrustResourceUrl("/assets/mdi/facebook.svg")).addSvgIcon("twitter",this.sanitizer.bypassSecurityTrustResourceUrl("/assets/mdi/twitter.svg")).addSvgIcon("github",this.sanitizer.bypassSecurityTrustResourceUrl("/assets/mdi/github-circle.svg")).addSvgIcon("microsoft",this.sanitizer.bypassSecurityTrustResourceUrl("/assets/mdi/microsoft.svg")).addSvgIcon("yahoo",this.sanitizer.bypassSecurityTrustResourceUrl("/assets/mdi/yahoo.svg")).addSvgIcon("phone",this.sanitizer.bypassSecurityTrustResourceUrl("/assets/phone.svg"))}}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)(r.bc(vM),r.bc(D),r.bc(JA))},imports:[[i.c,dm.k,fo,vA,me,be,uM,dM,TA,AD,EM,XD,OA,xA,NA,lM,wA,FA,hM,lM,LA,DM,Sm,lD],Sm,lD]}),t})();function iP(t,e){if(1&t&&(r.Vb(0),r.Sb(1,"i",6),r.Ub()),2&t){const t=e.$implicit;r.Db(1),r.qc("nzType",t)}}function rP(t,e){if(1&t&&(r.Vb(0),r.Kc(1,iP,2,1,"ng-container",5),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.qc("nzStringTemplateOutlet",t.icon)}}function oP(t,e){1&t&&r.oc(0,1,["*ngIf","!icon"])}function sP(t,e){if(1&t&&(r.Vb(0),r.Kc(1,rP,2,1,"ng-container",2),r.Kc(2,oP,1,0,"ng-content",2),r.Ub()),2&t){const t=r.jc();r.Db(1),r.qc("ngIf",t.icon),r.Db(1),r.qc("ngIf",!t.icon)}}function aP(t,e){if(1&t&&(r.Xb(0,"div",8),r.Mc(1),r.Wb()),2&t){const t=r.jc(2);r.Db(1),r.Oc(" ",t.nzTitle," ")}}function cP(t,e){if(1&t&&(r.Vb(0),r.Kc(1,aP,2,1,"div",7),r.Ub()),2&t){const t=r.jc();r.Db(1),r.qc("nzStringTemplateOutlet",t.nzTitle)}}function lP(t,e){1&t&&r.oc(0,2,["*ngIf","!nzTitle"])}function uP(t,e){if(1&t&&(r.Xb(0,"div",10),r.Mc(1),r.Wb()),2&t){const t=r.jc(2);r.Db(1),r.Oc(" ",t.nzSubTitle," ")}}function hP(t,e){if(1&t&&(r.Vb(0),r.Kc(1,uP,2,1,"div",9),r.Ub()),2&t){const t=r.jc();r.Db(1),r.qc("nzStringTemplateOutlet",t.nzSubTitle)}}function dP(t,e){1&t&&r.oc(0,3,["*ngIf","!nzSubTitle"])}function pP(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.Oc(" ",t.nzExtra," ")}}function fP(t,e){if(1&t&&(r.Xb(0,"div",11),r.Kc(1,pP,2,1,"ng-container",5),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("nzStringTemplateOutlet",t.nzExtra)}}function gP(t,e){1&t&&r.oc(0,4,["*ngIf","!nzExtra"])}function mP(t,e){1&t&&r.Sb(0,"nz-result-not-found")}function bP(t,e){1&t&&r.Sb(0,"nz-result-server-error")}function yP(t,e){1&t&&r.Sb(0,"nz-result-unauthorized")}function vP(t,e){if(1&t&&(r.Vb(0,12),r.Kc(1,mP,1,0,"nz-result-not-found",13),r.Kc(2,bP,1,0,"nz-result-server-error",13),r.Kc(3,yP,1,0,"nz-result-unauthorized",13),r.Ub()),2&t){const t=r.jc();r.qc("ngSwitch",t.nzStatus),r.Db(1),r.qc("ngSwitchCase","404"),r.Db(1),r.qc("ngSwitchCase","500"),r.Db(1),r.qc("ngSwitchCase","403")}}const _P=[[["nz-result-content"],["","nz-result-content",""]],[["","nz-result-icon",""]],[["div","nz-result-title",""]],[["div","nz-result-subtitle",""]],[["div","nz-result-extra",""]]],wP=["nz-result-content, [nz-result-content]","[nz-result-icon]","div[nz-result-title]","div[nz-result-subtitle]","div[nz-result-extra]"],zP={success:"check-circle",error:"close-circle",info:"exclamation-circle",warning:"warning"},CP=["404","500","403"];let SP=(()=>{class t{constructor(t,e,n){this.elementRef=t,this.cdr=e,this.directionality=n,this.nzStatus="info",this.isException=!1,this.dir="ltr",this.destroy$=new xe.a,this.elementRef.nativeElement.classList.add("ant-result")}ngOnInit(){var t;null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(){this.setStatusIcon()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setStatusIcon(){const t=this.nzIcon;this.isException=-1!==CP.indexOf(this.nzStatus),this.icon=t?"string"==typeof t&&zP[t]||t:this.isException?void 0:zP[this.nzStatus]}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.h),r.Rb(bn,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-result"]],hostVars:10,hostBindings:function(t,e){2&t&&r.Jb("ant-result-success","success"===e.nzStatus)("ant-result-error","error"===e.nzStatus)("ant-result-info","info"===e.nzStatus)("ant-result-warning","warning"===e.nzStatus)("ant-result-rtl","rtl"===e.dir)},inputs:{nzStatus:"nzStatus",nzIcon:"nzIcon",nzTitle:"nzTitle",nzSubTitle:"nzSubTitle",nzExtra:"nzExtra"},exportAs:["nzResult"],features:[r.Bb],ngContentSelectors:wP,decls:11,vars:8,consts:[[1,"ant-result-icon"],[4,"ngIf","ngIfElse"],[4,"ngIf"],["class","ant-result-extra",4,"ngIf"],["exceptionTpl",""],[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","fill",3,"nzType"],["class","ant-result-title",4,"nzStringTemplateOutlet"],[1,"ant-result-title"],["class","ant-result-subtitle",4,"nzStringTemplateOutlet"],[1,"ant-result-subtitle"],[1,"ant-result-extra"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(t,e){if(1&t&&(r.pc(_P),r.Xb(0,"div",0),r.Kc(1,sP,3,2,"ng-container",1),r.Wb(),r.Kc(2,cP,2,1,"ng-container",2),r.Kc(3,lP,1,0,"ng-content",2),r.Kc(4,hP,2,1,"ng-container",2),r.Kc(5,dP,1,0,"ng-content",2),r.oc(6),r.Kc(7,fP,2,1,"div",3),r.Kc(8,gP,1,0,"ng-content",2),r.Kc(9,vP,4,4,"ng-template",null,4,r.Lc)),2&t){const t=r.Ac(10);r.Db(1),r.qc("ngIf",!e.isException)("ngIfElse",t),r.Db(1),r.qc("ngIf",e.nzTitle),r.Db(1),r.qc("ngIf",!e.nzTitle),r.Db(1),r.qc("ngIf",e.nzSubTitle),r.Db(1),r.qc("ngIf",!e.nzSubTitle),r.Db(2),r.qc("ngIf",e.nzExtra),r.Db(1),r.qc("ngIf",!e.nzExtra)}},directives:function(){return[i.n,ei,No,i.p,i.q,xP,OP,kP]},encapsulation:2,changeDetection:0}),t})(),xP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-result-not-found"]],exportAs:["nzResultNotFound"],decls:62,vars:0,consts:[["width","252","height","294"],["d","M0 .387h251.772v251.772H0z"],["fill","none","fillRule","evenodd"],["transform","translate(0 .012)"],["fill","#fff"],["d","M0 127.32v-2.095C0 56.279 55.892.387 124.838.387h2.096c68.946 0 124.838 55.892 124.838 124.838v2.096c0 68.946-55.892 124.838-124.838 124.838h-2.096C55.892 252.16 0 196.267 0 127.321","fill","#E4EBF7","mask","url(#b)"],["d","M39.755 130.84a8.276 8.276 0 1 1-16.468-1.66 8.276 8.276 0 0 1 16.468 1.66","fill","#FFF"],["d","M36.975 134.297l10.482 5.943M48.373 146.508l-12.648 10.788","stroke","#FFF","strokeWidth","2"],["d","M39.875 159.352a5.667 5.667 0 1 1-11.277-1.136 5.667 5.667 0 0 1 11.277 1.136M57.588 143.247a5.708 5.708 0 1 1-11.358-1.145 5.708 5.708 0 0 1 11.358 1.145M99.018 26.875l29.82-.014a4.587 4.587 0 1 0-.003-9.175l-29.82.013a4.587 4.587 0 1 0 .003 9.176M110.424 45.211l29.82-.013a4.588 4.588 0 0 0-.004-9.175l-29.82.013a4.587 4.587 0 1 0 .004 9.175","fill","#FFF"],["d","M112.798 26.861v-.002l15.784-.006a4.588 4.588 0 1 0 .003 9.175l-15.783.007v-.002a4.586 4.586 0 0 0-.004-9.172M184.523 135.668c-.553 5.485-5.447 9.483-10.931 8.93-5.485-.553-9.483-5.448-8.93-10.932.552-5.485 5.447-9.483 10.932-8.93 5.485.553 9.483 5.447 8.93 10.932","fill","#FFF"],["d","M179.26 141.75l12.64 7.167M193.006 156.477l-15.255 13.011","par","","stroke","#FFF","strokeWidth","2"],["d","M184.668 170.057a6.835 6.835 0 1 1-13.6-1.372 6.835 6.835 0 0 1 13.6 1.372M203.34 153.325a6.885 6.885 0 1 1-13.7-1.382 6.885 6.885 0 0 1 13.7 1.382","fill","#FFF"],["d","M151.931 192.324a2.222 2.222 0 1 1-4.444 0 2.222 2.222 0 0 1 4.444 0zM225.27 116.056a2.222 2.222 0 1 1-4.445 0 2.222 2.222 0 0 1 4.444 0zM216.38 151.08a2.223 2.223 0 1 1-4.446-.001 2.223 2.223 0 0 1 4.446 0zM176.917 107.636a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM195.291 92.165a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM202.058 180.711a2.223 2.223 0 1 1-4.446 0 2.223 2.223 0 0 1 4.446 0z","stroke","#FFF","strokeWidth","2"],["stroke","#FFF","strokeWidth","2","d","M214.404 153.302l-1.912 20.184-10.928 5.99M173.661 174.792l-6.356 9.814h-11.36l-4.508 6.484M174.941 125.168v-15.804M220.824 117.25l-12.84 7.901-15.31-7.902V94.39"],["d","M166.588 65.936h-3.951a4.756 4.756 0 0 1-4.743-4.742 4.756 4.756 0 0 1 4.743-4.743h3.951a4.756 4.756 0 0 1 4.743 4.743 4.756 4.756 0 0 1-4.743 4.742","fill","#FFF"],["d","M174.823 30.03c0-16.281 13.198-29.48 29.48-29.48 16.28 0 29.48 13.199 29.48 29.48 0 16.28-13.2 29.48-29.48 29.48-16.282 0-29.48-13.2-29.48-29.48","fill","#1890FF"],["d","M205.952 38.387c.5.5.785 1.142.785 1.928s-.286 1.465-.785 1.964c-.572.5-1.214.75-2 .75-.785 0-1.429-.285-1.929-.785-.572-.5-.82-1.143-.82-1.929s.248-1.428.82-1.928c.5-.5 1.144-.75 1.93-.75.785 0 1.462.25 1.999.75m4.285-19.463c1.428 1.249 2.143 2.963 2.143 5.142 0 1.712-.427 3.13-1.219 4.25-.067.096-.137.18-.218.265-.416.429-1.41 1.346-2.956 2.699a5.07 5.07 0 0 0-1.428 1.75 5.207 5.207 0 0 0-.536 2.357v.5h-4.107v-.5c0-1.357.215-2.536.714-3.5.464-.964 1.857-2.464 4.178-4.536l.43-.5c.643-.785.964-1.643.964-2.535 0-1.18-.358-2.108-1-2.785-.678-.68-1.643-1.001-2.858-1.001-1.536 0-2.642.464-3.357 1.43-.37.5-.621 1.135-.76 1.904a1.999 1.999 0 0 1-1.971 1.63h-.004c-1.277 0-2.257-1.183-1.98-2.43.337-1.518 1.02-2.78 2.073-3.784 1.536-1.5 3.607-2.25 6.25-2.25 2.32 0 4.214.607 5.642 1.894","fill","#FFF"],["d","M52.04 76.131s21.81 5.36 27.307 15.945c5.575 10.74-6.352 9.26-15.73 4.935-10.86-5.008-24.7-11.822-11.577-20.88","fill","#FFB594"],["d","M90.483 67.504l-.449 2.893c-.753.49-4.748-2.663-4.748-2.663l-1.645.748-1.346-5.684s6.815-4.589 8.917-5.018c2.452-.501 9.884.94 10.7 2.278 0 0 1.32.486-2.227.69-3.548.203-5.043.447-6.79 3.132-1.747 2.686-2.412 3.624-2.412 3.624","fill","#FFC6A0"],["d","M128.055 111.367c-2.627-7.724-6.15-13.18-8.917-15.478-3.5-2.906-9.34-2.225-11.366-4.187-1.27-1.231-3.215-1.197-3.215-1.197s-14.98-3.158-16.828-3.479c-2.37-.41-2.124-.714-6.054-1.405-1.57-1.907-2.917-1.122-2.917-1.122l-7.11-1.383c-.853-1.472-2.423-1.023-2.423-1.023l-2.468-.897c-1.645 9.976-7.74 13.796-7.74 13.796 1.795 1.122 15.703 8.3 15.703 8.3l5.107 37.11s-3.321 5.694 1.346 9.109c0 0 19.883-3.743 34.921-.329 0 0 3.047-2.546.972-8.806.523-3.01 1.394-8.263 1.736-11.622.385.772 2.019 1.918 3.14 3.477 0 0 9.407-7.365 11.052-14.012-.832-.723-1.598-1.585-2.267-2.453-.567-.736-.358-2.056-.765-2.717-.669-1.084-1.804-1.378-1.907-1.682","fill","#FFF"],["d","M101.09 289.998s4.295 2.041 7.354 1.021c2.821-.94 4.53.668 7.08 1.178 2.55.51 6.874 1.1 11.686-1.26-.103-5.51-6.889-3.98-11.96-6.713-2.563-1.38-3.784-4.722-3.598-8.799h-9.402s-1.392 10.52-1.16 14.573","fill","#CBD1D1"],["d","M101.067 289.826s2.428 1.271 6.759.653c3.058-.437 3.712.481 7.423 1.031 3.712.55 10.724-.069 11.823-.894.413 1.1-.343 2.063-.343 2.063s-1.512.603-4.812.824c-2.03.136-5.8.291-7.607-.503-1.787-1.375-5.247-1.903-5.728-.241-3.918.95-7.355-.286-7.355-.286l-.16-2.647z","fill","#2B0849"],["d","M108.341 276.044h3.094s-.103 6.702 4.536 8.558c-4.64.618-8.558-2.303-7.63-8.558","fill","#A4AABA"],["d","M57.542 272.401s-2.107 7.416-4.485 12.306c-1.798 3.695-4.225 7.492 5.465 7.492 6.648 0 8.953-.48 7.423-6.599-1.53-6.12.266-13.199.266-13.199h-8.669z","fill","#CBD1D1"],["d","M51.476 289.793s2.097 1.169 6.633 1.169c6.083 0 8.249-1.65 8.249-1.65s.602 1.114-.619 2.165c-.993.855-3.597 1.591-7.39 1.546-4.145-.048-5.832-.566-6.736-1.168-.825-.55-.687-1.58-.137-2.062","fill","#2B0849"],["d","M58.419 274.304s.033 1.519-.314 2.93c-.349 1.42-1.078 3.104-1.13 4.139-.058 1.151 4.537 1.58 5.155.034.62-1.547 1.294-6.427 1.913-7.252.619-.825-4.903-2.119-5.624.15","fill","#A4AABA"],["d","M99.66 278.514l13.378.092s1.298-54.52 1.853-64.403c.554-9.882 3.776-43.364 1.002-63.128l-12.547-.644-22.849.78s-.434 3.966-1.195 9.976c-.063.496-.682.843-.749 1.365-.075.585.423 1.354.32 1.966-2.364 14.08-6.377 33.104-8.744 46.677-.116.666-1.234 1.009-1.458 2.691-.04.302.211 1.525.112 1.795-6.873 18.744-10.949 47.842-14.277 61.885l14.607-.014s2.197-8.57 4.03-16.97c2.811-12.886 23.111-85.01 23.111-85.01l3.016-.521 1.043 46.35s-.224 1.234.337 2.02c.56.785-.56 1.123-.392 2.244l.392 1.794s-.449 7.178-.898 11.89c-.448 4.71-.092 39.165-.092 39.165","fill","#7BB2F9"],["d","M76.085 221.626c1.153.094 4.038-2.019 6.955-4.935M106.36 225.142s2.774-1.11 6.103-3.883","stroke","#648BD8","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M107.275 222.1s2.773-1.11 6.102-3.884","stroke","#648BD8","strokeLinecap","round","strokeLinejoin","round"],["d","M74.74 224.767s2.622-.591 6.505-3.365M86.03 151.634c-.27 3.106.3 8.525-4.336 9.123M103.625 149.88s.11 14.012-1.293 15.065c-2.219 1.664-2.99 1.944-2.99 1.944M99.79 150.438s.035 12.88-1.196 24.377M93.673 175.911s7.212-1.664 9.431-1.664M74.31 205.861a212.013 212.013 0 0 1-.979 4.56s-1.458 1.832-1.009 3.776c.449 1.944-.947 2.045-4.985 15.355-1.696 5.59-4.49 18.591-6.348 27.597l-.231 1.12M75.689 197.807a320.934 320.934 0 0 1-.882 4.754M82.591 152.233L81.395 162.7s-1.097.15-.5 2.244c.113 1.346-2.674 15.775-5.18 30.43M56.12 274.418h13.31","stroke","#648BD8","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M116.241 148.22s-17.047-3.104-35.893.2c.158 2.514-.003 4.15-.003 4.15s14.687-2.818 35.67-.312c.252-2.355.226-4.038.226-4.038","fill","#192064"],["d","M106.322 151.165l.003-4.911a.81.81 0 0 0-.778-.815c-2.44-.091-5.066-.108-7.836-.014a.818.818 0 0 0-.789.815l-.003 4.906a.81.81 0 0 0 .831.813c2.385-.06 4.973-.064 7.73.017a.815.815 0 0 0 .842-.81","fill","#FFF"],["d","M105.207 150.233l.002-3.076a.642.642 0 0 0-.619-.646 94.321 94.321 0 0 0-5.866-.01.65.65 0 0 0-.63.647v3.072a.64.64 0 0 0 .654.644 121.12 121.12 0 0 1 5.794.011c.362.01.665-.28.665-.642","fill","#192064"],["d","M100.263 275.415h12.338M101.436 270.53c.006 3.387.042 5.79.111 6.506M101.451 264.548a915.75 915.75 0 0 0-.015 4.337M100.986 174.965l.898 44.642s.673 1.57-.225 2.692c-.897 1.122 2.468.673.898 2.243-1.57 1.57.897 1.122 0 3.365-.596 1.489-.994 21.1-1.096 35.146","stroke","#648BD8","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M46.876 83.427s-.516 6.045 7.223 5.552c11.2-.712 9.218-9.345 31.54-21.655-.786-2.708-2.447-4.744-2.447-4.744s-11.068 3.11-22.584 8.046c-6.766 2.9-13.395 6.352-13.732 12.801M104.46 91.057l.941-5.372-8.884-11.43-5.037 5.372-1.74 7.834a.321.321 0 0 0 .108.32c.965.8 6.5 5.013 14.347 3.544a.332.332 0 0 0 .264-.268","fill","#FFC6A0"],["d","M93.942 79.387s-4.533-2.853-2.432-6.855c1.623-3.09 4.513 1.133 4.513 1.133s.52-3.642 3.121-3.642c.52-1.04 1.561-4.162 1.561-4.162s11.445 2.601 13.526 3.121c0 5.203-2.304 19.424-7.84 19.861-8.892.703-12.449-9.456-12.449-9.456","fill","#FFC6A0"],["d","M113.874 73.446c2.601-2.081 3.47-9.722 3.47-9.722s-2.479-.49-6.64-2.05c-4.683-2.081-12.798-4.747-17.48.976-9.668 3.223-2.05 19.823-2.05 19.823l2.713-3.021s-3.935-3.287-2.08-6.243c2.17-3.462 3.92 1.073 3.92 1.073s.637-2.387 3.581-3.342c.355-.71 1.036-2.674 1.432-3.85a1.073 1.073 0 0 1 1.263-.704c2.4.558 8.677 2.019 11.356 2.662.522.125.871.615.82 1.15l-.305 3.248z","fill","#520038"],["d","M104.977 76.064c-.103.61-.582 1.038-1.07.956-.489-.083-.801-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.644.698 1.254M112.132 77.694c-.103.61-.582 1.038-1.07.956-.488-.083-.8-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.643.698 1.254","fill","#552950"],["stroke","#DB836E","strokeWidth","1.118","strokeLinecap","round","strokeLinejoin","round","d","M110.13 74.84l-.896 1.61-.298 4.357h-2.228"],["d","M110.846 74.481s1.79-.716 2.506.537","stroke","#5C2552","strokeWidth","1.118","strokeLinecap","round","strokeLinejoin","round"],["d","M92.386 74.282s.477-1.114 1.113-.716c.637.398 1.274 1.433.558 1.99-.717.556.159 1.67.159 1.67","stroke","#DB836E","strokeWidth","1.118","strokeLinecap","round","strokeLinejoin","round"],["d","M103.287 72.93s1.83 1.113 4.137.954","stroke","#5C2552","strokeWidth","1.118","strokeLinecap","round","strokeLinejoin","round"],["d","M103.685 81.762s2.227 1.193 4.376 1.193M104.64 84.308s.954.398 1.511.318M94.693 81.205s2.308 7.4 10.424 7.639","stroke","#DB836E","strokeWidth","1.118","strokeLinecap","round","strokeLinejoin","round"],["d","M81.45 89.384s.45 5.647-4.935 12.787M69 82.654s-.726 9.282-8.204 14.206","stroke","#E4EBF7","strokeWidth","1.101","strokeLinecap","round","strokeLinejoin","round"],["d","M129.405 122.865s-5.272 7.403-9.422 10.768","stroke","#E4EBF7","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M119.306 107.329s.452 4.366-2.127 32.062","stroke","#E4EBF7","strokeWidth","1.101","strokeLinecap","round","strokeLinejoin","round"],["d","M150.028 151.232h-49.837a1.01 1.01 0 0 1-1.01-1.01v-31.688c0-.557.452-1.01 1.01-1.01h49.837c.558 0 1.01.453 1.01 1.01v31.688a1.01 1.01 0 0 1-1.01 1.01","fill","#F2D7AD"],["d","M150.29 151.232h-19.863v-33.707h20.784v32.786a.92.92 0 0 1-.92.92","fill","#F4D19D"],["d","M123.554 127.896H92.917a.518.518 0 0 1-.425-.816l6.38-9.113c.193-.277.51-.442.85-.442h31.092l-7.26 10.371z","fill","#F2D7AD"],["fill","#CC9B6E","d","M123.689 128.447H99.25v-.519h24.169l7.183-10.26.424.298z"],["d","M158.298 127.896h-18.669a2.073 2.073 0 0 1-1.659-.83l-7.156-9.541h19.965c.49 0 .95.23 1.244.622l6.69 8.92a.519.519 0 0 1-.415.83","fill","#F4D19D"],["fill","#CC9B6E","d","M157.847 128.479h-19.384l-7.857-10.475.415-.31 7.7 10.266h19.126zM130.554 150.685l-.032-8.177.519-.002.032 8.177z"],["fill","#CC9B6E","d","M130.511 139.783l-.08-21.414.519-.002.08 21.414zM111.876 140.932l-.498-.143 1.479-5.167.498.143zM108.437 141.06l-2.679-2.935 2.665-3.434.41.318-2.397 3.089 2.384 2.612zM116.607 141.06l-.383-.35 2.383-2.612-2.397-3.089.41-.318 2.665 3.434z"],["d","M154.316 131.892l-3.114-1.96.038 3.514-1.043.092c-1.682.115-3.634.23-4.789.23-1.902 0-2.693 2.258 2.23 2.648l-2.645-.596s-2.168 1.317.504 2.3c0 0-1.58 1.217.561 2.58-.584 3.504 5.247 4.058 7.122 3.59 1.876-.47 4.233-2.359 4.487-5.16.28-3.085-.89-5.432-3.35-7.238","fill","#FFC6A0"],["d","M153.686 133.577s-6.522.47-8.36.372c-1.836-.098-1.904 2.19 2.359 2.264 3.739.15 5.451-.044 5.451-.044","stroke","#DB836E","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M145.16 135.877c-1.85 1.346.561 2.355.561 2.355s3.478.898 6.73.617","stroke","#DB836E","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M151.89 141.71s-6.28.111-6.73-2.132c-.223-1.346.45-1.402.45-1.402M146.114 140.868s-1.103 3.16 5.44 3.533M151.202 129.932v3.477M52.838 89.286c3.533-.337 8.423-1.248 13.582-7.754","stroke","#DB836E","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M168.567 248.318a6.647 6.647 0 0 1-6.647-6.647v-66.466a6.647 6.647 0 1 1 13.294 0v66.466a6.647 6.647 0 0 1-6.647 6.647","fill","#5BA02E"],["d","M176.543 247.653a6.647 6.647 0 0 1-6.646-6.647v-33.232a6.647 6.647 0 1 1 13.293 0v33.232a6.647 6.647 0 0 1-6.647 6.647","fill","#92C110"],["d","M186.443 293.613H158.92a3.187 3.187 0 0 1-3.187-3.187v-46.134a3.187 3.187 0 0 1 3.187-3.187h27.524a3.187 3.187 0 0 1 3.187 3.187v46.134a3.187 3.187 0 0 1-3.187 3.187","fill","#F2D7AD"],["d","M88.979 89.48s7.776 5.384 16.6 2.842","stroke","#E4EBF7","strokeWidth","1.101","strokeLinecap","round","strokeLinejoin","round"]],template:function(t,e){1&t&&(r.ic(),r.Xb(0,"svg",0),r.Xb(1,"defs"),r.Sb(2,"path",1),r.Wb(),r.Xb(3,"g",2),r.Xb(4,"g",3),r.Sb(5,"mask",4),r.Sb(6,"path",5),r.Wb(),r.Sb(7,"path",6),r.Sb(8,"path",7),r.Sb(9,"path",8),r.Sb(10,"path",9),r.Sb(11,"path",10),r.Sb(12,"path",11),r.Sb(13,"path",12),r.Sb(14,"path",13),r.Sb(15,"path",14),r.Sb(16,"path",15),r.Sb(17,"path",16),r.Sb(18,"path",17),r.Sb(19,"path",18),r.Sb(20,"path",19),r.Sb(21,"path",20),r.Sb(22,"path",21),r.Sb(23,"path",22),r.Sb(24,"path",23),r.Sb(25,"path",24),r.Sb(26,"path",25),r.Sb(27,"path",26),r.Sb(28,"path",27),r.Sb(29,"path",28),r.Sb(30,"path",29),r.Sb(31,"path",30),r.Sb(32,"path",31),r.Sb(33,"path",32),r.Sb(34,"path",33),r.Sb(35,"path",34),r.Sb(36,"path",35),r.Sb(37,"path",36),r.Sb(38,"path",37),r.Sb(39,"path",38),r.Sb(40,"path",39),r.Sb(41,"path",40),r.Sb(42,"path",41),r.Sb(43,"path",42),r.Sb(44,"path",43),r.Sb(45,"path",44),r.Sb(46,"path",45),r.Sb(47,"path",46),r.Sb(48,"path",47),r.Sb(49,"path",48),r.Sb(50,"path",49),r.Sb(51,"path",50),r.Sb(52,"path",51),r.Sb(53,"path",52),r.Sb(54,"path",53),r.Sb(55,"path",54),r.Sb(56,"path",55),r.Sb(57,"path",56),r.Sb(58,"path",57),r.Sb(59,"path",58),r.Sb(60,"path",59),r.Sb(61,"path",60),r.Wb(),r.Wb())},encapsulation:2,changeDetection:0}),t})(),OP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-result-server-error"]],exportAs:["nzResultServerError"],decls:69,vars:0,consts:[["width","254","height","294"],["d","M0 .335h253.49v253.49H0z"],["d","M0 293.665h253.49V.401H0z"],["fill","none","fillRule","evenodd"],["transform","translate(0 .067)"],["fill","#fff"],["d","M0 128.134v-2.11C0 56.608 56.273.334 125.69.334h2.11c69.416 0 125.69 56.274 125.69 125.69v2.11c0 69.417-56.274 125.69-125.69 125.69h-2.11C56.273 253.824 0 197.551 0 128.134","fill","#E4EBF7","mask","url(#b)"],["d","M39.989 132.108a8.332 8.332 0 1 1-16.581-1.671 8.332 8.332 0 0 1 16.58 1.671","fill","#FFF"],["d","M37.19 135.59l10.553 5.983M48.665 147.884l-12.734 10.861","stroke","#FFF","strokeWidth","2"],["d","M40.11 160.816a5.706 5.706 0 1 1-11.354-1.145 5.706 5.706 0 0 1 11.354 1.145M57.943 144.6a5.747 5.747 0 1 1-11.436-1.152 5.747 5.747 0 0 1 11.436 1.153M99.656 27.434l30.024-.013a4.619 4.619 0 1 0-.004-9.238l-30.024.013a4.62 4.62 0 0 0 .004 9.238M111.14 45.896l30.023-.013a4.62 4.62 0 1 0-.004-9.238l-30.024.013a4.619 4.619 0 1 0 .004 9.238","fill","#FFF"],["d","M113.53 27.421v-.002l15.89-.007a4.619 4.619 0 1 0 .005 9.238l-15.892.007v-.002a4.618 4.618 0 0 0-.004-9.234M150.167 70.091h-3.979a4.789 4.789 0 0 1-4.774-4.775 4.788 4.788 0 0 1 4.774-4.774h3.979a4.789 4.789 0 0 1 4.775 4.774 4.789 4.789 0 0 1-4.775 4.775","fill","#FFF"],["d","M171.687 30.234c0-16.392 13.289-29.68 29.681-29.68 16.392 0 29.68 13.288 29.68 29.68 0 16.393-13.288 29.681-29.68 29.681s-29.68-13.288-29.68-29.68","fill","#FF603B"],["d","M203.557 19.435l-.676 15.035a1.514 1.514 0 0 1-3.026 0l-.675-15.035a2.19 2.19 0 1 1 4.377 0m-.264 19.378c.513.477.77 1.1.77 1.87s-.257 1.393-.77 1.907c-.55.476-1.21.733-1.943.733a2.545 2.545 0 0 1-1.87-.77c-.55-.514-.806-1.136-.806-1.87 0-.77.256-1.393.806-1.87.513-.513 1.137-.733 1.87-.733.77 0 1.43.22 1.943.733","fill","#FFF"],["d","M119.3 133.275c4.426-.598 3.612-1.204 4.079-4.778.675-5.18-3.108-16.935-8.262-25.118-1.088-10.72-12.598-11.24-12.598-11.24s4.312 4.895 4.196 16.199c1.398 5.243.804 14.45.804 14.45s5.255 11.369 11.78 10.487","fill","#FFB594"],["d","M100.944 91.61s1.463-.583 3.211.582c8.08 1.398 10.368 6.706 11.3 11.368 1.864 1.282 1.864 2.33 1.864 3.496.365.777 1.515 3.03 1.515 3.03s-7.225 1.748-10.954 6.758c-1.399-6.41-6.936-25.235-6.936-25.235","fill","#FFF"],["d","M94.008 90.5l1.019-5.815-9.23-11.874-5.233 5.581-2.593 9.863s8.39 5.128 16.037 2.246","fill","#FFB594"],["d","M82.931 78.216s-4.557-2.868-2.445-6.892c1.632-3.107 4.537 1.139 4.537 1.139s.524-3.662 3.139-3.662c.523-1.046 1.569-4.184 1.569-4.184s11.507 2.615 13.6 3.138c-.001 5.23-2.317 19.529-7.884 19.969-8.94.706-12.516-9.508-12.516-9.508","fill","#FFC6A0"],["d","M102.971 72.243c2.616-2.093 3.489-9.775 3.489-9.775s-2.492-.492-6.676-2.062c-4.708-2.092-12.867-4.771-17.575.982-9.54 4.41-2.062 19.93-2.062 19.93l2.729-3.037s-3.956-3.304-2.092-6.277c2.183-3.48 3.943 1.08 3.943 1.08s.64-2.4 3.6-3.36c.356-.714 1.04-2.69 1.44-3.872a1.08 1.08 0 0 1 1.27-.707c2.41.56 8.723 2.03 11.417 2.676.524.126.876.619.825 1.156l-.308 3.266z","fill","#520038"],["d","M101.22 76.514c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.961.491.083.805.647.702 1.26M94.26 75.074c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.96.491.082.805.646.702 1.26","fill","#552950"],["stroke","#DB836E","strokeWidth","1.063","strokeLinecap","round","strokeLinejoin","round","d","M99.206 73.644l-.9 1.62-.3 4.38h-2.24"],["d","M99.926 73.284s1.8-.72 2.52.54","stroke","#5C2552","strokeWidth","1.117","strokeLinecap","round","strokeLinejoin","round"],["d","M81.367 73.084s.48-1.12 1.12-.72c.64.4 1.28 1.44.56 2s.16 1.68.16 1.68","stroke","#DB836E","strokeWidth","1.117","strokeLinecap","round","strokeLinejoin","round"],["d","M92.326 71.724s1.84 1.12 4.16.96","stroke","#5C2552","strokeWidth","1.117","strokeLinecap","round","strokeLinejoin","round"],["d","M92.726 80.604s2.24 1.2 4.4 1.2M93.686 83.164s.96.4 1.52.32M83.687 80.044s1.786 6.547 9.262 7.954","stroke","#DB836E","strokeWidth","1.063","strokeLinecap","round","strokeLinejoin","round"],["d","M95.548 91.663s-1.068 2.821-8.298 2.105c-7.23-.717-10.29-5.044-10.29-5.044","stroke","#E4EBF7","strokeWidth","1.136","strokeLinecap","round","strokeLinejoin","round"],["d","M78.126 87.478s6.526 4.972 16.47 2.486c0 0 9.577 1.02 11.536 5.322 5.36 11.77.543 36.835 0 39.962 3.496 4.055-.466 8.483-.466 8.483-15.624-3.548-35.81-.6-35.81-.6-4.849-3.546-1.223-9.044-1.223-9.044L62.38 110.32c-2.485-15.227.833-19.803 3.549-20.743 3.03-1.049 8.04-1.282 8.04-1.282.496-.058 1.08-.076 1.37-.233 2.36-1.282 2.787-.583 2.787-.583","fill","#FFF"],["d","M65.828 89.81s-6.875.465-7.59 8.156c-.466 8.857 3.03 10.954 3.03 10.954s6.075 22.102 16.796 22.957c8.39-2.176 4.758-6.702 4.661-11.42-.233-11.304-7.108-16.897-7.108-16.897s-4.212-13.75-9.789-13.75","fill","#FFC6A0"],["d","M71.716 124.225s.855 11.264 9.828 6.486c4.765-2.536 7.581-13.828 9.789-22.568 1.456-5.768 2.58-12.197 2.58-12.197l-4.973-1.709s-2.408 5.516-7.769 12.275c-4.335 5.467-9.144 11.11-9.455 17.713","fill","#FFC6A0"],["d","M108.463 105.191s1.747 2.724-2.331 30.535c2.376 2.216 1.053 6.012-.233 7.51","stroke","#E4EBF7","strokeWidth","1.085","strokeLinecap","round","strokeLinejoin","round"],["d","M123.262 131.527s-.427 2.732-11.77 1.981c-15.187-1.006-25.326-3.25-25.326-3.25l.933-5.8s.723.215 9.71-.068c11.887-.373 18.714-6.07 24.964-1.022 4.039 3.263 1.489 8.16 1.489 8.16","fill","#FFC6A0"],["d","M70.24 90.974s-5.593-4.739-11.054 2.68c-3.318 7.223.517 15.284 2.664 19.578-.31 3.729 2.33 4.311 2.33 4.311s.108.895 1.516 2.68c4.078-7.03 6.72-9.166 13.711-12.546-.328-.656-1.877-3.265-1.825-3.767.175-1.69-1.282-2.623-1.282-2.623s-.286-.156-1.165-2.738c-.788-2.313-2.036-5.177-4.895-7.575","fill","#FFF"],["d","M90.232 288.027s4.855 2.308 8.313 1.155c3.188-1.063 5.12.755 8.002 1.331 2.881.577 7.769 1.243 13.207-1.424-.117-6.228-7.786-4.499-13.518-7.588-2.895-1.56-4.276-5.336-4.066-9.944H91.544s-1.573 11.89-1.312 16.47","fill","#CBD1D1"],["d","M90.207 287.833s2.745 1.437 7.639.738c3.456-.494 3.223.66 7.418 1.282 4.195.621 13.092-.194 14.334-1.126.466 1.242-.388 2.33-.388 2.33s-1.709.682-5.438.932c-2.295.154-8.098.276-10.14-.621-2.02-1.554-4.894-1.515-6.06-.234-4.427 1.075-7.184-.31-7.184-.31l-.181-2.991z","fill","#2B0849"],["d","M98.429 272.257h3.496s-.117 7.574 5.127 9.671c-5.244.7-9.672-2.602-8.623-9.671","fill","#A4AABA"],["d","M44.425 272.046s-2.208 7.774-4.702 12.899c-1.884 3.874-4.428 7.854 5.729 7.854 6.97 0 9.385-.503 7.782-6.917-1.604-6.415.279-13.836.279-13.836h-9.088z","fill","#CBD1D1"],["d","M38.066 290.277s2.198 1.225 6.954 1.225c6.376 0 8.646-1.73 8.646-1.73s.63 1.168-.649 2.27c-1.04.897-3.77 1.668-7.745 1.621-4.347-.05-6.115-.593-7.062-1.224-.864-.577-.72-1.657-.144-2.162","fill","#2B0849"],["d","M45.344 274.041s.035 1.592-.329 3.07c-.365 1.49-1.13 3.255-1.184 4.34-.061 1.206 4.755 1.657 5.403.036.65-1.622 1.357-6.737 2.006-7.602.648-.865-5.14-2.222-5.896.156","fill","#A4AABA"],["d","M89.476 277.57l13.899.095s1.349-56.643 1.925-66.909c.576-10.267 3.923-45.052 1.042-65.585l-13.037-.669-23.737.81s-.452 4.12-1.243 10.365c-.065.515-.708.874-.777 1.417-.078.608.439 1.407.332 2.044-2.455 14.627-5.797 32.736-8.256 46.837-.121.693-1.282 1.048-1.515 2.796-.042.314.22 1.584.116 1.865-7.14 19.473-12.202 52.601-15.66 67.19l15.176-.015s2.282-10.145 4.185-18.871c2.922-13.389 24.012-88.32 24.012-88.32l3.133-.954-.158 48.568s-.233 1.282.35 2.098c.583.815-.581 1.167-.408 2.331l.408 1.864s-.466 7.458-.932 12.352c-.467 4.895 1.145 40.69 1.145 40.69","fill","#7BB2F9"],["d","M64.57 218.881c1.197.099 4.195-2.097 7.225-5.127M96.024 222.534s2.881-1.152 6.34-4.034","stroke","#648BD8","strokeWidth","1.085","strokeLinecap","round","strokeLinejoin","round"],["d","M96.973 219.373s2.882-1.153 6.34-4.034","stroke","#648BD8","strokeWidth","1.032","strokeLinecap","round","strokeLinejoin","round"],["d","M63.172 222.144s2.724-.614 6.759-3.496M74.903 146.166c-.281 3.226.31 8.856-4.506 9.478M93.182 144.344s.115 14.557-1.344 15.65c-2.305 1.73-3.107 2.02-3.107 2.02M89.197 144.923s.269 13.144-1.01 25.088M83.525 170.71s6.81-1.051 9.116-1.051M46.026 270.045l-.892 4.538M46.937 263.289l-.815 4.157M62.725 202.503c-.33 1.618-.102 1.904-.449 3.438 0 0-2.756 1.903-2.29 3.923.466 2.02-.31 3.424-4.505 17.252-1.762 5.807-4.233 18.922-6.165 28.278-.03.144-.521 2.646-1.14 5.8M64.158 194.136c-.295 1.658-.6 3.31-.917 4.938M71.33 146.787l-1.244 10.877s-1.14.155-.519 2.33c.117 1.399-2.778 16.39-5.382 31.615M44.242 273.727H58.07","stroke","#648BD8","strokeWidth","1.085","strokeLinecap","round","strokeLinejoin","round"],["d","M106.18 142.117c-3.028-.489-18.825-2.744-36.219.2a.625.625 0 0 0-.518.644c.063 1.307.044 2.343.015 2.995a.617.617 0 0 0 .716.636c3.303-.534 17.037-2.412 35.664-.266.347.04.66-.214.692-.56.124-1.347.16-2.425.17-3.029a.616.616 0 0 0-.52-.62","fill","#192064"],["d","M96.398 145.264l.003-5.102a.843.843 0 0 0-.809-.847 114.104 114.104 0 0 0-8.141-.014.85.85 0 0 0-.82.847l-.003 5.097c0 .476.388.857.864.845 2.478-.064 5.166-.067 8.03.017a.848.848 0 0 0 .876-.843","fill","#FFF"],["d","M95.239 144.296l.002-3.195a.667.667 0 0 0-.643-.672c-1.9-.061-3.941-.073-6.094-.01a.675.675 0 0 0-.654.672l-.002 3.192c0 .376.305.677.68.669 1.859-.042 3.874-.043 6.02.012.376.01.69-.291.691-.668","fill","#192064"],["d","M90.102 273.522h12.819M91.216 269.761c.006 3.519-.072 5.55 0 6.292M90.923 263.474c-.009 1.599-.016 2.558-.016 4.505M90.44 170.404l.932 46.38s.7 1.631-.233 2.796c-.932 1.166 2.564.7.932 2.33-1.63 1.633.933 1.166 0 3.497-.618 1.546-1.031 21.921-1.138 36.513","stroke","#648BD8","strokeWidth","1.085","strokeLinecap","round","strokeLinejoin","round"],["d","M73.736 98.665l2.214 4.312s2.098.816 1.865 2.68l.816 2.214M64.297 116.611c.233-.932 2.176-7.147 12.585-10.488M77.598 90.042s7.691 6.137 16.547 2.72","stroke","#E4EBF7","strokeWidth","1.085","strokeLinecap","round","strokeLinejoin","round"],["d","M91.974 86.954s5.476-.816 7.574-4.545c1.297-.345.72 2.212-.33 3.671-.7.971-1.01 1.554-1.01 1.554s.194.31.155.816c-.053.697-.175.653-.272 1.048-.081.335.108.657 0 1.049-.046.17-.198.5-.382.878-.12.249-.072.687-.2.948-.231.469-1.562 1.87-2.622 2.855-3.826 3.554-5.018 1.644-6.001-.408-.894-1.865-.661-5.127-.874-6.875-.35-2.914-2.622-3.03-1.923-4.429.343-.685 2.87.69 3.263 1.748.757 2.04 2.952 1.807 2.622 1.69","fill","#FFC6A0"],["d","M99.8 82.429c-.465.077-.35.272-.97 1.243-.622.971-4.817 2.932-6.39 3.224-2.589.48-2.278-1.56-4.254-2.855-1.69-1.107-3.562-.638-1.398 1.398.99.932.932 1.107 1.398 3.205.335 1.506-.64 3.67.7 5.593","stroke","#DB836E","strokeWidth",".774","strokeLinecap","round","strokeLinejoin","round"],["d","M79.543 108.673c-2.1 2.926-4.266 6.175-5.557 8.762","stroke","#E59788","strokeWidth",".774","strokeLinecap","round","strokeLinejoin","round"],["d","M87.72 124.768s-2.098-1.942-5.127-2.719c-3.03-.777-3.574-.155-5.516.078-1.942.233-3.885-.932-3.652.7.233 1.63 5.05 1.01 5.206 2.097.155 1.087-6.37 2.796-8.313 2.175-.777.777.466 1.864 2.02 2.175.233 1.554 2.253 1.554 2.253 1.554s.699 1.01 2.641 1.088c2.486 1.32 8.934-.7 10.954-1.554 2.02-.855-.466-5.594-.466-5.594","fill","#FFC6A0"],["d","M73.425 122.826s.66 1.127 3.167 1.418c2.315.27 2.563.583 2.563.583s-2.545 2.894-9.07 2.272M72.416 129.274s3.826.097 4.933-.718M74.98 130.75s1.961.136 3.36-.505M77.232 131.916s1.748.019 2.914-.505M73.328 122.321s-.595-1.032 1.262-.427c1.671.544 2.833.055 5.128.155 1.389.061 3.067-.297 3.982.15 1.606.784 3.632 2.181 3.632 2.181s10.526 1.204 19.033-1.127M78.864 108.104s-8.39 2.758-13.168 12.12","stroke","#E59788","strokeWidth",".774","strokeLinecap","round","strokeLinejoin","round"],["d","M109.278 112.533s3.38-3.613 7.575-4.662","stroke","#E4EBF7","strokeWidth","1.085","strokeLinecap","round","strokeLinejoin","round"],["d","M107.375 123.006s9.697-2.745 11.445-.88","stroke","#E59788","strokeWidth",".774","strokeLinecap","round","strokeLinejoin","round"],["d","M194.605 83.656l3.971-3.886M187.166 90.933l3.736-3.655M191.752 84.207l-4.462-4.56M198.453 91.057l-4.133-4.225M129.256 163.074l3.718-3.718M122.291 170.039l3.498-3.498M126.561 163.626l-4.27-4.27M132.975 170.039l-3.955-3.955","stroke","#BFCDDD","strokeWidth","2","strokeLinecap","round","strokeLinejoin","round"],["d","M190.156 211.779h-1.604a4.023 4.023 0 0 1-4.011-4.011V175.68a4.023 4.023 0 0 1 4.01-4.01h1.605a4.023 4.023 0 0 1 4.011 4.01v32.088a4.023 4.023 0 0 1-4.01 4.01","fill","#A3B4C6"],["d","M237.824 212.977a4.813 4.813 0 0 1-4.813 4.813h-86.636a4.813 4.813 0 0 1 0-9.626h86.636a4.813 4.813 0 0 1 4.813 4.813","fill","#A3B4C6"],["fill","#A3B4C6","mask","url(#d)","d","M154.098 190.096h70.513v-84.617h-70.513z"],["d","M224.928 190.096H153.78a3.219 3.219 0 0 1-3.208-3.209V167.92a3.219 3.219 0 0 1 3.208-3.21h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.219 3.219 0 0 1-3.21 3.209M224.928 130.832H153.78a3.218 3.218 0 0 1-3.208-3.208v-18.968a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.218 3.218 0 0 1-3.21 3.208","fill","#BFCDDD","mask","url(#d)"],["d","M159.563 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 120.546h-22.461a.802.802 0 0 1-.802-.802v-3.208c0-.443.359-.803.802-.803h22.46c.444 0 .803.36.803.803v3.208c0 .443-.36.802-.802.802","fill","#FFF","mask","url(#d)"],["d","M224.928 160.464H153.78a3.218 3.218 0 0 1-3.208-3.209v-18.967a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.209v18.967a3.218 3.218 0 0 1-3.21 3.209","fill","#BFCDDD","mask","url(#d)"],["d","M173.455 130.832h49.301M164.984 130.832h6.089M155.952 130.832h6.75M173.837 160.613h49.3M165.365 160.613h6.089M155.57 160.613h6.751","stroke","#7C90A5","strokeWidth","1.124","strokeLinecap","round","strokeLinejoin","round","mask","url(#d)"],["d","M159.563 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M166.98 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M174.397 151.038a2.407 2.407 0 1 1 .001-4.814 2.407 2.407 0 0 1 0 4.814M222.539 151.038h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802M159.563 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 179.987h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802","fill","#FFF","mask","url(#d)"],["d","M203.04 221.108h-27.372a2.413 2.413 0 0 1-2.406-2.407v-11.448a2.414 2.414 0 0 1 2.406-2.407h27.372a2.414 2.414 0 0 1 2.407 2.407V218.7a2.413 2.413 0 0 1-2.407 2.407","fill","#BFCDDD","mask","url(#d)"],["d","M177.259 207.217v11.52M201.05 207.217v11.52","stroke","#A3B4C6","strokeWidth","1.124","strokeLinecap","round","strokeLinejoin","round","mask","url(#d)"],["d","M162.873 267.894a9.422 9.422 0 0 1-9.422-9.422v-14.82a9.423 9.423 0 0 1 18.845 0v14.82a9.423 9.423 0 0 1-9.423 9.422","fill","#5BA02E","mask","url(#d)"],["d","M171.22 267.83a9.422 9.422 0 0 1-9.422-9.423v-3.438a9.423 9.423 0 0 1 18.845 0v3.438a9.423 9.423 0 0 1-9.422 9.423","fill","#92C110","mask","url(#d)"],["d","M181.31 293.666h-27.712a3.209 3.209 0 0 1-3.209-3.21V269.79a3.209 3.209 0 0 1 3.209-3.21h27.711a3.209 3.209 0 0 1 3.209 3.21v20.668a3.209 3.209 0 0 1-3.209 3.209","fill","#F2D7AD","mask","url(#d)"]],template:function(t,e){1&t&&(r.ic(),r.Xb(0,"svg",0),r.Xb(1,"defs"),r.Sb(2,"path",1),r.Sb(3,"path",2),r.Wb(),r.Xb(4,"g",3),r.Xb(5,"g",4),r.Sb(6,"mask",5),r.Sb(7,"path",6),r.Wb(),r.Sb(8,"path",7),r.Sb(9,"path",8),r.Sb(10,"path",9),r.Sb(11,"path",10),r.Sb(12,"path",11),r.Sb(13,"path",12),r.Sb(14,"path",13),r.Sb(15,"path",14),r.Sb(16,"path",15),r.Sb(17,"path",16),r.Sb(18,"path",17),r.Sb(19,"path",18),r.Sb(20,"path",19),r.Sb(21,"path",20),r.Sb(22,"path",21),r.Sb(23,"path",22),r.Sb(24,"path",23),r.Sb(25,"path",24),r.Sb(26,"path",25),r.Sb(27,"path",26),r.Sb(28,"path",27),r.Sb(29,"path",28),r.Sb(30,"path",29),r.Sb(31,"path",30),r.Sb(32,"path",31),r.Sb(33,"path",32),r.Sb(34,"path",33),r.Sb(35,"path",34),r.Sb(36,"path",35),r.Sb(37,"path",36),r.Sb(38,"path",37),r.Sb(39,"path",38),r.Sb(40,"path",39),r.Sb(41,"path",40),r.Sb(42,"path",41),r.Sb(43,"path",42),r.Sb(44,"path",43),r.Sb(45,"path",44),r.Sb(46,"path",45),r.Sb(47,"path",46),r.Sb(48,"path",47),r.Sb(49,"path",48),r.Sb(50,"path",49),r.Sb(51,"path",50),r.Sb(52,"path",51),r.Sb(53,"path",52),r.Sb(54,"path",53),r.Sb(55,"path",54),r.Sb(56,"path",55),r.Sb(57,"mask",5),r.Sb(58,"path",56),r.Sb(59,"path",57),r.Sb(60,"path",58),r.Sb(61,"path",59),r.Sb(62,"path",60),r.Sb(63,"path",61),r.Sb(64,"path",62),r.Sb(65,"path",63),r.Sb(66,"path",64),r.Sb(67,"path",65),r.Sb(68,"path",66),r.Wb(),r.Wb())},encapsulation:2,changeDetection:0}),t})(),kP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-result-unauthorized"]],exportAs:["nzResultUnauthorized"],decls:56,vars:0,consts:[["width","251","height","294"],["fill","none","fillRule","evenodd"],["d","M0 129.023v-2.084C0 58.364 55.591 2.774 124.165 2.774h2.085c68.574 0 124.165 55.59 124.165 124.165v2.084c0 68.575-55.59 124.166-124.165 124.166h-2.085C55.591 253.189 0 197.598 0 129.023","fill","#E4EBF7"],["d","M41.417 132.92a8.231 8.231 0 1 1-16.38-1.65 8.231 8.231 0 0 1 16.38 1.65","fill","#FFF"],["d","M38.652 136.36l10.425 5.91M49.989 148.505l-12.58 10.73","stroke","#FFF","strokeWidth","2"],["d","M41.536 161.28a5.636 5.636 0 1 1-11.216-1.13 5.636 5.636 0 0 1 11.216 1.13M59.154 145.261a5.677 5.677 0 1 1-11.297-1.138 5.677 5.677 0 0 1 11.297 1.138M100.36 29.516l29.66-.013a4.562 4.562 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 0 0 .005 9.126M111.705 47.754l29.659-.013a4.563 4.563 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 1 0 .005 9.126","fill","#FFF"],["d","M114.066 29.503V29.5l15.698-.007a4.563 4.563 0 1 0 .004 9.126l-15.698.007v-.002a4.562 4.562 0 0 0-.004-9.122M185.405 137.723c-.55 5.455-5.418 9.432-10.873 8.882-5.456-.55-9.432-5.418-8.882-10.873.55-5.455 5.418-9.432 10.873-8.882 5.455.55 9.432 5.418 8.882 10.873","fill","#FFF"],["d","M180.17 143.772l12.572 7.129M193.841 158.42L178.67 171.36","stroke","#FFF","strokeWidth","2"],["d","M185.55 171.926a6.798 6.798 0 1 1-13.528-1.363 6.798 6.798 0 0 1 13.527 1.363M204.12 155.285a6.848 6.848 0 1 1-13.627-1.375 6.848 6.848 0 0 1 13.626 1.375","fill","#FFF"],["d","M152.988 194.074a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0zM225.931 118.217a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM217.09 153.051a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.42 0zM177.84 109.842a2.21 2.21 0 1 1-4.422 0 2.21 2.21 0 0 1 4.421 0zM196.114 94.454a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM202.844 182.523a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0z","stroke","#FFF","strokeWidth","2"],["stroke","#FFF","strokeWidth","2","d","M215.125 155.262l-1.902 20.075-10.87 5.958M174.601 176.636l-6.322 9.761H156.98l-4.484 6.449M175.874 127.28V111.56M221.51 119.404l-12.77 7.859-15.228-7.86V96.668"],["d","M180.68 29.32C180.68 13.128 193.806 0 210 0c16.193 0 29.32 13.127 29.32 29.32 0 16.194-13.127 29.322-29.32 29.322-16.193 0-29.32-13.128-29.32-29.321","fill","#A26EF4"],["d","M221.45 41.706l-21.563-.125a1.744 1.744 0 0 1-1.734-1.754l.071-12.23a1.744 1.744 0 0 1 1.754-1.734l21.562.125c.964.006 1.74.791 1.735 1.755l-.071 12.229a1.744 1.744 0 0 1-1.754 1.734","fill","#FFF"],["d","M215.106 29.192c-.015 2.577-2.049 4.654-4.543 4.64-2.494-.014-4.504-2.115-4.489-4.693l.04-6.925c.016-2.577 2.05-4.654 4.543-4.64 2.494.015 4.504 2.116 4.49 4.693l-.04 6.925zm-4.53-14.074a6.877 6.877 0 0 0-6.916 6.837l-.043 7.368a6.877 6.877 0 0 0 13.754.08l.042-7.368a6.878 6.878 0 0 0-6.837-6.917zM167.566 68.367h-3.93a4.73 4.73 0 0 1-4.717-4.717 4.73 4.73 0 0 1 4.717-4.717h3.93a4.73 4.73 0 0 1 4.717 4.717 4.73 4.73 0 0 1-4.717 4.717","fill","#FFF"],["d","M168.214 248.838a6.611 6.611 0 0 1-6.61-6.611v-66.108a6.611 6.611 0 0 1 13.221 0v66.108a6.611 6.611 0 0 1-6.61 6.61","fill","#5BA02E"],["d","M176.147 248.176a6.611 6.611 0 0 1-6.61-6.61v-33.054a6.611 6.611 0 1 1 13.221 0v33.053a6.611 6.611 0 0 1-6.61 6.611","fill","#92C110"],["d","M185.994 293.89h-27.376a3.17 3.17 0 0 1-3.17-3.17v-45.887a3.17 3.17 0 0 1 3.17-3.17h27.376a3.17 3.17 0 0 1 3.17 3.17v45.886a3.17 3.17 0 0 1-3.17 3.17","fill","#F2D7AD"],["d","M81.972 147.673s6.377-.927 17.566-1.28c11.729-.371 17.57 1.086 17.57 1.086s3.697-3.855.968-8.424c1.278-12.077 5.982-32.827.335-48.273-1.116-1.339-3.743-1.512-7.536-.62-1.337.315-7.147-.149-7.983-.1l-15.311-.347s-3.487-.17-8.035-.508c-1.512-.113-4.227-1.683-5.458-.338-.406.443-2.425 5.669-1.97 16.077l8.635 35.642s-3.141 3.61 1.219 7.085","fill","#FFF"],["d","M75.768 73.325l-.9-6.397 11.982-6.52s7.302-.118 8.038 1.205c.737 1.324-5.616.993-5.616.993s-1.836 1.388-2.615 2.5c-1.654 2.363-.986 6.471-8.318 5.986-1.708.284-2.57 2.233-2.57 2.233","fill","#FFC6A0"],["d","M52.44 77.672s14.217 9.406 24.973 14.444c1.061.497-2.094 16.183-11.892 11.811-7.436-3.318-20.162-8.44-21.482-14.496-.71-3.258 2.543-7.643 8.401-11.76M141.862 80.113s-6.693 2.999-13.844 6.876c-3.894 2.11-10.137 4.704-12.33 7.988-6.224 9.314 3.536 11.22 12.947 7.503 6.71-2.651 28.999-12.127 13.227-22.367","fill","#FFB594"],["d","M76.166 66.36l3.06 3.881s-2.783 2.67-6.31 5.747c-7.103 6.195-12.803 14.296-15.995 16.44-3.966 2.662-9.754 3.314-12.177-.118-3.553-5.032.464-14.628 31.422-25.95","fill","#FFC6A0"],["d","M64.674 85.116s-2.34 8.413-8.912 14.447c.652.548 18.586 10.51 22.144 10.056 5.238-.669 6.417-18.968 1.145-20.531-.702-.208-5.901-1.286-8.853-2.167-.87-.26-1.611-1.71-3.545-.936l-1.98-.869zM128.362 85.826s5.318 1.956 7.325 13.734c-.546.274-17.55 12.35-21.829 7.805-6.534-6.94-.766-17.393 4.275-18.61 4.646-1.121 5.03-1.37 10.23-2.929","fill","#FFF"],["d","M78.18 94.656s.911 7.41-4.914 13.078","stroke","#E4EBF7","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M87.397 94.68s3.124 2.572 10.263 2.572c7.14 0 9.074-3.437 9.074-3.437","stroke","#E4EBF7","strokeWidth",".932","strokeLinecap","round","strokeLinejoin","round"],["d","M117.184 68.639l-6.781-6.177s-5.355-4.314-9.223-.893c-3.867 3.422 4.463 2.083 5.653 4.165 1.19 2.082.848 1.143-2.083.446-5.603-1.331-2.082.893 2.975 5.355 2.091 1.845 6.992.955 6.992.955l2.467-3.851z","fill","#FFC6A0"],["d","M105.282 91.315l-.297-10.937-15.918-.027-.53 10.45c-.026.403.17.788.515.999 2.049 1.251 9.387 5.093 15.799.424.287-.21.443-.554.431-.91","fill","#FFB594"],["d","M107.573 74.24c.817-1.147.982-9.118 1.015-11.928a1.046 1.046 0 0 0-.965-1.055l-4.62-.365c-7.71-1.044-17.071.624-18.253 6.346-5.482 5.813-.421 13.244-.421 13.244s1.963 3.566 4.305 6.791c.756 1.041.398-3.731 3.04-5.929 5.524-4.594 15.899-7.103 15.899-7.103","fill","#5C2552"],["d","M88.426 83.206s2.685 6.202 11.602 6.522c7.82.28 8.973-7.008 7.434-17.505l-.909-5.483c-6.118-2.897-15.478.54-15.478.54s-.576 2.044-.19 5.504c-2.276 2.066-1.824 5.618-1.824 5.618s-.905-1.922-1.98-2.321c-.86-.32-1.897.089-2.322 1.98-1.04 4.632 3.667 5.145 3.667 5.145","fill","#FFC6A0"],["stroke","#DB836E","strokeWidth","1.145","strokeLinecap","round","strokeLinejoin","round","d","M100.843 77.099l1.701-.928-1.015-4.324.674-1.406"],["d","M105.546 74.092c-.022.713-.452 1.279-.96 1.263-.51-.016-.904-.607-.882-1.32.021-.713.452-1.278.96-1.263.51.016.904.607.882 1.32M97.592 74.349c-.022.713-.452 1.278-.961 1.263-.509-.016-.904-.607-.882-1.32.022-.713.452-1.279.961-1.263.51.016.904.606.882 1.32","fill","#552950"],["d","M91.132 86.786s5.269 4.957 12.679 2.327","stroke","#DB836E","strokeWidth","1.145","strokeLinecap","round","strokeLinejoin","round"],["d","M99.776 81.903s-3.592.232-1.44-2.79c1.59-1.496 4.897-.46 4.897-.46s1.156 3.906-3.457 3.25","fill","#DB836E"],["d","M102.88 70.6s2.483.84 3.402.715M93.883 71.975s2.492-1.144 4.778-1.073","stroke","#5C2552","strokeWidth","1.526","strokeLinecap","round","strokeLinejoin","round"],["d","M86.32 77.374s.961.879 1.458 2.106c-.377.48-1.033 1.152-.236 1.809M99.337 83.719s1.911.151 2.509-.254","stroke","#DB836E","strokeWidth","1.145","strokeLinecap","round","strokeLinejoin","round"],["d","M87.782 115.821l15.73-3.012M100.165 115.821l10.04-2.008","stroke","#E4EBF7","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M66.508 86.763s-1.598 8.83-6.697 14.078","stroke","#E4EBF7","strokeWidth","1.114","strokeLinecap","round","strokeLinejoin","round"],["d","M128.31 87.934s3.013 4.121 4.06 11.785","stroke","#E4EBF7","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M64.09 84.816s-6.03 9.912-13.607 9.903","stroke","#DB836E","strokeWidth",".795","strokeLinecap","round","strokeLinejoin","round"],["d","M112.366 65.909l-.142 5.32s5.993 4.472 11.945 9.202c4.482 3.562 8.888 7.455 10.985 8.662 4.804 2.766 8.9 3.355 11.076 1.808 4.071-2.894 4.373-9.878-8.136-15.263-4.271-1.838-16.144-6.36-25.728-9.73","fill","#FFC6A0"],["d","M130.532 85.488s4.588 5.757 11.619 6.214","stroke","#DB836E","strokeWidth",".75","strokeLinecap","round","strokeLinejoin","round"],["d","M121.708 105.73s-.393 8.564-1.34 13.612","stroke","#E4EBF7","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M115.784 161.512s-3.57-1.488-2.678-7.14","stroke","#648BD8","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M101.52 290.246s4.326 2.057 7.408 1.03c2.842-.948 4.564.673 7.132 1.186 2.57.514 6.925 1.108 11.772-1.269-.104-5.551-6.939-4.01-12.048-6.763-2.582-1.39-3.812-4.757-3.625-8.863h-9.471s-1.402 10.596-1.169 14.68","fill","#CBD1D1"],["d","M101.496 290.073s2.447 1.281 6.809.658c3.081-.44 3.74.485 7.479 1.039 3.739.554 10.802-.07 11.91-.9.415 1.108-.347 2.077-.347 2.077s-1.523.608-4.847.831c-2.045.137-5.843.293-7.663-.507-1.8-1.385-5.286-1.917-5.77-.243-3.947.958-7.41-.288-7.41-.288l-.16-2.667z","fill","#2B0849"],["d","M108.824 276.19h3.116s-.103 6.751 4.57 8.62c-4.673.624-8.62-2.32-7.686-8.62","fill","#A4AABA"],["d","M57.65 272.52s-2.122 7.47-4.518 12.396c-1.811 3.724-4.255 7.548 5.505 7.548 6.698 0 9.02-.483 7.479-6.648-1.541-6.164.268-13.296.268-13.296H57.65z","fill","#CBD1D1"],["d","M51.54 290.04s2.111 1.178 6.682 1.178c6.128 0 8.31-1.662 8.31-1.662s.605 1.122-.624 2.18c-1 .862-3.624 1.603-7.444 1.559-4.177-.049-5.876-.57-6.786-1.177-.831-.554-.692-1.593-.138-2.078","fill","#2B0849"],["d","M58.533 274.438s.034 1.529-.315 2.95c-.352 1.431-1.087 3.127-1.139 4.17-.058 1.16 4.57 1.592 5.194.035.623-1.559 1.303-6.475 1.927-7.306.622-.831-4.94-2.135-5.667.15","fill","#A4AABA"],["d","M100.885 277.015l13.306.092s1.291-54.228 1.843-64.056c.552-9.828 3.756-43.13.997-62.788l-12.48-.64-22.725.776s-.433 3.944-1.19 9.921c-.062.493-.677.838-.744 1.358-.075.582.42 1.347.318 1.956-2.35 14.003-6.343 32.926-8.697 46.425-.116.663-1.227 1.004-1.45 2.677-.04.3.21 1.516.112 1.785-6.836 18.643-10.89 47.584-14.2 61.551l14.528-.014s2.185-8.524 4.008-16.878c2.796-12.817 22.987-84.553 22.987-84.553l3-.517 1.037 46.1s-.223 1.228.334 2.008c.558.782-.556 1.117-.39 2.233l.39 1.784s-.446 7.14-.892 11.826c-.446 4.685-.092 38.954-.092 38.954","fill","#7BB2F9"],["d","M77.438 220.434c1.146.094 4.016-2.008 6.916-4.91M107.55 223.931s2.758-1.103 6.069-3.862","stroke","#648BD8","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M108.459 220.905s2.759-1.104 6.07-3.863","stroke","#648BD8","strokeLinecap","round","strokeLinejoin","round"],["d","M76.099 223.557s2.608-.587 6.47-3.346M87.33 150.82c-.27 3.088.297 8.478-4.315 9.073M104.829 149.075s.11 13.936-1.286 14.983c-2.207 1.655-2.975 1.934-2.975 1.934M101.014 149.63s.035 12.81-1.19 24.245M94.93 174.965s7.174-1.655 9.38-1.655M75.671 204.754c-.316 1.55-.64 3.067-.973 4.535 0 0-1.45 1.822-1.003 3.756.446 1.934-.943 2.034-4.96 15.273-1.686 5.559-4.464 18.49-6.313 27.447-.078.38-4.018 18.06-4.093 18.423M77.043 196.743a313.269 313.269 0 0 1-.877 4.729M83.908 151.414l-1.19 10.413s-1.091.148-.496 2.23c.111 1.34-2.66 15.692-5.153 30.267M57.58 272.94h13.238","stroke","#648BD8","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"],["d","M117.377 147.423s-16.955-3.087-35.7.199c.157 2.501-.002 4.128-.002 4.128s14.607-2.802 35.476-.31c.251-2.342.226-4.017.226-4.017","fill","#192064"],["d","M107.511 150.353l.004-4.885a.807.807 0 0 0-.774-.81c-2.428-.092-5.04-.108-7.795-.014a.814.814 0 0 0-.784.81l-.003 4.88c0 .456.371.82.827.808a140.76 140.76 0 0 1 7.688.017.81.81 0 0 0 .837-.806","fill","#FFF"],["d","M106.402 149.426l.002-3.06a.64.64 0 0 0-.616-.643 94.135 94.135 0 0 0-5.834-.009.647.647 0 0 0-.626.643l-.001 3.056c0 .36.291.648.651.64 1.78-.04 3.708-.041 5.762.012.36.009.662-.279.662-.64","fill","#192064"],["d","M101.485 273.933h12.272M102.652 269.075c.006 3.368.04 5.759.11 6.47M102.667 263.125c-.009 1.53-.015 2.98-.016 4.313M102.204 174.024l.893 44.402s.669 1.561-.224 2.677c-.892 1.116 2.455.67.893 2.231-1.562 1.562.893 1.116 0 3.347-.592 1.48-.988 20.987-1.09 34.956","stroke","#648BD8","strokeWidth","1.051","strokeLinecap","round","strokeLinejoin","round"]],template:function(t,e){1&t&&(r.ic(),r.Xb(0,"svg",0),r.Xb(1,"g",1),r.Sb(2,"path",2),r.Sb(3,"path",3),r.Sb(4,"path",4),r.Sb(5,"path",5),r.Sb(6,"path",6),r.Sb(7,"path",7),r.Sb(8,"path",8),r.Sb(9,"path",9),r.Sb(10,"path",10),r.Sb(11,"path",11),r.Sb(12,"path",12),r.Sb(13,"path",13),r.Sb(14,"path",14),r.Sb(15,"path",15),r.Sb(16,"path",16),r.Sb(17,"path",17),r.Sb(18,"path",18),r.Sb(19,"path",19),r.Sb(20,"path",20),r.Sb(21,"path",21),r.Sb(22,"path",22),r.Sb(23,"path",23),r.Sb(24,"path",24),r.Sb(25,"path",25),r.Sb(26,"path",26),r.Sb(27,"path",27),r.Sb(28,"path",28),r.Sb(29,"path",29),r.Sb(30,"path",30),r.Sb(31,"path",31),r.Sb(32,"path",32),r.Sb(33,"path",33),r.Sb(34,"path",34),r.Sb(35,"path",35),r.Sb(36,"path",36),r.Sb(37,"path",37),r.Sb(38,"path",38),r.Sb(39,"path",39),r.Sb(40,"path",40),r.Sb(41,"path",41),r.Sb(42,"path",42),r.Sb(43,"path",43),r.Sb(44,"path",44),r.Sb(45,"path",45),r.Sb(46,"path",46),r.Sb(47,"path",47),r.Sb(48,"path",48),r.Sb(49,"path",49),r.Sb(50,"path",50),r.Sb(51,"path",51),r.Sb(52,"path",52),r.Sb(53,"path",53),r.Sb(54,"path",54),r.Sb(55,"path",55),r.Wb(),r.Wb())},encapsulation:2,changeDetection:0}),t})(),TP=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,ii,Vo]]}),t})(),EP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["app-home"]],decls:1,vars:0,consts:[["nzStatus","success","nzTitle","Identificaci\xf3n correcta"]],template:function(t,e){1&t&&r.Sb(0,"nz-result",0)},directives:[SP],styles:[""]}),t})(),IP=(()=>{class t{constructor(){this.parameters={host:hm.backend_url,api_prefix:"/api"},this.viewStates={},this.currentUrl=null,this.currentView=null}getParameter(t){return this.parameters[t]}setHostUrl(t){this.parameters.host=t}changeCurrentUrl(t){null!=this.currentUrl&&this.setViewState(this.currentUrl,this.getCurrentView().getState()),this.setCurrentView(this.currentView,t),this.currentView.setState(this.getViewState(t))}getCurrentViewUrl(){return this.currentUrl}setCurrentView(t,e){null!=this.currentUrl&&null!=this.currentView&&(this.setViewState(this.currentUrl,this.getCurrentView().getState()),console.log("Saved state setCurrentView "+this.currentUrl));let n="";if("string"!=typeof e)for(const i of e)n+="/"+i.toString();else n=e;this.currentView=t,this.currentUrl=n,null!=n&&this.currentView.setState(this.getViewState(n))}saveOnDestroy(t,e=null){null!=this.currentUrl&&this.currentView===t&&(this.setViewState(this.currentUrl,t.getState(),e),console.log("Saved state onDestroy "+this.currentUrl),this.currentUrl=null,this.currentView=null)}getCurrentView(){return this.currentView}setViewState(t,e,n=null){if(null==n)this.viewStates[t]=e;else{let i;t in this.viewStates?i=this.viewStates[t]:(i={},this.viewStates[t]=i),i[n]=e}}getViewState(t){return t in this.viewStates?(console.log("Retrieved state "+t),this.viewStates[t]):(console.log("Tried retrieve state for "+t+" but still not..."),null)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),DP=(()=>{class t{constructor(t,e){this.http=t,this.state=e,this.host=e.getParameter("host"),this.api_prefix=e.getParameter("api_prefix"),this.base_url=e.getParameter("host")+e.getParameter("api_prefix")}setParams(t){const e={};return t&&Object.keys(t).forEach(n=>{e[n]=encodeURIComponent(JSON.stringify(t[n]))}),e}getSession(){return this.http.get(this.base_url+"/authn",this.state.authOptions)}putSession(){return console.log("Put Session"),this.http.put(this.base_url+"/authn",{},this.state.authOptions)}deleteSession(){return this.http.delete(this.base_url+"/authn",this.state.authOptions)}getProcesses(t,e){let n=this.base_url+"/processes/";return void 0!==t&&(n+=t),this.http.get(n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}postProcesses(t){return this.http.post(this.base_url+"/processes/",{params:this.setParams(t)},this.state.authOptions)}getResources(t,e){let n=this.base_url;return n+=null!=t?"/processes/"+t+"/resources/":"/resources/",this.http.get(n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}postJobs(t){return this.http.post(this.base_url+"/jobs/",{params:this.setParams(t)},this.state.authOptions)}getJobs(t,e){let n=this.base_url+"/jobs/";return null!=t&&(n+=t),this.http.get(n,Object.assign(Object.assign({},this.state.authOptions),{params:e}))}getFormats(t){return Object(wi.a)({content:["fasta","genbank","clustal","nexus","newick","phylip"]})}getRegions(){return Object(wi.a)({content:["matK","rbcl"]})}getOntologies(t,e){let n=this.base_url+"/ontologies/";return null!=t&&(n+=t),this.http.get(n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}deleteOntologies(t){let e=this.base_url+"/ontologies/";return null!=t&&(e+=t),this.http.delete(e,this.state.authOptions)}postOntologies(t){return this.http.post(this.base_url+"/ontologies/",t,this.state.authOptions)}putOntologies(t,e){return this.http.put(this.base_url+"/ontologies/"+t,e,this.state.authOptions)}importOntologies(t,e){const n=new FormData;for(const i of t)n.append("file",i,i.name);return this.http.post(this.base_url+"/ontologies/",n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}exportOntologies(t,e){return this.http.get(this.base_url+"/ontologies/"+t+"."+e,Object.assign(Object.assign({},this.state.authOptions),{Accept:"text/"+e,responseType:"blob"}))}getCvterms(t,e,n){let i=this.base_url+"/ontologies/";return null!=t&&(i+=t+"/"),i+="terms/",null!=e&&(i+=e),this.http.get(i,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(n)}))}getAnalyses(t,e){let n=this.base_url+"/analyses/";return null!=t&&(n+=t),this.http.get(n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}deleteAnalyses(t,e){let n=this.base_url+"/analyses/";return t&&(n+=t),this.http.delete(n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}postAnalyses(t){return this.http.post(this.base_url+"/analyses/",t,this.state.authOptions)}putAnalyses(t,e){return this.http.put(this.base_url+"/analyses/"+t,e,this.state.authOptions)}getTaxonomies(t,e){let n=this.base_url+"/taxonomies/";return null!=t&&(n+=t),this.http.get(n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}deleteTaxonomies(t,e){let n=this.base_url+"/taxonomies/";return null!=t&&(n+=t),this.http.delete(n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}postTaxonomies(t){return this.http.post(this.base_url+"/taxonomies/",t,this.state.authOptions)}putTaxonomies(t,e){return this.http.put(this.base_url+"/taxonomies/"+t,e,this.state.authOptions)}importTaxonomies(t,e){const n=new FormData;for(const i of t)n.append("file",i,i.name);return this.http.post(this.base_url+"/taxonomies/",n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}exportTaxonomies(t,e){return this.http.get(this.base_url+"/taxonomies/"+t+"."+e,Object.assign(Object.assign({},this.state.authOptions),{Accept:"text/"+e,responseType:"blob"}))}getOrganisms(t,e){let n=this.base_url+"/organisms/";return null!=t&&(n+=t),this.http.get(n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}deleteOrganisms(t,e){let n=this.base_url+"/organisms/";return null!=t&&(n+=t),this.http.delete(n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}postOrganisms(t){return this.http.post(this.base_url+"/organisms/",t,this.state.authOptions)}putOrganisms(t,e){return this.http.put(this.base_url+"/organisms/"+t,e,this.state.authOptions)}importOrganisms(t,e){const n=new FormData;for(const i of t)n.append("file",i,i.name);return this.http.post(this.base_url+"/organisms/",n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}exportOrganisms(t,e){return this.http.get(this.base_url+"/organisms/"+t+"."+e,Object.assign(Object.assign({},this.state.authOptions),{Accept:"text/"+e,responseType:"blob"}))}getSequences(t,e){let n=this.base_url+"/bos/sequences/";return null!=t&&(n+=t),this.http.get(n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}deleteSequences(t,e){let n=this.base_url+"/bos/sequences/";return null!=t&&(n+=t),this.http.delete(n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}postSequences(t){return this.http.post(this.base_url+"/bos/sequences/",t,this.state.authOptions)}putSequences(t,e){return this.http.put(this.base_url+"/bos/sequences/"+t,e,this.state.authOptions)}importSequences(t,e){const n=new FormData;for(const i of t)n.append("file",i,i.name);return this.http.post(this.base_url+"/bos/sequences/",n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}exportSequences(t,e,n){let i=this.base_url+"/bos/sequences";return t&&(i+="/"+t),e&&(i+="."+e),this.http.get(i,Object.assign(Object.assign({},this.state.authOptions),{Accept:"text/"+e,responseType:"blob",params:this.setParams(n)}))}getAlignments(t,e){let n=this.base_url+"/bos/alignments/";return null!=t&&(n+=t),this.http.get(n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}deleteAlignments(t,e){let n=this.base_url+"/bos/alignments/";return null!=t&&(n+=t),this.http.delete(n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}postAlignments(t){return this.http.post(this.base_url+"/bos/alignments/",t,this.state.authOptions)}putAlignments(t,e){return this.http.put(this.base_url+"/bos/alignments/"+t,e,this.state.authOptions)}importAlignments(t,e){const n=new FormData;for(const i of t)n.append("file",i,i.name);return this.http.post(this.base_url+"/bos/alignments/",n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}exportAlignments(t,e){return this.http.get(this.base_url+"/bos/alignments/"+t+"."+e,Object.assign(Object.assign({},this.state.authOptions),{Accept:"text/"+e,responseType:"blob"}))}getPhylotrees(t,e){let n=this.base_url+"/bos/phylotrees/";return null!=t&&(n+=t),this.http.get(n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}deletePhylotrees(t,e){let n=this.base_url+"/bos/phylotrees/";return null!=t&&(n+=t),this.http.delete(n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}postPhylotrees(t){return this.http.post(this.base_url+"/bos/phylotrees/",t,this.state.authOptions)}putPhylotrees(t,e){return this.http.put(this.base_url+"/bos/phylotrees/"+t,e,this.state.authOptions)}importPhylotrees(t,e){const n=new FormData;for(const i of t)n.append("file",i,i.name);return this.http.post(this.base_url+"/bos/phylotrees/",n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}exportPhylotrees(t,e){return this.http.get(this.base_url+"/bos/phylotrees/"+t+"."+e,Object.assign(Object.assign({},this.state.authOptions),{Accept:"text/"+e,responseType:"blob"}))}getFromChado(t,e,n){let i=this.getEndpoint(t)+"/";return e&&(i+=e),this.http.get(i,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(n)}))}postFromChado(t,e){return this.http.post(this.getEndpoint(t)+"/",e,this.state.authOptions)}putFromChado(t,e,n){return this.http.put(this.getEndpoint(t)+"/"+e,n,this.state.authOptions)}deleteFromChado(t,e,n){let i=this.getEndpoint(t);return e&&(i+="/"+e),this.http.delete(i,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(n)}))}importFromChado(t,e,n){const i=new FormData;for(const r of e)i.append("file",r,r.name);return this.http.post(this.getEndpoint(t),i,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(n)}))}exportFromChado(t,e,n,i){let r=this.getEndpoint(t);return e&&(r+="/"+e),n&&(r+="."+n),this.http.get(r,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(i),Accept:"text/"+n,responseType:"blob"}))}getBrowserFilters(t,e,n){let i=this.base_url+"/browser/"+t+"/filters/";return null!=e&&(i+=e),this.http.get(i,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(n)}))}postBrowserFilters(t,e,n){return this.http.post(this.base_url+"/browser/"+t+"/filters/",{name:e,values:n},this.state.authOptions)}putBrowserFilters(t,e,n){return this.http.put(this.base_url+"/browser/"+t+"/filters/"+e,{values:n},this.state.authOptions)}deleteBrowserFilters(t,e){return this.http.delete(this.base_url+"/browser/"+t+"/filters/"+e,this.state.authOptions)}getBrowserFilterForms(t){return this.http.get(this.base_url+"/browser/"+t+"/filters/schema",this.state.authOptions)}filter(t,e){let n={};for(const i in t)n[i]={op:"eq",unary:t[i]};for(const i in e)n[i]={op:"in",unary:e[i]};return{filter:[n]}}getEndpoint(t){return this.base_url+{sequences:"/bos/sequences",alignments:"/bos/alignments",phylotrees:"/bos/phylotrees",individuals:"/bos/individuals",collections:"/bos/collections",analyses:"/analyses",taxonomies:"/taxonomies",organisms:"/organisms",ontologies:"/ontologies"}[t]}getFieldID(t){return{sequences:"feature_id",alignments:"analysis_id",phylotrees:"phylotree_id",individuals:"stock_id",collections:"stockcollection_id",analyses:"analysis_id",taxonomies:"phylotree_id",organisms:"organism_id",ontologies:"cv_id"}[t]}buildSelectionFilter(t,e,n=!1){let i={};if(!e.length)return i;let r=n?"out":"in";return i[this.getFieldID(t)]={op:r,unary:Array.from(e)},{filter:i}}getIdentities(t,e){let n=this.base_url+"/identities/";return null!=t&&(n+=t),this.http.get(n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}postIdentity(t){return this.http.post(this.base_url+"/identities/",t,this.state.authOptions)}putIdentity(t,e){return this.http.put(this.base_url+"/identities/"+t,e,this.state.authOptions)}deleteIdentity(t,e){let n=this.base_url+"/identities/";return null!=t&&(n+=t),this.http.delete(n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}getGroups(t,e){let n=this.base_url+"/groups/";return null!=t&&(n+=t),this.http.get(n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}postGroup(t){return this.http.post(this.base_url+"/groups/",t,this.state.authOptions)}putGroup(t,e){return this.http.put(this.base_url+"/groups/"+t,e,this.state.authOptions)}deleteGroups(t,e){let n=this.base_url+"/groups/";return null!=t&&(n+=t),this.http.delete(n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}getOrganizations(t,e){let n=this.base_url+"/organizations/";return null!=t&&(n+=t),this.http.get(n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}postOrganization(t){return this.http.post(this.base_url+"/organizations/",t,this.state.authOptions)}putOrganization(t,e){return this.http.put(this.base_url+"/organizations/"+t,e,this.state.authOptions)}deleteOrganization(t,e){let n=this.base_url+"/organizations/";return null!=t&&(n+=t),this.http.delete(n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}getRoles(t,e){let n=this.base_url+"/roles/";return null!=t&&(n+=t),this.http.get(n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}postRole(t){return this.http.post(this.base_url+"/roles/",t,this.state.authOptions)}putRole(t,e){return this.http.put(this.base_url+"/roles/"+t,e,this.state.authOptions)}deleteRole(t,e){let n=this.base_url+"/roles/";return null!=t&&(n+=t),this.http.delete(n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}getUserRole(t){return"guest"}getSystemFunctions(t,e){let n=this.base_url+"/system_functions/";return null!=t&&(n+=t),this.http.get(n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}getACL(t,e){let n=this.base_url+"/acls";return null!=t&&(n+=`/${t}`),this.http.get(n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}postACL(t,e){return this.http.post(this.base_url+"/acls",t,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}putACL(t,e,n){return this.http.put(`${this.base_url}/acls/${t}`,e,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(n)}))}deleteACL(t,e){return this.http.delete(`${this.base_url}/acls/${t}`,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}getObjectTypes(t,e){let n=this.base_url+"/object_types";return null!=t&&(n+=`/${t}`),this.http.get(n,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}getRegionsGIS(t){let e=this.base_url+"/geo/regions/";return null!=t&&(e+=`${t}`),this.http.get(e,Object.assign({},this.state.authOptions))}postRegionsGIS(t){return this.http.post(this.base_url+"/geo/regions/",t,Object.assign({},this.state.authOptions))}putRegionGIS(t,e){return this.http.put(this.base_url+`/geo/regions/${t}`,e,Object.assign({},this.state.authOptions))}deleteRegionsGIS(t){return this.http.delete(this.base_url+`/geo/regions/${t}`,Object.assign({},this.state.authOptions))}getLayerGIS(t){let e=this.base_url+"/geo/layers/";return null!=t&&(e+=`${t}`),this.http.get(e,Object.assign({},this.state.authOptions))}postLayerGIS(t,e){const n=this.base_url+"/geo/layers/",i=new FormData;i.append("layer_file",t,t.name),i.append("metadata",JSON.stringify(e));const r=new jr;return r.append("Content-Type","multipart/form-data"),r.append("Accept","application/json"),this.http.post(n,i,Object.assign({headers:r},this.state.authOptions))}deleteLayerGIS(t){return this.http.delete(this.base_url+`/geo/layers/${t}`,Object.assign({},this.state.authOptions))}createHttpGet(t,e){return this.http.get(t,Object.assign(Object.assign({},this.state.authOptions),{params:this.setParams(e)}))}}return t.\u0275fac=function(e){return new(e||t)(r.bc(Jr),r.bc(IP))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function MP(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-message",2),r.fc("destroyed",function(e){return r.Cc(t),r.jc().remove(e.id,e.userAction)}),r.Wb()}2&t&&r.qc("instance",e.$implicit)}function RP(t,e){1&t&&r.Sb(0,"i",10)}function AP(t,e){1&t&&r.Sb(0,"i",11)}function PP(t,e){1&t&&r.Sb(0,"i",12)}function LP(t,e){1&t&&r.Sb(0,"i",13)}function FP(t,e){1&t&&r.Sb(0,"i",14)}function jP(t,e){if(1&t&&(r.Vb(0),r.Sb(1,"span",15),r.Ub()),2&t){const t=r.jc();r.Db(1),r.qc("innerHTML",t.instance.content,r.Dc)}}let NP=0;class VP{constructor(t,e,n){this.nzSingletonService=t,this.overlay=e,this.injector=n}remove(t){this.container&&(t?this.container.remove(t):this.container.removeAll())}getInstanceId(){return`${this.componentPrefix}-${NP++}`}withContainer(t){let e=this.nzSingletonService.getSingletonWithKey(this.componentPrefix);if(e)return e;const n=this.overlay.create({hasBackdrop:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),positionStrategy:this.overlay.position().global()}),i=new ul(t,null,this.injector),r=n.attach(i);return n.overlayElement.style.zIndex="1010",e||(this.container=e=r.instance,this.nzSingletonService.registerSingletonWithKey(this.componentPrefix,e)),e}}let WP=(()=>{class t{constructor(t,e){this.cdr=t,this.nzConfigService=e,this.instances=[],this.destroy$=new xe.a,this.updateConfig()}ngOnInit(){this.subscribeConfigChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}create(t){const e=this.onCreate(t);return this.instances.length>=this.config.nzMaxStack&&(this.instances=this.instances.slice(1)),this.instances=[...this.instances,e],this.readyInstances(),e}remove(t,e=!1){this.instances.some((n,i)=>n.messageId===t&&(this.instances.splice(i,1),this.instances=[...this.instances],this.onRemove(n,e),this.readyInstances(),!0))}removeAll(){this.instances.forEach(t=>this.onRemove(t,!1)),this.instances=[],this.readyInstances()}onCreate(t){return t.options=this.mergeOptions(t.options),t.onClose=new xe.a,t}onRemove(t,e){t.onClose.next(e),t.onClose.complete()}readyInstances(){this.cdr.detectChanges()}mergeOptions(t){const{nzDuration:e,nzAnimate:n,nzPauseOnHover:i}=this.config;return Object.assign({nzDuration:e,nzAnimate:n,nzPauseOnHover:i},t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h),r.Rb(Do))},t.\u0275dir=r.Mb({type:t}),t})(),qP=(()=>{class t{constructor(t){this.cdr=t,this.destroyed=new r.n,this.eraseTimer=null}ngOnInit(){this.options=this.instance.options,this.options.nzAnimate&&(this.instance.state="enter"),this.autoClose=this.options.nzDuration>0,this.autoClose&&(this.initErase(),this.startEraseTimeout())}ngOnDestroy(){this.autoClose&&this.clearEraseTimeout()}onEnter(){this.autoClose&&this.options.nzPauseOnHover&&(this.clearEraseTimeout(),this.updateTTL())}onLeave(){this.autoClose&&this.options.nzPauseOnHover&&this.startEraseTimeout()}destroy(t=!1){this.options.nzAnimate?(this.instance.state="leave",this.cdr.detectChanges(),setTimeout(()=>{this.destroyed.next({id:this.instance.messageId,userAction:t})},200)):this.destroyed.next({id:this.instance.messageId,userAction:t})}initErase(){this.eraseTTL=this.options.nzDuration,this.eraseTimingStart=Date.now()}updateTTL(){this.autoClose&&(this.eraseTTL-=Date.now()-this.eraseTimingStart)}startEraseTimeout(){this.eraseTTL>0?(this.clearEraseTimeout(),this.eraseTimer=setTimeout(()=>this.destroy(),this.eraseTTL),this.eraseTimingStart=Date.now()):this.destroy()}clearEraseTimeout(){null!==this.eraseTimer&&(clearTimeout(this.eraseTimer),this.eraseTimer=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h))},t.\u0275dir=r.Mb({type:t}),t})();const BP={nzAnimate:!0,nzDuration:3e3,nzMaxStack:7,nzPauseOnHover:!0,nzTop:24,nzDirection:"ltr"};let XP=(()=>{class t extends WP{constructor(t,e){super(t,e),this.destroy$=new xe.a,this.dir="ltr",this.instances=[];const n=this.nzConfigService.getConfigForComponent("message");this.dir=(null==n?void 0:n.nzDirection)||"ltr"}subscribeConfigChange(){this.nzConfigService.getConfigChangeEventForComponent("message").pipe(An(this.destroy$)).subscribe(()=>{this.updateConfig();const t=this.nzConfigService.getConfigForComponent("message");if(t){const{nzDirection:e}=t;this.dir=e||this.dir}})}updateConfig(){this.config=Object.assign(Object.assign(Object.assign({},BP),this.config),this.nzConfigService.getConfigForComponent("message")),this.top=Ti(this.config.nzTop),this.cdr.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h),r.Rb(Do))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-message-container"]],exportAs:["nzMessageContainer"],features:[r.Ab],decls:2,vars:5,consts:[[1,"ant-message"],[3,"instance","destroyed",4,"ngFor","ngForOf"],[3,"instance","destroyed"]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.Kc(1,MP,1,1,"nz-message",1),r.Wb()),2&t&&(r.Hc("top",e.top),r.Jb("ant-message-rtl","rtl"===e.dir),r.Db(1),r.qc("ngForOf",e.instances))},directives:function(){return[i.m,HP]},encapsulation:2,changeDetection:0}),t})(),UP=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)}}),t})(),$P=(()=>{class t extends VP{constructor(t,e,n){super(t,e,n),this.componentPrefix="message-"}success(t,e){return this.createInstance({type:"success",content:t},e)}error(t,e){return this.createInstance({type:"error",content:t},e)}info(t,e){return this.createInstance({type:"info",content:t},e)}warning(t,e){return this.createInstance({type:"warning",content:t},e)}loading(t,e){return this.createInstance({type:"loading",content:t},e)}create(t,e,n){return this.createInstance({type:t,content:e},n)}createInstance(t,e){return this.container=this.withContainer(XP),this.container.create(Object.assign(Object.assign({},t),{createdAt:new Date,messageId:this.getInstanceId(),options:e}))}}return t.\u0275fac=function(e){return new(e||t)(r.bc(Xi),r.bc(Hl),r.bc(r.s))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(Xi),Object(r.bc)(Hl),Object(r.bc)(r.o))},token:t,providedIn:UP}),t})(),HP=(()=>{class t extends qP{constructor(t){super(t),this.destroyed=new r.n}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-message"]],inputs:{instance:"instance"},outputs:{destroyed:"destroyed"},exportAs:["nzMessage"],features:[r.Ab],decls:10,vars:9,consts:[[1,"ant-message-notice",3,"mouseenter","mouseleave"],[1,"ant-message-notice-content"],[1,"ant-message-custom-content",3,"ngClass"],[3,"ngSwitch"],["nz-icon","","nzType","check-circle",4,"ngSwitchCase"],["nz-icon","","nzType","info-circle",4,"ngSwitchCase"],["nz-icon","","nzType","exclamation-circle",4,"ngSwitchCase"],["nz-icon","","nzType","close-circle",4,"ngSwitchCase"],["nz-icon","","nzType","loading",4,"ngSwitchCase"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzType","check-circle"],["nz-icon","","nzType","info-circle"],["nz-icon","","nzType","exclamation-circle"],["nz-icon","","nzType","close-circle"],["nz-icon","","nzType","loading"],[3,"innerHTML"]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.fc("mouseenter",function(){return e.onEnter()})("mouseleave",function(){return e.onLeave()}),r.Xb(1,"div",1),r.Xb(2,"div",2),r.Vb(3,3),r.Kc(4,RP,1,0,"i",4),r.Kc(5,AP,1,0,"i",5),r.Kc(6,PP,1,0,"i",6),r.Kc(7,LP,1,0,"i",7),r.Kc(8,FP,1,0,"i",8),r.Ub(),r.Kc(9,jP,2,1,"ng-container",9),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.qc("@moveUpMotion",e.instance.state),r.Db(2),r.qc("ngClass","ant-message-"+e.instance.type),r.Db(1),r.qc("ngSwitch",e.instance.type),r.Db(1),r.qc("ngSwitchCase","success"),r.Db(1),r.qc("ngSwitchCase","info"),r.Db(1),r.qc("ngSwitchCase","warning"),r.Db(1),r.qc("ngSwitchCase","error"),r.Db(1),r.qc("ngSwitchCase","loading"),r.Db(1),r.qc("nzStringTemplateOutlet",e.instance.content))},directives:[i.l,i.p,i.q,ei,No],encapsulation:2,data:{animation:[as]},changeDetection:0}),t})(),KP=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,Zl,Vo,ii,UP]]}),t})();class GP{constructor(t,e,n=null,i=null){this.type=t,this.message=e,this.view=n,this.locationInView=i}}let YP=(()=>{class t{constructor(t,e){this.state=t,this.messages=[],this.notSeen=0}addMessage(t){null==t.view&&(t.view=this.state.getCurrentViewUrl()),this.messages.push(t),this.notSeen+=1,this.messages.length>1e4&&this.messages.splice(0,1)}addIssues(t){if(t)for(const e of t)this.addMessage(new GP(e.type,e.message))}alreadySeen(){this.notSeen=0}info(t){this.addMessage(new GP("info",JSON.stringify(t)))}error(t){this.addMessage(new GP("error",JSON.stringify(t)))}success(t){this.addMessage(new GP("success",JSON.stringify(t)))}warning(t){this.addMessage(new GP("warning",JSON.stringify(t)))}debug(t){this.addMessage(new GP("debug",JSON.stringify(t)))}loading(t){this.addMessage(new GP("loading",JSON.stringify(t)))}}return t.\u0275fac=function(e){return new(e||t)(r.bc(IP),r.bc($P))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var QP=n("jifJ");function JP(t,e){1&t&&r.Sb(0,"i",16)}function ZP(t,e){1&t&&r.Sb(0,"i",17)}function tL(t,e){1&t&&r.Sb(0,"i",18)}function eL(t,e){1&t&&r.Sb(0,"i",19)}const nL=function(t){return{"ant-notification-notice-with-icon":t}};function iL(t,e){if(1&t&&(r.Xb(0,"div",7),r.Xb(1,"div",8),r.Xb(2,"div"),r.Vb(3,9),r.Kc(4,JP,1,0,"i",10),r.Kc(5,ZP,1,0,"i",11),r.Kc(6,tL,1,0,"i",12),r.Kc(7,eL,1,0,"i",13),r.Ub(),r.Sb(8,"div",14),r.Sb(9,"div",15),r.Wb(),r.Wb(),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("ngClass",r.vc(10,nL,"blank"!==t.instance.type)),r.Db(1),r.Jb("ant-notification-notice-with-icon","blank"!==t.instance.type),r.Db(1),r.qc("ngSwitch",t.instance.type),r.Db(1),r.qc("ngSwitchCase","success"),r.Db(1),r.qc("ngSwitchCase","info"),r.Db(1),r.qc("ngSwitchCase","warning"),r.Db(1),r.qc("ngSwitchCase","error"),r.Db(1),r.qc("innerHTML",t.instance.title,r.Dc),r.Db(1),r.qc("innerHTML",t.instance.content,r.Dc)}}function rL(t,e){}function oL(t,e){if(1&t&&(r.Vb(0),r.Sb(1,"i",21),r.Ub()),2&t){const t=e.$implicit;r.Db(1),r.qc("nzType",t)}}function sL(t,e){if(1&t&&(r.Vb(0),r.Kc(1,oL,2,1,"ng-container",20),r.Ub()),2&t){const t=r.jc();r.Db(1),r.qc("nzStringTemplateOutlet",null==t.instance.options?null:t.instance.options.nzCloseIcon)}}function aL(t,e){1&t&&r.Sb(0,"i",22)}const cL=function(t,e){return{$implicit:t,data:e}};function lL(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-notification",5),r.fc("destroyed",function(e){return r.Cc(t),r.jc().remove(e.id,e.userAction)}),r.Wb()}if(2&t){const t=e.$implicit,n=r.jc();r.qc("instance",t)("placement",n.config.nzPlacement)}}function uL(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-notification",5),r.fc("destroyed",function(e){return r.Cc(t),r.jc().remove(e.id,e.userAction)}),r.Wb()}if(2&t){const t=e.$implicit,n=r.jc();r.qc("instance",t)("placement",n.config.nzPlacement)}}function hL(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-notification",5),r.fc("destroyed",function(e){return r.Cc(t),r.jc().remove(e.id,e.userAction)}),r.Wb()}if(2&t){const t=e.$implicit,n=r.jc();r.qc("instance",t)("placement",n.config.nzPlacement)}}function dL(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-notification",5),r.fc("destroyed",function(e){return r.Cc(t),r.jc().remove(e.id,e.userAction)}),r.Wb()}if(2&t){const t=e.$implicit,n=r.jc();r.qc("instance",t)("placement",n.config.nzPlacement)}}let pL=(()=>{class t extends qP{constructor(t){super(t),this.destroyed=new r.n}ngOnDestroy(){super.ngOnDestroy(),this.instance.onClick.complete()}onClick(t){this.instance.onClick.next(t)}close(){this.destroy(!0)}get state(){return"enter"===this.instance.state?"topLeft"===this.placement||"bottomLeft"===this.placement?"enterLeft":"enterRight":this.instance.state}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-notification"]],inputs:{instance:"instance",placement:"placement",index:"index"},outputs:{destroyed:"destroyed"},exportAs:["nzNotification"],features:[r.Ab],decls:8,vars:12,consts:[[1,"ant-notification-notice","ant-notification-notice-closable",3,"ngStyle","ngClass","click","mouseenter","mouseleave"],["class","ant-notification-notice-content",4,"ngIf"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0",1,"ant-notification-notice-close",3,"click"],[1,"ant-notification-notice-close-x"],[4,"ngIf","ngIfElse"],["iconTpl",""],[1,"ant-notification-notice-content"],[1,"ant-notification-notice-content",3,"ngClass"],[3,"ngSwitch"],["nz-icon","","nzType","check-circle","class","ant-notification-notice-icon ant-notification-notice-icon-success",4,"ngSwitchCase"],["nz-icon","","nzType","info-circle","class","ant-notification-notice-icon ant-notification-notice-icon-info",4,"ngSwitchCase"],["nz-icon","","nzType","exclamation-circle","class","ant-notification-notice-icon ant-notification-notice-icon-warning",4,"ngSwitchCase"],["nz-icon","","nzType","close-circle","class","ant-notification-notice-icon ant-notification-notice-icon-error",4,"ngSwitchCase"],[1,"ant-notification-notice-message",3,"innerHTML"],[1,"ant-notification-notice-description",3,"innerHTML"],["nz-icon","","nzType","check-circle",1,"ant-notification-notice-icon","ant-notification-notice-icon-success"],["nz-icon","","nzType","info-circle",1,"ant-notification-notice-icon","ant-notification-notice-icon-info"],["nz-icon","","nzType","exclamation-circle",1,"ant-notification-notice-icon","ant-notification-notice-icon-warning"],["nz-icon","","nzType","close-circle",1,"ant-notification-notice-icon","ant-notification-notice-icon-error"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"],["nz-icon","","nzType","close",1,"ant-notification-close-icon"]],template:function(t,e){if(1&t&&(r.Xb(0,"div",0),r.fc("click",function(t){return e.onClick(t)})("mouseenter",function(){return e.onEnter()})("mouseleave",function(){return e.onLeave()}),r.Kc(1,iL,10,12,"div",1),r.Kc(2,rL,0,0,"ng-template",2),r.Xb(3,"a",3),r.fc("click",function(){return e.close()}),r.Xb(4,"span",4),r.Kc(5,sL,2,1,"ng-container",5),r.Kc(6,aL,1,0,"ng-template",null,6,r.Lc),r.Wb(),r.Wb(),r.Wb()),2&t){const t=r.Ac(7);r.qc("ngStyle",(null==e.instance.options?null:e.instance.options.nzStyle)||null)("ngClass",(null==e.instance.options?null:e.instance.options.nzClass)||"")("@notificationMotion",e.state),r.Db(1),r.qc("ngIf",!e.instance.template),r.Db(1),r.qc("ngIf",e.instance.template)("ngTemplateOutlet",e.instance.template)("ngTemplateOutletContext",r.wc(9,cL,e,null==e.instance.options?null:e.instance.options.nzData)),r.Db(3),r.qc("ngIf",null==e.instance.options?null:e.instance.options.nzCloseIcon)("ngIfElse",t)}},directives:[i.o,i.l,i.n,i.s,i.p,i.q,No,ei],encapsulation:2,data:{animation:[cs]}}),t})();const fL={nzTop:"24px",nzBottom:"24px",nzPlacement:"topRight",nzDuration:4500,nzMaxStack:7,nzPauseOnHover:!0,nzAnimate:!0,nzDirection:"ltr"};let gL=(()=>{class t extends WP{constructor(t,e){super(t,e),this.dir="ltr",this.instances=[],this.topLeftInstances=[],this.topRightInstances=[],this.bottomLeftInstances=[],this.bottomRightInstances=[];const n=this.nzConfigService.getConfigForComponent("notification");this.dir=(null==n?void 0:n.nzDirection)||"ltr"}create(t){const e=this.onCreate(t),n=e.options.nzKey,i=this.instances.find(e=>e.options.nzKey===t.options.nzKey);return n&&i?this.replaceNotification(i,e):(this.instances.length>=this.config.nzMaxStack&&(this.instances=this.instances.slice(1)),this.instances=[...this.instances,e]),this.readyInstances(),e}onCreate(t){return t.options=this.mergeOptions(t.options),t.onClose=new xe.a,t.onClick=new xe.a,t}subscribeConfigChange(){this.nzConfigService.getConfigChangeEventForComponent("notification").pipe(An(this.destroy$)).subscribe(()=>{this.updateConfig();const t=this.nzConfigService.getConfigForComponent("notification");if(t){const{nzDirection:e}=t;this.dir=e||this.dir}})}updateConfig(){this.config=Object.assign(Object.assign(Object.assign({},fL),this.config),this.nzConfigService.getConfigForComponent("notification")),this.top=Ti(this.config.nzTop),this.bottom=Ti(this.config.nzBottom),this.cdr.markForCheck()}replaceNotification(t,e){t.title=e.title,t.content=e.content,t.template=e.template,t.type=e.type,t.options=e.options}readyInstances(){this.topLeftInstances=this.instances.filter(t=>"topLeft"===t.options.nzPlacement),this.topRightInstances=this.instances.filter(t=>"topRight"===t.options.nzPlacement||!t.options.nzPlacement),this.bottomLeftInstances=this.instances.filter(t=>"bottomLeft"===t.options.nzPlacement),this.bottomRightInstances=this.instances.filter(t=>"bottomRight"===t.options.nzPlacement),this.cdr.detectChanges()}mergeOptions(t){const{nzDuration:e,nzAnimate:n,nzPauseOnHover:i,nzPlacement:r}=this.config;return Object.assign({nzDuration:e,nzAnimate:n,nzPauseOnHover:i,nzPlacement:r},t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h),r.Rb(Do))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-notification-container"]],exportAs:["nzNotificationContainer"],features:[r.Ab],decls:8,vars:28,consts:[[1,"ant-notification","ant-notification-topLeft"],[3,"instance","placement","destroyed",4,"ngFor","ngForOf"],[1,"ant-notification","ant-notification-topRight"],[1,"ant-notification","ant-notification-bottomLeft"],[1,"ant-notification","ant-notification-bottomRight"],[3,"instance","placement","destroyed"]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.Kc(1,lL,1,2,"nz-notification",1),r.Wb(),r.Xb(2,"div",2),r.Kc(3,uL,1,2,"nz-notification",1),r.Wb(),r.Xb(4,"div",3),r.Kc(5,hL,1,2,"nz-notification",1),r.Wb(),r.Xb(6,"div",4),r.Kc(7,dL,1,2,"nz-notification",1),r.Wb()),2&t&&(r.Hc("top",e.top)("left","0px"),r.Jb("ant-notification-rtl","rtl"===e.dir),r.Db(1),r.qc("ngForOf",e.topLeftInstances),r.Db(1),r.Hc("top",e.top)("right","0px"),r.Jb("ant-notification-rtl","rtl"===e.dir),r.Db(1),r.qc("ngForOf",e.topRightInstances),r.Db(1),r.Hc("bottom",e.bottom)("left","0px"),r.Jb("ant-notification-rtl","rtl"===e.dir),r.Db(1),r.qc("ngForOf",e.bottomLeftInstances),r.Db(1),r.Hc("bottom",e.bottom)("right","0px"),r.Jb("ant-notification-rtl","rtl"===e.dir),r.Db(1),r.qc("ngForOf",e.bottomRightInstances))},directives:[i.m,pL],encapsulation:2,changeDetection:0}),t})(),mL=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)}}),t})(),bL=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,Zl,Vo,ii,mL]]}),t})(),yL=0,vL=(()=>{class t extends VP{constructor(t,e,n){super(t,e,n),this.componentPrefix="notification-"}success(t,e,n){return this.createInstance({type:"success",title:t,content:e},n)}error(t,e,n){return this.createInstance({type:"error",title:t,content:e},n)}info(t,e,n){return this.createInstance({type:"info",title:t,content:e},n)}warning(t,e,n){return this.createInstance({type:"warning",title:t,content:e},n)}blank(t,e,n){return this.createInstance({type:"blank",title:t,content:e},n)}create(t,e,n,i){return this.createInstance({type:t,title:e,content:n},i)}template(t,e){return this.createInstance({template:t},e)}generateMessageId(){return`${this.componentPrefix}-${yL++}`}createInstance(t,e){return this.container=this.withContainer(gL),this.container.create(Object.assign(Object.assign({},t),{createdAt:new Date,messageId:this.generateMessageId(),options:e}))}}return t.\u0275fac=function(e){return new(e||t)(r.bc(Xi),r.bc(Hl),r.bc(r.s))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(Xi),Object(r.bc)(Hl),Object(r.bc)(r.o))},token:t,providedIn:mL}),t})(),_L=(()=>{class t{constructor(t){this.notification=t}createNotificationWithType(t,e,n,i){this.notification.create(t,e,n,{nzPlacement:i,nzAnimate:!0,nzPauseOnHover:!0,nzDuration:4500})}}return t.\u0275fac=function(e){return new(e||t)(r.bc(vL))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),wL=(()=>{class t{constructor(t,e){this.stateService=t,this.notificationService=e,this.processStatusChangeSubject=new xe.a}connect(){this.socket||(this.socket=Object(QP.io)(this.stateService.getParameter("host"),{withCredentials:!0}),this.initEventsProccess())}initEventsProccess(){this.socket.on("process_status_change",t=>{switch(console.log({job_id:t.id,status:t.status}),this.processStatusChangeSubject.next(t),t.status){case"success":console.log("notification success"),this.notificationService.createNotificationWithType("success",`Proceso ${t.id}`,`El proceso con id ${t.id} se ha realizado con \xe9xito.`,"bottomRight");break;case"error":this.notificationService.createNotificationWithType("error",`Proceso ${t.id}`,`El proceso con id ${t.id} no se ha conseguido realizar debido a un error.`,"bottomRight")}})}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(IP),r.bc(_L))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),zL=(()=>{class t{constructor(t,e,n,i,o){this.state=t,this.backend=e,this.logService=n,this.firebaseAuth=i,this.socketService=o,this.changeUserEvent=new r.n,this.firebaseAuth.authState.subscribe(t=>{this.user!==t&&(this.user=t,this.isAuthenticated?this.login():this.logout())})}load(){return this.firebaseAuth.user.pipe(Object(N.a)(t=>{console.log("Loading..."),this.user=t,this.isAuthenticated?this.login():this.logout(),console.log("Finish loading...")})).toPromise(),Promise.resolve()}get promiseAuthState(){return this.firebaseAuth.authState}get isAuthenticated(){return null!=this.user}get isEmailVerified(){return!!this.isAuthenticated&&this.user.emailVerified}get currentUserId(){return this.isAuthenticated?this.user.uid:null}get userData(){return this.isAuthenticated?[{id:this.user.uid,displayName:this.user.displayName,email:this.user.email,phoneNumber:this.user.phoneNumber,photoURL:this.user.photoURL,isAnonymous:this.user.isAnonymous}]:[]}updateToken(t){if(null==t)this.state.authOptions={withCredentials:!0,headers:{"Cache-Control":"no-cache","Access-Control-Allow-Origin":"http://localhost:4200"}};else{const e=new jr({Authorization:"Bearer "+t,"Cache-Control":"no-cache","Access-Control-Allow-Origin":"http://localhost:4200"});this.state.authOptions={withCredentials:!0,headers:e}}console.log("Update Token"),console.log(this.state.authOptions)}getJWT(){return this.isAuthenticated?this.user.za:null}login(){const t=this.getJWT();t&&(this.updateToken(t),this.backend.putSession().subscribe(t=>{this.changeUserEvent.emit(this.user)},t=>{this.user=null}),this.socketService.connect())}createUserWithEmailAndPassword(t,e){return Object(D_.b)(this,void 0,void 0,function*(){yield this.firebaseAuth.createUserWithEmailAndPassword(t,e),console.log(this.firebaseAuth.currentUser)})}loginWithEmailAndPassword(t,e){return Object(D_.b)(this,void 0,void 0,function*(){yield this.firebaseAuth.signInWithEmailAndPassword(t,e),this.login()})}loginAnonymous(){return Object(D_.b)(this,void 0,void 0,function*(){yield this.firebaseAuth.signInAnonymously(),this.login()})}loginWithGoogle(){return Object(D_.b)(this,void 0,void 0,function*(){const t=new xm.a.auth.GoogleAuthProvider;try{yield this.firebaseAuth.signInWithPopup(t),this.login()}catch(e){}})}logout(){return Object(D_.b)(this,void 0,void 0,function*(){yield this.firebaseAuth.signOut(),this.backend.deleteSession().subscribe(t=>{this.logService.addIssues(t.issues)},t=>{this.logService.addIssues(t.issues)},()=>{}),this.updateToken(null),this.socketService.disconnect()})}}return t.\u0275fac=function(e){return new(e||t)(r.bc(IP),r.bc(DP),r.bc(YP),r.bc(Cm),r.bc(wL))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class CL{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new SL(t,this.durationSelector))}}class SL extends Rn.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){try{const e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(e){this.destination.error(e)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(t,e){let n=this.durationSubscription;this.value=t,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),n=Object(Rn.c)(e,new Rn.a(this)),n&&!n.closed&&this.add(this.durationSubscription=n)}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const t=this.value,e=this.durationSubscription;e&&(this.durationSubscription=void 0,e.unsubscribe(),this.remove(e)),this.value=void 0,this.hasValue=!1,super._next(t)}}}function xL(t,e){1&t&&(r.Xb(0,"span",3),r.Sb(1,"i",4),r.Sb(2,"i",4),r.Sb(3,"i",4),r.Sb(4,"i",4),r.Wb())}function OL(t,e){}function kL(t,e){if(1&t&&(r.Xb(0,"div",8),r.Mc(1),r.Wb()),2&t){const t=r.jc(2);r.Db(1),r.Nc(t.nzTip)}}function TL(t,e){if(1&t&&(r.Xb(0,"div"),r.Xb(1,"div",5),r.Kc(2,OL,0,0,"ng-template",6),r.Kc(3,kL,2,1,"div",7),r.Wb(),r.Wb()),2&t){const t=r.jc(),e=r.Ac(1);r.Db(1),r.Jb("ant-spin-rtl","rtl"===t.dir)("ant-spin-spinning",t.isLoading)("ant-spin-lg","large"===t.nzSize)("ant-spin-sm","small"===t.nzSize)("ant-spin-show-text",t.nzTip),r.Db(1),r.qc("ngTemplateOutlet",t.nzIndicator||e),r.Db(1),r.qc("ngIf",t.nzTip)}}function EL(t,e){if(1&t&&(r.Xb(0,"div",9),r.oc(1),r.Wb()),2&t){const t=r.jc();r.Jb("ant-spin-blur",t.isLoading)}}const IL=["*"];let DL=(()=>{class t{constructor(t,e,n){this.nzConfigService=t,this.cdr=e,this.directionality=n,this._nzModuleName="spin",this.nzIndicator=null,this.nzSize="default",this.nzTip=null,this.nzDelay=0,this.nzSimple=!1,this.nzSpinning=!0,this.destroy$=new xe.a,this.spinning$=new fu.a(this.nzSpinning),this.delay$=new tr(1),this.isLoading=!1,this.dir="ltr"}ngOnInit(){var t;this.delay$.pipe(Object(Mn.a)(this.nzDelay),pi(),Object(Bc.a)(t=>{return 0===t?this.spinning$:this.spinning$.pipe((e=e=>ci(e?t:0),t=>t.lift(new CL(e))));var e}),An(this.destroy$)).subscribe(t=>{this.isLoading=t,this.cdr.markForCheck()}),this.nzConfigService.getConfigChangeEventForComponent("spin").pipe(An(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(t){const{nzSpinning:e,nzDelay:n}=t;e&&this.spinning$.next(this.nzSpinning),n&&this.delay$.next(this.nzDelay)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Do),r.Rb(r.h),r.Rb(bn,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-spin"]],hostVars:2,hostBindings:function(t,e){2&t&&r.Jb("ant-spin-nested-loading",!e.nzSimple)},inputs:{nzIndicator:"nzIndicator",nzSize:"nzSize",nzTip:"nzTip",nzDelay:"nzDelay",nzSimple:"nzSimple",nzSpinning:"nzSpinning"},exportAs:["nzSpin"],features:[r.Bb],ngContentSelectors:IL,decls:4,vars:2,consts:[["defaultTemplate",""],[4,"ngIf"],["class","ant-spin-container",3,"ant-spin-blur",4,"ngIf"],[1,"ant-spin-dot","ant-spin-dot-spin"],[1,"ant-spin-dot-item"],[1,"ant-spin"],[3,"ngTemplateOutlet"],["class","ant-spin-text",4,"ngIf"],[1,"ant-spin-text"],[1,"ant-spin-container"]],template:function(t,e){1&t&&(r.pc(),r.Kc(0,xL,5,0,"ng-template",null,0,r.Lc),r.Kc(2,TL,4,12,"div",1),r.Kc(3,EL,2,2,"div",2)),2&t&&(r.Db(2),r.qc("ngIf",e.isLoading),r.Db(1),r.qc("ngIf",!e.nzSimple))},directives:[i.n,i.s],encapsulation:2}),sr([Mo(),ar("design:type",Object)],t.prototype,"nzIndicator",void 0),sr([Mi(),ar("design:type",Object)],t.prototype,"nzDelay",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzSimple",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzSpinning",void 0),t})(),ML=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,dp]]}),t})();const RL=["textEl"];function AL(t,e){if(1&t&&r.Sb(0,"i",3),2&t){const t=r.jc();r.qc("nzType",t.nzIcon)}}function PL(t,e){if(1&t){const t=r.Yb();r.Xb(0,"img",4),r.fc("error",function(e){return r.Cc(t),r.jc().imgError(e)}),r.Wb()}if(2&t){const t=r.jc();r.qc("src",t.nzSrc,r.Ec),r.Eb("srcset",t.nzSrcSet,r.Ec)("alt",t.nzAlt)}}function LL(t,e){if(1&t&&(r.Xb(0,"span",5,6),r.Mc(2),r.Wb()),2&t){const t=r.jc();r.qc("ngStyle",t.textStyles),r.Db(2),r.Nc(t.nzText)}}let FL=(()=>{class t{constructor(t,e,n,i){this.nzConfigService=t,this.elementRef=e,this.cdr=n,this.platform=i,this._nzModuleName="avatar",this.nzShape="circle",this.nzSize="default",this.nzGap=4,this.nzError=new r.n,this.hasText=!1,this.hasSrc=!0,this.hasIcon=!1,this.textStyles={},this.classMap={},this.customSize=null,this.el=this.elementRef.nativeElement,this.elementRef.nativeElement.classList.add("ant-avatar")}imgError(t){this.nzError.emit(t),t.defaultPrevented||(this.hasSrc=!1,this.hasIcon=!1,this.hasText=!1,this.nzIcon?this.hasIcon=!0:this.nzText&&(this.hasText=!0),this.cdr.detectChanges(),this.setSizeStyle(),this.notifyCalc())}ngOnChanges(){this.hasText=!this.nzSrc&&!!this.nzText,this.hasIcon=!this.nzSrc&&!!this.nzIcon,this.hasSrc=!!this.nzSrc,this.setSizeStyle(),this.notifyCalc()}calcStringSize(){if(!this.hasText)return;const t=this.textEl.nativeElement.offsetWidth,e=this.el.getBoundingClientRect().width,n=2*this.nzGap<e?2*this.nzGap:8;this.textStyles={transform:`scale(${e-n<t?(e-n)/t:1}) translateX(-50%)`},this.customSize&&Object.assign(this.textStyles,{lineHeight:this.customSize}),this.cdr.detectChanges()}notifyCalc(){this.platform.isBrowser&&setTimeout(()=>{this.calcStringSize()})}setSizeStyle(){this.customSize="number"==typeof this.nzSize?`${this.nzSize}px`:null,this.cdr.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Do),r.Rb(r.l),r.Rb(r.h),r.Rb(qn))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-avatar"]],viewQuery:function(t,e){if(1&t&&r.Qc(RL,1),2&t){let t;r.zc(t=r.gc())&&(e.textEl=t.first)}},hostVars:20,hostBindings:function(t,e){2&t&&(r.Hc("width",e.customSize)("height",e.customSize)("line-height",e.customSize)("font-size",e.hasIcon&&e.customSize?e.nzSize/2:null,"px"),r.Jb("ant-avatar-lg","large"===e.nzSize)("ant-avatar-sm","small"===e.nzSize)("ant-avatar-square","square"===e.nzShape)("ant-avatar-circle","circle"===e.nzShape)("ant-avatar-icon",e.nzIcon)("ant-avatar-image",e.hasSrc))},inputs:{nzShape:"nzShape",nzSize:"nzSize",nzGap:"nzGap",nzText:"nzText",nzSrc:"nzSrc",nzSrcSet:"nzSrcSet",nzAlt:"nzAlt",nzIcon:"nzIcon"},outputs:{nzError:"nzError"},exportAs:["nzAvatar"],features:[r.Bb],decls:3,vars:3,consts:[["nz-icon","",3,"nzType",4,"ngIf"],[3,"src","error",4,"ngIf"],["class","ant-avatar-string",3,"ngStyle",4,"ngIf"],["nz-icon","",3,"nzType"],[3,"src","error"],[1,"ant-avatar-string",3,"ngStyle"],["textEl",""]],template:function(t,e){1&t&&(r.Kc(0,AL,1,1,"i",0),r.Kc(1,PL,1,3,"img",1),r.Kc(2,LL,3,2,"span",2)),2&t&&(r.qc("ngIf",e.nzIcon&&e.hasIcon),r.Db(1),r.qc("ngIf",e.nzSrc&&e.hasSrc),r.Db(1),r.qc("ngIf",e.nzText&&e.hasText))},directives:[i.n,No,i.o],encapsulation:2,changeDetection:0}),sr([Mo(),ar("design:type",String)],t.prototype,"nzShape",void 0),sr([Mo(),ar("design:type",Object)],t.prototype,"nzSize",void 0),sr([Mo(),Mi(),ar("design:type",Object)],t.prototype,"nzGap",void 0),t})(),jL=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,Vo,Bn]]}),t})();class NL{constructor(t,e,n,i){this.triggerElement=t,this.ngZone=e,this.insertExtraNode=n,this.platformId=i,this.waveTransitionDuration=400,this.styleForPseudo=null,this.extraNode=null,this.lastTime=0,this.onClick=t=>{!this.triggerElement||!this.triggerElement.getAttribute||this.triggerElement.getAttribute("disabled")||"INPUT"===t.target.tagName||this.triggerElement.className.indexOf("disabled")>=0||this.fadeOutWave()},this.platform=new qn(this.platformId),this.clickHandler=this.onClick.bind(this),this.bindTriggerEvent()}get waveAttributeName(){return this.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}bindTriggerEvent(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{this.removeTriggerEvent(),this.triggerElement&&this.triggerElement.addEventListener("click",this.clickHandler,!0)})}removeTriggerEvent(){this.triggerElement&&this.triggerElement.removeEventListener("click",this.clickHandler,!0)}removeStyleAndExtraNode(){this.styleForPseudo&&document.body.contains(this.styleForPseudo)&&(document.body.removeChild(this.styleForPseudo),this.styleForPseudo=null),this.insertExtraNode&&this.triggerElement.contains(this.extraNode)&&this.triggerElement.removeChild(this.extraNode)}destroy(){this.removeTriggerEvent(),this.removeStyleAndExtraNode()}fadeOutWave(){const t=this.triggerElement,e=this.getWaveColor(t);t.setAttribute(this.waveAttributeName,"true"),Date.now()<this.lastTime+this.waveTransitionDuration||(this.isValidColor(e)&&(this.styleForPseudo||(this.styleForPseudo=document.createElement("style")),this.styleForPseudo.innerHTML=`\n      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {\n        --antd-wave-shadow-color: ${e};\n      }`,document.body.appendChild(this.styleForPseudo)),this.insertExtraNode&&(this.extraNode||(this.extraNode=document.createElement("div")),this.extraNode.className="ant-click-animating-node",t.appendChild(this.extraNode)),this.lastTime=Date.now(),this.runTimeoutOutsideZone(()=>{t.removeAttribute(this.waveAttributeName),this.removeStyleAndExtraNode()},this.waveTransitionDuration))}isValidColor(t){return!!t&&"#ffffff"!==t&&"rgb(255, 255, 255)"!==t&&this.isNotGrey(t)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(t)&&"transparent"!==t}isNotGrey(t){const e=t.match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(e&&e[1]&&e[2]&&e[3]&&e[1]===e[2]&&e[2]===e[3])}getWaveColor(t){const e=getComputedStyle(t);return e.getPropertyValue("border-top-color")||e.getPropertyValue("border-color")||e.getPropertyValue("background-color")}runTimeoutOutsideZone(t,e){this.ngZone.runOutsideAngular(()=>setTimeout(t,e))}}const VL={disabled:!1},WL=new r.r("nz-wave-global-options",{providedIn:"root",factory:function(){return VL}});let qL=(()=>{class t{constructor(t,e,n,i,r){this.ngZone=t,this.elementRef=e,this.config=n,this.animationType=i,this.platformId=r,this.nzWaveExtraNode=!1,this.waveDisabled=!1,this.waveDisabled=this.isConfigDisabled()}get disabled(){return this.waveDisabled}get rendererRef(){return this.waveRenderer}isConfigDisabled(){let t=!1;return this.config&&"boolean"==typeof this.config.disabled&&(t=this.config.disabled),"NoopAnimations"===this.animationType&&(t=!0),t}ngOnDestroy(){this.waveRenderer&&this.waveRenderer.destroy()}ngOnInit(){this.renderWaveIfEnabled()}renderWaveIfEnabled(){!this.waveDisabled&&this.elementRef.nativeElement&&(this.waveRenderer=new NL(this.elementRef.nativeElement,this.ngZone,this.nzWaveExtraNode,this.platformId))}disable(){this.waveDisabled=!0,this.waveRenderer&&(this.waveRenderer.removeTriggerEvent(),this.waveRenderer.removeStyleAndExtraNode())}enable(){this.waveDisabled=this.isConfigDisabled()||!1,this.waveRenderer&&this.waveRenderer.bindTriggerEvent()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.A),r.Rb(r.l),r.Rb(WL,8),r.Rb(Oc,8),r.Rb(r.C))},t.\u0275dir=r.Mb({type:t,selectors:[["","nz-wave",""],["button","nz-button","",3,"nzType","link",3,"nzType","text"]],inputs:{nzWaveExtraNode:"nzWaveExtraNode"},exportAs:["nzWave"]}),t})(),BL=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[Bn]]}),t})();const XL=["nz-button",""];function UL(t,e){1&t&&r.Sb(0,"i",1)}const $L=["*"];let HL=(()=>{class t{constructor(t,e,n,i,r){this.elementRef=t,this.cdr=e,this.renderer=n,this.nzConfigService=i,this.directionality=r,this._nzModuleName="button",this.nzBlock=!1,this.nzGhost=!1,this.nzSearch=!1,this.nzLoading=!1,this.nzDanger=!1,this.disabled=!1,this.tabIndex=null,this.nzType=null,this.nzShape=null,this.nzSize="default",this.dir="ltr",this.destroy$=new xe.a,this.loading$=new xe.a,this.elementRef.nativeElement.classList.add("ant-btn"),this.nzConfigService.getConfigChangeEventForComponent("button").pipe(An(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}insertSpan(t,e){t.forEach(t=>{if("#text"===t.nodeName){const n=e.createElement("span"),i=e.parentNode(t);e.insertBefore(i,n,t),e.appendChild(n,t)}})}assertIconOnly(t,e){const n=Array.from(t.childNodes),i=n.filter(t=>"I"===t.nodeName).length,r=n.every(t=>"#text"!==t.nodeName);n.every(t=>"SPAN"!==t.nodeName)&&r&&i>=1&&e.addClass(t,"ant-btn-icon-only")}ngOnInit(){var t;null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(t){const{nzLoading:e,nzType:n}=t;e&&this.loading$.next(this.nzLoading),"danger"===(null==n?void 0:n.currentValue)&&_i("'danger' value of 'nzType' in Button is going to be removed in 12.0.0. Please use 'nzDanger' instead.")}ngAfterViewInit(){this.assertIconOnly(this.elementRef.nativeElement,this.renderer),this.insertSpan(this.elementRef.nativeElement.childNodes,this.renderer)}ngAfterContentInit(){this.loading$.pipe(Object(Mn.a)(this.nzLoading),Object(di.a)(()=>!!this.nzIconDirectiveElement),An(this.destroy$)).subscribe(t=>{const e=this.nzIconDirectiveElement.nativeElement;t?this.renderer.setStyle(e,"display","none"):this.renderer.removeStyle(e,"display")})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.h),r.Rb(r.F),r.Rb(Do),r.Rb(bn,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["button","nz-button",""],["a","nz-button",""]],contentQueries:function(t,e,n){if(1&t&&r.Kb(n,No,1,r.l),2&t){let t;r.zc(t=r.gc())&&(e.nzIconDirectiveElement=t.first)}},hostVars:32,hostBindings:function(t,e){2&t&&(r.Eb("tabindex",e.disabled?-1:null===e.tabIndex?null:e.tabIndex)("disabled",e.disabled||null),r.Jb("ant-btn-primary","primary"===e.nzType)("ant-btn-dashed","dashed"===e.nzType)("ant-btn-link","link"===e.nzType)("ant-btn-text","text"===e.nzType)("ant-btn-danger","danger"===e.nzType)("ant-btn-circle","circle"===e.nzShape)("ant-btn-round","round"===e.nzShape)("ant-btn-lg","large"===e.nzSize)("ant-btn-sm","small"===e.nzSize)("ant-btn-dangerous",e.nzDanger)("ant-btn-loading",e.nzLoading)("ant-btn-background-ghost",e.nzGhost)("ant-btn-block",e.nzBlock)("ant-input-search-button",e.nzSearch)("ant-btn-rtl","rtl"===e.dir))},inputs:{nzBlock:"nzBlock",nzGhost:"nzGhost",nzSearch:"nzSearch",nzLoading:"nzLoading",nzDanger:"nzDanger",disabled:"disabled",tabIndex:"tabIndex",nzType:"nzType",nzShape:"nzShape",nzSize:"nzSize"},exportAs:["nzButton"],features:[r.Bb],attrs:XL,ngContentSelectors:$L,decls:2,vars:1,consts:[["nz-icon","","nzType","loading",4,"ngIf"],["nz-icon","","nzType","loading"]],template:function(t,e){1&t&&(r.pc(),r.Kc(0,UL,1,0,"i",0),r.oc(1)),2&t&&r.qc("ngIf",e.nzLoading)},directives:[i.n,No,Rf],encapsulation:2,changeDetection:0}),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzBlock",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzGhost",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzSearch",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzLoading",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzDanger",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"disabled",void 0),sr([Mo(),ar("design:type",String)],t.prototype,"nzSize",void 0),t})(),KL=(()=>{class t{constructor(t,e){this.elementRef=t,this.directionality=e,this.nzSize="default",this.dir="ltr",this.destroy$=new xe.a,this.elementRef.nativeElement.classList.add("ant-btn-group")}ngOnInit(){var t;this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(bn,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-button-group"]],hostVars:6,hostBindings:function(t,e){2&t&&r.Jb("ant-btn-group-lg","large"===e.nzSize)("ant-btn-group-sm","small"===e.nzSize)("ant-btn-group-rtl","rtl"===e.dir)},inputs:{nzSize:"nzSize"},exportAs:["nzButtonGroup"],ngContentSelectors:$L,decls:1,vars:0,template:function(t,e){1&t&&(r.pc(),r.oc(0))},encapsulation:2,changeDetection:0}),t})(),GL=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,BL,Vo,Af],Af,BL]}),t})();const YL=function(t){return{width:t,height:"auto"}};let QL=(()=>{class t{constructor(){this.size="48px"}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["google-svg"]],inputs:{size:"size"},decls:5,vars:3,consts:[["viewBox","0 0 48 48",3,"ngStyle"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"]],template:function(t,e){1&t&&(r.ic(),r.Xb(0,"svg",0),r.Sb(1,"path",1),r.Sb(2,"path",2),r.Sb(3,"path",3),r.Sb(4,"path",4),r.Wb()),2&t&&r.qc("ngStyle",r.vc(1,YL,e.size))},directives:[kR,i.o],styles:[""]}),t})();const JL=function(t){return{width:t,height:"auto"}},ZL=function(t){return{fill:t}};let tF=(()=>{class t{constructor(){this.size="48px",this.color="#000"}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["anonymous-svg"]],inputs:{size:"size",color:"color"},decls:28,vars:15,consts:[["x","0px","y","0px","viewBox","0 0 512 512",3,"ngStyle"],["d","M418.88,344.021l-54.869-19.093c-3.989-1.387-8.469-0.277-11.371,2.859c-26.901,29.376-61.227,45.547-96.64,45.547\n\t\t\ts-69.739-16.171-96.64-45.525c-2.88-3.136-7.36-4.267-11.371-2.859L93.12,344.043C37.419,363.392,0,416.021,0,475.008v15.659\n\t\t\tc0,5.888,4.779,10.667,10.667,10.667h490.667c5.888,0,10.667-4.779,10.667-10.667v-15.659\n\t\t\tC512,416.021,474.581,363.392,418.88,344.021z",3,"ngStyle"],["d","M383.893,142.059c0.064-1.131,0.107-2.261,0.107-3.392c0-70.592-57.408-128-128-128s-128,57.408-128,128\n\t\t\tc0,0.917,0.021,1.856,0.064,2.773c-12.715,6.955-21.397,26.389-21.397,50.56c0,29.675,13.099,52.224,30.677,53.291\n\t\t\tC156.736,309.547,203.435,352,256,352s99.264-42.453,118.656-106.709c17.579-1.067,30.677-23.616,30.677-53.291\n\t\t\tC405.333,168.405,397.056,149.312,383.893,142.059z M372.672,223.531c-2.901-1.792-6.464-2.091-9.643-0.811\n\t\t\tc-3.136,1.28-5.483,3.989-6.315,7.296C341.781,290.219,301.312,330.667,256,330.667s-85.781-40.448-100.715-100.651\n\t\t\tc-0.832-3.307-3.499-5.76-6.656-7.061c-1.173-0.491-2.453-0.704-3.755-0.704c-2.176,0-4.395,0.619-6.208,1.749\n\t\t\tC136,224,128,212.651,128,192c0-19.563,7.189-30.763,10.197-31.915c0.107,0.021,0.213,0.043,0.32,0.043\n\t\t\tc3.136,0.235,6.357-0.789,8.619-3.072c2.261-2.283,3.392-5.461,3.051-8.64l-0.299-2.667c-0.256-2.325-0.555-4.672-0.555-7.083\n\t\t\tC149.333,79.851,197.184,32,256,32s106.667,47.851,106.667,106.667c0,2.411-0.299,4.757-0.555,7.061l-0.299,2.667\n\t\t\tc-0.341,3.2,0.789,6.379,3.051,8.64c2.261,2.283,5.461,3.349,8.619,3.093c0.085-0.021,0.213-0.021,0.32-0.043\n\t\t\tC376.811,161.237,384,172.437,384,192C384,212.651,376.171,224,372.672,223.531z",3,"ngStyle"],["d","M256,96c-25.131,0-42.667,17.536-42.667,42.667c0,5.888,4.779,10.667,10.667,10.667s10.667-4.779,10.667-10.667\n\t\t\tc0-19.243,14.912-21.333,21.333-21.333s21.333,2.091,21.333,21.333c0,17.899-3.947,26.069-16.235,33.557\n\t\t\tc-23.723,14.507-27.691,33.685-26.304,42.731c0.811,5.248,5.291,8.853,10.453,8.853c0.427,0,0.875-0.043,1.323-0.085\n\t\t\tc5.696-0.661,9.813-5.931,9.344-11.669c-0.021-0.448-0.704-11.221,16.32-21.611c18.773-11.477,26.432-26.475,26.432-51.776\n\t\t\tC298.667,113.536,281.131,96,256,96z",3,"ngStyle"],["cx","245.333","cy","256","r","10.667",3,"ngStyle"]],template:function(t,e){1&t&&(r.ic(),r.Xb(0,"svg",0),r.Xb(1,"g"),r.Xb(2,"g"),r.Sb(3,"path",1),r.Wb(),r.Wb(),r.Xb(4,"g"),r.Xb(5,"g"),r.Sb(6,"path",2),r.Wb(),r.Wb(),r.Xb(7,"g"),r.Xb(8,"g"),r.Sb(9,"path",3),r.Wb(),r.Wb(),r.Xb(10,"g"),r.Xb(11,"g"),r.Sb(12,"circle",4),r.Wb(),r.Wb(),r.Sb(13,"g"),r.Sb(14,"g"),r.Sb(15,"g"),r.Sb(16,"g"),r.Sb(17,"g"),r.Sb(18,"g"),r.Sb(19,"g"),r.Sb(20,"g"),r.Sb(21,"g"),r.Sb(22,"g"),r.Sb(23,"g"),r.Sb(24,"g"),r.Sb(25,"g"),r.Sb(26,"g"),r.Sb(27,"g"),r.Wb()),2&t&&(r.qc("ngStyle",r.vc(5,JL,e.size)),r.Db(3),r.qc("ngStyle",r.vc(7,ZL,e.color)),r.Db(3),r.qc("ngStyle",r.vc(9,ZL,e.color)),r.Db(3),r.qc("ngStyle",r.vc(11,ZL,e.color)),r.Db(3),r.qc("ngStyle",r.vc(13,ZL,e.color)))},directives:[kR,i.o],styles:[""]}),t})(),eF=(()=>{class t{constructor(t,e,n,i){this.authService=t,this.router=e,this.fb=n,this.notificationService=i,this.title="bcs-gui",this.loading=!1,this.validityChange=new r.n,this.activeRegister=new r.n}ngOnInit(){this.loginFormGroup=this.fb.group({email:[null,this.emailValidator],password:[null,this.passwordValidator]}),this.loginFormGroup.statusChanges.subscribe(t=>{switch(t){case"INVALID":this.validityChange.emit(!1);break;case"VALID":this.validityChange.emit(!0)}})}emailValidator(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t.value).toLowerCase())?{}:{invalidEmail:!0}}passwordValidator(t){return t.value&&""!=t.value?{}:{invalidPassword:!0}}loginWithGoogle(){return Object(D_.b)(this,void 0,void 0,function*(){this.loading=!0,yield this.authService.loginWithGoogle(),this.loading=!1})}loginAnonymous(){return Object(D_.b)(this,void 0,void 0,function*(){this.loading=!0,yield this.authService.loginAnonymous(),this.loading=!1})}submitLogin(){return Object(D_.b)(this,void 0,void 0,function*(){for(const t in this.loginFormGroup.controls)this.loginFormGroup.controls[t].markAsDirty(),this.loginFormGroup.controls[t].updateValueAndValidity();if(this.loginFormGroup.valid){this.loading=!0;try{yield this.authService.loginWithEmailAndPassword(this.loginFormGroup.get("email").value,this.loginFormGroup.get("password").value)}catch(UI){if(UI.code)switch(UI.code){case"auth/user-not-found":this.notificationService.createNotificationWithType("error","Error","No existe ning\xfan usuario con ese email.","bottomRight");break;case"auth/wrong-password":this.notificationService.createNotificationWithType("error","Error","La contrase\xf1a no es correcta.","bottomRight")}}this.loading=!1}})}logged(t){this.authService.login()}error(t){this.router.navigateByUrl("/login")}onClickLinkRegister(){this.activeRegister.emit()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(zL),r.Rb(dm.g),r.Rb(ge),r.Rb(_L))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-login"]],outputs:{validityChange:"validityChange",activeRegister:"activeRegister"},decls:36,vars:4,consts:[[3,"nzSpinning"],[2,"padding","0px 30px 40px 30px"],[2,"display","flex","justify-content","center","margin-top","10px"],["nzIcon","user",3,"nzSize"],["nz-form","","nzLayout","vertical",2,"margin-top","15px",3,"formGroup","keydown.enter"],["type","text","nz-input","","formControlName","email","placeholder","Email"],["type","password","nz-input","","formControlName","password","placeholder","Contrase\xf1a"],[2,"margin-top","-20px","color","#717171"],[1,"link-register",3,"click"],["nz-button","","nzType","primary",2,"width","100%","margin-top","15px",3,"disabled","click"],[2,"display","flex","justify-content","center","margin-top","10px","font-weight","350","color","#5f6368"],[2,"display","flex","justify-content","center","margin-top","10px","gap","10px"],[2,"background-color","#fff","border","none","border-radius","5px","cursor","pointer","box-shadow","rgba(0, 0, 0, 0.19) 0px 10px 20px, rgba(0, 0, 0, 0.23) 0px 6px 6px",3,"click"],[2,"display","flex","height","100%","vertical-align","middle","padding","5px 30px 5px 30px"],["size","30px",2,"height","30px"],[2,"text-align","center","line-height","30px","margin-left","5px","font-size","500","font-weight","650","color","#5f6368"],[2,"background-color","#000","border","none","border-radius","5px","cursor","pointer","box-shadow","rgba(0, 0, 0, 0.19) 0px 10px 20px, rgba(0, 0, 0, 0.23) 0px 6px 6px",3,"click"],["size","30px","color","#fff",2,"height","30px"],[2,"text-align","center","line-height","30px","margin-left","5px","font-size","500","font-weight","650","color","#fff"]],template:function(t,e){1&t&&(r.Xb(0,"nz-spin",0),r.Xb(1,"div",1),r.Xb(2,"div",2),r.Sb(3,"nz-avatar",3),r.Wb(),r.Xb(4,"form",4),r.fc("keydown.enter",function(){return e.submitLogin()}),r.Xb(5,"nz-form-item"),r.Xb(6,"nz-form-label"),r.Mc(7,"Email"),r.Wb(),r.Xb(8,"nz-form-control"),r.Xb(9,"nz-input-group"),r.Sb(10,"input",5),r.Wb(),r.Wb(),r.Wb(),r.Xb(11,"nz-form-item"),r.Xb(12,"nz-form-label"),r.Mc(13,"Contrase\xf1a"),r.Wb(),r.Xb(14,"nz-form-control"),r.Xb(15,"nz-input-group"),r.Sb(16,"input",6),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(17,"div",7),r.Mc(18,"\xbfNo tiene una cuenta? "),r.Xb(19,"a",8),r.fc("click",function(){return e.onClickLinkRegister()}),r.Mc(20,"Puedes crear una."),r.Wb(),r.Wb(),r.Xb(21,"button",9),r.fc("click",function(){return e.submitLogin()}),r.Mc(22,"Iniciar sesi\xf3n"),r.Wb(),r.Xb(23,"div",10),r.Mc(24," O puedes iniciar sesi\xf3n usando "),r.Wb(),r.Xb(25,"div",11),r.Xb(26,"button",12),r.fc("click",function(){return e.loginWithGoogle()}),r.Xb(27,"div",13),r.Sb(28,"google-svg",14),r.Xb(29,"div",15),r.Mc(30,"Google"),r.Wb(),r.Wb(),r.Wb(),r.Xb(31,"button",16),r.fc("click",function(){return e.loginAnonymous()}),r.Xb(32,"div",13),r.Sb(33,"anonymous-svg",17),r.Xb(34,"div",18),r.Mc(35,"Invitado/a"),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.qc("nzSpinning",e.loading),r.Db(3),r.qc("nzSize",120),r.Db(1),r.qc("formGroup",e.loginFormGroup),r.Db(17),r.qc("disabled",!e.loginFormGroup.valid))},directives:[DL,FL,re,yt,Qd,le,nr,Jd,ir,np,tp,Rf,Gp,Hp,G,bt,he,HL,qL,QL,tF],styles:[".link-register[_ngcontent-%COMP%]{color:#0067b8}.link-register[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),t})(),nF=(()=>{class t{transform(t,e="px"){let n="px";return["cm","mm","Q","in","pc","pt","px","em","ex","ch","rem","1h","vw","vh","vmin","vmax","%"].some(t=>t===e)&&(n=e),"number"==typeof t?`${t}${n}`:`${t}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Qb({name:"nzToCssUnit",type:t,pure:!0}),t})(),iF=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})();const rF=["modalElement"];function oF(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",16),r.fc("click",function(){return r.Cc(t),r.jc().onCloseClick()}),r.Wb()}}function sF(t,e){if(1&t&&(r.Vb(0),r.Sb(1,"span",17),r.Ub()),2&t){const t=r.jc();r.Db(1),r.qc("innerHTML",t.config.nzTitle,r.Dc)}}function aF(t,e){}function cF(t,e){if(1&t&&r.Sb(0,"div",17),2&t){const t=r.jc();r.qc("innerHTML",t.config.nzContent,r.Dc)}}function lF(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",18),r.fc("click",function(){return r.Cc(t),r.jc().onCancel()}),r.Mc(1),r.Wb()}if(2&t){const t=r.jc();r.qc("nzLoading",!!t.config.nzCancelLoading)("disabled",t.config.nzCancelDisabled),r.Eb("cdkFocusInitial","cancel"===t.config.nzAutofocus||null),r.Db(1),r.Oc(" ",t.config.nzCancelText||t.locale.cancelText," ")}}function uF(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",19),r.fc("click",function(){return r.Cc(t),r.jc().onOk()}),r.Mc(1),r.Wb()}if(2&t){const t=r.jc();r.qc("nzType",t.config.nzOkType)("nzLoading",!!t.config.nzOkLoading)("disabled",t.config.nzOkDisabled)("nzDanger",t.config.nzOkDanger),r.Eb("cdkFocusInitial","ok"===t.config.nzAutofocus||null),r.Db(1),r.Oc(" ",t.config.nzOkText||t.locale.okText," ")}}function hF(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",9),r.fc("click",function(){return r.Cc(t),r.jc().onCloseClick()}),r.Wb()}}function dF(t,e){1&t&&r.Sb(0,"div",10)}function pF(t,e){}function fF(t,e){if(1&t&&r.Sb(0,"div",11),2&t){const t=r.jc();r.qc("innerHTML",t.config.nzContent,r.Dc)}}function gF(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",12),r.fc("cancelTriggered",function(){return r.Cc(t),r.jc().onCloseClick()})("okTriggered",function(){return r.Cc(t),r.jc().onOkClick()}),r.Wb()}if(2&t){const t=r.jc();r.qc("modalRef",t.modalRef)}}function mF(t,e){1&t&&r.oc(0)}const bF=["*"],yF=["nz-modal-close",""];function vF(t,e){if(1&t&&(r.Vb(0),r.Sb(1,"i",2),r.Ub()),2&t){const t=e.$implicit;r.Db(1),r.qc("nzType",t)}}const _F=["nz-modal-footer",""];function wF(t,e){if(1&t&&r.Sb(0,"div",5),2&t){const t=r.jc(3);r.qc("innerHTML",t.config.nzTitle,r.Dc)}}function zF(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",7),r.fc("click",function(){r.Cc(t);const n=e.$implicit;return r.jc(4).onButtonClick(n)}),r.Mc(1),r.Wb()}if(2&t){const t=e.$implicit,n=r.jc(4);r.qc("hidden",!n.getButtonCallableProp(t,"show"))("nzLoading",n.getButtonCallableProp(t,"loading"))("disabled",n.getButtonCallableProp(t,"disabled"))("nzType",t.type)("nzDanger",t.danger)("nzShape",t.shape)("nzSize",t.size)("nzGhost",t.ghost),r.Db(1),r.Oc(" ",t.label," ")}}function CF(t,e){if(1&t&&(r.Vb(0),r.Kc(1,zF,2,9,"button",6),r.Ub()),2&t){const t=r.jc(3);r.Db(1),r.qc("ngForOf",t.buttons)}}function SF(t,e){if(1&t&&(r.Vb(0),r.Kc(1,wF,1,1,"div",3),r.Kc(2,CF,2,1,"ng-container",4),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.qc("ngIf",!t.buttonsFooter),r.Db(1),r.qc("ngIf",t.buttonsFooter)}}const xF=function(t,e){return{$implicit:t,modalRef:e}};function OF(t,e){if(1&t&&(r.Vb(0),r.Kc(1,SF,3,2,"ng-container",2),r.Ub()),2&t){const t=r.jc();r.Db(1),r.qc("nzStringTemplateOutlet",t.config.nzFooter)("nzStringTemplateOutletContext",r.wc(2,xF,t.config.nzComponentParams,t.modalRef))}}function kF(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",10),r.fc("click",function(){return r.Cc(t),r.jc(2).onCancel()}),r.Mc(1),r.Wb()}if(2&t){const t=r.jc(2);r.qc("nzLoading",!!t.config.nzCancelLoading)("disabled",t.config.nzCancelDisabled),r.Eb("cdkFocusInitial","cancel"===t.config.nzAutofocus||null),r.Db(1),r.Oc(" ",t.config.nzCancelText||t.locale.cancelText," ")}}function TF(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",11),r.fc("click",function(){return r.Cc(t),r.jc(2).onOk()}),r.Mc(1),r.Wb()}if(2&t){const t=r.jc(2);r.qc("nzType",t.config.nzOkType)("nzDanger",t.config.nzOkDanger)("nzLoading",!!t.config.nzOkLoading)("disabled",t.config.nzOkDisabled),r.Eb("cdkFocusInitial","ok"===t.config.nzAutofocus||null),r.Db(1),r.Oc(" ",t.config.nzOkText||t.locale.okText," ")}}function EF(t,e){if(1&t&&(r.Kc(0,kF,2,4,"button",8),r.Kc(1,TF,2,6,"button",9)),2&t){const t=r.jc();r.qc("ngIf",null!==t.config.nzCancelText),r.Db(1),r.qc("ngIf",null!==t.config.nzOkText)}}const IF=["nz-modal-title",""];function DF(t,e){if(1&t&&(r.Vb(0),r.Sb(1,"div",2),r.Ub()),2&t){const t=r.jc();r.Db(1),r.qc("innerHTML",t.config.nzTitle,r.Dc)}}const MF=()=>{};class RF{constructor(){this.nzCentered=!1,this.nzClosable=!0,this.nzOkLoading=!1,this.nzOkDisabled=!1,this.nzCancelDisabled=!1,this.nzCancelLoading=!1,this.nzNoAnimation=!1,this.nzAutofocus="auto",this.nzKeyboard=!0,this.nzZIndex=1e3,this.nzWidth=520,this.nzCloseIcon="close",this.nzOkType="primary",this.nzOkDanger=!1,this.nzModalType="default",this.nzOnCancel=MF,this.nzOnOk=MF,this.nzIconType="question-circle"}}const AF={modalContainer:qo("modalContainer",[$o("void, exit",Uo({})),$o("enter",Uo({})),Ko("* => enter",Bo(".24s",Uo({}))),Ko("* => void, * => exit",Bo(".2s",Uo({})))])};function PF(t,e,n){return void 0===t?void 0===e?n:e:t}function LF(t){const{nzCentered:e,nzMask:n,nzMaskClosable:i,nzClosable:r,nzOkLoading:o,nzOkDisabled:s,nzCancelDisabled:a,nzCancelLoading:c,nzKeyboard:l,nzNoAnimation:u,nzContent:h,nzComponentParams:d,nzFooter:p,nzZIndex:f,nzWidth:g,nzWrapClassName:m,nzClassName:b,nzStyle:y,nzTitle:v,nzCloseIcon:_,nzMaskStyle:w,nzBodyStyle:z,nzOkText:C,nzCancelText:S,nzOkType:x,nzOkDanger:O,nzIconType:k,nzModalType:T,nzOnOk:E,nzOnCancel:I,nzAfterOpen:D,nzAfterClose:M,nzCloseOnNavigation:R,nzAutofocus:A}=t;return{nzCentered:e,nzMask:n,nzMaskClosable:i,nzClosable:r,nzOkLoading:o,nzOkDisabled:s,nzCancelDisabled:a,nzCancelLoading:c,nzKeyboard:l,nzNoAnimation:u,nzContent:h,nzComponentParams:d,nzFooter:p,nzZIndex:f,nzWidth:g,nzWrapClassName:m,nzClassName:b,nzStyle:y,nzTitle:v,nzCloseIcon:_,nzMaskStyle:w,nzBodyStyle:z,nzOkText:C,nzCancelText:S,nzOkType:x,nzOkDanger:O,nzIconType:k,nzModalType:T,nzOnOk:E,nzOnCancel:I,nzAfterOpen:D,nzAfterClose:M,nzCloseOnNavigation:R,nzAutofocus:A}}function FF(){throw Error("Attempting to attach modal content after content is already attached")}let jF=(()=>{class t extends pl{constructor(t,e,n,i,o,s,a,c,l){super(),this.elementRef=t,this.focusTrapFactory=e,this.cdr=n,this.render=i,this.overlayRef=o,this.nzConfigService=s,this.config=a,this.animationType=l,this.animationStateChanged=new r.n,this.containerClick=new r.n,this.cancelTriggered=new r.n,this.okTriggered=new r.n,this.state="enter",this.isStringContent=!1,this.dir="ltr",this.elementFocusedBeforeModalWasOpened=null,this.mouseDown=!1,this.oldMaskStyle=null,this.destroy$=new xe.a,this.document=c,this.dir=o.getDirection(),this.isStringContent="string"==typeof a.nzContent,this.nzConfigService.getConfigChangeEventForComponent("modal").pipe(An(this.destroy$)).subscribe(()=>{this.updateMaskClassname()})}get showMask(){const t=this.nzConfigService.getConfigForComponent("modal")||{};return!!PF(this.config.nzMask,t.nzMask,!0)}get maskClosable(){const t=this.nzConfigService.getConfigForComponent("modal")||{};return!!PF(this.config.nzMaskClosable,t.nzMaskClosable,!0)}onContainerClick(t){t.target===t.currentTarget&&!this.mouseDown&&this.showMask&&this.maskClosable&&this.containerClick.emit()}onMousedown(){this.mouseDown=!0}onMouseup(){this.mouseDown&&setTimeout(()=>{this.mouseDown=!1})}onCloseClick(){this.cancelTriggered.emit()}onOkClick(){this.okTriggered.emit()}attachComponentPortal(t){return this.portalOutlet.hasAttached()&&FF(),this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop(),this.portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this.portalOutlet.hasAttached()&&FF(),this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop(),this.portalOutlet.attachTemplatePortal(t)}attachStringContent(){this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop()}getNativeElement(){return this.elementRef.nativeElement}animationDisabled(){return this.config.nzNoAnimation||"NoopAnimations"===this.animationType}setModalTransformOrigin(){const t=this.modalElementRef.nativeElement;if(this.elementFocusedBeforeModalWasOpened){const e=this.elementFocusedBeforeModalWasOpened.getBoundingClientRect(),n=Ai(this.elementFocusedBeforeModalWasOpened);this.render.setStyle(t,"transform-origin",`${n.left+e.width/2-t.offsetLeft}px ${n.top+e.height/2-t.offsetTop}px 0px`)}}savePreviouslyFocusedElement(){this.focusTrap||(this.focusTrap=this.focusTrapFactory.create(this.elementRef.nativeElement)),this.document&&(this.elementFocusedBeforeModalWasOpened=this.document.activeElement,this.elementRef.nativeElement.focus&&Promise.resolve().then(()=>this.elementRef.nativeElement.focus()))}trapFocus(){const t=this.elementRef.nativeElement;if(this.config.nzAutofocus)this.focusTrap.focusInitialElementWhenReady().then();else{const e=this.document.activeElement;e===t||t.contains(e)||t.focus()}}restoreFocus(){const t=this.elementFocusedBeforeModalWasOpened;if(t&&"function"==typeof t.focus){const e=this.document.activeElement,n=this.elementRef.nativeElement;e&&e!==this.document.body&&e!==n&&!n.contains(e)||t.focus()}this.focusTrap&&this.focusTrap.destroy()}setEnterAnimationClass(){if(this.animationDisabled())return;this.setModalTransformOrigin();const t=this.modalElementRef.nativeElement,e=this.overlayRef.backdropElement;t.classList.add("zoom-enter"),t.classList.add("zoom-enter-active"),e&&(e.classList.add("fade-enter"),e.classList.add("fade-enter-active"))}setExitAnimationClass(){const t=this.modalElementRef.nativeElement;t.classList.add("zoom-leave"),t.classList.add("zoom-leave-active"),this.setMaskExitAnimationClass()}setMaskExitAnimationClass(t=!1){const e=this.overlayRef.backdropElement;if(e){if(this.animationDisabled()||t)return void e.classList.remove("ant-modal-mask");e.classList.add("fade-leave"),e.classList.add("fade-leave-active")}}cleanAnimationClass(){if(this.animationDisabled())return;const t=this.overlayRef.backdropElement,e=this.modalElementRef.nativeElement;t&&(t.classList.remove("fade-enter"),t.classList.remove("fade-enter-active")),e.classList.remove("zoom-enter"),e.classList.remove("zoom-enter-active"),e.classList.remove("zoom-leave"),e.classList.remove("zoom-leave-active")}setZIndexForBackdrop(){const t=this.overlayRef.backdropElement;t&&zi(this.config.nzZIndex)&&this.render.setStyle(t,"z-index",this.config.nzZIndex)}bindBackdropStyle(){const t=this.overlayRef.backdropElement;if(t&&(this.oldMaskStyle&&(Object.keys(this.oldMaskStyle).forEach(e=>{this.render.removeStyle(t,e)}),this.oldMaskStyle=null),this.setZIndexForBackdrop(),"object"==typeof this.config.nzMaskStyle&&Object.keys(this.config.nzMaskStyle).length)){const e=Object.assign({},this.config.nzMaskStyle);Object.keys(e).forEach(n=>{this.render.setStyle(t,n,e[n])}),this.oldMaskStyle=e}}updateMaskClassname(){const t=this.overlayRef.backdropElement;t&&(this.showMask?t.classList.add("ant-modal-mask"):t.classList.remove("ant-modal-mask"))}onAnimationDone(t){"enter"===t.toState?this.trapFocus():"exit"===t.toState&&this.restoreFocus(),this.cleanAnimationClass(),this.animationStateChanged.emit(t)}onAnimationStart(t){"enter"===t.toState?(this.setEnterAnimationClass(),this.bindBackdropStyle()):"exit"===t.toState&&this.setExitAnimationClass(),this.animationStateChanged.emit(t)}startExitAnimation(){this.state="exit",this.cdr.markForCheck()}ngOnDestroy(){this.setMaskExitAnimationClass(!0),this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(yp),r.Rb(r.h),r.Rb(r.F),r.Rb(Fl),r.Rb(Do),r.Rb(RF),r.Rb(void 0),r.Rb(String))},t.\u0275dir=r.Mb({type:t,features:[r.Ab]}),t})(),NF=(()=>{class t extends jF{constructor(t,e,n,i,o,s,a,c,l,u){super(e,n,i,o,s,a,c,l,u),this.i18n=t,this.config=c,this.cancelTriggered=new r.n,this.okTriggered=new r.n,this.i18n.localeChange.pipe(An(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Modal")})}onCancel(){this.cancelTriggered.emit()}onOk(){this.okTriggered.emit()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Ed),r.Rb(r.l),r.Rb(yp),r.Rb(r.h),r.Rb(r.F),r.Rb(Fl),r.Rb(Do),r.Rb(RF),r.Rb(i.d,8),r.Rb(Oc,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-modal-confirm-container"]],viewQuery:function(t,e){if(1&t&&(r.Qc(gl,3),r.Qc(rF,3)),2&t){let t;r.zc(t=r.gc())&&(e.portalOutlet=t.first),r.zc(t=r.gc())&&(e.modalElementRef=t.first)}},hostAttrs:["tabindex","-1","role","dialog"],hostVars:10,hostBindings:function(t,e){1&t&&(r.Ic("@modalContainer.start",function(t){return e.onAnimationStart(t)})("@modalContainer.done",function(t){return e.onAnimationDone(t)}),r.fc("click",function(t){return e.onContainerClick(t)})("mouseup",function(){return e.onMouseup()})),2&t&&(r.Jc("@.disabled",e.config.nzNoAnimation)("@modalContainer",e.state),r.Fb(e.config.nzWrapClassName?"ant-modal-wrap "+e.config.nzWrapClassName:"ant-modal-wrap"),r.Hc("z-index",e.config.nzZIndex),r.Jb("ant-modal-wrap-rtl","rtl"===e.dir)("ant-modal-centered",e.config.nzCentered))},outputs:{cancelTriggered:"cancelTriggered",okTriggered:"okTriggered"},exportAs:["nzModalConfirmContainer"],features:[r.Ab],decls:17,vars:13,consts:[["role","document",1,"ant-modal",3,"ngClass","ngStyle","mousedown"],["modalElement",""],[1,"ant-modal-content"],["nz-modal-close","",3,"click",4,"ngIf"],[1,"ant-modal-body",3,"ngStyle"],[1,"ant-modal-confirm-body-wrapper"],[1,"ant-modal-confirm-body"],["nz-icon","",3,"nzType"],[1,"ant-modal-confirm-title"],[4,"nzStringTemplateOutlet"],[1,"ant-modal-confirm-content"],["cdkPortalOutlet",""],[3,"innerHTML",4,"ngIf"],[1,"ant-modal-confirm-btns"],["nz-button","",3,"nzLoading","disabled","click",4,"ngIf"],["nz-button","",3,"nzType","nzLoading","disabled","nzDanger","click",4,"ngIf"],["nz-modal-close","",3,"click"],[3,"innerHTML"],["nz-button","",3,"nzLoading","disabled","click"],["nz-button","",3,"nzType","nzLoading","disabled","nzDanger","click"]],template:function(t,e){1&t&&(r.Xb(0,"div",0,1),r.fc("mousedown",function(){return e.onMousedown()}),r.kc(2,"nzToCssUnit"),r.Xb(3,"div",2),r.Kc(4,oF,1,0,"button",3),r.Xb(5,"div",4),r.Xb(6,"div",5),r.Xb(7,"div",6),r.Sb(8,"i",7),r.Xb(9,"span",8),r.Kc(10,sF,2,1,"ng-container",9),r.Wb(),r.Xb(11,"div",10),r.Kc(12,aF,0,0,"ng-template",11),r.Kc(13,cF,1,1,"div",12),r.Wb(),r.Wb(),r.Xb(14,"div",13),r.Kc(15,lF,2,4,"button",14),r.Kc(16,uF,2,6,"button",15),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.Hc("width",r.lc(2,11,null==e.config?null:e.config.nzWidth)),r.qc("ngClass",e.config.nzClassName)("ngStyle",e.config.nzStyle),r.Db(4),r.qc("ngIf",e.config.nzClosable),r.Db(1),r.qc("ngStyle",e.config.nzBodyStyle),r.Db(3),r.qc("nzType",e.config.nzIconType),r.Db(2),r.qc("nzStringTemplateOutlet",e.config.nzTitle),r.Db(3),r.qc("ngIf",e.isStringContent),r.Db(2),r.qc("ngIf",null!==e.config.nzCancelText),r.Db(1),r.qc("ngIf",null!==e.config.nzOkText))},directives:function(){return[i.l,i.o,i.n,Rf,No,ei,gl,$F,HL,qL]},pipes:function(){return[nF]},encapsulation:2,data:{animation:[AF.modalContainer]}}),t})(),VF=(()=>{class t extends jF{constructor(t,e,n,i,r,o,s,a,c){super(t,e,n,i,r,o,s,a,c),this.config=s}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(yp),r.Rb(r.h),r.Rb(r.F),r.Rb(Fl),r.Rb(Do),r.Rb(RF),r.Rb(i.d,8),r.Rb(Oc,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-modal-container"]],viewQuery:function(t,e){if(1&t&&(r.Qc(gl,3),r.Qc(rF,3)),2&t){let t;r.zc(t=r.gc())&&(e.portalOutlet=t.first),r.zc(t=r.gc())&&(e.modalElementRef=t.first)}},hostAttrs:["tabindex","-1","role","dialog"],hostVars:10,hostBindings:function(t,e){1&t&&(r.Ic("@modalContainer.start",function(t){return e.onAnimationStart(t)})("@modalContainer.done",function(t){return e.onAnimationDone(t)}),r.fc("click",function(t){return e.onContainerClick(t)})("mouseup",function(){return e.onMouseup()})),2&t&&(r.Jc("@.disabled",e.config.nzNoAnimation)("@modalContainer",e.state),r.Fb(e.config.nzWrapClassName?"ant-modal-wrap "+e.config.nzWrapClassName:"ant-modal-wrap"),r.Hc("z-index",e.config.nzZIndex),r.Jb("ant-modal-wrap-rtl","rtl"===e.dir)("ant-modal-centered",e.config.nzCentered))},exportAs:["nzModalContainer"],features:[r.Ab],decls:10,vars:11,consts:[["role","document",1,"ant-modal",3,"ngClass","ngStyle","mousedown"],["modalElement",""],[1,"ant-modal-content"],["nz-modal-close","",3,"click",4,"ngIf"],["nz-modal-title","",4,"ngIf"],[1,"ant-modal-body",3,"ngStyle"],["cdkPortalOutlet",""],[3,"innerHTML",4,"ngIf"],["nz-modal-footer","",3,"modalRef","cancelTriggered","okTriggered",4,"ngIf"],["nz-modal-close","",3,"click"],["nz-modal-title",""],[3,"innerHTML"],["nz-modal-footer","",3,"modalRef","cancelTriggered","okTriggered"]],template:function(t,e){1&t&&(r.Xb(0,"div",0,1),r.fc("mousedown",function(){return e.onMousedown()}),r.kc(2,"nzToCssUnit"),r.Xb(3,"div",2),r.Kc(4,hF,1,0,"button",3),r.Kc(5,dF,1,0,"div",4),r.Xb(6,"div",5),r.Kc(7,pF,0,0,"ng-template",6),r.Kc(8,fF,1,1,"div",7),r.Wb(),r.Kc(9,gF,1,1,"div",8),r.Wb(),r.Wb()),2&t&&(r.Hc("width",r.lc(2,9,null==e.config?null:e.config.nzWidth)),r.qc("ngClass",e.config.nzClassName)("ngStyle",e.config.nzStyle),r.Db(4),r.qc("ngIf",e.config.nzClosable),r.Db(1),r.qc("ngIf",e.config.nzTitle),r.Db(1),r.qc("ngStyle",e.config.nzBodyStyle),r.Db(2),r.qc("ngIf",e.isStringContent),r.Db(1),r.qc("ngIf",null!==e.config.nzFooter))},directives:function(){return[i.l,i.o,i.n,gl,$F,GF,HF]},pipes:function(){return[nF]},encapsulation:2,data:{animation:[AF.modalContainer]}}),t})();class WF{constructor(t,e,n){this.overlayRef=t,this.config=e,this.containerInstance=n,this.componentInstance=null,this.state=0,this.afterClose=new xe.a,this.afterOpen=new xe.a,n.animationStateChanged.pipe(Object(di.a)(t=>"done"===t.phaseName&&"enter"===t.toState),Object(Tn.a)(1)).subscribe(()=>{this.afterOpen.next(),this.afterOpen.complete(),e.nzAfterOpen instanceof r.n&&e.nzAfterOpen.emit()}),n.animationStateChanged.pipe(Object(di.a)(t=>"done"===t.phaseName&&"exit"===t.toState),Object(Tn.a)(1)).subscribe(()=>{clearTimeout(this.closeTimeout),this._finishDialogClose()}),n.containerClick.pipe(Object(Tn.a)(1)).subscribe(()=>{!this.config.nzCancelLoading&&!this.config.nzOkLoading&&this.trigger("cancel")}),t.keydownEvents().pipe(Object(di.a)(t=>this.config.nzKeyboard&&!this.config.nzCancelLoading&&!this.config.nzOkLoading&&27===t.keyCode&&!_l(t))).subscribe(t=>{t.preventDefault(),this.trigger("cancel")}),n.cancelTriggered.subscribe(()=>this.trigger("cancel")),n.okTriggered.subscribe(()=>this.trigger("ok")),t.detachments().subscribe(()=>{this.afterClose.next(this.result),this.afterClose.complete(),e.nzAfterClose instanceof r.n&&e.nzAfterClose.emit(this.result),this.componentInstance=null,this.overlayRef.dispose()})}getContentComponent(){return this.componentInstance}getElement(){return this.containerInstance.getNativeElement()}destroy(t){this.close(t)}triggerOk(){return this.trigger("ok")}triggerCancel(){return this.trigger("cancel")}close(t){this.result=t,this.containerInstance.animationStateChanged.pipe(Object(di.a)(t=>"start"===t.phaseName),Object(Tn.a)(1)).subscribe(t=>{this.overlayRef.detachBackdrop(),this.closeTimeout=setTimeout(()=>{this._finishDialogClose()},t.totalTime+100)}),this.containerInstance.startExitAnimation(),this.state=1}updateConfig(t){Object.assign(this.config,t),this.containerInstance.bindBackdropStyle(),this.containerInstance.cdr.markForCheck()}getState(){return this.state}getConfig(){return this.config}getBackdropElement(){return this.overlayRef.backdropElement}trigger(t){return cr(this,void 0,void 0,function*(){const e={ok:this.config.nzOnOk,cancel:this.config.nzOnCancel}[t],n={ok:"nzOkLoading",cancel:"nzCancelLoading"}[t];if(!this.config[n])if(e instanceof r.n)e.emit(this.getContentComponent());else if("function"==typeof e){const t=e(this.getContentComponent());if(Pi(t)){this.config[n]=!0;let e=!1;try{e=yield t}finally{this.config[n]=!1,this.closeWhitResult(e)}}else this.closeWhitResult(t)}})}closeWhitResult(t){!1!==t&&this.close(t)}_finishDialogClose(){this.state=2,this.overlayRef.dispose()}}let qF=(()=>{class t{constructor(t,e,n,i,r){this.overlay=t,this.injector=e,this.nzConfigService=n,this.parentModal=i,this.directionality=r,this.openModalsAtThisLevel=[],this.afterAllClosedAtThisLevel=new xe.a,this.afterAllClose=Object(HD.a)(()=>this.openModals.length?this._afterAllClosed:this._afterAllClosed.pipe(Object(Mn.a)(void 0)))}get openModals(){return this.parentModal?this.parentModal.openModals:this.openModalsAtThisLevel}get _afterAllClosed(){const t=this.parentModal;return t?t._afterAllClosed:this.afterAllClosedAtThisLevel}create(t){return this.open(t.nzContent,t)}closeAll(){this.closeModals(this.openModals)}confirm(t={},e="confirm"){return"nzFooter"in t&&vi('The Confirm-Modal doesn\'t support "nzFooter", this property will be ignored.'),"nzWidth"in t||(t.nzWidth=416),"nzMaskClosable"in t||(t.nzMaskClosable=!1),t.nzModalType="confirm",t.nzClassName=`ant-modal-confirm ant-modal-confirm-${e} ${t.nzClassName||""}`,this.create(t)}info(t={}){return this.confirmFactory(t,"info")}success(t={}){return this.confirmFactory(t,"success")}error(t={}){return this.confirmFactory(t,"error")}warning(t={}){return this.confirmFactory(t,"warning")}open(t,e){const n=function(t,e){return Object.assign(Object.assign({},e),t)}(e||{},new RF),i=this.createOverlay(n),r=this.attachModalContainer(i,n),o=this.attachModalContent(t,r,i,n);return r.modalRef=o,this.openModals.push(o),o.afterClose.subscribe(()=>this.removeOpenModal(o)),o}removeOpenModal(t){const e=this.openModals.indexOf(t);e>-1&&(this.openModals.splice(e,1),this.openModals.length||this._afterAllClosed.next())}closeModals(t){let e=t.length;for(;e--;)t[e].close(),this.openModals.length||this._afterAllClosed.next()}createOverlay(t){const e=this.nzConfigService.getConfigForComponent("modal")||{},n=new El({hasBackdrop:!0,scrollStrategy:this.overlay.scrollStrategies.block(),positionStrategy:this.overlay.position().global(),disposeOnNavigation:PF(t.nzCloseOnNavigation,e.nzCloseOnNavigation,!0),direction:PF(t.nzDirection,e.nzDirection,this.directionality.value)});return PF(t.nzMask,e.nzMask,!0)&&(n.backdropClass="ant-modal-mask"),this.overlay.create(n)}attachModalContainer(t,e){const n=r.s.create({parent:e&&e.nzViewContainerRef&&e.nzViewContainerRef.injector||this.injector,providers:[{provide:Fl,useValue:t},{provide:RF,useValue:e}]}),i=new ul("confirm"===e.nzModalType?NF:VF,e.nzViewContainerRef,n);return t.attach(i).instance}attachModalContent(t,e,n,i){const o=new WF(n,i,e);if(t instanceof r.M)e.attachTemplatePortal(new hl(t,null,{$implicit:i.nzComponentParams,modalRef:o}));else if(zi(t)&&"string"!=typeof t){const n=this.createInjector(o,i),r=e.attachComponentPortal(new ul(t,i.nzViewContainerRef,n));Object.assign(r.instance,i.nzComponentParams),o.componentInstance=r.instance}else e.attachStringContent();return o}createInjector(t,e){return r.s.create({parent:e&&e.nzViewContainerRef&&e.nzViewContainerRef.injector||this.injector,providers:[{provide:WF,useValue:t}]})}confirmFactory(t={},e){return"nzIconType"in t||(t.nzIconType={info:"info-circle",success:"check-circle",error:"close-circle",warning:"exclamation-circle"}[e]),"nzCancelText"in t||(t.nzCancelText=null),this.confirm(t,e)}ngOnDestroy(){this.closeModals(this.openModalsAtThisLevel),this.afterAllClosedAtThisLevel.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.bc(Hl),r.bc(r.s),r.bc(Do),r.bc(t,12),r.bc(bn,8))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),BF=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.M))},t.\u0275dir=r.Mb({type:t,selectors:[["","nzModalContent",""]],exportAs:["nzModalContent"]}),t})(),XF=(()=>{class t{constructor(t,e){this.nzModalRef=t,this.templateRef=e,this.nzModalRef&&this.nzModalRef.updateConfig({nzFooter:this.templateRef})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(WF,8),r.Rb(r.M))},t.\u0275dir=r.Mb({type:t,selectors:[["","nzModalFooter",""]],exportAs:["nzModalFooter"]}),t})(),UF=(()=>{class t{constructor(t,e,n){this.cdr=t,this.modal=e,this.viewContainerRef=n,this.nzVisible=!1,this.nzClosable=!0,this.nzOkLoading=!1,this.nzOkDisabled=!1,this.nzCancelDisabled=!1,this.nzCancelLoading=!1,this.nzKeyboard=!0,this.nzNoAnimation=!1,this.nzCentered=!1,this.nzZIndex=1e3,this.nzWidth=520,this.nzCloseIcon="close",this.nzOkType="primary",this.nzOkDanger=!1,this.nzIconType="question-circle",this.nzModalType="default",this.nzAutofocus="auto",this.nzOnOk=new r.n,this.nzOnCancel=new r.n,this.nzAfterOpen=new r.n,this.nzAfterClose=new r.n,this.nzVisibleChange=new r.n,this.modalRef=null}set modalFooter(t){t&&this.setFooterWithTemplate(t)}get afterOpen(){return this.nzAfterOpen.asObservable()}get afterClose(){return this.nzAfterClose.asObservable()}open(){if(this.nzVisible||(this.nzVisible=!0,this.nzVisibleChange.emit(!0)),!this.modalRef){const t=this.getConfig();this.modalRef=this.modal.create(t)}}close(t){this.nzVisible&&(this.nzVisible=!1,this.nzVisibleChange.emit(!1)),this.modalRef&&(this.modalRef.close(t),this.modalRef=null)}destroy(t){this.close(t)}triggerOk(){var t;null===(t=this.modalRef)||void 0===t||t.triggerOk()}triggerCancel(){var t;null===(t=this.modalRef)||void 0===t||t.triggerCancel()}getContentComponent(){var t;return null===(t=this.modalRef)||void 0===t?void 0:t.getContentComponent()}getElement(){var t;return null===(t=this.modalRef)||void 0===t?void 0:t.getElement()}getModalRef(){return this.modalRef}setFooterWithTemplate(t){this.nzFooter=t,this.modalRef&&Promise.resolve().then(()=>{this.modalRef.updateConfig({nzFooter:this.nzFooter})}),this.cdr.markForCheck()}getConfig(){const t=LF(this);return t.nzViewContainerRef=this.viewContainerRef,this.nzContent||this.contentFromContentChild?t.nzContent=this.nzContent||this.contentFromContentChild:(t.nzContent=this.contentTemplateRef,_i("Usage `<ng-content></ng-content>` is deprecated, which will be removed in 12.0.0. Please instead use `<ng-template nzModalContent></ng-template>` to declare the content of the modal.")),t}ngOnChanges(t){const{nzVisible:e}=t,n=or(t,["nzVisible"]);Object.keys(n).length&&this.modalRef&&this.modalRef.updateConfig(LF(this)),e&&(this.nzVisible?this.open():this.close())}ngOnDestroy(){var t;null===(t=this.modalRef)||void 0===t||t._finishDialogClose()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h),r.Rb(qF),r.Rb(r.R))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-modal"]],contentQueries:function(t,e,n){if(1&t&&(r.Kb(n,XF,3,r.M),r.Kb(n,BF,3,r.M)),2&t){let t;r.zc(t=r.gc())&&(e.modalFooter=t.first),r.zc(t=r.gc())&&(e.contentFromContentChild=t.first)}},viewQuery:function(t,e){if(1&t&&r.Qc(r.M,3),2&t){let t;r.zc(t=r.gc())&&(e.contentTemplateRef=t.first)}},inputs:{nzVisible:"nzVisible",nzClosable:"nzClosable",nzOkLoading:"nzOkLoading",nzOkDisabled:"nzOkDisabled",nzCancelDisabled:"nzCancelDisabled",nzCancelLoading:"nzCancelLoading",nzKeyboard:"nzKeyboard",nzNoAnimation:"nzNoAnimation",nzCentered:"nzCentered",nzZIndex:"nzZIndex",nzWidth:"nzWidth",nzCloseIcon:"nzCloseIcon",nzOkType:"nzOkType",nzOkDanger:"nzOkDanger",nzIconType:"nzIconType",nzModalType:"nzModalType",nzAutofocus:"nzAutofocus",nzOnOk:"nzOnOk",nzOnCancel:"nzOnCancel",nzFooter:"nzFooter",nzMask:"nzMask",nzMaskClosable:"nzMaskClosable",nzCloseOnNavigation:"nzCloseOnNavigation",nzContent:"nzContent",nzComponentParams:"nzComponentParams",nzWrapClassName:"nzWrapClassName",nzClassName:"nzClassName",nzStyle:"nzStyle",nzTitle:"nzTitle",nzMaskStyle:"nzMaskStyle",nzBodyStyle:"nzBodyStyle",nzOkText:"nzOkText",nzCancelText:"nzCancelText"},outputs:{nzOnOk:"nzOnOk",nzOnCancel:"nzOnCancel",nzAfterOpen:"nzAfterOpen",nzAfterClose:"nzAfterClose",nzVisibleChange:"nzVisibleChange"},exportAs:["nzModal"],features:[r.Bb],ngContentSelectors:bF,decls:1,vars:0,template:function(t,e){1&t&&(r.pc(),r.Kc(0,mF,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzMask",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzMaskClosable",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzCloseOnNavigation",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzVisible",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzClosable",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzOkLoading",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzOkDisabled",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzCancelDisabled",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzCancelLoading",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzKeyboard",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzNoAnimation",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzCentered",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzOkDanger",void 0),t})(),$F=(()=>{class t{constructor(t){this.config=t}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(RF))},t.\u0275cmp=r.Lb({type:t,selectors:[["button","nz-modal-close",""]],hostAttrs:["aria-label","Close",1,"ant-modal-close"],exportAs:["NzModalCloseBuiltin"],attrs:yF,decls:2,vars:1,consts:[[1,"ant-modal-close-x"],[4,"nzStringTemplateOutlet"],["nz-icon","",1,"ant-modal-close-icon",3,"nzType"]],template:function(t,e){1&t&&(r.Xb(0,"span",0),r.Kc(1,vF,2,1,"ng-container",1),r.Wb()),2&t&&(r.Db(1),r.qc("nzStringTemplateOutlet",e.config.nzCloseIcon))},directives:[ei,Rf,No],encapsulation:2,changeDetection:0}),t})(),HF=(()=>{class t{constructor(t,e){this.i18n=t,this.config=e,this.buttonsFooter=!1,this.buttons=[],this.cancelTriggered=new r.n,this.okTriggered=new r.n,this.destroy$=new xe.a,Array.isArray(e.nzFooter)&&(this.buttonsFooter=!0,this.buttons=e.nzFooter.map(KF)),this.i18n.localeChange.pipe(An(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Modal")})}onCancel(){this.cancelTriggered.emit()}onOk(){this.okTriggered.emit()}getButtonCallableProp(t,e){const n=t[e],i=this.modalRef.getContentComponent();return"function"==typeof n?n.apply(t,i&&[i]):n}onButtonClick(t){if(!this.getButtonCallableProp(t,"loading")){const e=this.getButtonCallableProp(t,"onClick");t.autoLoading&&Pi(e)&&(t.loading=!0,e.then(()=>t.loading=!1).catch(()=>t.loading=!1))}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Ed),r.Rb(RF))},t.\u0275cmp=r.Lb({type:t,selectors:[["div","nz-modal-footer",""]],hostAttrs:[1,"ant-modal-footer"],inputs:{modalRef:"modalRef"},outputs:{cancelTriggered:"cancelTriggered",okTriggered:"okTriggered"},exportAs:["NzModalFooterBuiltin"],attrs:_F,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["defaultFooterButtons",""],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[3,"innerHTML",4,"ngIf"],[4,"ngIf"],[3,"innerHTML"],["nz-button","",3,"hidden","nzLoading","disabled","nzType","nzDanger","nzShape","nzSize","nzGhost","click",4,"ngFor","ngForOf"],["nz-button","",3,"hidden","nzLoading","disabled","nzType","nzDanger","nzShape","nzSize","nzGhost","click"],["nz-button","",3,"nzLoading","disabled","click",4,"ngIf"],["nz-button","",3,"nzType","nzDanger","nzLoading","disabled","click",4,"ngIf"],["nz-button","",3,"nzLoading","disabled","click"],["nz-button","",3,"nzType","nzDanger","nzLoading","disabled","click"]],template:function(t,e){if(1&t&&(r.Kc(0,OF,2,5,"ng-container",0),r.Kc(1,EF,2,2,"ng-template",null,1,r.Lc)),2&t){const t=r.Ac(2);r.qc("ngIf",e.config.nzFooter)("ngIfElse",t)}},directives:[i.n,ei,i.m,HL,qL,Rf],encapsulation:2}),t})();function KF(t){return Object.assign({type:null,size:"default",autoLoading:!0,show:!0,loading:!1,disabled:!1},t)}let GF=(()=>{class t{constructor(t){this.config=t}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(RF))},t.\u0275cmp=r.Lb({type:t,selectors:[["div","nz-modal-title",""]],hostAttrs:[1,"ant-modal-header"],exportAs:["NzModalTitleBuiltin"],attrs:IF,decls:2,vars:1,consts:[[1,"ant-modal-title"],[4,"nzStringTemplateOutlet"],[3,"innerHTML"]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.Kc(1,DF,2,1,"ng-container",1),r.Wb()),2&t&&(r.Db(1),r.qc("nzStringTemplateOutlet",e.config.nzTitle))},directives:[ei],encapsulation:2,changeDetection:0}),t})(),YF=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[qF],imports:[[i.c,vn,Zl,ii,ml,Dd,GL,Vo,iF,Ic,iF]]}),t})();var QF=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some(function(t,i){return t[0]===e&&(n=i,!0)}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),i=this.__entries__[n];return i&&i[1]},e.prototype.set=function(e,n){var i=t(this.__entries__,e);~i?this.__entries__[i][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,i=t(n,e);~i&&n.splice(i,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];t.call(e,r[1],r[0])}},e}()}(),JF="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,ZF="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),tj="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(ZF):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},ej=["top","right","bottom","left","width","height","size","weight"],nj="undefined"!=typeof MutationObserver,ij=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,i=!1,r=0;function o(){n&&(n=!1,t()),i&&a()}function s(){tj(o)}function a(){var t=Date.now();if(n){if(t-r<2)return;i=!0}else n=!0,i=!1,setTimeout(s,20);r=t}return a}(this.refresh.bind(this))}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},t.prototype.connect_=function(){JF&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),nj?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){JF&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;ej.some(function(t){return!!~n.indexOf(t)})&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),rj=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},oj=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||ZF},sj=uj(0,0,0,0);function aj(t){return parseFloat(t)||0}function cj(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(e,n){return e+aj(t["border-"+n+"-width"])},0)}var lj="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof oj(t).SVGGraphicsElement}:function(t){return t instanceof oj(t).SVGElement&&"function"==typeof t.getBBox};function uj(t,e,n,i){return{x:t,y:e,width:n,height:i}}var hj=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=uj(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t,e=(t=this.target,JF?lj(t)?function(t){var e=t.getBBox();return uj(0,0,e.width,e.height)}(t):function(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return sj;var i=oj(t).getComputedStyle(t),r=function(t){for(var e={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var r=i[n];e[r]=aj(t["padding-"+r])}return e}(i),o=r.left+r.right,s=r.top+r.bottom,a=aj(i.width),c=aj(i.height);if("border-box"===i.boxSizing&&(Math.round(a+o)!==e&&(a-=cj(i,"left","right")+o),Math.round(c+s)!==n&&(c-=cj(i,"top","bottom")+s)),!function(t){return t===oj(t).document.documentElement}(t)){var l=Math.round(a+o)-e,u=Math.round(c+s)-n;1!==Math.abs(l)&&(a-=l),1!==Math.abs(u)&&(c-=u)}return uj(r.left,r.top,a,c)}(t):sj);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),dj=function(t,e){var n,i,r,o,s,a,c,l=(i=(n=e).x,r=n.y,o=n.width,s=n.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(a.prototype),rj(c,{x:i,y:r,width:o,height:s,top:r,right:i+o,bottom:s+r,left:i}),c);rj(this,{target:t,contentRect:l})},pj=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new QF,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof oj(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new hj(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof oj(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new dj(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),fj="undefined"!=typeof WeakMap?new WeakMap:new QF,gj=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=ij.getInstance(),i=new pj(e,n,this);fj.set(this,i)};["observe","unobserve","disconnect"].forEach(function(t){gj.prototype[t]=function(){var e;return(e=fj.get(this))[t].apply(e,arguments)}});var mj=void 0!==ZF.ResizeObserver?ZF.ResizeObserver:gj;let bj=(()=>{class t{create(t){return void 0===mj?null:new mj(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Nb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),yj=(()=>{class t{constructor(t){this.nzResizeObserverFactory=t,this.observedElements=new Map}ngOnDestroy(){this.observedElements.forEach((t,e)=>this.cleanupObserver(e))}observe(t){const e=xn(t);return new F.a(t=>{const n=this.observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this.unobserveElement(e)}})}observeElement(t){if(this.observedElements.has(t))this.observedElements.get(t).count++;else{const e=new xe.a,n=this.nzResizeObserverFactory.create(t=>e.next(t));n&&n.observe(t),this.observedElements.set(t,{observer:n,stream:e,count:1})}return this.observedElements.get(t).stream}unobserveElement(t){this.observedElements.has(t)&&(this.observedElements.get(t).count--,this.observedElements.get(t).count||this.cleanupObserver(t))}cleanupObserver(t){if(this.observedElements.has(t)){const{observer:e,stream:n}=this.observedElements.get(t);e&&e.disconnect(),n.complete(),this.observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.bc(bj))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(bj))},token:t,providedIn:"root"}),t})(),vj=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[bj]}),t})();function _j(t,e){if(1&t&&(r.Vb(0),r.Sb(1,"i",9),r.Ub()),2&t){const t=e.$implicit,n=r.jc(2);r.Db(1),r.qc("nzType",t||n.getBackIcon())}}function wj(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",6),r.fc("click",function(){return r.Cc(t),r.jc().onBack()}),r.Xb(1,"div",7),r.Kc(2,_j,2,1,"ng-container",8),r.Wb(),r.Wb()}if(2&t){const t=r.jc();r.Db(2),r.qc("nzStringTemplateOutlet",t.nzBackIcon)}}function zj(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.Nc(t.nzTitle)}}function Cj(t,e){if(1&t&&(r.Xb(0,"span",10),r.Kc(1,zj,2,1,"ng-container",8),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("nzStringTemplateOutlet",t.nzTitle)}}function Sj(t,e){1&t&&r.oc(0,6,["*ngIf","!nzTitle"])}function xj(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.Nc(t.nzSubtitle)}}function Oj(t,e){if(1&t&&(r.Xb(0,"span",11),r.Kc(1,xj,2,1,"ng-container",8),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("nzStringTemplateOutlet",t.nzSubtitle)}}function kj(t,e){1&t&&r.oc(0,7,["*ngIf","!nzSubtitle"])}const Tj=[[["nz-breadcrumb","nz-page-header-breadcrumb",""]],[["nz-avatar","nz-page-header-avatar",""]],[["nz-page-header-tags"],["","nz-page-header-tags",""]],[["nz-page-header-extra"],["","nz-page-header-extra",""]],[["nz-page-header-content"],["","nz-page-header-content",""]],[["nz-page-header-footer"],["","nz-page-header-footer",""]],[["nz-page-header-title"],["","nz-page-header-title",""]],[["nz-page-header-subtitle"],["","nz-page-header-subtitle",""]]],Ej=["nz-breadcrumb[nz-page-header-breadcrumb]","nz-avatar[nz-page-header-avatar]","nz-page-header-tags, [nz-page-header-tags]","nz-page-header-extra, [nz-page-header-extra]","nz-page-header-content, [nz-page-header-content]","nz-page-header-footer, [nz-page-header-footer]","nz-page-header-title, [nz-page-header-title]","nz-page-header-subtitle, [nz-page-header-subtitle]"];let Ij=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["nz-page-header-title"],["","nz-page-header-title",""]],hostAttrs:[1,"ant-page-header-heading-title"],exportAs:["nzPageHeaderTitle"]}),t})(),Dj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["nz-page-header-subtitle"],["","nz-page-header-subtitle",""]],hostAttrs:[1,"ant-page-header-heading-sub-title"],exportAs:["nzPageHeaderSubtitle"]}),t})(),Mj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["nz-page-header-content"],["","nz-page-header-content",""]],hostAttrs:[1,"ant-page-header-content"],exportAs:["nzPageHeaderContent"]}),t})(),Rj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["nz-page-header-extra"],["","nz-page-header-extra",""]],hostAttrs:[1,"ant-page-header-heading-extra"],exportAs:["nzPageHeaderExtra"]}),t})(),Aj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["nz-page-header-footer"],["","nz-page-header-footer",""]],hostAttrs:[1,"ant-page-header-footer"],exportAs:["nzPageHeaderFooter"]}),t})(),Pj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["nz-breadcrumb","nz-page-header-breadcrumb",""]],exportAs:["nzPageHeaderBreadcrumb"]}),t})(),Lj=(()=>{class t{constructor(t,e,n,i,o,s){this.location=t,this.nzConfigService=e,this.elementRef=n,this.nzResizeObserver=i,this.cdr=o,this.directionality=s,this._nzModuleName="pageHeader",this.nzBackIcon=null,this.nzGhost=!0,this.nzBack=new r.n,this.compact=!1,this.destroy$=new xe.a,this.dir="ltr"}ngOnInit(){var t;null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterViewInit(){this.nzResizeObserver.observe(this.elementRef).pipe(Object(N.a)(([t])=>t.contentRect.width),An(this.destroy$)).subscribe(t=>{this.compact=t<768,this.cdr.markForCheck()})}onBack(){if(this.nzBack.observers.length)this.nzBack.emit();else{if(!this.location)throw new Error(`${bi} you should import 'RouterModule' or register 'Location' if you want to use 'nzBack' default event!`);this.location.back()}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getBackIcon(){return"rtl"===this.dir?"arrow-right":"arrow-left"}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(i.j,8),r.Rb(Do),r.Rb(r.l),r.Rb(yj),r.Rb(r.h),r.Rb(bn,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-page-header"]],contentQueries:function(t,e,n){if(1&t&&(r.Kb(n,Aj,1),r.Kb(n,Pj,1)),2&t){let t;r.zc(t=r.gc())&&(e.nzPageHeaderFooter=t.first),r.zc(t=r.gc())&&(e.nzPageHeaderBreadcrumb=t.first)}},hostAttrs:[1,"ant-page-header"],hostVars:10,hostBindings:function(t,e){2&t&&r.Jb("has-footer",e.nzPageHeaderFooter)("ant-page-header-ghost",e.nzGhost)("has-breadcrumb",e.nzPageHeaderBreadcrumb)("ant-page-header-compact",e.compact)("ant-page-header-rtl","rtl"===e.dir)},inputs:{nzBackIcon:"nzBackIcon",nzGhost:"nzGhost",nzTitle:"nzTitle",nzSubtitle:"nzSubtitle"},outputs:{nzBack:"nzBack"},exportAs:["nzPageHeader"],ngContentSelectors:Ej,decls:13,vars:5,consts:[[1,"ant-page-header-heading"],[1,"ant-page-header-heading-left"],["class","ant-page-header-back",3,"click",4,"ngIf"],["class","ant-page-header-heading-title",4,"ngIf"],[4,"ngIf"],["class","ant-page-header-heading-sub-title",4,"ngIf"],[1,"ant-page-header-back",3,"click"],["role","button","tabindex","0",1,"ant-page-header-back-button"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","outline",3,"nzType"],[1,"ant-page-header-heading-title"],[1,"ant-page-header-heading-sub-title"]],template:function(t,e){1&t&&(r.pc(Tj),r.oc(0),r.Xb(1,"div",0),r.Xb(2,"div",1),r.Kc(3,wj,3,1,"div",2),r.oc(4,1),r.Kc(5,Cj,2,1,"span",3),r.Kc(6,Sj,1,0,"ng-content",4),r.Kc(7,Oj,2,1,"span",5),r.Kc(8,kj,1,0,"ng-content",4),r.oc(9,2),r.Wb(),r.oc(10,3),r.Wb(),r.oc(11,4),r.oc(12,5)),2&t&&(r.Db(3),r.qc("ngIf",null!==e.nzBackIcon),r.Db(2),r.qc("ngIf",e.nzTitle),r.Db(1),r.qc("ngIf",!e.nzTitle),r.Db(1),r.qc("ngIf",e.nzSubtitle),r.Db(1),r.qc("ngIf",!e.nzSubtitle))},directives:[i.n,ei,No],encapsulation:2,changeDetection:0}),sr([Mo(),ar("design:type",Boolean)],t.prototype,"nzGhost",void 0),t})(),Fj=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,ii,Vo]]}),t})();const jj=["nz-submenu",""];function Nj(t,e){1&t&&r.oc(0,0,["*ngIf","!nzTitle"])}function Vj(t,e){if(1&t&&r.Sb(0,"div",6),2&t){const t=r.jc(),e=r.Ac(7);r.qc("mode",t.mode)("nzOpen",t.nzOpen)("@.disabled",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("menuClass",t.nzMenuClassName)("templateOutlet",e)}}function Wj(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",8),r.fc("subMenuMouseState",function(e){return r.Cc(t),r.jc(2).setMouseEnterState(e)}),r.Wb()}if(2&t){const t=r.jc(2),e=r.Ac(7);r.qc("theme",t.theme)("mode",t.mode)("nzOpen",t.nzOpen)("position",t.position)("nzDisabled",t.nzDisabled)("isMenuInsideDropDown",t.isMenuInsideDropDown)("templateOutlet",e)("menuClass",t.nzMenuClassName)("@.disabled",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)}}function qj(t,e){if(1&t){const t=r.Yb();r.Kc(0,Wj,1,10,"ng-template",7),r.fc("positionChange",function(e){return r.Cc(t),r.jc().onPositionChange(e)})}if(2&t){const t=r.jc(),e=r.Ac(1);r.qc("cdkConnectedOverlayPositions",t.overlayPositions)("cdkConnectedOverlayOrigin",e)("cdkConnectedOverlayWidth",t.triggerWidth)("cdkConnectedOverlayOpen",t.nzOpen)("cdkConnectedOverlayTransformOriginOn",".ant-menu-submenu")}}function Bj(t,e){1&t&&r.oc(0,1)}const Xj=[[["","title",""]],"*"],Uj=["[title]","*"],$j=["nz-submenu-title",""];function Hj(t,e){if(1&t&&r.Sb(0,"i",4),2&t){const t=r.jc();r.qc("nzType",t.nzIcon)}}function Kj(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"span"),r.Mc(2),r.Wb(),r.Ub()),2&t){const t=r.jc();r.Db(2),r.Nc(t.nzTitle)}}function Gj(t,e){1&t&&r.Sb(0,"i",8)}function Yj(t,e){1&t&&r.Sb(0,"i",9)}function Qj(t,e){if(1&t&&(r.Xb(0,"span",5),r.Kc(1,Gj,1,0,"i",6),r.Kc(2,Yj,1,0,"i",7),r.Wb()),2&t){const t=r.jc();r.qc("ngSwitch",t.dir),r.Db(1),r.qc("ngSwitchCase","rtl")}}function Jj(t,e){1&t&&r.Sb(0,"i",10)}const Zj=["*"],tN=["nz-submenu-inline-child",""];function eN(t,e){}const nN=["nz-submenu-none-inline-child",""];function iN(t,e){}let rN=(()=>{class t{constructor(){this.descendantMenuItemClick$=new xe.a,this.childMenuItemClick$=new xe.a,this.theme$=new fu.a("light"),this.mode$=new fu.a("vertical"),this.inlineIndent$=new fu.a(24),this.isChildSubMenuOpen$=new fu.a(!1)}onDescendantMenuItemClick(t){this.descendantMenuItemClick$.next(t)}onChildMenuItemClick(t){this.childMenuItemClick$.next(t)}setMode(t){this.mode$.next(t)}setTheme(t){this.theme$.next(t)}setInlineIndent(t){this.inlineIndent$.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();const oN=new r.r("NzIsInDropDownMenuToken"),sN=new r.r("NzMenuServiceLocalToken");let aN=(()=>{class t{constructor(t,e,n){this.nzHostSubmenuService=t,this.nzMenuService=e,this.isMenuInsideDropDown=n,this.mode$=this.nzMenuService.mode$.pipe(Object(N.a)(t=>"inline"===t?"inline":"vertical"===t||this.nzHostSubmenuService?"vertical":"horizontal")),this.level=1,this.isCurrentSubMenuOpen$=new fu.a(!1),this.isChildSubMenuOpen$=new fu.a(!1),this.isMouseEnterTitleOrOverlay$=new xe.a,this.childMenuItemClick$=new xe.a,this.nzHostSubmenuService&&(this.level=this.nzHostSubmenuService.level+1);const i=this.childMenuItemClick$.pipe(Object(up.a)(()=>this.mode$),Object(di.a)(t=>"inline"!==t||this.isMenuInsideDropDown),Oo(!1)),r=Object(bl.a)(this.isMouseEnterTitleOrOverlay$,i);Object(On.a)([this.isChildSubMenuOpen$,r]).pipe(Object(N.a)(([t,e])=>t||e),ui(150),pi()).pipe(pi()).subscribe(t=>{this.setOpenStateWithoutDebounce(t),this.nzHostSubmenuService?this.nzHostSubmenuService.isChildSubMenuOpen$.next(t):this.nzMenuService.isChildSubMenuOpen$.next(t)})}onChildMenuItemClick(t){this.childMenuItemClick$.next(t)}setOpenStateWithoutDebounce(t){this.isCurrentSubMenuOpen$.next(t)}setMouseEnterTitleOrOverlayState(t){this.isMouseEnterTitleOrOverlay$.next(t)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(t,12),r.bc(rN),r.bc(oN))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),cN=(()=>{class t{constructor(t,e,n,i,r,o,s,a){this.nzMenuService=t,this.cdr=e,this.nzSubmenuService=n,this.isMenuInsideDropDown=i,this.directionality=r,this.routerLink=o,this.routerLinkWithHref=s,this.router=a,this.destroy$=new xe.a,this.level=this.nzSubmenuService?this.nzSubmenuService.level+1:1,this.selected$=new xe.a,this.inlinePaddingLeft=null,this.dir="ltr",this.nzDisabled=!1,this.nzSelected=!1,this.nzDanger=!1,this.nzMatchRouterExact=!1,this.nzMatchRouter=!1,a&&this.router.events.pipe(An(this.destroy$),Object(di.a)(t=>t instanceof dm.c)).subscribe(()=>{this.updateRouterActive()})}clickMenuItem(t){this.nzDisabled?(t.preventDefault(),t.stopPropagation()):(this.nzMenuService.onDescendantMenuItemClick(this),this.nzSubmenuService?this.nzSubmenuService.onChildMenuItemClick(this):this.nzMenuService.onChildMenuItemClick(this))}setSelectedState(t){this.nzSelected=t,this.selected$.next(t)}updateRouterActive(){this.listOfRouterLink&&this.listOfRouterLinkWithHref&&this.router&&this.router.navigated&&this.nzMatchRouter&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.nzSelected!==t&&(this.nzSelected=t,this.setSelectedState(this.nzSelected),this.cdr.markForCheck())})}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.routerLink&&t(this.routerLink)||this.routerLinkWithHref&&t(this.routerLinkWithHref)||this.listOfRouterLink.some(t)||this.listOfRouterLinkWithHref.some(t)}isLinkActive(t){return e=>t.isActive(e.urlTree,this.nzMatchRouterExact)}ngOnInit(){var t;Object(On.a)([this.nzMenuService.mode$,this.nzMenuService.inlineIndent$]).pipe(An(this.destroy$)).subscribe(([t,e])=>{this.inlinePaddingLeft="inline"===t?this.level*e:null}),this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t})}ngAfterContentInit(){this.listOfRouterLink.changes.pipe(An(this.destroy$)).subscribe(()=>this.updateRouterActive()),this.listOfRouterLinkWithHref.changes.pipe(An(this.destroy$)).subscribe(()=>this.updateRouterActive()),this.updateRouterActive()}ngOnChanges(t){t.nzSelected&&this.setSelectedState(this.nzSelected)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(rN),r.Rb(r.h),r.Rb(aN,8),r.Rb(oN),r.Rb(bn,8),r.Rb(dm.h,8),r.Rb(dm.j,8),r.Rb(dm.g,8))},t.\u0275dir=r.Mb({type:t,selectors:[["","nz-menu-item",""]],contentQueries:function(t,e,n){if(1&t&&(r.Kb(n,dm.h,1),r.Kb(n,dm.j,1)),2&t){let t;r.zc(t=r.gc())&&(e.listOfRouterLink=t),r.zc(t=r.gc())&&(e.listOfRouterLinkWithHref=t)}},hostVars:20,hostBindings:function(t,e){1&t&&r.fc("click",function(t){return e.clickMenuItem(t)}),2&t&&(r.Hc("padding-left","rtl"===e.dir?null:e.nzPaddingLeft||e.inlinePaddingLeft,"px")("padding-right","rtl"===e.dir?e.nzPaddingLeft||e.inlinePaddingLeft:null,"px"),r.Jb("ant-dropdown-menu-item",e.isMenuInsideDropDown)("ant-dropdown-menu-item-selected",e.isMenuInsideDropDown&&e.nzSelected)("ant-dropdown-menu-item-danger",e.isMenuInsideDropDown&&e.nzDanger)("ant-dropdown-menu-item-disabled",e.isMenuInsideDropDown&&e.nzDisabled)("ant-menu-item",!e.isMenuInsideDropDown)("ant-menu-item-selected",!e.isMenuInsideDropDown&&e.nzSelected)("ant-menu-item-danger",!e.isMenuInsideDropDown&&e.nzDanger)("ant-menu-item-disabled",!e.isMenuInsideDropDown&&e.nzDisabled))},inputs:{nzDisabled:"nzDisabled",nzSelected:"nzSelected",nzDanger:"nzDanger",nzMatchRouterExact:"nzMatchRouterExact",nzMatchRouter:"nzMatchRouter",nzPaddingLeft:"nzPaddingLeft"},exportAs:["nzMenuItem"],features:[r.Bb]}),sr([Di(),ar("design:type",Object)],t.prototype,"nzDisabled",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzSelected",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzDanger",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzMatchRouterExact",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzMatchRouter",void 0),t})();const lN=[nu.rightTop,nu.right,nu.rightBottom,nu.leftTop,nu.left,nu.leftBottom],uN=[nu.bottomLeft];let hN=(()=>{class t{constructor(t,e,n,i,o,s,a){this.nzMenuService=t,this.cdr=e,this.nzSubmenuService=n,this.platform=i,this.isMenuInsideDropDown=o,this.directionality=s,this.noAnimation=a,this.nzMenuClassName="",this.nzPaddingLeft=null,this.nzTitle=null,this.nzIcon=null,this.nzOpen=!1,this.nzDisabled=!1,this.nzOpenChange=new r.n,this.cdkOverlayOrigin=null,this.listOfNzSubMenuComponent=null,this.listOfNzMenuItemDirective=null,this.level=this.nzSubmenuService.level,this.destroy$=new xe.a,this.position="right",this.triggerWidth=null,this.theme="light",this.mode="vertical",this.inlinePaddingLeft=null,this.overlayPositions=lN,this.isSelected=!1,this.isActive=!1,this.dir="ltr"}setOpenStateWithoutDebounce(t){this.nzSubmenuService.setOpenStateWithoutDebounce(t)}toggleSubMenu(){this.setOpenStateWithoutDebounce(!this.nzOpen)}setMouseEnterState(t){this.isActive=t,"inline"!==this.mode&&this.nzSubmenuService.setMouseEnterTitleOrOverlayState(t)}setTriggerWidth(){"horizontal"===this.mode&&this.platform.isBrowser&&this.cdkOverlayOrigin&&(this.triggerWidth=this.cdkOverlayOrigin.nativeElement.getBoundingClientRect().width)}onPositionChange(t){const e=ru(t);"rightTop"===e||"rightBottom"===e||"right"===e?this.position="right":"leftTop"!==e&&"leftBottom"!==e&&"left"!==e||(this.position="left"),this.cdr.markForCheck()}ngOnInit(){var t;this.nzMenuService.theme$.pipe(An(this.destroy$)).subscribe(t=>{this.theme=t,this.cdr.markForCheck()}),this.nzSubmenuService.mode$.pipe(An(this.destroy$)).subscribe(t=>{this.mode=t,"horizontal"===t?this.overlayPositions=uN:"vertical"===t&&(this.overlayPositions=lN),this.cdr.markForCheck()}),Object(On.a)([this.nzSubmenuService.mode$,this.nzMenuService.inlineIndent$]).pipe(An(this.destroy$)).subscribe(([t,e])=>{this.inlinePaddingLeft="inline"===t?this.level*e:null,this.cdr.markForCheck()}),this.nzSubmenuService.isCurrentSubMenuOpen$.pipe(An(this.destroy$)).subscribe(t=>{this.isActive=t,t!==this.nzOpen&&(this.setTriggerWidth(),this.nzOpen=t,this.nzOpenChange.emit(this.nzOpen),this.cdr.markForCheck())}),this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.markForCheck()})}ngAfterContentInit(){this.setTriggerWidth();const t=this.listOfNzMenuItemDirective,e=t.changes,n=Object(bl.a)(e,...t.map(t=>t.selected$));e.pipe(Object(Mn.a)(t),Object(Bc.a)(()=>n),Object(Mn.a)(!0),Object(N.a)(()=>t.some(t=>t.nzSelected)),An(this.destroy$)).subscribe(t=>{this.isSelected=t,this.cdr.markForCheck()})}ngOnChanges(t){const{nzOpen:e}=t;e&&(this.nzSubmenuService.setOpenStateWithoutDebounce(this.nzOpen),this.setTriggerWidth())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(rN),r.Rb(r.h),r.Rb(aN),r.Rb(qn),r.Rb(oN),r.Rb(bn,8),r.Rb(Ec,9))},t.\u0275cmp=r.Lb({type:t,selectors:[["","nz-submenu",""]],contentQueries:function(e,n,i){if(1&e&&(r.Kb(i,t,1),r.Kb(i,cN,1)),2&e){let t;r.zc(t=r.gc())&&(n.listOfNzSubMenuComponent=t),r.zc(t=r.gc())&&(n.listOfNzMenuItemDirective=t)}},viewQuery:function(t,e){if(1&t&&r.Qc(Yl,3,r.l),2&t){let t;r.zc(t=r.gc())&&(e.cdkOverlayOrigin=t.first)}},hostVars:34,hostBindings:function(t,e){2&t&&r.Jb("ant-dropdown-menu-submenu",e.isMenuInsideDropDown)("ant-dropdown-menu-submenu-disabled",e.isMenuInsideDropDown&&e.nzDisabled)("ant-dropdown-menu-submenu-open",e.isMenuInsideDropDown&&e.nzOpen)("ant-dropdown-menu-submenu-selected",e.isMenuInsideDropDown&&e.isSelected)("ant-dropdown-menu-submenu-vertical",e.isMenuInsideDropDown&&"vertical"===e.mode)("ant-dropdown-menu-submenu-horizontal",e.isMenuInsideDropDown&&"horizontal"===e.mode)("ant-dropdown-menu-submenu-inline",e.isMenuInsideDropDown&&"inline"===e.mode)("ant-dropdown-menu-submenu-active",e.isMenuInsideDropDown&&e.isActive)("ant-menu-submenu",!e.isMenuInsideDropDown)("ant-menu-submenu-disabled",!e.isMenuInsideDropDown&&e.nzDisabled)("ant-menu-submenu-open",!e.isMenuInsideDropDown&&e.nzOpen)("ant-menu-submenu-selected",!e.isMenuInsideDropDown&&e.isSelected)("ant-menu-submenu-vertical",!e.isMenuInsideDropDown&&"vertical"===e.mode)("ant-menu-submenu-horizontal",!e.isMenuInsideDropDown&&"horizontal"===e.mode)("ant-menu-submenu-inline",!e.isMenuInsideDropDown&&"inline"===e.mode)("ant-menu-submenu-active",!e.isMenuInsideDropDown&&e.isActive)("ant-menu-submenu-rtl","rtl"===e.dir)},inputs:{nzMenuClassName:"nzMenuClassName",nzPaddingLeft:"nzPaddingLeft",nzTitle:"nzTitle",nzIcon:"nzIcon",nzOpen:"nzOpen",nzDisabled:"nzDisabled"},outputs:{nzOpenChange:"nzOpenChange"},exportAs:["nzSubmenu"],features:[r.Cb([aN]),r.Bb],attrs:jj,ngContentSelectors:Uj,decls:8,vars:9,consts:[["nz-submenu-title","","cdkOverlayOrigin","",3,"nzIcon","nzTitle","mode","nzDisabled","isMenuInsideDropDown","paddingLeft","subMenuMouseState","toggleSubMenu"],["origin","cdkOverlayOrigin"],[4,"ngIf"],["nz-submenu-inline-child","",3,"mode","nzOpen","nzNoAnimation","menuClass","templateOutlet",4,"ngIf","ngIfElse"],["nonInlineTemplate",""],["subMenuTemplate",""],["nz-submenu-inline-child","",3,"mode","nzOpen","nzNoAnimation","menuClass","templateOutlet"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayWidth","cdkConnectedOverlayOpen","cdkConnectedOverlayTransformOriginOn","positionChange"],["nz-submenu-none-inline-child","",3,"theme","mode","nzOpen","position","nzDisabled","isMenuInsideDropDown","templateOutlet","menuClass","nzNoAnimation","subMenuMouseState"]],template:function(t,e){if(1&t&&(r.pc(Xj),r.Xb(0,"div",0,1),r.fc("subMenuMouseState",function(t){return e.setMouseEnterState(t)})("toggleSubMenu",function(){return e.toggleSubMenu()}),r.Kc(2,Nj,1,0,"ng-content",2),r.Wb(),r.Kc(3,Vj,1,6,"div",3),r.Kc(4,qj,1,5,"ng-template",null,4,r.Lc),r.Kc(6,Bj,1,0,"ng-template",null,5,r.Lc)),2&t){const t=r.Ac(5);r.qc("nzIcon",e.nzIcon)("nzTitle",e.nzTitle)("mode",e.mode)("nzDisabled",e.nzDisabled)("isMenuInsideDropDown",e.isMenuInsideDropDown)("paddingLeft",e.nzPaddingLeft||e.inlinePaddingLeft),r.Db(2),r.qc("ngIf",!e.nzTitle),r.Db(1),r.qc("ngIf","inline"===e.mode)("ngIfElse",t)}},directives:function(){return[gN,Yl,i.n,mN,Ec,Ql,bN]},encapsulation:2,changeDetection:0}),sr([Di(),ar("design:type",Object)],t.prototype,"nzOpen",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzDisabled",void 0),t})();function dN(t,e){return t||e}function pN(t){return t||!1}let fN=(()=>{class t{constructor(t,e,n,i){this.nzMenuService=t,this.isMenuInsideDropDown=e,this.cdr=n,this.directionality=i,this.nzInlineIndent=24,this.nzTheme="light",this.nzMode="vertical",this.nzInlineCollapsed=!1,this.nzSelectable=!this.isMenuInsideDropDown,this.nzClick=new r.n,this.actualMode="vertical",this.dir="ltr",this.inlineCollapsed$=new fu.a(this.nzInlineCollapsed),this.mode$=new fu.a(this.nzMode),this.destroy$=new xe.a,this.listOfOpenedNzSubMenuComponent=[]}setInlineCollapsed(t){this.nzInlineCollapsed=t,this.inlineCollapsed$.next(t)}updateInlineCollapse(){this.listOfNzMenuItemDirective&&(this.nzInlineCollapsed?(this.listOfOpenedNzSubMenuComponent=this.listOfNzSubMenuComponent.filter(t=>t.nzOpen),this.listOfNzSubMenuComponent.forEach(t=>t.setOpenStateWithoutDebounce(!1))):(this.listOfOpenedNzSubMenuComponent.forEach(t=>t.setOpenStateWithoutDebounce(!0)),this.listOfOpenedNzSubMenuComponent=[]))}ngOnInit(){var t;Object(On.a)([this.inlineCollapsed$,this.mode$]).pipe(An(this.destroy$)).subscribe(([t,e])=>{this.actualMode=t?"vertical":e,this.nzMenuService.setMode(this.actualMode),this.cdr.markForCheck()}),this.nzMenuService.descendantMenuItemClick$.pipe(An(this.destroy$)).subscribe(t=>{this.nzClick.emit(t),this.nzSelectable&&!t.nzMatchRouter&&this.listOfNzMenuItemDirective.forEach(e=>e.setSelectedState(e===t))}),this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t,this.nzMenuService.setMode(this.actualMode),this.cdr.markForCheck()})}ngAfterContentInit(){this.inlineCollapsed$.pipe(An(this.destroy$)).subscribe(()=>{this.updateInlineCollapse(),this.cdr.markForCheck()})}ngOnChanges(t){const{nzInlineCollapsed:e,nzInlineIndent:n,nzTheme:i,nzMode:r}=t;e&&this.inlineCollapsed$.next(this.nzInlineCollapsed),n&&this.nzMenuService.setInlineIndent(this.nzInlineIndent),i&&this.nzMenuService.setTheme(this.nzTheme),r&&(this.mode$.next(this.nzMode),!t.nzMode.isFirstChange()&&this.listOfNzSubMenuComponent&&this.listOfNzSubMenuComponent.forEach(t=>t.setOpenStateWithoutDebounce(!1)))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(rN),r.Rb(oN),r.Rb(r.h),r.Rb(bn,8))},t.\u0275dir=r.Mb({type:t,selectors:[["","nz-menu",""]],contentQueries:function(t,e,n){if(1&t&&(r.Kb(n,cN,1),r.Kb(n,hN,1)),2&t){let t;r.zc(t=r.gc())&&(e.listOfNzMenuItemDirective=t),r.zc(t=r.gc())&&(e.listOfNzSubMenuComponent=t)}},hostVars:34,hostBindings:function(t,e){2&t&&r.Jb("ant-dropdown-menu",e.isMenuInsideDropDown)("ant-dropdown-menu-root",e.isMenuInsideDropDown)("ant-dropdown-menu-light",e.isMenuInsideDropDown&&"light"===e.nzTheme)("ant-dropdown-menu-dark",e.isMenuInsideDropDown&&"dark"===e.nzTheme)("ant-dropdown-menu-vertical",e.isMenuInsideDropDown&&"vertical"===e.actualMode)("ant-dropdown-menu-horizontal",e.isMenuInsideDropDown&&"horizontal"===e.actualMode)("ant-dropdown-menu-inline",e.isMenuInsideDropDown&&"inline"===e.actualMode)("ant-dropdown-menu-inline-collapsed",e.isMenuInsideDropDown&&e.nzInlineCollapsed)("ant-menu",!e.isMenuInsideDropDown)("ant-menu-root",!e.isMenuInsideDropDown)("ant-menu-light",!e.isMenuInsideDropDown&&"light"===e.nzTheme)("ant-menu-dark",!e.isMenuInsideDropDown&&"dark"===e.nzTheme)("ant-menu-vertical",!e.isMenuInsideDropDown&&"vertical"===e.actualMode)("ant-menu-horizontal",!e.isMenuInsideDropDown&&"horizontal"===e.actualMode)("ant-menu-inline",!e.isMenuInsideDropDown&&"inline"===e.actualMode)("ant-menu-inline-collapsed",!e.isMenuInsideDropDown&&e.nzInlineCollapsed)("ant-menu-rtl","rtl"===e.dir)},inputs:{nzInlineIndent:"nzInlineIndent",nzTheme:"nzTheme",nzMode:"nzMode",nzInlineCollapsed:"nzInlineCollapsed",nzSelectable:"nzSelectable"},outputs:{nzClick:"nzClick"},exportAs:["nzMenu"],features:[r.Cb([{provide:sN,useClass:rN},{provide:rN,useFactory:dN,deps:[[new r.K,new r.B,rN],sN]},{provide:oN,useFactory:pN,deps:[[new r.K,new r.B,oN]]}]),r.Bb]}),sr([Di(),ar("design:type",Object)],t.prototype,"nzInlineCollapsed",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzSelectable",void 0),t})(),gN=(()=>{class t{constructor(t,e){this.cdr=t,this.directionality=e,this.nzIcon=null,this.nzTitle=null,this.isMenuInsideDropDown=!1,this.nzDisabled=!1,this.paddingLeft=null,this.mode="vertical",this.toggleSubMenu=new r.n,this.subMenuMouseState=new r.n,this.dir="ltr",this.destroy$=new xe.a}ngOnInit(){var t;this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setMouseState(t){this.nzDisabled||this.subMenuMouseState.next(t)}clickTitle(){"inline"!==this.mode||this.nzDisabled||this.toggleSubMenu.emit()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h),r.Rb(bn,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["","nz-submenu-title",""]],hostVars:8,hostBindings:function(t,e){1&t&&r.fc("click",function(){return e.clickTitle()})("mouseenter",function(){return e.setMouseState(!0)})("mouseleave",function(){return e.setMouseState(!1)}),2&t&&(r.Hc("padding-left","rtl"===e.dir?null:e.paddingLeft,"px")("padding-right","rtl"===e.dir?e.paddingLeft:null,"px"),r.Jb("ant-dropdown-menu-submenu-title",e.isMenuInsideDropDown)("ant-menu-submenu-title",!e.isMenuInsideDropDown))},inputs:{nzIcon:"nzIcon",nzTitle:"nzTitle",isMenuInsideDropDown:"isMenuInsideDropDown",nzDisabled:"nzDisabled",paddingLeft:"paddingLeft",mode:"mode"},outputs:{toggleSubMenu:"toggleSubMenu",subMenuMouseState:"subMenuMouseState"},exportAs:["nzSubmenuTitle"],attrs:$j,ngContentSelectors:Zj,decls:6,vars:4,consts:[["nz-icon","",3,"nzType",4,"ngIf"],[4,"nzStringTemplateOutlet"],["class","ant-dropdown-menu-submenu-expand-icon",3,"ngSwitch",4,"ngIf","ngIfElse"],["notDropdownTpl",""],["nz-icon","",3,"nzType"],[1,"ant-dropdown-menu-submenu-expand-icon",3,"ngSwitch"],["nz-icon","","nzType","left","class","ant-dropdown-menu-submenu-arrow-icon",4,"ngSwitchCase"],["nz-icon","","nzType","right","class","ant-dropdown-menu-submenu-arrow-icon",4,"ngSwitchDefault"],["nz-icon","","nzType","left",1,"ant-dropdown-menu-submenu-arrow-icon"],["nz-icon","","nzType","right",1,"ant-dropdown-menu-submenu-arrow-icon"],[1,"ant-menu-submenu-arrow"]],template:function(t,e){if(1&t&&(r.pc(),r.Kc(0,Hj,1,1,"i",0),r.Kc(1,Kj,3,1,"ng-container",1),r.oc(2),r.Kc(3,Qj,3,2,"span",2),r.Kc(4,Jj,1,0,"ng-template",null,3,r.Lc)),2&t){const t=r.Ac(5);r.qc("ngIf",e.nzIcon),r.Db(1),r.qc("nzStringTemplateOutlet",e.nzTitle),r.Db(2),r.qc("ngIf",e.isMenuInsideDropDown)("ngIfElse",t)}},directives:[i.n,ei,No,i.p,i.q,i.r],encapsulation:2,changeDetection:0}),t})(),mN=(()=>{class t{constructor(t,e,n){this.elementRef=t,this.renderer=e,this.directionality=n,this.templateOutlet=null,this.menuClass="",this.mode="vertical",this.nzOpen=!1,this.listOfCacheClassName=[],this.expandState="collapsed",this.dir="ltr",this.destroy$=new xe.a,this.elementRef.nativeElement.classList.add("ant-menu","ant-menu-inline","ant-menu-sub")}calcMotionState(){this.expandState=this.nzOpen?"expanded":"collapsed"}ngOnInit(){var t;this.calcMotionState(),this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t})}ngOnChanges(t){const{mode:e,nzOpen:n,menuClass:i}=t;(e||n)&&this.calcMotionState(),i&&(this.listOfCacheClassName.length&&this.listOfCacheClassName.filter(t=>!!t).forEach(t=>{this.renderer.removeClass(this.elementRef.nativeElement,t)}),this.menuClass&&(this.listOfCacheClassName=this.menuClass.split(" "),this.listOfCacheClassName.filter(t=>!!t).forEach(t=>{this.renderer.addClass(this.elementRef.nativeElement,t)})))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.F),r.Rb(bn,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["","nz-submenu-inline-child",""]],hostVars:3,hostBindings:function(t,e){2&t&&(r.Jc("@collapseMotion",e.expandState),r.Jb("ant-menu-rtl","rtl"===e.dir))},inputs:{templateOutlet:"templateOutlet",menuClass:"menuClass",mode:"mode",nzOpen:"nzOpen"},exportAs:["nzSubmenuInlineChild"],features:[r.Bb],attrs:tN,decls:1,vars:1,consts:[[3,"ngTemplateOutlet"]],template:function(t,e){1&t&&r.Kc(0,eN,0,0,"ng-template",0),2&t&&r.qc("ngTemplateOutlet",e.templateOutlet)},directives:[i.s],encapsulation:2,data:{animation:[rs]},changeDetection:0}),t})(),bN=(()=>{class t{constructor(t,e){this.elementRef=t,this.directionality=e,this.menuClass="",this.theme="light",this.templateOutlet=null,this.isMenuInsideDropDown=!1,this.mode="vertical",this.position="right",this.nzDisabled=!1,this.nzOpen=!1,this.subMenuMouseState=new r.n,this.expandState="collapsed",this.dir="ltr",this.destroy$=new xe.a,this.elementRef.nativeElement.classList.add("ant-menu-submenu","ant-menu-submenu-popup")}setMouseState(t){this.nzDisabled||this.subMenuMouseState.next(t)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}calcMotionState(){this.nzOpen?"horizontal"===this.mode?this.expandState="bottom":"vertical"===this.mode&&(this.expandState="active"):this.expandState="collapsed"}ngOnInit(){var t;this.calcMotionState(),this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t})}ngOnChanges(t){const{mode:e,nzOpen:n}=t;(e||n)&&this.calcMotionState()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(bn,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["","nz-submenu-none-inline-child",""]],hostVars:14,hostBindings:function(t,e){1&t&&r.fc("mouseenter",function(){return e.setMouseState(!0)})("mouseleave",function(){return e.setMouseState(!1)}),2&t&&(r.Jc("@slideMotion",e.expandState)("@zoomBigMotion",e.expandState),r.Jb("ant-menu-light","light"===e.theme)("ant-menu-dark","dark"===e.theme)("ant-menu-submenu-placement-bottom","horizontal"===e.mode)("ant-menu-submenu-placement-right","vertical"===e.mode&&"right"===e.position)("ant-menu-submenu-placement-left","vertical"===e.mode&&"left"===e.position)("ant-menu-submenu-rtl","rtl"===e.dir))},inputs:{menuClass:"menuClass",theme:"theme",templateOutlet:"templateOutlet",isMenuInsideDropDown:"isMenuInsideDropDown",mode:"mode",position:"position",nzDisabled:"nzDisabled",nzOpen:"nzOpen"},outputs:{subMenuMouseState:"subMenuMouseState"},exportAs:["nzSubmenuNoneInlineChild"],features:[r.Bb],attrs:nN,decls:2,vars:16,consts:[[3,"ngClass"],[3,"ngTemplateOutlet"]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.Kc(1,iN,0,0,"ng-template",1),r.Wb()),2&t&&(r.Jb("ant-dropdown-menu",e.isMenuInsideDropDown)("ant-menu",!e.isMenuInsideDropDown)("ant-dropdown-menu-vertical",e.isMenuInsideDropDown)("ant-menu-vertical",!e.isMenuInsideDropDown)("ant-dropdown-menu-sub",e.isMenuInsideDropDown)("ant-menu-sub",!e.isMenuInsideDropDown)("ant-menu-rtl","rtl"===e.dir),r.qc("ngClass",e.menuClass),r.Db(1),r.qc("ngTemplateOutlet",e.templateOutlet))},directives:[i.l,i.s],encapsulation:2,data:{animation:[ps,hs]},changeDetection:0}),t})(),yN=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,Bn,Zl,Vo,Ic,ii]]}),t})();function vN(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",0),r.fc("mouseenter",function(){return r.Cc(t),r.jc().setMouseState(!0)})("mouseleave",function(){return r.Cc(t),r.jc().setMouseState(!1)}),r.oc(1),r.Wb()}if(2&t){const t=r.jc();r.Jb("ant-dropdown-rtl","rtl"===t.dir),r.qc("ngClass",t.nzOverlayClassName)("ngStyle",t.nzOverlayStyle)("@slideMotion","enter")("@.disabled",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)}}const _N=["*"],wN=[nu.bottomLeft,nu.bottomRight,nu.topRight,nu.topLeft];let zN=(()=>{class t{constructor(t,e,n,i,o){this.elementRef=t,this.overlay=e,this.renderer=n,this.viewContainerRef=i,this.platform=o,this.overlayRef=null,this.destroy$=new xe.a,this.positionStrategy=this.overlay.position().flexibleConnectedTo(this.elementRef.nativeElement).withLockedPosition().withTransformOriginOn(".ant-dropdown"),this.inputVisible$=new fu.a(!1),this.nzTrigger$=new fu.a("hover"),this.overlayClose$=new xe.a,this.nzDropdownMenu=null,this.nzTrigger="hover",this.nzMatchWidthElement=null,this.nzBackdrop=!1,this.nzHasBackdrop=!1,this.nzClickHide=!0,this.nzDisabled=!1,this.nzVisible=!1,this.nzOverlayClassName="",this.nzOverlayStyle={},this.nzPlacement="bottomLeft",this.nzVisibleChange=new r.n,this.elementRef.nativeElement.classList.add("ant-dropdown-trigger")}setDropdownMenuValue(t,e){this.nzDropdownMenu&&this.nzDropdownMenu.setValue(t,e)}ngOnInit(){}ngAfterViewInit(){if(this.nzDropdownMenu){const t=this.elementRef.nativeElement,e=Object(bl.a)(Mc(t,"mouseenter").pipe(Oo(!0)),Mc(t,"mouseleave").pipe(Oo(!1))),n=this.nzDropdownMenu.mouseState$,i=Object(bl.a)(n,e),r=Mc(t,"click").pipe(Oo(!0)),o=this.nzTrigger$.pipe(Object(Bc.a)(t=>"hover"===t?i:"click"===t?r:lp.a)),s=this.nzDropdownMenu.descendantMenuItemClick$.pipe(Object(di.a)(()=>this.nzClickHide),Oo(!1)),a=Object(bl.a)(o,s,this.overlayClose$).pipe(Object(di.a)(()=>!this.nzDisabled)),c=Object(bl.a)(this.inputVisible$,a);Object(On.a)([c,this.nzDropdownMenu.isChildSubMenuOpen$]).pipe(Object(N.a)(([t,e])=>t||e),ui(150),pi(),Object(di.a)(()=>this.platform.isBrowser),An(this.destroy$)).subscribe(e=>{const n=(this.nzMatchWidthElement?this.nzMatchWidthElement.nativeElement:t).getBoundingClientRect().width;this.nzVisible!==e&&this.nzVisibleChange.emit(e),this.nzVisible=e,e?(this.overlayRef?this.overlayRef.getConfig().minWidth=n:(this.overlayRef=this.overlay.create({positionStrategy:this.positionStrategy,minWidth:n,disposeOnNavigation:!0,hasBackdrop:(this.nzHasBackdrop||this.nzBackdrop)&&"click"===this.nzTrigger,scrollStrategy:this.overlay.scrollStrategies.reposition()}),Object(bl.a)(this.overlayRef.backdropClick(),this.overlayRef.detachments(),this.overlayRef.outsidePointerEvents().pipe(Object(di.a)(t=>!this.elementRef.nativeElement.contains(t.target))),this.overlayRef.keydownEvents().pipe(Object(di.a)(t=>27===t.keyCode&&!_l(t)))).pipe(Oo(!1),An(this.destroy$)).subscribe(this.overlayClose$)),this.positionStrategy.withPositions([nu[this.nzPlacement],...wN]),this.portal&&this.portal.templateRef===this.nzDropdownMenu.templateRef||(this.portal=new hl(this.nzDropdownMenu.templateRef,this.viewContainerRef)),this.overlayRef.attach(this.portal)):this.overlayRef&&this.overlayRef.detach()})}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}ngOnChanges(t){const{nzVisible:e,nzDisabled:n,nzOverlayClassName:i,nzOverlayStyle:r,nzTrigger:o,nzBackdrop:s}=t;if(o&&this.nzTrigger$.next(this.nzTrigger),e&&this.inputVisible$.next(this.nzVisible),n){const t=this.elementRef.nativeElement;this.nzDisabled?(this.renderer.setAttribute(t,"disabled",""),this.inputVisible$.next(!1)):this.renderer.removeAttribute(t,"disabled")}i&&this.setDropdownMenuValue("nzOverlayClassName",this.nzOverlayClassName),r&&this.setDropdownMenuValue("nzOverlayStyle",this.nzOverlayStyle),s&&_i("`nzBackdrop` in dropdown component will be removed in 12.0.0, please use `nzHasBackdrop` instead.")}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(Hl),r.Rb(r.F),r.Rb(r.R),r.Rb(qn))},t.\u0275dir=r.Mb({type:t,selectors:[["","nz-dropdown",""]],inputs:{nzDropdownMenu:"nzDropdownMenu",nzTrigger:"nzTrigger",nzMatchWidthElement:"nzMatchWidthElement",nzBackdrop:"nzBackdrop",nzHasBackdrop:"nzHasBackdrop",nzClickHide:"nzClickHide",nzDisabled:"nzDisabled",nzVisible:"nzVisible",nzOverlayClassName:"nzOverlayClassName",nzOverlayStyle:"nzOverlayStyle",nzPlacement:"nzPlacement"},outputs:{nzVisibleChange:"nzVisibleChange"},exportAs:["nzDropdown"],features:[r.Bb]}),sr([Di(),ar("design:type",Object)],t.prototype,"nzBackdrop",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzHasBackdrop",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzClickHide",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzDisabled",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzVisible",void 0),t})(),CN=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)}}),t})(),SN=(()=>{class t{constructor(t,e,n,i,r,o,s){this.cdr=t,this.elementRef=e,this.renderer=n,this.viewContainerRef=i,this.nzMenuService=r,this.directionality=o,this.noAnimation=s,this.mouseState$=new fu.a(!1),this.isChildSubMenuOpen$=this.nzMenuService.isChildSubMenuOpen$,this.descendantMenuItemClick$=this.nzMenuService.descendantMenuItemClick$,this.nzOverlayClassName="",this.nzOverlayStyle={},this.dir="ltr",this.destroy$=new xe.a}setMouseState(t){this.mouseState$.next(t)}setValue(t,e){this[t]=e,this.cdr.markForCheck()}ngOnInit(){var t;null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterContentInit(){this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h),r.Rb(r.l),r.Rb(r.F),r.Rb(r.R),r.Rb(rN),r.Rb(bn,8),r.Rb(Ec,9))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-dropdown-menu"]],viewQuery:function(t,e){if(1&t&&r.Qc(r.M,3),2&t){let t;r.zc(t=r.gc())&&(e.templateRef=t.first)}},exportAs:["nzDropdownMenu"],features:[r.Cb([rN,{provide:oN,useValue:!0}])],ngContentSelectors:_N,decls:1,vars:0,consts:[[1,"ant-dropdown",3,"ngClass","ngStyle","nzNoAnimation","mouseenter","mouseleave"]],template:function(t,e){1&t&&(r.pc(),r.Kc(0,vN,2,7,"ng-template"))},directives:[i.l,i.o,Ec],encapsulation:2,data:{animation:[hs]},changeDetection:0}),t})(),xN=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,Zl,me,GL,yN,Vo,Ic,Bn,eu,CN,ii],yN]}),t})();function ON(t,e){}function kN(t,e){if(1&t&&(r.Vb(0),r.Kc(1,ON,0,0,"ng-template",6),r.Ub()),2&t){r.jc(2);const t=r.Ac(2);r.Db(1),r.qc("ngTemplateOutlet",t.template)}}function TN(t,e){if(1&t&&(r.Vb(0),r.Kc(1,kN,2,1,"ng-container",5),r.Ub()),2&t){const t=r.jc(),e=r.Ac(4);r.Db(1),r.qc("ngIf",t.nzSimple)("ngIfElse",e.template)}}new Il({originX:"start",originY:"top"},{overlayX:"start",overlayY:"top"}),new Il({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),new Il({originX:"start",originY:"top"},{overlayX:"end",overlayY:"bottom"}),new Il({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"});const EN=["containerTemplate"];function IN(t,e){}const DN=function(t,e){return{$implicit:t,range:e}};function MN(t,e){if(1&t&&(r.Xb(0,"li",4),r.Kc(1,IN,0,0,"ng-template",5),r.Wb()),2&t){const t=r.jc(2);r.Db(1),r.qc("ngTemplateOutlet",t.showTotal)("ngTemplateOutletContext",r.wc(2,DN,t.total,t.ranges))}}function RN(t,e){if(1&t){const t=r.Yb();r.Xb(0,"li",6),r.fc("gotoIndex",function(e){return r.Cc(t),r.jc(2).jumpPage(e)})("diffIndex",function(e){return r.Cc(t),r.jc(2).jumpDiff(e)}),r.Wb()}if(2&t){const t=e.$implicit,n=r.jc(2);r.qc("locale",n.locale)("type",t.type)("index",t.index)("disabled",!!t.disabled)("itemRender",n.itemRender)("active",n.pageIndex===t.index)("direction",n.dir)}}function AN(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",7),r.fc("pageIndexChange",function(e){return r.Cc(t),r.jc(2).onPageIndexChange(e)})("pageSizeChange",function(e){return r.Cc(t),r.jc(2).onPageSizeChange(e)}),r.Wb()}if(2&t){const t=r.jc(2);r.qc("total",t.total)("locale",t.locale)("disabled",t.disabled)("nzSize",t.nzSize)("showSizeChanger",t.showSizeChanger)("showQuickJumper",t.showQuickJumper)("pageIndex",t.pageIndex)("pageSize",t.pageSize)("pageSizeOptions",t.pageSizeOptions)}}function PN(t,e){if(1&t&&(r.Kc(0,MN,2,5,"li",1),r.Kc(1,RN,1,7,"li",2),r.Kc(2,AN,1,9,"div",3)),2&t){const t=r.jc();r.qc("ngIf",t.showTotal),r.Db(1),r.qc("ngForOf",t.listOfPageItem)("ngForTrackBy",t.trackByPageItem),r.Db(1),r.qc("ngIf",t.showQuickJumper||t.showSizeChanger)}}const LN=["nz-pagination-item",""];function FN(t,e){if(1&t&&(r.Xb(0,"a"),r.Mc(1),r.Wb()),2&t){const t=r.jc().page;r.Db(1),r.Nc(t)}}function jN(t,e){1&t&&r.Sb(0,"i",9)}function NN(t,e){1&t&&r.Sb(0,"i",10)}function VN(t,e){if(1&t&&(r.Xb(0,"button",6),r.Vb(1,2),r.Kc(2,jN,1,0,"i",7),r.Kc(3,NN,1,0,"i",8),r.Ub(),r.Wb()),2&t){const t=r.jc(2);r.qc("disabled",t.disabled),r.Db(1),r.qc("ngSwitch",t.direction),r.Db(1),r.qc("ngSwitchCase","rtl")}}function WN(t,e){1&t&&r.Sb(0,"i",10)}function qN(t,e){1&t&&r.Sb(0,"i",9)}function BN(t,e){if(1&t&&(r.Xb(0,"button",6),r.Vb(1,2),r.Kc(2,WN,1,0,"i",11),r.Kc(3,qN,1,0,"i",12),r.Ub(),r.Wb()),2&t){const t=r.jc(2);r.qc("disabled",t.disabled),r.Db(1),r.qc("ngSwitch",t.direction),r.Db(1),r.qc("ngSwitchCase","rtl")}}function XN(t,e){1&t&&r.Sb(0,"i",20)}function UN(t,e){1&t&&r.Sb(0,"i",21)}function $N(t,e){if(1&t&&(r.Vb(0,2),r.Kc(1,XN,1,0,"i",18),r.Kc(2,UN,1,0,"i",19),r.Ub()),2&t){const t=r.jc(4);r.qc("ngSwitch",t.direction),r.Db(1),r.qc("ngSwitchCase","rtl")}}function HN(t,e){1&t&&r.Sb(0,"i",21)}function KN(t,e){1&t&&r.Sb(0,"i",20)}function GN(t,e){if(1&t&&(r.Vb(0,2),r.Kc(1,HN,1,0,"i",22),r.Kc(2,KN,1,0,"i",23),r.Ub()),2&t){const t=r.jc(4);r.qc("ngSwitch",t.direction),r.Db(1),r.qc("ngSwitchCase","rtl")}}function YN(t,e){if(1&t&&(r.Xb(0,"div",15),r.Vb(1,2),r.Kc(2,$N,3,2,"ng-container",16),r.Kc(3,GN,3,2,"ng-container",16),r.Ub(),r.Xb(4,"span",17),r.Mc(5,"\u2022\u2022\u2022"),r.Wb(),r.Wb()),2&t){const t=r.jc(2).$implicit;r.Db(1),r.qc("ngSwitch",t),r.Db(1),r.qc("ngSwitchCase","prev_5"),r.Db(1),r.qc("ngSwitchCase","next_5")}}function QN(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"a",13),r.Kc(2,YN,6,3,"div",14),r.Wb(),r.Ub()),2&t){const t=r.jc().$implicit;r.Db(1),r.qc("ngSwitch",t)}}function JN(t,e){1&t&&(r.Vb(0,2),r.Kc(1,FN,2,1,"a",3),r.Kc(2,VN,4,3,"button",4),r.Kc(3,BN,4,3,"button",4),r.Kc(4,QN,3,1,"ng-container",5),r.Ub()),2&t&&(r.qc("ngSwitch",e.$implicit),r.Db(1),r.qc("ngSwitchCase","page"),r.Db(1),r.qc("ngSwitchCase","prev"),r.Db(1),r.qc("ngSwitchCase","next"))}function ZN(t,e){}const tV=function(t,e){return{$implicit:t,page:e}},eV=["nz-pagination-options",""];function nV(t,e){if(1&t&&r.Sb(0,"nz-option",4),2&t){const t=e.$implicit;r.qc("nzLabel",t.label)("nzValue",t.value)}}function iV(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-select",2),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc().onPageSizeChange(e)}),r.Kc(1,nV,1,2,"nz-option",3),r.Wb()}if(2&t){const t=r.jc();r.qc("nzDisabled",t.disabled)("nzSize",t.nzSize)("ngModel",t.pageSize),r.Db(1),r.qc("ngForOf",t.listOfPageSizeOption)("ngForTrackBy",t.trackByOption)}}function rV(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",5),r.Mc(1),r.Xb(2,"input",6),r.fc("keydown.enter",function(e){return r.Cc(t),r.jc().jumpToPageViaInput(e)}),r.Wb(),r.Mc(3),r.Wb()}if(2&t){const t=r.jc();r.Db(1),r.Oc(" ",t.locale.jump_to," "),r.Db(1),r.qc("disabled",t.disabled),r.Db(1),r.Oc(" ",t.locale.page," ")}}function oV(t,e){if(1&t){const t=r.Yb();r.Xb(0,"li",1),r.fc("click",function(){return r.Cc(t),r.jc().prePage()}),r.Wb(),r.Xb(1,"li",2),r.Xb(2,"input",3),r.fc("keydown.enter",function(e){return r.Cc(t),r.jc().jumpToPageViaInput(e)}),r.Wb(),r.Xb(3,"span",4),r.Mc(4,"/"),r.Wb(),r.Mc(5),r.Wb(),r.Xb(6,"li",5),r.fc("click",function(){return r.Cc(t),r.jc().nextPage()}),r.Wb()}if(2&t){const t=r.jc();r.qc("disabled",t.isFirstIndex)("direction",t.dir)("itemRender",t.itemRender),r.Eb("title",t.locale.prev_page),r.Db(1),r.Eb("title",t.pageIndex+"/"+t.lastIndex),r.Db(1),r.qc("disabled",t.disabled)("value",t.pageIndex),r.Db(3),r.Oc(" ",t.lastIndex," "),r.Db(1),r.qc("disabled",t.isLastIndex)("direction",t.dir)("itemRender",t.itemRender),r.Eb("title",null==t.locale?null:t.locale.next_page)}}let sV=(()=>{class t{constructor(t,e,n,i,o,s){this.i18n=t,this.cdr=e,this.breakpointService=n,this.nzConfigService=i,this.directionality=o,this.elementRef=s,this._nzModuleName="pagination",this.nzPageSizeChange=new r.n,this.nzPageIndexChange=new r.n,this.nzShowTotal=null,this.nzItemRender=null,this.nzSize="default",this.nzPageSizeOptions=[10,20,30,40],this.nzShowSizeChanger=!1,this.nzShowQuickJumper=!1,this.nzSimple=!1,this.nzDisabled=!1,this.nzResponsive=!1,this.nzHideOnSinglePage=!1,this.nzTotal=0,this.nzPageIndex=1,this.nzPageSize=10,this.showPagination=!0,this.size="default",this.dir="ltr",this.destroy$=new xe.a,this.total$=new tr(1),this.elementRef.nativeElement.classList.add("ant-pagination")}validatePageIndex(t,e){return t>e?e:t<1?1:t}onPageIndexChange(t){const e=this.getLastIndex(this.nzTotal,this.nzPageSize),n=this.validatePageIndex(t,e);n===this.nzPageIndex||this.nzDisabled||(this.nzPageIndex=n,this.nzPageIndexChange.emit(this.nzPageIndex))}onPageSizeChange(t){this.nzPageSize=t,this.nzPageSizeChange.emit(t);const e=this.getLastIndex(this.nzTotal,this.nzPageSize);this.nzPageIndex>e&&this.onPageIndexChange(e)}onTotalChange(t){const e=this.getLastIndex(t,this.nzPageSize);this.nzPageIndex>e&&Promise.resolve().then(()=>this.onPageIndexChange(e))}getLastIndex(t,e){return Math.ceil(t/e)}ngOnInit(){var t;this.i18n.localeChange.pipe(An(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Pagination"),this.cdr.markForCheck()}),this.total$.pipe(An(this.destroy$)).subscribe(t=>{this.onTotalChange(t)}),this.breakpointService.subscribe($i).pipe(An(this.destroy$)).subscribe(t=>{this.nzResponsive&&(this.size=t===Ui.xs?"small":"default",this.cdr.markForCheck())}),null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnChanges(t){const{nzHideOnSinglePage:e,nzTotal:n,nzPageSize:i,nzSize:r}=t;n&&this.total$.next(this.nzTotal),(e||n||i)&&(this.showPagination=this.nzHideOnSinglePage&&this.nzTotal>this.nzPageSize||this.nzTotal>0&&!this.nzHideOnSinglePage),r&&(this.size=r.currentValue)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Ed),r.Rb(r.h),r.Rb(Ki),r.Rb(Do),r.Rb(bn,8),r.Rb(r.l))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-pagination"]],hostVars:8,hostBindings:function(t,e){2&t&&r.Jb("ant-pagination-simple",e.nzSimple)("ant-pagination-disabled",e.nzDisabled)("mini",!e.nzSimple&&"small"===e.size)("ant-pagination-rtl","rtl"===e.dir)},inputs:{nzShowTotal:"nzShowTotal",nzItemRender:"nzItemRender",nzSize:"nzSize",nzPageSizeOptions:"nzPageSizeOptions",nzShowSizeChanger:"nzShowSizeChanger",nzShowQuickJumper:"nzShowQuickJumper",nzSimple:"nzSimple",nzDisabled:"nzDisabled",nzResponsive:"nzResponsive",nzHideOnSinglePage:"nzHideOnSinglePage",nzTotal:"nzTotal",nzPageIndex:"nzPageIndex",nzPageSize:"nzPageSize"},outputs:{nzPageSizeChange:"nzPageSizeChange",nzPageIndexChange:"nzPageIndexChange"},exportAs:["nzPagination"],features:[r.Bb],decls:5,vars:18,consts:[[4,"ngIf"],[3,"disabled","itemRender","locale","pageSize","total","pageIndex","pageIndexChange"],["simplePagination",""],[3,"nzSize","itemRender","showTotal","disabled","locale","showSizeChanger","showQuickJumper","total","pageIndex","pageSize","pageSizeOptions","pageIndexChange","pageSizeChange"],["defaultPagination",""],[4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet"]],template:function(t,e){1&t&&(r.Kc(0,TN,2,2,"ng-container",0),r.Xb(1,"nz-pagination-simple",1,2),r.fc("pageIndexChange",function(t){return e.onPageIndexChange(t)}),r.Wb(),r.Xb(3,"nz-pagination-default",3,4),r.fc("pageIndexChange",function(t){return e.onPageIndexChange(t)})("pageSizeChange",function(t){return e.onPageSizeChange(t)}),r.Wb()),2&t&&(r.qc("ngIf",e.showPagination),r.Db(1),r.qc("disabled",e.nzDisabled)("itemRender",e.nzItemRender)("locale",e.locale)("pageSize",e.nzPageSize)("total",e.nzTotal)("pageIndex",e.nzPageIndex),r.Db(2),r.qc("nzSize",e.size)("itemRender",e.nzItemRender)("showTotal",e.nzShowTotal)("disabled",e.nzDisabled)("locale",e.locale)("showSizeChanger",e.nzShowSizeChanger)("showQuickJumper",e.nzShowQuickJumper)("total",e.nzTotal)("pageIndex",e.nzPageIndex)("pageSize",e.nzPageSize)("pageSizeOptions",e.nzPageSizeOptions))},directives:function(){return[i.n,uV,aV,i.s]},encapsulation:2,changeDetection:0}),sr([Mo(),ar("design:type",String)],t.prototype,"nzSize",void 0),sr([Mo(),ar("design:type",Array)],t.prototype,"nzPageSizeOptions",void 0),sr([Mo(),Di(),ar("design:type",Object)],t.prototype,"nzShowSizeChanger",void 0),sr([Mo(),Di(),ar("design:type",Object)],t.prototype,"nzShowQuickJumper",void 0),sr([Mo(),Di(),ar("design:type",Object)],t.prototype,"nzSimple",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzDisabled",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzResponsive",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzHideOnSinglePage",void 0),sr([Mi(),ar("design:type",Object)],t.prototype,"nzTotal",void 0),sr([Mi(),ar("design:type",Object)],t.prototype,"nzPageIndex",void 0),sr([Mi(),ar("design:type",Object)],t.prototype,"nzPageSize",void 0),t})(),aV=(()=>{class t{constructor(t,e,n,i){this.cdr=t,this.renderer=e,this.elementRef=n,this.directionality=i,this.nzSize="default",this.itemRender=null,this.showTotal=null,this.disabled=!1,this.showSizeChanger=!1,this.showQuickJumper=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageSizeOptions=[10,20,30,40],this.pageIndexChange=new r.n,this.pageSizeChange=new r.n,this.ranges=[0,0],this.listOfPageItem=[],this.dir="ltr",this.destroy$=new xe.a,e.removeChild(e.parentNode(n.nativeElement),n.nativeElement)}ngOnInit(){var t;null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t,this.updateRtlStyle(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.updateRtlStyle()}updateRtlStyle(){"rtl"===this.dir?this.renderer.addClass(this.elementRef.nativeElement,"ant-pagination-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-pagination-rtl")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}jumpPage(t){this.onPageIndexChange(t)}jumpDiff(t){this.jumpPage(this.pageIndex+t)}trackByPageItem(t,e){return`${e.type}-${e.index}`}onPageIndexChange(t){this.pageIndexChange.next(t)}onPageSizeChange(t){this.pageSizeChange.next(t)}getLastIndex(t,e){return Math.ceil(t/e)}buildIndexes(){const t=this.getLastIndex(this.total,this.pageSize);this.listOfPageItem=this.getListOfPageItem(this.pageIndex,t)}getListOfPageItem(t,e){const n=(t,e)=>{const n=[];for(let i=t;i<=e;i++)n.push({index:i,type:"page"});return n};return i=e<=9?n(1,e):((t,i)=>{let r=[];const o={type:"prev_5"},s={type:"next_5"},a=n(1,1),c=n(e,e);return r=t<4?[...n(2,5),s]:t<i-3?[o,...n(t-2,t+2),s]:[o,...n(i-4,i-1)],[...a,...r,...c]})(t,e),[{type:"prev",disabled:1===t},...i,{type:"next",disabled:t===e}];var i}ngOnChanges(t){const{pageIndex:e,pageSize:n,total:i}=t;(e||n||i)&&(this.ranges=[(this.pageIndex-1)*this.pageSize+1,Math.min(this.pageIndex*this.pageSize,this.total)],this.buildIndexes())}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h),r.Rb(r.F),r.Rb(r.l),r.Rb(bn,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-pagination-default"]],viewQuery:function(t,e){if(1&t&&r.Qc(EN,3),2&t){let t;r.zc(t=r.gc())&&(e.template=t.first)}},inputs:{nzSize:"nzSize",itemRender:"itemRender",showTotal:"showTotal",disabled:"disabled",showSizeChanger:"showSizeChanger",showQuickJumper:"showQuickJumper",total:"total",pageIndex:"pageIndex",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",locale:"locale"},outputs:{pageIndexChange:"pageIndexChange",pageSizeChange:"pageSizeChange"},features:[r.Bb],decls:2,vars:0,consts:[["containerTemplate",""],["class","ant-pagination-total-text",4,"ngIf"],["nz-pagination-item","",3,"locale","type","index","disabled","itemRender","active","direction","gotoIndex","diffIndex",4,"ngFor","ngForOf","ngForTrackBy"],["nz-pagination-options","",3,"total","locale","disabled","nzSize","showSizeChanger","showQuickJumper","pageIndex","pageSize","pageSizeOptions","pageIndexChange","pageSizeChange",4,"ngIf"],[1,"ant-pagination-total-text"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["nz-pagination-item","",3,"locale","type","index","disabled","itemRender","active","direction","gotoIndex","diffIndex"],["nz-pagination-options","",3,"total","locale","disabled","nzSize","showSizeChanger","showQuickJumper","pageIndex","pageSize","pageSizeOptions","pageIndexChange","pageSizeChange"]],template:function(t,e){1&t&&r.Kc(0,PN,3,4,"ng-template",null,0,r.Lc)},directives:function(){return[i.n,i.m,i.s,cV,lV]},encapsulation:2,changeDetection:0}),t})(),cV=(()=>{class t{constructor(){this.active=!1,this.index=null,this.disabled=!1,this.direction="ltr",this.type=null,this.itemRender=null,this.diffIndex=new r.n,this.gotoIndex=new r.n,this.title=null}clickItem(){this.disabled||("page"===this.type?this.gotoIndex.emit(this.index):this.diffIndex.emit({next:1,prev:-1,prev_5:-5,next_5:5}[this.type]))}ngOnChanges(t){var e,n,i,r;const{locale:o,index:s,type:a}=t;(o||s||a)&&(this.title={page:`${this.index}`,next:null===(e=this.locale)||void 0===e?void 0:e.next_page,prev:null===(n=this.locale)||void 0===n?void 0:n.prev_page,prev_5:null===(i=this.locale)||void 0===i?void 0:i.prev_5,next_5:null===(r=this.locale)||void 0===r?void 0:r.next_5}[this.type])}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["li","nz-pagination-item",""]],hostVars:19,hostBindings:function(t,e){1&t&&r.fc("click",function(){return e.clickItem()}),2&t&&(r.Eb("title",e.title),r.Jb("ant-pagination-prev","prev"===e.type)("ant-pagination-next","next"===e.type)("ant-pagination-item","page"===e.type)("ant-pagination-jump-prev","prev_5"===e.type)("ant-pagination-jump-prev-custom-icon","prev_5"===e.type)("ant-pagination-jump-next","next_5"===e.type)("ant-pagination-jump-next-custom-icon","next_5"===e.type)("ant-pagination-disabled",e.disabled)("ant-pagination-item-active",e.active))},inputs:{active:"active",index:"index",disabled:"disabled",direction:"direction",type:"type",itemRender:"itemRender",locale:"locale"},outputs:{diffIndex:"diffIndex",gotoIndex:"gotoIndex"},features:[r.Bb],attrs:LN,decls:3,vars:5,consts:[["renderItemTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","ant-pagination-item-link",3,"disabled",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"ant-pagination-item-link",3,"disabled"],["nz-icon","","nzType","right",4,"ngSwitchCase"],["nz-icon","","nzType","left",4,"ngSwitchDefault"],["nz-icon","","nzType","right"],["nz-icon","","nzType","left"],["nz-icon","","nzType","left",4,"ngSwitchCase"],["nz-icon","","nzType","right",4,"ngSwitchDefault"],[1,"ant-pagination-item-link",3,"ngSwitch"],["class","ant-pagination-item-container",4,"ngSwitchDefault"],[1,"ant-pagination-item-container"],[3,"ngSwitch",4,"ngSwitchCase"],[1,"ant-pagination-item-ellipsis"],["nz-icon","","nzType","double-right","class","ant-pagination-item-link-icon",4,"ngSwitchCase"],["nz-icon","","nzType","double-left","class","ant-pagination-item-link-icon",4,"ngSwitchDefault"],["nz-icon","","nzType","double-right",1,"ant-pagination-item-link-icon"],["nz-icon","","nzType","double-left",1,"ant-pagination-item-link-icon"],["nz-icon","","nzType","double-left","class","ant-pagination-item-link-icon",4,"ngSwitchCase"],["nz-icon","","nzType","double-right","class","ant-pagination-item-link-icon",4,"ngSwitchDefault"]],template:function(t,e){if(1&t&&(r.Kc(0,JN,5,4,"ng-template",null,0,r.Lc),r.Kc(2,ZN,0,0,"ng-template",1)),2&t){const t=r.Ac(1);r.Db(2),r.qc("ngTemplateOutlet",e.itemRender||t)("ngTemplateOutletContext",r.wc(2,tV,e.type,e.index))}},directives:[i.s,i.p,i.q,i.r,No],encapsulation:2,changeDetection:0}),t})(),lV=(()=>{class t{constructor(t){this.elementRef=t,this.nzSize="default",this.disabled=!1,this.showSizeChanger=!1,this.showQuickJumper=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageSizeOptions=[],this.pageIndexChange=new r.n,this.pageSizeChange=new r.n,this.listOfPageSizeOption=[],this.elementRef.nativeElement.classList.add("ant-pagination-options")}onPageSizeChange(t){this.pageSize!==t&&this.pageSizeChange.next(t)}jumpToPageViaInput(t){const e=t.target,n=Math.floor(ki(e.value,this.pageIndex));this.pageIndexChange.next(n),e.value=""}trackByOption(t,e){return e.value}ngOnChanges(t){const{pageSize:e,pageSizeOptions:n,locale:i}=t;(e||n||i)&&(this.listOfPageSizeOption=[...new Set([...this.pageSizeOptions,this.pageSize])].map(t=>({value:t,label:`${t} ${this.locale.items_per_page}`})))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l))},t.\u0275cmp=r.Lb({type:t,selectors:[["div","nz-pagination-options",""]],inputs:{nzSize:"nzSize",disabled:"disabled",showSizeChanger:"showSizeChanger",showQuickJumper:"showQuickJumper",total:"total",pageIndex:"pageIndex",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",locale:"locale"},outputs:{pageIndexChange:"pageIndexChange",pageSizeChange:"pageSizeChange"},features:[r.Bb],attrs:eV,decls:2,vars:2,consts:[["class","ant-pagination-options-size-changer",3,"nzDisabled","nzSize","ngModel","ngModelChange",4,"ngIf"],["class","ant-pagination-options-quick-jumper",4,"ngIf"],[1,"ant-pagination-options-size-changer",3,"nzDisabled","nzSize","ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf","ngForTrackBy"],[3,"nzLabel","nzValue"],[1,"ant-pagination-options-quick-jumper"],[3,"disabled","keydown.enter"]],template:function(t,e){1&t&&(r.Kc(0,iV,2,5,"nz-select",0),r.Kc(1,rV,4,3,"div",1)),2&t&&(r.qc("ngIf",e.showSizeChanger),r.Db(1),r.qc("ngIf",e.showQuickJumper))},directives:[i.n,Gg,bt,ie,i.m,Ug],encapsulation:2,changeDetection:0}),t})(),uV=(()=>{class t{constructor(t,e,n,i){this.cdr=t,this.renderer=e,this.elementRef=n,this.directionality=i,this.itemRender=null,this.disabled=!1,this.total=0,this.pageIndex=1,this.pageSize=10,this.pageIndexChange=new r.n,this.lastIndex=0,this.isFirstIndex=!1,this.isLastIndex=!1,this.dir="ltr",this.destroy$=new xe.a,e.removeChild(e.parentNode(n.nativeElement),n.nativeElement)}ngOnInit(){var t;null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t,this.updateRtlStyle(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.updateRtlStyle()}updateRtlStyle(){"rtl"===this.dir?this.renderer.addClass(this.elementRef.nativeElement,"ant-pagination-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-pagination-rtl")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}jumpToPageViaInput(t){const e=t.target,n=ki(e.value,this.pageIndex);this.onPageIndexChange(n),e.value=`${this.pageIndex}`}prePage(){this.onPageIndexChange(this.pageIndex-1)}nextPage(){this.onPageIndexChange(this.pageIndex+1)}onPageIndexChange(t){this.pageIndexChange.next(t)}updateBindingValue(){this.lastIndex=Math.ceil(this.total/this.pageSize),this.isFirstIndex=1===this.pageIndex,this.isLastIndex=this.pageIndex===this.lastIndex}ngOnChanges(t){const{pageIndex:e,total:n,pageSize:i}=t;(e||n||i)&&this.updateBindingValue()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h),r.Rb(r.F),r.Rb(r.l),r.Rb(bn,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-pagination-simple"]],viewQuery:function(t,e){if(1&t&&r.Qc(EN,3),2&t){let t;r.zc(t=r.gc())&&(e.template=t.first)}},inputs:{itemRender:"itemRender",disabled:"disabled",total:"total",pageIndex:"pageIndex",pageSize:"pageSize",locale:"locale"},outputs:{pageIndexChange:"pageIndexChange"},features:[r.Bb],decls:2,vars:0,consts:[["containerTemplate",""],["nz-pagination-item","","type","prev",3,"disabled","direction","itemRender","click"],[1,"ant-pagination-simple-pager"],["size","3",3,"disabled","value","keydown.enter"],[1,"ant-pagination-slash"],["nz-pagination-item","","type","next",3,"disabled","direction","itemRender","click"]],template:function(t,e){1&t&&r.Kc(0,oV,7,12,"ng-template",null,0,r.Lc)},directives:[cV],encapsulation:2,changeDetection:0}),t})(),hV=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,me,nm,Dd,Vo]]}),t})();const dV=["*"];function pV(t,e){}function fV(t,e){if(1&t){const t=r.Yb();r.Xb(0,"label",15),r.fc("ngModelChange",function(){r.Cc(t);const e=r.jc().$implicit;return r.jc(2).check(e)}),r.Wb()}if(2&t){const t=r.jc().$implicit;r.qc("ngModel",t.checked)}}function gV(t,e){if(1&t){const t=r.Yb();r.Xb(0,"label",16),r.fc("ngModelChange",function(){r.Cc(t);const e=r.jc().$implicit;return r.jc(2).check(e)}),r.Wb()}if(2&t){const t=r.jc().$implicit;r.qc("ngModel",t.checked)}}function mV(t,e){if(1&t){const t=r.Yb();r.Xb(0,"li",12),r.fc("click",function(){r.Cc(t);const n=e.$implicit;return r.jc(2).check(n)}),r.Kc(1,fV,1,1,"label",13),r.Kc(2,gV,1,1,"label",14),r.Xb(3,"span"),r.Mc(4),r.Wb(),r.Wb()}if(2&t){const t=e.$implicit,n=r.jc(2);r.qc("nzSelected",t.checked),r.Db(1),r.qc("ngIf",!n.filterMultiple),r.Db(1),r.qc("ngIf",n.filterMultiple),r.Db(2),r.Nc(t.text)}}function bV(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Xb(1,"nz-filter-trigger",3),r.fc("nzVisibleChange",function(e){return r.Cc(t),r.jc().onVisibleChange(e)}),r.Sb(2,"i",4),r.Wb(),r.Xb(3,"nz-dropdown-menu",null,5),r.Xb(5,"div",6),r.Xb(6,"ul",7),r.Kc(7,mV,5,4,"li",8),r.Wb(),r.Xb(8,"div",9),r.Xb(9,"button",10),r.fc("click",function(){return r.Cc(t),r.jc().reset()}),r.Mc(10),r.Wb(),r.Xb(11,"button",11),r.fc("click",function(){return r.Cc(t),r.jc().confirm()}),r.Mc(12),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Ub()}if(2&t){const t=r.Ac(4),e=r.jc();r.Db(1),r.qc("nzVisible",e.isVisible)("nzActive",e.isChecked)("nzDropdownMenu",t),r.Db(6),r.qc("ngForOf",e.listOfParsedFilter)("ngForTrackBy",e.trackByValue),r.Db(2),r.qc("disabled",!e.isChecked),r.Db(1),r.Nc(e.locale.filterReset),r.Db(2),r.Nc(e.locale.filterConfirm)}}function yV(t,e){if(1&t){const t=r.Yb();r.Xb(0,"label",2),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc().onCheckedChange(e)}),r.Wb()}if(2&t){const t=r.jc();r.Jb("ant-table-selection-select-all-custom",t.showRowSelection),r.qc("ngModel",t.checked)("nzDisabled",t.disabled)("nzIndeterminate",t.indeterminate)}}function vV(t,e){if(1&t&&(r.Xb(0,"li",9),r.fc("click",function(){return e.$implicit.onSelect()}),r.Mc(1),r.Wb()),2&t){const t=e.$implicit;r.Db(1),r.Oc(" ",t.text," ")}}function _V(t,e){if(1&t&&(r.Xb(0,"div",3),r.Xb(1,"span",4),r.Sb(2,"i",5),r.Wb(),r.Xb(3,"nz-dropdown-menu",null,6),r.Xb(5,"ul",7),r.Kc(6,vV,2,1,"li",8),r.Wb(),r.Wb(),r.Wb()),2&t){const t=r.Ac(4),e=r.jc();r.Db(1),r.qc("nzDropdownMenu",t),r.Db(5),r.qc("ngForOf",e.listOfSelections)}}function wV(t,e){}function zV(t,e){if(1&t&&r.Sb(0,"i",5),2&t){const t=r.jc();r.Jb("active","ascend"==t.sortOrder)}}function CV(t,e){if(1&t&&r.Sb(0,"i",6),2&t){const t=r.jc();r.Jb("active","descend"==t.sortOrder)}}const SV=["nzChecked",""];function xV(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Sb(1,"nz-row-indent",2),r.Xb(2,"button",3),r.fc("expandChange",function(e){return r.Cc(t),r.jc().onExpandChange(e)}),r.Wb(),r.Ub()}if(2&t){const t=r.jc();r.Db(1),r.qc("indentSize",t.nzIndentSize),r.Db(1),r.qc("expand",t.nzExpand)("spaceMode",!t.nzShowExpand)}}function OV(t,e){if(1&t){const t=r.Yb();r.Xb(0,"label",4),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc().onCheckedChange(e)}),r.Wb()}if(2&t){const t=r.jc();r.qc("nzDisabled",t.nzDisabled)("ngModel",t.nzChecked)("nzIndeterminate",t.nzIndeterminate)}}const kV=["nzColumnKey",""];function TV(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-table-filter",5),r.fc("filterChange",function(e){return r.Cc(t),r.jc().onFilterValueChange(e)}),r.Wb()}if(2&t){const t=r.jc(),e=r.Ac(2),n=r.Ac(4);r.qc("contentTemplate",e)("extraTemplate",n)("customFilter",t.nzCustomFilter)("filterMultiple",t.nzFilterMultiple)("listOfFilter",t.nzFilters)}}function EV(t,e){}function IV(t,e){if(1&t&&r.Kc(0,EV,0,0,"ng-template",6),2&t){const t=r.jc(),e=r.Ac(6),n=r.Ac(8);r.qc("ngTemplateOutlet",t.nzShowSort?e:n)}}function DV(t,e){1&t&&(r.oc(0),r.oc(1,1))}function MV(t,e){if(1&t&&r.Sb(0,"nz-table-sorters",7),2&t){const t=r.jc(),e=r.Ac(8);r.qc("sortOrder",t.sortOrder)("sortDirections",t.sortDirections)("contentTemplate",e)}}function RV(t,e){1&t&&r.oc(0,2)}const AV=[[["","nz-th-extra",""]],[["nz-filter-trigger"]],"*"],PV=["[nz-th-extra]","nz-filter-trigger","*"],LV=["nzSelections",""],FV=["nz-table-content",""];function jV(t,e){if(1&t&&r.Sb(0,"col"),2&t){const t=e.$implicit;r.Hc("width",t)("min-width",t)}}function NV(t,e){}function VV(t,e){if(1&t&&(r.Xb(0,"thead",3),r.Kc(1,NV,0,0,"ng-template",2),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("ngTemplateOutlet",t.theadTemplate)}}function WV(t,e){}const qV=["tdElement"],BV=["nz-table-fixed-row",""];function XV(t,e){}function UV(t,e){if(1&t&&(r.Xb(0,"div",4),r.kc(1,"async"),r.Kc(2,XV,0,0,"ng-template",5),r.Wb()),2&t){const t=r.jc(),e=r.Ac(5);r.Hc("width",r.lc(1,3,t.hostWidth$),"px"),r.Db(2),r.qc("ngTemplateOutlet",e)}}function $V(t,e){1&t&&r.oc(0)}const HV=["tableHeaderElement"],KV=["tableBodyElement"];function GV(t,e){if(1&t&&(r.Xb(0,"div",7,8),r.Sb(2,"table",9),r.Wb()),2&t){const t=r.jc(2);r.qc("ngStyle",t.bodyStyleMap),r.Db(2),r.qc("scrollX",t.scrollX)("listOfColWidth",t.listOfColWidth)("contentTemplate",t.contentTemplate)}}function YV(t,e){}const QV=function(t,e){return{$implicit:t,index:e}};function JV(t,e){if(1&t&&(r.Vb(0),r.Kc(1,YV,0,0,"ng-template",13),r.Ub()),2&t){const t=e.$implicit,n=e.index,i=r.jc(3);r.Db(1),r.qc("ngTemplateOutlet",i.virtualTemplate)("ngTemplateOutletContext",r.wc(2,QV,t,n))}}function ZV(t,e){if(1&t&&(r.Xb(0,"cdk-virtual-scroll-viewport",10,8),r.Xb(2,"table",11),r.Xb(3,"tbody"),r.Kc(4,JV,2,5,"ng-container",12),r.Wb(),r.Wb(),r.Wb()),2&t){const t=r.jc(2);r.Hc("height",t.data.length?t.scrollY:t.noDateVirtualHeight),r.qc("itemSize",t.virtualItemSize)("maxBufferPx",t.virtualMaxBufferPx)("minBufferPx",t.virtualMinBufferPx),r.Db(2),r.qc("scrollX",t.scrollX)("listOfColWidth",t.listOfColWidth),r.Db(2),r.qc("cdkVirtualForOf",t.data)("cdkVirtualForTrackBy",t.virtualForTrackBy)}}function tW(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"div",2,3),r.Sb(3,"table",4),r.Wb(),r.Kc(4,GV,3,4,"div",5),r.Kc(5,ZV,5,9,"cdk-virtual-scroll-viewport",6),r.Ub()),2&t){const t=r.jc();r.Db(1),r.qc("ngStyle",t.headerStyleMap),r.Db(2),r.qc("scrollX",t.scrollX)("listOfColWidth",t.listOfColWidth)("theadTemplate",t.theadTemplate),r.Db(1),r.qc("ngIf",!t.virtualTemplate),r.Db(1),r.qc("ngIf",t.virtualTemplate)}}function eW(t,e){if(1&t&&(r.Xb(0,"div",14,8),r.Sb(2,"table",15),r.Wb()),2&t){const t=r.jc();r.qc("ngStyle",t.bodyStyleMap),r.Db(2),r.qc("scrollX",t.scrollX)("listOfColWidth",t.listOfColWidth)("theadTemplate",t.theadTemplate)("contentTemplate",t.contentTemplate)}}function nW(t,e){}function iW(t,e){if(1&t&&(r.Vb(0),r.Kc(1,nW,0,0,"ng-template",10),r.Ub()),2&t){r.jc();const t=r.Ac(11);r.Db(1),r.qc("ngTemplateOutlet",t)}}function rW(t,e){if(1&t&&r.Sb(0,"nz-table-title-footer",11),2&t){const t=r.jc();r.qc("title",t.nzTitle)}}function oW(t,e){if(1&t&&r.Sb(0,"nz-table-inner-scroll",12),2&t){const t=r.jc(),e=r.Ac(13),n=r.Ac(3);r.qc("data",t.data)("scrollX",t.scrollX)("scrollY",t.scrollY)("contentTemplate",e)("listOfColWidth",t.listOfAutoColWidth)("theadTemplate",t.theadTemplate)("verticalScrollBarWidth",t.verticalScrollBarWidth)("virtualTemplate",t.nzVirtualScrollDirective?t.nzVirtualScrollDirective.templateRef:null)("virtualItemSize",t.nzVirtualItemSize)("virtualMaxBufferPx",t.nzVirtualMaxBufferPx)("virtualMinBufferPx",t.nzVirtualMinBufferPx)("tableMainElement",n)("virtualForTrackBy",t.nzVirtualForTrackBy)}}function sW(t,e){if(1&t&&r.Sb(0,"nz-table-inner-default",13),2&t){const t=r.jc(),e=r.Ac(13);r.qc("tableLayout",t.nzTableLayout)("listOfColWidth",t.listOfManualColWidth)("theadTemplate",t.theadTemplate)("contentTemplate",e)}}function aW(t,e){if(1&t&&r.Sb(0,"nz-table-title-footer",14),2&t){const t=r.jc();r.qc("footer",t.nzFooter)}}function cW(t,e){}function lW(t,e){if(1&t&&(r.Vb(0),r.Kc(1,cW,0,0,"ng-template",10),r.Ub()),2&t){r.jc();const t=r.Ac(11);r.Db(1),r.qc("ngTemplateOutlet",t)}}function uW(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-pagination",16),r.fc("nzPageSizeChange",function(e){return r.Cc(t),r.jc(2).onPageSizeChange(e)})("nzPageIndexChange",function(e){return r.Cc(t),r.jc(2).onPageIndexChange(e)}),r.Wb()}if(2&t){const t=r.jc(2);r.qc("hidden",!t.showPagination)("nzShowSizeChanger",t.nzShowSizeChanger)("nzPageSizeOptions",t.nzPageSizeOptions)("nzItemRender",t.nzItemRender)("nzShowQuickJumper",t.nzShowQuickJumper)("nzHideOnSinglePage",t.nzHideOnSinglePage)("nzShowTotal",t.nzShowTotal)("nzSize","small"===t.nzPaginationType?"small":"default"===t.nzSize?"default":"small")("nzPageSize",t.nzPageSize)("nzTotal",t.nzTotal)("nzSimple",t.nzSimple)("nzPageIndex",t.nzPageIndex)}}function hW(t,e){if(1&t&&r.Kc(0,uW,1,12,"nz-pagination",15),2&t){const t=r.jc();r.qc("ngIf",t.nzShowPagination&&t.data.length)}}function dW(t,e){1&t&&r.oc(0)}function pW(t,e){if(1&t){const t=r.Yb();r.Xb(0,"tr",3),r.fc("listOfAutoWidth",function(e){return r.Cc(t),r.jc(2).onListOfAutoWidthChange(e)}),r.Wb()}if(2&t){const t=r.jc().ngIf;r.qc("listOfMeasureColumn",t)}}function fW(t,e){if(1&t&&(r.Vb(0),r.Kc(1,pW,1,1,"tr",2),r.Ub()),2&t){const t=e.ngIf,n=r.jc();r.Db(1),r.qc("ngIf",n.isInsideTable&&t.length)}}function gW(t,e){if(1&t&&(r.Xb(0,"tr",4),r.Sb(1,"nz-embed-empty",5),r.kc(2,"async"),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("specificContent",r.lc(2,1,t.noResult$))}}const mW=["contentTemplate"];function bW(t,e){1&t&&r.oc(0)}function yW(t,e){}function vW(t,e){if(1&t&&(r.Vb(0),r.Kc(1,yW,0,0,"ng-template",2),r.Ub()),2&t){r.jc();const t=r.Ac(1);r.Db(1),r.qc("ngTemplateOutlet",t)}}function _W(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc();r.Db(1),r.Nc(t.title)}}function wW(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc();r.Db(1),r.Nc(t.footer)}}const zW=["nz-table-measure-row",""];function CW(t,e){1&t&&r.Sb(0,"td",1,2)}let SW=(()=>{class t{constructor(t,e){this.cdr=t,this.elementRef=e,this.nzActive=!1,this.nzVisible=!1,this.nzHasBackdrop=!1,this.nzVisibleChange=new r.n,this.elementRef.nativeElement.classList.add("ant-table-filter-trigger-container")}onVisibleChange(t){this.nzVisible=t,this.nzVisibleChange.next(t)}onFilterClick(t){t.stopPropagation()}hide(){this.nzVisible=!1,this.cdr.markForCheck()}show(){this.nzVisible=!0,this.cdr.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h),r.Rb(r.l))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-filter-trigger"]],hostVars:2,hostBindings:function(t,e){2&t&&r.Jb("ant-table-filter-trigger-container-open",e.nzVisible)},inputs:{nzActive:"nzActive",nzVisible:"nzVisible",nzHasBackdrop:"nzHasBackdrop",nzDropdownMenu:"nzDropdownMenu"},outputs:{nzVisibleChange:"nzVisibleChange"},exportAs:["nzFilterTrigger"],ngContentSelectors:dV,decls:2,vars:8,consts:[["nz-dropdown","","nzTrigger","click","nzPlacement","bottomRight",1,"ant-table-filter-trigger",3,"nzHasBackdrop","nzClickHide","nzDropdownMenu","nzVisible","nzVisibleChange","click"]],template:function(t,e){1&t&&(r.pc(),r.Xb(0,"span",0),r.fc("nzVisibleChange",function(t){return e.onVisibleChange(t)})("click",function(t){return e.onFilterClick(t)}),r.oc(1),r.Wb()),2&t&&(r.Jb("active",e.nzActive)("ant-table-filter-open",e.nzVisible),r.qc("nzHasBackdrop",e.nzHasBackdrop)("nzClickHide",!1)("nzDropdownMenu",e.nzDropdownMenu)("nzVisible",e.nzVisible))},directives:[zN],encapsulation:2,changeDetection:0}),t})(),xW=(()=>{class t{constructor(t,e,n){this.cdr=t,this.i18n=e,this.elementRef=n,this.contentTemplate=null,this.customFilter=!1,this.extraTemplate=null,this.filterMultiple=!0,this.listOfFilter=[],this.filterChange=new r.n,this.destroy$=new xe.a,this.isChanged=!1,this.isChecked=!1,this.isVisible=!1,this.listOfParsedFilter=[],this.elementRef.nativeElement.classList.add("ant-table-filter-column")}trackByValue(t,e){return e.value}check(t){this.isChanged=!0,this.filterMultiple?(this.listOfParsedFilter=this.listOfParsedFilter.map(e=>e===t?Object.assign(Object.assign({},e),{checked:!t.checked}):e),t.checked=!t.checked):this.listOfParsedFilter=this.listOfParsedFilter.map(e=>Object.assign(Object.assign({},e),{checked:e===t})),this.isChecked=this.getCheckedStatus(this.listOfParsedFilter)}confirm(){this.isVisible=!1,this.emitFilterData()}reset(){this.isChanged=!0,this.isVisible=!1,this.listOfParsedFilter=this.parseListOfFilter(this.listOfFilter,!0),this.isChecked=this.getCheckedStatus(this.listOfParsedFilter),this.emitFilterData()}onVisibleChange(t){this.isVisible=t,t||this.emitFilterData()}emitFilterData(){if(this.isChanged){const t=this.listOfParsedFilter.filter(t=>t.checked).map(t=>t.value);this.filterChange.emit(this.filterMultiple?t:t.length>0?t[0]:null),this.isChanged=!1}}parseListOfFilter(t,e){return t.map(t=>({text:t.text,value:t.value,checked:!e&&!!t.byDefault}))}getCheckedStatus(t){return t.some(t=>t.checked)}ngOnInit(){this.i18n.localeChange.pipe(An(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Table"),this.cdr.markForCheck()})}ngOnChanges(t){const{listOfFilter:e}=t;e&&this.listOfFilter&&this.listOfFilter.length&&(this.listOfParsedFilter=this.parseListOfFilter(this.listOfFilter),this.isChecked=this.getCheckedStatus(this.listOfParsedFilter))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h),r.Rb(Ed),r.Rb(r.l))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-table-filter"]],inputs:{contentTemplate:"contentTemplate",customFilter:"customFilter",extraTemplate:"extraTemplate",filterMultiple:"filterMultiple",listOfFilter:"listOfFilter"},outputs:{filterChange:"filterChange"},features:[r.Bb],decls:3,vars:3,consts:[[1,"ant-table-filter-column-title"],[3,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],[3,"nzVisible","nzActive","nzDropdownMenu","nzVisibleChange"],["nz-icon","","nzType","filter","nzTheme","fill"],["filterMenu","nzDropdownMenu"],[1,"ant-table-filter-dropdown"],["nz-menu",""],["nz-menu-item","",3,"nzSelected","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ant-table-filter-dropdown-btns"],["nz-button","","nzType","link","nzSize","small",3,"disabled","click"],["nz-button","","nzType","primary","nzSize","small",3,"click"],["nz-menu-item","",3,"nzSelected","click"],["nz-radio","",3,"ngModel","ngModelChange",4,"ngIf"],["nz-checkbox","",3,"ngModel","ngModelChange",4,"ngIf"],["nz-radio","",3,"ngModel","ngModelChange"],["nz-checkbox","",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(r.Xb(0,"span",0),r.Kc(1,pV,0,0,"ng-template",1),r.Wb(),r.Kc(2,bV,13,8,"ng-container",2)),2&t&&(r.Db(1),r.qc("ngTemplateOutlet",e.contentTemplate),r.Db(1),r.qc("ngIf",!e.customFilter)("ngIfElse",e.extraTemplate))},directives:[i.s,i.n,SW,Rf,No,SN,fN,i.m,HL,qL,cN,yf,bt,ie,Tf],encapsulation:2,changeDetection:0}),t})(),OW=(()=>{class t{constructor(t){this.elementRef=t,this.expand=!1,this.spaceMode=!1,this.expandChange=new r.n,this.elementRef.nativeElement.classList.add("ant-table-row-expand-icon")}onHostClick(){this.spaceMode||(this.expand=!this.expand,this.expandChange.next(this.expand))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l))},t.\u0275dir=r.Mb({type:t,selectors:[["button","nz-row-expand-button",""]],hostVars:7,hostBindings:function(t,e){1&t&&r.fc("click",function(){return e.onHostClick()}),2&t&&(r.ac("type","button"),r.Jb("ant-table-row-expand-icon-expanded",!e.spaceMode&&!0===e.expand)("ant-table-row-expand-icon-collapsed",!e.spaceMode&&!1===e.expand)("ant-table-row-expand-icon-spaced",e.spaceMode))},inputs:{expand:"expand",spaceMode:"spaceMode"},outputs:{expandChange:"expandChange"}}),t})(),kW=(()=>{class t{constructor(t){this.elementRef=t,this.indentSize=0,this.elementRef.nativeElement.classList.add("ant-table-row-indent")}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l))},t.\u0275dir=r.Mb({type:t,selectors:[["nz-row-indent"]],hostVars:2,hostBindings:function(t,e){2&t&&r.Hc("padding-left",e.indentSize,"px")},inputs:{indentSize:"indentSize"}}),t})(),TW=(()=>{class t{constructor(t){this.elementRef=t,this.listOfSelections=[],this.checked=!1,this.disabled=!1,this.indeterminate=!1,this.showCheckbox=!1,this.showRowSelection=!1,this.checkedChange=new r.n,this.elementRef.nativeElement.classList.add("ant-table-selection")}onCheckedChange(t){this.checked=t,this.checkedChange.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-table-selection"]],inputs:{listOfSelections:"listOfSelections",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",showCheckbox:"showCheckbox",showRowSelection:"showRowSelection"},outputs:{checkedChange:"checkedChange"},decls:2,vars:2,consts:[["nz-checkbox","",3,"ant-table-selection-select-all-custom","ngModel","nzDisabled","nzIndeterminate","ngModelChange",4,"ngIf"],["class","ant-table-selection-extra",4,"ngIf"],["nz-checkbox","",3,"ngModel","nzDisabled","nzIndeterminate","ngModelChange"],[1,"ant-table-selection-extra"],["nz-dropdown","","nzPlacement","bottomLeft",1,"ant-table-selection-down",3,"nzDropdownMenu"],["nz-icon","","nzType","down"],["selectionMenu","nzDropdownMenu"],["nz-menu","",1,"ant-table-selection-menu"],["nz-menu-item","",3,"click",4,"ngFor","ngForOf"],["nz-menu-item","",3,"click"]],template:function(t,e){1&t&&(r.Kc(0,yV,1,5,"label",0),r.Kc(1,_V,7,2,"div",1)),2&t&&(r.qc("ngIf",e.showCheckbox),r.Db(1),r.qc("ngIf",e.showRowSelection))},directives:[i.n,Tf,bt,ie,zN,Rf,No,SN,fN,i.m,cN],encapsulation:2,changeDetection:0}),t})(),EW=(()=>{class t{constructor(t){this.elementRef=t,this.sortDirections=["ascend","descend",null],this.sortOrder=null,this.contentTemplate=null,this.isUp=!1,this.isDown=!1,this.elementRef.nativeElement.classList.add("ant-table-column-sorters")}ngOnChanges(t){const{sortDirections:e}=t;e&&(this.isUp=-1!==this.sortDirections.indexOf("ascend"),this.isDown=-1!==this.sortDirections.indexOf("descend"))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-table-sorters"]],inputs:{sortDirections:"sortDirections",sortOrder:"sortOrder",contentTemplate:"contentTemplate"},features:[r.Bb],decls:6,vars:5,consts:[[3,"ngTemplateOutlet"],[1,"ant-table-column-sorter"],[1,"ant-table-column-sorter-inner"],["nz-icon","","nzType","caret-up","class","ant-table-column-sorter-up",3,"active",4,"ngIf"],["nz-icon","","nzType","caret-down","class","ant-table-column-sorter-down",3,"active",4,"ngIf"],["nz-icon","","nzType","caret-up",1,"ant-table-column-sorter-up"],["nz-icon","","nzType","caret-down",1,"ant-table-column-sorter-down"]],template:function(t,e){1&t&&(r.Xb(0,"span"),r.Kc(1,wV,0,0,"ng-template",0),r.Wb(),r.Xb(2,"span",1),r.Xb(3,"span",2),r.Kc(4,zV,1,2,"i",3),r.Kc(5,CV,1,2,"i",4),r.Wb(),r.Wb()),2&t&&(r.Db(1),r.qc("ngTemplateOutlet",e.contentTemplate),r.Db(1),r.Jb("ant-table-column-sorter-full",e.isDown&&e.isUp),r.Db(2),r.qc("ngIf",e.isUp),r.Db(1),r.qc("ngIf",e.isDown))},directives:[i.s,i.n,Rf,No],encapsulation:2,changeDetection:0}),t})(),IW=(()=>{class t{constructor(t,e){this.renderer=t,this.elementRef=e,this.nzRight=!1,this.nzLeft=!1,this.colspan=null,this.colSpan=null,this.changes$=new xe.a,this.isAutoLeft=!1,this.isAutoRight=!1,this.isFixedLeft=!1,this.isFixedRight=!1,this.isFixed=!1}setAutoLeftWidth(t){this.renderer.setStyle(this.elementRef.nativeElement,"left",t)}setAutoRightWidth(t){this.renderer.setStyle(this.elementRef.nativeElement,"right",t)}setIsFirstRight(t){this.setFixClass(t,"ant-table-cell-fix-right-first")}setIsLastLeft(t){this.setFixClass(t,"ant-table-cell-fix-left-last")}setFixClass(t,e){this.renderer.removeClass(this.elementRef.nativeElement,e),t&&this.renderer.addClass(this.elementRef.nativeElement,e)}ngOnChanges(){this.setIsFirstRight(!1),this.setIsLastLeft(!1),this.isAutoLeft=""===this.nzLeft||!0===this.nzLeft,this.isAutoRight=""===this.nzRight||!0===this.nzRight,this.isFixedLeft=!1!==this.nzLeft,this.isFixedRight=!1!==this.nzRight,this.isFixed=this.isFixedLeft||this.isFixedRight;const t=t=>"string"==typeof t&&""!==t?t:null;this.setAutoLeftWidth(t(this.nzLeft)),this.setAutoRightWidth(t(this.nzRight)),this.changes$.next()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.F),r.Rb(r.l))},t.\u0275dir=r.Mb({type:t,selectors:[["td","nzRight",""],["th","nzRight",""],["td","nzLeft",""],["th","nzLeft",""]],hostVars:6,hostBindings:function(t,e){2&t&&(r.Hc("position",e.isFixed?"sticky":null),r.Jb("ant-table-cell-fix-right",e.isFixedRight)("ant-table-cell-fix-left",e.isFixedLeft))},inputs:{nzRight:"nzRight",nzLeft:"nzLeft",colspan:"colspan",colSpan:"colSpan"},features:[r.Bb]}),t})(),DW=(()=>{class t{constructor(){this.theadTemplate$=new tr(1),this.hasFixLeft$=new tr(1),this.hasFixRight$=new tr(1),this.hostWidth$=new tr(1),this.columnCount$=new tr(1),this.showEmpty$=new tr(1),this.noResult$=new tr(1),this.listOfThWidthConfigPx$=new fu.a([]),this.tableWidthConfigPx$=new fu.a([]),this.manualWidthConfigPx$=Object(On.a)([this.tableWidthConfigPx$,this.listOfThWidthConfigPx$]).pipe(Object(N.a)(([t,e])=>t.length?t:e)),this.listOfAutoWidthPx$=new tr(1),this.listOfListOfThWidthPx$=Object(bl.a)(this.manualWidthConfigPx$,Object(On.a)([this.listOfAutoWidthPx$,this.manualWidthConfigPx$]).pipe(Object(N.a)(([t,e])=>t.length===e.length?t.map((t,n)=>"0px"===t?e[n]||null:e[n]||t):e))),this.listOfMeasureColumn$=new tr(1),this.listOfListOfThWidth$=this.listOfAutoWidthPx$.pipe(Object(N.a)(t=>t.map(t=>parseInt(t,10)))),this.enableAutoMeasure$=new tr(1)}setTheadTemplate(t){this.theadTemplate$.next(t)}setHasFixLeft(t){this.hasFixLeft$.next(t)}setHasFixRight(t){this.hasFixRight$.next(t)}setTableWidthConfig(t){this.tableWidthConfigPx$.next(t)}setListOfTh(t){let e=0;t.forEach(t=>{e+=t.colspan&&+t.colspan||t.colSpan&&+t.colSpan||1});const n=t.map(t=>t.nzWidth);this.columnCount$.next(e),this.listOfThWidthConfigPx$.next(n)}setListOfMeasureColumn(t){const e=[];t.forEach(t=>{const n=t.colspan&&+t.colspan||t.colSpan&&+t.colSpan||1;for(let i=0;i<n;i++)e.push(`measure_key_${i}`)}),this.listOfMeasureColumn$.next(e)}setListOfAutoWidth(t){this.listOfAutoWidthPx$.next(t.map(t=>`${t}px`))}setShowEmpty(t){this.showEmpty$.next(t)}setNoResult(t){this.noResult$.next(t)}setScroll(t,e){const n=!(!t&&!e);n||this.setListOfAutoWidth([]),this.enableAutoMeasure$.next(n)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),MW=(()=>{class t{constructor(t){this.isInsideTable=!1,this.isInsideTable=!!t}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DW,8))},t.\u0275dir=r.Mb({type:t,selectors:[["th",9,"nz-disable-th",3,"mat-cell",""],["td",9,"nz-disable-td",3,"mat-cell",""]],hostVars:2,hostBindings:function(t,e){2&t&&r.Jb("ant-table-cell",e.isInsideTable)}}),t})(),RW=(()=>{class t{constructor(){this.nzChecked=!1,this.nzDisabled=!1,this.nzIndeterminate=!1,this.nzIndentSize=0,this.nzShowExpand=!1,this.nzShowCheckbox=!1,this.nzExpand=!1,this.nzCheckedChange=new r.n,this.nzExpandChange=new r.n,this.isNzShowExpandChanged=!1,this.isNzShowCheckboxChanged=!1}onCheckedChange(t){this.nzChecked=t,this.nzCheckedChange.emit(t)}onExpandChange(t){this.nzExpand=t,this.nzExpandChange.emit(t)}ngOnChanges(t){const e=t=>t&&t.firstChange&&void 0!==t.currentValue,{nzExpand:n,nzChecked:i,nzShowExpand:r,nzShowCheckbox:o}=t;r&&(this.isNzShowExpandChanged=!0),o&&(this.isNzShowCheckboxChanged=!0),e(n)&&!this.isNzShowExpandChanged&&(this.nzShowExpand=!0),e(i)&&!this.isNzShowCheckboxChanged&&(this.nzShowCheckbox=!0)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["td","nzChecked",""],["td","nzDisabled",""],["td","nzIndeterminate",""],["td","nzIndentSize",""],["td","nzExpand",""],["td","nzShowExpand",""],["td","nzShowCheckbox",""]],hostVars:4,hostBindings:function(t,e){2&t&&r.Jb("ant-table-cell-with-append",e.nzShowExpand||e.nzIndentSize>0)("ant-table-selection-column",e.nzShowCheckbox)},inputs:{nzChecked:"nzChecked",nzDisabled:"nzDisabled",nzIndeterminate:"nzIndeterminate",nzIndentSize:"nzIndentSize",nzShowExpand:"nzShowExpand",nzShowCheckbox:"nzShowCheckbox",nzExpand:"nzExpand"},outputs:{nzCheckedChange:"nzCheckedChange",nzExpandChange:"nzExpandChange"},features:[r.Bb],attrs:SV,ngContentSelectors:dV,decls:3,vars:2,consts:[[4,"ngIf"],["nz-checkbox","",3,"nzDisabled","ngModel","nzIndeterminate","ngModelChange",4,"ngIf"],[3,"indentSize"],["nz-row-expand-button","",3,"expand","spaceMode","expandChange"],["nz-checkbox","",3,"nzDisabled","ngModel","nzIndeterminate","ngModelChange"]],template:function(t,e){1&t&&(r.pc(),r.Kc(0,xV,3,3,"ng-container",0),r.Kc(1,OV,1,3,"label",1),r.oc(2)),2&t&&(r.qc("ngIf",e.nzShowExpand||e.nzIndentSize>0),r.Db(1),r.qc("ngIf",e.nzShowCheckbox))},directives:[i.n,kW,OW,Tf,bt,ie],encapsulation:2,changeDetection:0}),sr([Di(),ar("design:type",Object)],t.prototype,"nzShowExpand",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzShowCheckbox",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzExpand",void 0),t})(),AW=(()=>{class t{constructor(t){this.cdr=t,this.manualClickOrder$=new xe.a,this.calcOperatorChange$=new xe.a,this.nzFilterValue=null,this.sortOrder=null,this.sortDirections=["ascend","descend",null],this.sortOrderChange$=new xe.a,this.destroy$=new xe.a,this.isNzShowSortChanged=!1,this.isNzShowFilterChanged=!1,this.nzFilterMultiple=!0,this.nzSortOrder=null,this.nzSortPriority=!1,this.nzSortDirections=["ascend","descend",null],this.nzFilters=[],this.nzSortFn=null,this.nzFilterFn=null,this.nzShowSort=!1,this.nzShowFilter=!1,this.nzCustomFilter=!1,this.nzCheckedChange=new r.n,this.nzSortOrderChange=new r.n,this.nzFilterChange=new r.n}getNextSortDirection(t,e){const n=t.indexOf(e);return n===t.length-1?t[0]:t[n+1]}emitNextSortValue(){if(this.nzShowSort){const t=this.getNextSortDirection(this.sortDirections,this.sortOrder);this.setSortOrder(t),this.manualClickOrder$.next(this)}}setSortOrder(t){this.sortOrderChange$.next(t)}clearSortOrder(){null!==this.sortOrder&&this.setSortOrder(null)}onFilterValueChange(t){this.nzFilterChange.emit(t),this.nzFilterValue=t,this.updateCalcOperator()}updateCalcOperator(){this.calcOperatorChange$.next()}ngOnInit(){this.sortOrderChange$.pipe(An(this.destroy$)).subscribe(t=>{this.sortOrder!==t&&(this.sortOrder=t,this.nzSortOrderChange.emit(t)),this.updateCalcOperator(),this.cdr.markForCheck()})}ngOnChanges(t){const{nzSortDirections:e,nzFilters:n,nzSortOrder:i,nzSortFn:r,nzFilterFn:o,nzSortPriority:s,nzFilterMultiple:a,nzShowSort:c,nzShowFilter:l}=t;e&&this.nzSortDirections&&this.nzSortDirections.length&&(this.sortDirections=this.nzSortDirections),i&&(this.sortOrder=this.nzSortOrder,this.setSortOrder(this.nzSortOrder)),c&&(this.isNzShowSortChanged=!0),l&&(this.isNzShowFilterChanged=!0);const u=t=>t&&t.firstChange&&void 0!==t.currentValue;if(!u(i)&&!u(r)||this.isNzShowSortChanged||(this.nzShowSort=!0),u(n)&&!this.isNzShowFilterChanged&&(this.nzShowFilter=!0),(n||a)&&this.nzShowFilter){const t=this.nzFilters.filter(t=>t.byDefault).map(t=>t.value);this.nzFilterValue=this.nzFilterMultiple?t:t[0]||null}(r||o||s||n)&&this.updateCalcOperator()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h))},t.\u0275cmp=r.Lb({type:t,selectors:[["th","nzColumnKey",""],["th","nzSortFn",""],["th","nzSortOrder",""],["th","nzFilters",""],["th","nzShowSort",""],["th","nzShowFilter",""],["th","nzCustomFilter",""]],hostVars:4,hostBindings:function(t,e){1&t&&r.fc("click",function(){return e.emitNextSortValue()}),2&t&&r.Jb("ant-table-column-has-sorters",e.nzShowSort)("ant-table-column-sort","descend"===e.sortOrder||"ascend"===e.sortOrder)},inputs:{nzFilterMultiple:"nzFilterMultiple",nzSortOrder:"nzSortOrder",nzSortPriority:"nzSortPriority",nzSortDirections:"nzSortDirections",nzFilters:"nzFilters",nzSortFn:"nzSortFn",nzFilterFn:"nzFilterFn",nzShowSort:"nzShowSort",nzShowFilter:"nzShowFilter",nzCustomFilter:"nzCustomFilter",nzColumnKey:"nzColumnKey"},outputs:{nzCheckedChange:"nzCheckedChange",nzSortOrderChange:"nzSortOrderChange",nzFilterChange:"nzFilterChange"},features:[r.Bb],attrs:kV,ngContentSelectors:PV,decls:9,vars:2,consts:[[3,"contentTemplate","extraTemplate","customFilter","filterMultiple","listOfFilter","filterChange",4,"ngIf","ngIfElse"],["notFilterTemplate",""],["extraTemplate",""],["sortTemplate",""],["contentTemplate",""],[3,"contentTemplate","extraTemplate","customFilter","filterMultiple","listOfFilter","filterChange"],[3,"ngTemplateOutlet"],[3,"sortOrder","sortDirections","contentTemplate"]],template:function(t,e){if(1&t&&(r.pc(AV),r.Kc(0,TV,1,5,"nz-table-filter",0),r.Kc(1,IV,1,1,"ng-template",null,1,r.Lc),r.Kc(3,DV,2,0,"ng-template",null,2,r.Lc),r.Kc(5,MV,1,3,"ng-template",null,3,r.Lc),r.Kc(7,RV,1,0,"ng-template",null,4,r.Lc)),2&t){const t=r.Ac(2);r.qc("ngIf",e.nzShowFilter||e.nzCustomFilter)("ngIfElse",t)}},directives:[i.n,xW,i.s,EW],encapsulation:2,changeDetection:0}),sr([Di(),ar("design:type",Object)],t.prototype,"nzShowSort",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzShowFilter",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzCustomFilter",void 0),t})(),PW=(()=>{class t{constructor(t,e){this.renderer=t,this.elementRef=e,this.changes$=new xe.a,this.nzWidth=null,this.colspan=null,this.colSpan=null,this.rowspan=null,this.rowSpan=null}ngOnChanges(t){const{nzWidth:e,colspan:n,rowspan:i,colSpan:r,rowSpan:o}=t;if(n||r){const t=this.colspan||this.colSpan;Ci(t)?this.renderer.removeAttribute(this.elementRef.nativeElement,"colspan"):this.renderer.setAttribute(this.elementRef.nativeElement,"colspan",`${t}`)}if(i||o){const t=this.rowspan||this.rowSpan;Ci(t)?this.renderer.removeAttribute(this.elementRef.nativeElement,"rowspan"):this.renderer.setAttribute(this.elementRef.nativeElement,"rowspan",`${t}`)}(e||n)&&this.changes$.next()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.F),r.Rb(r.l))},t.\u0275dir=r.Mb({type:t,selectors:[["th"]],inputs:{nzWidth:"nzWidth",colspan:"colspan",colSpan:"colSpan",rowspan:"rowspan",rowSpan:"rowSpan"},features:[r.Bb]}),t})(),LW=(()=>{class t{constructor(t){this.elementRef=t,this.nzSelections=[],this.nzChecked=!1,this.nzDisabled=!1,this.nzIndeterminate=!1,this.nzShowCheckbox=!1,this.nzShowRowSelection=!1,this.nzCheckedChange=new r.n,this.isNzShowExpandChanged=!1,this.isNzShowCheckboxChanged=!1,this.elementRef.nativeElement.classList.add("ant-table-selection-column")}onCheckedChange(t){this.nzChecked=t,this.nzCheckedChange.emit(t)}ngOnChanges(t){const e=t=>t&&t.firstChange&&void 0!==t.currentValue,{nzChecked:n,nzSelections:i,nzShowExpand:r,nzShowCheckbox:o}=t;r&&(this.isNzShowExpandChanged=!0),o&&(this.isNzShowCheckboxChanged=!0),e(i)&&!this.isNzShowExpandChanged&&(this.nzShowRowSelection=!0),e(n)&&!this.isNzShowCheckboxChanged&&(this.nzShowCheckbox=!0)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l))},t.\u0275cmp=r.Lb({type:t,selectors:[["th","nzSelections",""],["th","nzChecked",""],["th","nzShowCheckbox",""],["th","nzShowRowSelection",""]],inputs:{nzSelections:"nzSelections",nzChecked:"nzChecked",nzDisabled:"nzDisabled",nzIndeterminate:"nzIndeterminate",nzShowCheckbox:"nzShowCheckbox",nzShowRowSelection:"nzShowRowSelection"},outputs:{nzCheckedChange:"nzCheckedChange"},features:[r.Bb],attrs:LV,ngContentSelectors:dV,decls:2,vars:6,consts:[[3,"checked","disabled","indeterminate","listOfSelections","showCheckbox","showRowSelection","checkedChange"]],template:function(t,e){1&t&&(r.pc(),r.Xb(0,"nz-table-selection",0),r.fc("checkedChange",function(t){return e.onCheckedChange(t)}),r.Wb(),r.oc(1)),2&t&&r.qc("checked",e.nzChecked)("disabled",e.nzDisabled)("indeterminate",e.nzIndeterminate)("listOfSelections",e.nzSelections)("showCheckbox",e.nzShowCheckbox)("showRowSelection",e.nzShowRowSelection)},directives:[TW],encapsulation:2,changeDetection:0}),sr([Di(),ar("design:type",Object)],t.prototype,"nzShowCheckbox",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzShowRowSelection",void 0),t})(),FW=(()=>{class t{constructor(){this.nzAlign=null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["th","nzAlign",""],["td","nzAlign",""]],hostVars:2,hostBindings:function(t,e){2&t&&r.Hc("text-align",e.nzAlign)},inputs:{nzAlign:"nzAlign"}}),t})(),jW=(()=>{class t{constructor(){this.tableLayout="auto",this.theadTemplate=null,this.contentTemplate=null,this.listOfColWidth=[],this.scrollX=null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["table","nz-table-content",""]],hostVars:8,hostBindings:function(t,e){2&t&&(r.Hc("table-layout",e.tableLayout)("width",e.scrollX)("min-width",e.scrollX?"100%":null),r.Jb("ant-table-fixed",e.scrollX))},inputs:{tableLayout:"tableLayout",theadTemplate:"theadTemplate",contentTemplate:"contentTemplate",listOfColWidth:"listOfColWidth",scrollX:"scrollX"},attrs:FV,ngContentSelectors:dV,decls:4,vars:3,consts:[[3,"width","minWidth",4,"ngFor","ngForOf"],["class","ant-table-thead",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"ant-table-thead"]],template:function(t,e){1&t&&(r.pc(),r.Kc(0,jV,1,4,"col",0),r.Kc(1,VV,2,1,"thead",1),r.Kc(2,WV,0,0,"ng-template",2),r.oc(3)),2&t&&(r.qc("ngForOf",e.listOfColWidth),r.Db(1),r.qc("ngIf",e.theadTemplate),r.Db(1),r.qc("ngTemplateOutlet",e.contentTemplate))},directives:[i.m,i.n,i.s],encapsulation:2,changeDetection:0}),t})(),NW=(()=>{class t{constructor(t,e){this.nzTableStyleService=t,this.renderer=e,this.hostWidth$=new fu.a(null),this.enableAutoMeasure$=new fu.a(!1),this.destroy$=new xe.a}ngOnInit(){if(this.nzTableStyleService){const{enableAutoMeasure$:t,hostWidth$:e}=this.nzTableStyleService;t.subscribe(this.enableAutoMeasure$),e.subscribe(this.hostWidth$)}}ngAfterViewInit(){this.nzTableStyleService.columnCount$.pipe(An(this.destroy$)).subscribe(t=>{this.renderer.setAttribute(this.tdElement.nativeElement,"colspan",`${t}`)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DW),r.Rb(r.F))},t.\u0275cmp=r.Lb({type:t,selectors:[["tr","nz-table-fixed-row",""],["tr","nzExpand",""]],viewQuery:function(t,e){if(1&t&&r.Qc(qV,1),2&t){let t;r.zc(t=r.gc())&&(e.tdElement=t.first)}},attrs:BV,ngContentSelectors:dV,decls:6,vars:4,consts:[[1,"nz-disable-td","ant-table-cell"],["tdElement",""],["class","ant-table-expanded-row-fixed","style","position: sticky; left: 0px; overflow: hidden;",3,"width",4,"ngIf","ngIfElse"],["contentTemplate",""],[1,"ant-table-expanded-row-fixed",2,"position","sticky","left","0px","overflow","hidden"],[3,"ngTemplateOutlet"]],template:function(t,e){if(1&t&&(r.pc(),r.Xb(0,"td",0,1),r.Kc(2,UV,3,5,"div",2),r.kc(3,"async"),r.Wb(),r.Kc(4,$V,1,0,"ng-template",null,3,r.Lc)),2&t){const t=r.Ac(5);r.Db(2),r.qc("ngIf",r.lc(3,2,e.enableAutoMeasure$))("ngIfElse",t)}},directives:[i.n,i.s],pipes:[i.b],encapsulation:2,changeDetection:0}),t})(),VW=(()=>{class t{constructor(t){this.elementRef=t,this.tableLayout="auto",this.listOfColWidth=[],this.theadTemplate=null,this.contentTemplate=null,this.elementRef.nativeElement.classList.add("ant-table-container")}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-table-inner-default"]],inputs:{tableLayout:"tableLayout",listOfColWidth:"listOfColWidth",theadTemplate:"theadTemplate",contentTemplate:"contentTemplate"},decls:2,vars:4,consts:[[1,"ant-table-content"],["nz-table-content","",3,"contentTemplate","tableLayout","listOfColWidth","theadTemplate"]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.Sb(1,"table",1),r.Wb()),2&t&&(r.Db(1),r.qc("contentTemplate",e.contentTemplate)("tableLayout",e.tableLayout)("listOfColWidth",e.listOfColWidth)("theadTemplate",e.theadTemplate))},directives:[jW],encapsulation:2,changeDetection:0}),t})(),WW=(()=>{class t{constructor(t,e,n,i,r){this.renderer=t,this.ngZone=e,this.platform=n,this.resizeService=i,this.elementRef=r,this.data=[],this.scrollX=null,this.scrollY=null,this.contentTemplate=null,this.widthConfig=[],this.listOfColWidth=[],this.theadTemplate=null,this.virtualTemplate=null,this.virtualItemSize=0,this.virtualMaxBufferPx=200,this.virtualMinBufferPx=100,this.virtualForTrackBy=t=>t,this.headerStyleMap={},this.bodyStyleMap={},this.verticalScrollBarWidth=0,this.noDateVirtualHeight="182px",this.data$=new xe.a,this.scroll$=new xe.a,this.destroy$=new xe.a,this.elementRef.nativeElement.classList.add("ant-table-container")}setScrollPositionClassName(t=!1){const{scrollWidth:e,scrollLeft:n,clientWidth:i}=this.tableBodyElement.nativeElement;e===i&&0!==e||t?(this.renderer.removeClass(this.tableMainElement,"ant-table-ping-left"),this.renderer.removeClass(this.tableMainElement,"ant-table-ping-right")):0===n?(this.renderer.removeClass(this.tableMainElement,"ant-table-ping-left"),this.renderer.addClass(this.tableMainElement,"ant-table-ping-right")):e===n+i?(this.renderer.removeClass(this.tableMainElement,"ant-table-ping-right"),this.renderer.addClass(this.tableMainElement,"ant-table-ping-left")):(this.renderer.addClass(this.tableMainElement,"ant-table-ping-left"),this.renderer.addClass(this.tableMainElement,"ant-table-ping-right"))}ngOnChanges(t){const{scrollX:e,scrollY:n,data:i}=t;if(e||n){const t=0!==this.verticalScrollBarWidth;this.headerStyleMap={overflowX:"hidden",overflowY:this.scrollY&&t?"scroll":"hidden"},this.bodyStyleMap={overflowY:this.scrollY?"scroll":"hidden",overflowX:this.scrollX?"auto":null,maxHeight:this.scrollY},this.scroll$.next()}i&&this.data$.next()}ngAfterViewInit(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{const t=this.scroll$.pipe(Object(Mn.a)(null),IA(0),Object(Bc.a)(()=>Mc(this.tableBodyElement.nativeElement,"scroll").pipe(Object(Mn.a)(!0))),An(this.destroy$)),e=this.resizeService.subscribe().pipe(An(this.destroy$)),n=this.data$.pipe(An(this.destroy$));Object(bl.a)(t,e,n,this.scroll$).pipe(Object(Mn.a)(!0),IA(0),An(this.destroy$)).subscribe(()=>this.setScrollPositionClassName()),t.pipe(Object(di.a)(()=>!!this.scrollY)).subscribe(()=>this.tableHeaderElement.nativeElement.scrollLeft=this.tableBodyElement.nativeElement.scrollLeft)})}ngOnDestroy(){this.setScrollPositionClassName(!0),this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.F),r.Rb(r.A),r.Rb(qn),r.Rb(Bi),r.Rb(r.l))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-table-inner-scroll"]],viewQuery:function(t,e){if(1&t&&(r.Qc(HV,1,r.l),r.Qc(KV,1,r.l),r.Qc(rl,1,rl)),2&t){let t;r.zc(t=r.gc())&&(e.tableHeaderElement=t.first),r.zc(t=r.gc())&&(e.tableBodyElement=t.first),r.zc(t=r.gc())&&(e.cdkVirtualScrollViewport=t.first)}},inputs:{data:"data",scrollX:"scrollX",scrollY:"scrollY",contentTemplate:"contentTemplate",widthConfig:"widthConfig",listOfColWidth:"listOfColWidth",theadTemplate:"theadTemplate",virtualTemplate:"virtualTemplate",virtualItemSize:"virtualItemSize",virtualMaxBufferPx:"virtualMaxBufferPx",virtualMinBufferPx:"virtualMinBufferPx",virtualForTrackBy:"virtualForTrackBy",verticalScrollBarWidth:"verticalScrollBarWidth",tableMainElement:"tableMainElement"},features:[r.Bb],decls:2,vars:2,consts:[[4,"ngIf"],["class","ant-table-content",3,"ngStyle",4,"ngIf"],[1,"ant-table-header","nz-table-hide-scrollbar",3,"ngStyle"],["tableHeaderElement",""],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth","theadTemplate"],["class","ant-table-body",3,"ngStyle",4,"ngIf"],[3,"itemSize","maxBufferPx","minBufferPx","height",4,"ngIf"],[1,"ant-table-body",3,"ngStyle"],["tableBodyElement",""],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth","contentTemplate"],[3,"itemSize","maxBufferPx","minBufferPx"],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-table-content",3,"ngStyle"],["nz-table-content","","tableLayout","fixed",3,"scrollX","listOfColWidth","theadTemplate","contentTemplate"]],template:function(t,e){1&t&&(r.Kc(0,tW,6,6,"ng-container",0),r.Kc(1,eW,3,5,"div",1)),2&t&&(r.qc("ngIf",e.scrollY),r.Db(1),r.qc("ngIf",!e.scrollY))},directives:function(){return[i.n,i.o,jW,rl,Zc,UW,sl,i.s]},encapsulation:2,changeDetection:0}),t})(),qW=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.M))},t.\u0275dir=r.Mb({type:t,selectors:[["","nz-virtual-scroll",""]],exportAs:["nzVirtualScroll"]}),t})(),BW=(()=>{class t{constructor(){this.destroy$=new xe.a,this.pageIndex$=new fu.a(1),this.frontPagination$=new fu.a(!0),this.pageSize$=new fu.a(10),this.listOfData$=new fu.a([]),this.pageIndexDistinct$=this.pageIndex$.pipe(pi()),this.pageSizeDistinct$=this.pageSize$.pipe(pi()),this.listOfCalcOperator$=new fu.a([]),this.queryParams$=Object(On.a)([this.pageIndexDistinct$,this.pageSizeDistinct$,this.listOfCalcOperator$]).pipe(_e(0),En(1),Object(N.a)(([t,e,n])=>({pageIndex:t,pageSize:e,sort:n.filter(t=>t.sortFn).map(t=>({key:t.key,value:t.sortOrder})),filter:n.filter(t=>t.filterFn).map(t=>({key:t.key,value:t.filterValue}))}))),this.listOfDataAfterCalc$=Object(On.a)([this.listOfData$,this.listOfCalcOperator$]).pipe(Object(N.a)(([t,e])=>{let n=[...t];const i=e.filter(t=>{const{filterValue:e,filterFn:n}=t;return!(null==e||Array.isArray(e)&&0===e.length)&&"function"==typeof n});for(const o of i){const{filterFn:t,filterValue:e}=o;n=n.filter(n=>t(e,n))}const r=e.filter(t=>null!==t.sortOrder&&"function"==typeof t.sortFn).sort((t,e)=>+e.sortPriority-+t.sortPriority);return e.length&&n.sort((t,e)=>{for(const n of r){const{sortFn:i,sortOrder:r}=n;if(i&&r){const n=i(t,e,r);if(0!==n)return"ascend"===r?n:-n}}return 0}),n})),this.listOfFrontEndCurrentPageData$=Object(On.a)([this.pageIndexDistinct$,this.pageSizeDistinct$,this.listOfDataAfterCalc$]).pipe(An(this.destroy$),Object(di.a)(t=>{const[e,n,i]=t;return e<=(Math.ceil(i.length/n)||1)}),Object(N.a)(([t,e,n])=>n.slice((t-1)*e,t*e))),this.listOfCurrentPageData$=this.frontPagination$.pipe(Object(Bc.a)(t=>t?this.listOfFrontEndCurrentPageData$:this.listOfData$)),this.total$=this.frontPagination$.pipe(Object(Bc.a)(t=>t?this.listOfDataAfterCalc$:this.listOfData$),Object(N.a)(t=>t.length),pi())}updatePageSize(t){this.pageSize$.next(t)}updateFrontPagination(t){this.frontPagination$.next(t)}updatePageIndex(t){this.pageIndex$.next(t)}updateListOfData(t){this.listOfData$.next(t)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),XW=(()=>{class t{constructor(t,e,n,i,o,s,a){this.elementRef=t,this.nzResizeObserver=e,this.nzConfigService=n,this.cdr=i,this.nzTableStyleService=o,this.nzTableDataService=s,this.directionality=a,this._nzModuleName="table",this.nzTableLayout="auto",this.nzShowTotal=null,this.nzItemRender=null,this.nzTitle=null,this.nzFooter=null,this.nzNoResult=void 0,this.nzPageSizeOptions=[10,20,30,40,50],this.nzVirtualItemSize=0,this.nzVirtualMaxBufferPx=200,this.nzVirtualMinBufferPx=100,this.nzVirtualForTrackBy=t=>t,this.nzLoadingDelay=0,this.nzPageIndex=1,this.nzPageSize=10,this.nzTotal=0,this.nzWidthConfig=[],this.nzData=[],this.nzPaginationPosition="bottom",this.nzScroll={x:null,y:null},this.nzPaginationType="default",this.nzFrontPagination=!0,this.nzTemplateMode=!1,this.nzShowPagination=!0,this.nzLoading=!1,this.nzOuterBordered=!1,this.nzLoadingIndicator=null,this.nzBordered=!1,this.nzSize="default",this.nzShowSizeChanger=!1,this.nzHideOnSinglePage=!1,this.nzShowQuickJumper=!1,this.nzSimple=!1,this.nzPageSizeChange=new r.n,this.nzPageIndexChange=new r.n,this.nzQueryParams=new r.n,this.nzCurrentPageDataChange=new r.n,this.data=[],this.scrollX=null,this.scrollY=null,this.theadTemplate=null,this.listOfAutoColWidth=[],this.listOfManualColWidth=[],this.hasFixLeft=!1,this.hasFixRight=!1,this.showPagination=!0,this.destroy$=new xe.a,this.loading$=new fu.a(!1),this.templateMode$=new fu.a(!1),this.dir="ltr",this.verticalScrollBarWidth=0,this.elementRef.nativeElement.classList.add("ant-table-wrapper"),this.nzConfigService.getConfigChangeEventForComponent("table").pipe(An(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}onPageSizeChange(t){this.nzTableDataService.updatePageSize(t)}onPageIndexChange(t){this.nzTableDataService.updatePageIndex(t)}ngOnInit(){var t;const{pageIndexDistinct$:e,pageSizeDistinct$:n,listOfCurrentPageData$:i,total$:r,queryParams$:o}=this.nzTableDataService,{theadTemplate$:s,hasFixLeft$:a,hasFixRight$:c}=this.nzTableStyleService;this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),o.pipe(An(this.destroy$)).subscribe(this.nzQueryParams),e.pipe(An(this.destroy$)).subscribe(t=>{t!==this.nzPageIndex&&(this.nzPageIndex=t,this.nzPageIndexChange.next(t))}),n.pipe(An(this.destroy$)).subscribe(t=>{t!==this.nzPageSize&&(this.nzPageSize=t,this.nzPageSizeChange.next(t))}),r.pipe(An(this.destroy$),Object(di.a)(()=>this.nzFrontPagination)).subscribe(t=>{t!==this.nzTotal&&(this.nzTotal=t,this.cdr.markForCheck())}),i.pipe(An(this.destroy$)).subscribe(t=>{this.data=t,this.nzCurrentPageDataChange.next(t),this.cdr.markForCheck()}),s.pipe(An(this.destroy$)).subscribe(t=>{this.theadTemplate=t,this.cdr.markForCheck()}),a.pipe(An(this.destroy$)).subscribe(t=>{this.hasFixLeft=t,this.cdr.markForCheck()}),c.pipe(An(this.destroy$)).subscribe(t=>{this.hasFixRight=t,this.cdr.markForCheck()}),Object(On.a)([r,this.loading$,this.templateMode$]).pipe(Object(N.a)(([t,e,n])=>0===t&&!e&&!n),An(this.destroy$)).subscribe(t=>{this.nzTableStyleService.setShowEmpty(t)}),this.verticalScrollBarWidth=function(t="vertical",e="ant"){if("undefined"==typeof document||"undefined"==typeof window)return 0;const n="vertical"===t;if(n&&Fi)return Fi;if(!n&&ji)return ji;const i=document.createElement("div");Object.keys(Ni).forEach(t=>{i.style[t]=Ni[t]}),i.className=`${e}-hide-scrollbar scroll-div-append-to-body`,n?i.style.overflowY="scroll":i.style.overflowX="scroll",document.body.appendChild(i);let r=0;return n?(r=i.offsetWidth-i.clientWidth,Fi=r):(r=i.offsetHeight-i.clientHeight,ji=r),document.body.removeChild(i),r}("vertical"),this.nzTableStyleService.listOfListOfThWidthPx$.pipe(An(this.destroy$)).subscribe(t=>{this.listOfAutoColWidth=t,this.cdr.markForCheck()}),this.nzTableStyleService.manualWidthConfigPx$.pipe(An(this.destroy$)).subscribe(t=>{this.listOfManualColWidth=t,this.cdr.markForCheck()})}ngOnChanges(t){const{nzScroll:e,nzPageIndex:n,nzPageSize:i,nzFrontPagination:r,nzData:o,nzWidthConfig:s,nzNoResult:a,nzLoading:c,nzTemplateMode:l}=t;n&&this.nzTableDataService.updatePageIndex(this.nzPageIndex),i&&this.nzTableDataService.updatePageSize(this.nzPageSize),o&&(this.nzData=this.nzData||[],this.nzTableDataService.updateListOfData(this.nzData)),r&&this.nzTableDataService.updateFrontPagination(this.nzFrontPagination),e&&this.setScrollOnChanges(),s&&this.nzTableStyleService.setTableWidthConfig(this.nzWidthConfig),c&&this.loading$.next(this.nzLoading),l&&this.templateMode$.next(this.nzTemplateMode),a&&this.nzTableStyleService.setNoResult(this.nzNoResult),this.updateShowPagination()}ngAfterViewInit(){this.nzResizeObserver.observe(this.elementRef).pipe(Object(N.a)(([t])=>{const{width:e}=t.target.getBoundingClientRect();return Math.floor(e-(this.scrollY?this.verticalScrollBarWidth:0))}),An(this.destroy$)).subscribe(this.nzTableStyleService.hostWidth$),this.nzTableInnerScrollComponent&&this.nzTableInnerScrollComponent.cdkVirtualScrollViewport&&(this.cdkVirtualScrollViewport=this.nzTableInnerScrollComponent.cdkVirtualScrollViewport)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setScrollOnChanges(){this.scrollX=this.nzScroll&&this.nzScroll.x||null,this.scrollY=this.nzScroll&&this.nzScroll.y||null,this.nzTableStyleService.setScroll(this.scrollX,this.scrollY)}updateShowPagination(){this.showPagination=this.nzHideOnSinglePage&&this.nzData.length>this.nzPageSize||this.nzData.length>0&&!this.nzHideOnSinglePage||!this.nzFrontPagination&&this.nzTotal>this.nzPageSize}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(yj),r.Rb(Do),r.Rb(r.h),r.Rb(DW),r.Rb(BW),r.Rb(bn,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-table"]],contentQueries:function(t,e,n){if(1&t&&r.Kb(n,qW,1),2&t){let t;r.zc(t=r.gc())&&(e.nzVirtualScrollDirective=t.first)}},viewQuery:function(t,e){if(1&t&&r.Qc(WW,1),2&t){let t;r.zc(t=r.gc())&&(e.nzTableInnerScrollComponent=t.first)}},hostVars:2,hostBindings:function(t,e){2&t&&r.Jb("ant-table-wrapper-rtl","rtl"===e.dir)},inputs:{nzTableLayout:"nzTableLayout",nzShowTotal:"nzShowTotal",nzItemRender:"nzItemRender",nzTitle:"nzTitle",nzFooter:"nzFooter",nzNoResult:"nzNoResult",nzPageSizeOptions:"nzPageSizeOptions",nzVirtualItemSize:"nzVirtualItemSize",nzVirtualMaxBufferPx:"nzVirtualMaxBufferPx",nzVirtualMinBufferPx:"nzVirtualMinBufferPx",nzVirtualForTrackBy:"nzVirtualForTrackBy",nzLoadingDelay:"nzLoadingDelay",nzPageIndex:"nzPageIndex",nzPageSize:"nzPageSize",nzTotal:"nzTotal",nzWidthConfig:"nzWidthConfig",nzData:"nzData",nzPaginationPosition:"nzPaginationPosition",nzScroll:"nzScroll",nzPaginationType:"nzPaginationType",nzFrontPagination:"nzFrontPagination",nzTemplateMode:"nzTemplateMode",nzShowPagination:"nzShowPagination",nzLoading:"nzLoading",nzOuterBordered:"nzOuterBordered",nzLoadingIndicator:"nzLoadingIndicator",nzBordered:"nzBordered",nzSize:"nzSize",nzShowSizeChanger:"nzShowSizeChanger",nzHideOnSinglePage:"nzHideOnSinglePage",nzShowQuickJumper:"nzShowQuickJumper",nzSimple:"nzSimple"},outputs:{nzPageSizeChange:"nzPageSizeChange",nzPageIndexChange:"nzPageIndexChange",nzQueryParams:"nzQueryParams",nzCurrentPageDataChange:"nzCurrentPageDataChange"},exportAs:["nzTable"],features:[r.Cb([DW,BW]),r.Bb],ngContentSelectors:dV,decls:14,vars:27,consts:[[3,"nzDelay","nzSpinning","nzIndicator"],[4,"ngIf"],[1,"ant-table"],["tableMainElement",""],[3,"title",4,"ngIf"],[3,"data","scrollX","scrollY","contentTemplate","listOfColWidth","theadTemplate","verticalScrollBarWidth","virtualTemplate","virtualItemSize","virtualMaxBufferPx","virtualMinBufferPx","tableMainElement","virtualForTrackBy",4,"ngIf","ngIfElse"],["defaultTemplate",""],[3,"footer",4,"ngIf"],["paginationTemplate",""],["contentTemplate",""],[3,"ngTemplateOutlet"],[3,"title"],[3,"data","scrollX","scrollY","contentTemplate","listOfColWidth","theadTemplate","verticalScrollBarWidth","virtualTemplate","virtualItemSize","virtualMaxBufferPx","virtualMinBufferPx","tableMainElement","virtualForTrackBy"],[3,"tableLayout","listOfColWidth","theadTemplate","contentTemplate"],[3,"footer"],["class","ant-table-pagination ant-table-pagination-right",3,"hidden","nzShowSizeChanger","nzPageSizeOptions","nzItemRender","nzShowQuickJumper","nzHideOnSinglePage","nzShowTotal","nzSize","nzPageSize","nzTotal","nzSimple","nzPageIndex","nzPageSizeChange","nzPageIndexChange",4,"ngIf"],[1,"ant-table-pagination","ant-table-pagination-right",3,"hidden","nzShowSizeChanger","nzPageSizeOptions","nzItemRender","nzShowQuickJumper","nzHideOnSinglePage","nzShowTotal","nzSize","nzPageSize","nzTotal","nzSimple","nzPageIndex","nzPageSizeChange","nzPageIndexChange"]],template:function(t,e){if(1&t&&(r.pc(),r.Xb(0,"nz-spin",0),r.Kc(1,iW,2,1,"ng-container",1),r.Xb(2,"div",2,3),r.Kc(4,rW,1,1,"nz-table-title-footer",4),r.Kc(5,oW,1,13,"nz-table-inner-scroll",5),r.Kc(6,sW,1,4,"ng-template",null,6,r.Lc),r.Kc(8,aW,1,1,"nz-table-title-footer",7),r.Wb(),r.Kc(9,lW,2,1,"ng-container",1),r.Wb(),r.Kc(10,hW,1,1,"ng-template",null,8,r.Lc),r.Kc(12,dW,1,0,"ng-template",null,9,r.Lc)),2&t){const t=r.Ac(7);r.qc("nzDelay",e.nzLoadingDelay)("nzSpinning",e.nzLoading)("nzIndicator",e.nzLoadingIndicator),r.Db(1),r.qc("ngIf","both"===e.nzPaginationPosition||"top"===e.nzPaginationPosition),r.Db(1),r.Jb("ant-table-rtl","rtl"===e.dir)("ant-table-fixed-header",e.nzData.length&&e.scrollY)("ant-table-fixed-column",e.scrollX)("ant-table-has-fix-left",e.hasFixLeft)("ant-table-has-fix-right",e.hasFixRight)("ant-table-bordered",e.nzBordered)("nz-table-out-bordered",e.nzOuterBordered&&!e.nzBordered)("ant-table-middle","middle"===e.nzSize)("ant-table-small","small"===e.nzSize),r.Db(2),r.qc("ngIf",e.nzTitle),r.Db(1),r.qc("ngIf",e.scrollY||e.scrollX)("ngIfElse",t),r.Db(3),r.qc("ngIf",e.nzFooter),r.Db(1),r.qc("ngIf","both"===e.nzPaginationPosition||"bottom"===e.nzPaginationPosition)}},directives:function(){return[DL,i.n,i.s,KW,WW,VW,sV]},encapsulation:2,changeDetection:0}),sr([Di(),ar("design:type",Object)],t.prototype,"nzFrontPagination",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzTemplateMode",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzShowPagination",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzLoading",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzOuterBordered",void 0),sr([Mo(),ar("design:type",Object)],t.prototype,"nzLoadingIndicator",void 0),sr([Mo(),Di(),ar("design:type",Boolean)],t.prototype,"nzBordered",void 0),sr([Mo(),ar("design:type",String)],t.prototype,"nzSize",void 0),sr([Mo(),Di(),ar("design:type",Boolean)],t.prototype,"nzShowSizeChanger",void 0),sr([Mo(),Di(),ar("design:type",Boolean)],t.prototype,"nzHideOnSinglePage",void 0),sr([Mo(),Di(),ar("design:type",Boolean)],t.prototype,"nzShowQuickJumper",void 0),sr([Mo(),Di(),ar("design:type",Boolean)],t.prototype,"nzSimple",void 0),t})(),UW=(()=>{class t{constructor(t){if(this.nzTableStyleService=t,this.isInsideTable=!1,this.showEmpty$=new fu.a(!1),this.noResult$=new fu.a(void 0),this.listOfMeasureColumn$=new fu.a([]),this.isInsideTable=!!this.nzTableStyleService,this.nzTableStyleService){const{showEmpty$:t,noResult$:e,listOfMeasureColumn$:n}=this.nzTableStyleService;e.subscribe(this.noResult$),n.subscribe(this.listOfMeasureColumn$),t.subscribe(this.showEmpty$)}}onListOfAutoWidthChange(t){this.nzTableStyleService.setListOfAutoWidth(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DW,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["tbody"]],hostVars:2,hostBindings:function(t,e){2&t&&r.Jb("ant-table-tbody",e.isInsideTable)},ngContentSelectors:dV,decls:5,vars:6,consts:[[4,"ngIf"],["class","ant-table-placeholder","nz-table-fixed-row","",4,"ngIf"],["nz-table-measure-row","",3,"listOfMeasureColumn","listOfAutoWidth",4,"ngIf"],["nz-table-measure-row","",3,"listOfMeasureColumn","listOfAutoWidth"],["nz-table-fixed-row","",1,"ant-table-placeholder"],["nzComponentName","table",3,"specificContent"]],template:function(t,e){1&t&&(r.pc(),r.Kc(0,fW,2,1,"ng-container",0),r.kc(1,"async"),r.oc(2),r.Kc(3,gW,3,3,"tr",1),r.kc(4,"async")),2&t&&(r.qc("ngIf",r.lc(1,2,e.listOfMeasureColumn$)),r.Db(3),r.qc("ngIf",r.lc(4,4,e.showEmpty$)))},directives:function(){return[i.n,YW,NW,Jf]},pipes:function(){return[i.b]},encapsulation:2,changeDetection:0}),t})(),$W=(()=>{class t{constructor(t){this.nzTableStyleService=t,this.destroy$=new xe.a,this.listOfFixedColumns$=new tr(1),this.listOfColumns$=new tr(1),this.listOfFixedColumnsChanges$=this.listOfFixedColumns$.pipe(Object(Bc.a)(t=>Object(bl.a)(this.listOfFixedColumns$,...t.map(t=>t.changes$)).pipe(Object(up.a)(()=>this.listOfFixedColumns$))),An(this.destroy$)),this.listOfFixedLeftColumnChanges$=this.listOfFixedColumnsChanges$.pipe(Object(N.a)(t=>t.filter(t=>!1!==t.nzLeft))),this.listOfFixedRightColumnChanges$=this.listOfFixedColumnsChanges$.pipe(Object(N.a)(t=>t.filter(t=>!1!==t.nzRight))),this.listOfColumnsChanges$=this.listOfColumns$.pipe(Object(Bc.a)(t=>Object(bl.a)(this.listOfColumns$,...t.map(t=>t.changes$)).pipe(Object(up.a)(()=>this.listOfColumns$))),An(this.destroy$)),this.isInsideTable=!1,this.isInsideTable=!!t}ngAfterContentInit(){this.nzTableStyleService&&(this.listOfCellFixedDirective.changes.pipe(Object(Mn.a)(this.listOfCellFixedDirective),An(this.destroy$)).subscribe(this.listOfFixedColumns$),this.listOfNzThDirective.changes.pipe(Object(Mn.a)(this.listOfNzThDirective),An(this.destroy$)).subscribe(this.listOfColumns$),this.listOfFixedLeftColumnChanges$.subscribe(t=>{t.forEach(e=>e.setIsLastLeft(e===t[t.length-1]))}),this.listOfFixedRightColumnChanges$.subscribe(t=>{t.forEach(e=>e.setIsFirstRight(e===t[0]))}),Object(On.a)([this.nzTableStyleService.listOfListOfThWidth$,this.listOfFixedLeftColumnChanges$]).pipe(An(this.destroy$)).subscribe(([t,e])=>{e.forEach((n,i)=>{if(n.isAutoLeft){const r=e.slice(0,i).reduce((t,e)=>t+(e.colspan||e.colSpan||1),0),o=t.slice(0,r).reduce((t,e)=>t+e,0);n.setAutoLeftWidth(`${o}px`)}})}),Object(On.a)([this.nzTableStyleService.listOfListOfThWidth$,this.listOfFixedRightColumnChanges$]).pipe(An(this.destroy$)).subscribe(([t,e])=>{e.forEach((n,i)=>{const r=e[e.length-i-1];if(r.isAutoRight){const n=e.slice(e.length-i,e.length).reduce((t,e)=>t+(e.colspan||e.colSpan||1),0),o=t.slice(t.length-n,t.length).reduce((t,e)=>t+e,0);r.setAutoRightWidth(`${o}px`)}})}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DW,8))},t.\u0275dir=r.Mb({type:t,selectors:[["tr",3,"mat-row","",3,"mat-header-row","",3,"nz-table-measure-row","",3,"nzExpand","",3,"nz-table-fixed-row",""]],contentQueries:function(t,e,n){if(1&t&&(r.Kb(n,PW,0),r.Kb(n,IW,0)),2&t){let t;r.zc(t=r.gc())&&(e.listOfNzThDirective=t),r.zc(t=r.gc())&&(e.listOfCellFixedDirective=t)}},hostVars:2,hostBindings:function(t,e){2&t&&r.Jb("ant-table-row",e.isInsideTable)}}),t})(),HW=(()=>{class t{constructor(t,e,n,i){this.elementRef=t,this.renderer=e,this.nzTableStyleService=n,this.nzTableDataService=i,this.destroy$=new xe.a,this.isInsideTable=!1,this.nzSortOrderChange=new r.n,this.isInsideTable=!!this.nzTableStyleService}ngOnInit(){this.nzTableStyleService&&this.nzTableStyleService.setTheadTemplate(this.templateRef)}ngAfterContentInit(){if(this.nzTableStyleService){const t=this.listOfNzTrDirective.changes.pipe(Object(Mn.a)(this.listOfNzTrDirective),Object(N.a)(t=>t&&t.first)),e=t.pipe(Object(Bc.a)(t=>t?t.listOfColumnsChanges$:lp.a),An(this.destroy$));e.subscribe(t=>this.nzTableStyleService.setListOfTh(t)),this.nzTableStyleService.enableAutoMeasure$.pipe(Object(Bc.a)(t=>t?e:Object(wi.a)([]))).pipe(An(this.destroy$)).subscribe(t=>this.nzTableStyleService.setListOfMeasureColumn(t));const n=t.pipe(Object(Bc.a)(t=>t?t.listOfFixedLeftColumnChanges$:lp.a),An(this.destroy$)),i=t.pipe(Object(Bc.a)(t=>t?t.listOfFixedRightColumnChanges$:lp.a),An(this.destroy$));n.subscribe(t=>{this.nzTableStyleService.setHasFixLeft(0!==t.length)}),i.subscribe(t=>{this.nzTableStyleService.setHasFixRight(0!==t.length)})}if(this.nzTableDataService){const t=this.listOfNzThAddOnComponent.changes.pipe(Object(Mn.a)(this.listOfNzThAddOnComponent));t.pipe(Object(Bc.a)(()=>Object(bl.a)(...this.listOfNzThAddOnComponent.map(t=>t.manualClickOrder$))),An(this.destroy$)).subscribe(t=>{this.nzSortOrderChange.emit({key:t.nzColumnKey,value:t.sortOrder}),t.nzSortFn&&!1===t.nzSortPriority&&this.listOfNzThAddOnComponent.filter(e=>e!==t).forEach(t=>t.clearSortOrder())}),t.pipe(Object(Bc.a)(e=>Object(bl.a)(t,...e.map(t=>t.calcOperatorChange$)).pipe(Object(up.a)(()=>t))),Object(N.a)(t=>t.filter(t=>!!t.nzSortFn||!!t.nzFilterFn).map(t=>{const{nzSortFn:e,sortOrder:n,nzFilterFn:i,nzFilterValue:r,nzSortPriority:o,nzColumnKey:s}=t;return{key:s,sortFn:e,sortPriority:o,sortOrder:n,filterFn:i,filterValue:r}})),IA(0)).subscribe(t=>{this.nzTableDataService.listOfCalcOperator$.next(t)})}}ngAfterViewInit(){this.nzTableStyleService&&this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.F),r.Rb(DW,8),r.Rb(BW,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["thead",9,"ant-table-thead"]],contentQueries:function(t,e,n){if(1&t&&(r.Kb(n,$W,1),r.Kb(n,AW,1)),2&t){let t;r.zc(t=r.gc())&&(e.listOfNzTrDirective=t),r.zc(t=r.gc())&&(e.listOfNzThAddOnComponent=t)}},viewQuery:function(t,e){if(1&t&&r.Qc(mW,3),2&t){let t;r.zc(t=r.gc())&&(e.templateRef=t.first)}},outputs:{nzSortOrderChange:"nzSortOrderChange"},ngContentSelectors:dV,decls:3,vars:1,consts:[["contentTemplate",""],[4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(t,e){1&t&&(r.pc(),r.Kc(0,bW,1,0,"ng-template",null,0,r.Lc),r.Kc(2,vW,2,1,"ng-container",1)),2&t&&(r.Db(2),r.qc("ngIf",!e.isInsideTable))},directives:[i.n,i.s],encapsulation:2,changeDetection:0}),t})(),KW=(()=>{class t{constructor(){this.title=null,this.footer=null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-table-title-footer"]],hostVars:4,hostBindings:function(t,e){2&t&&r.Jb("ant-table-title",null!==e.title)("ant-table-footer",null!==e.footer)},inputs:{title:"title",footer:"footer"},decls:2,vars:2,consts:[[4,"nzStringTemplateOutlet"]],template:function(t,e){1&t&&(r.Kc(0,_W,2,1,"ng-container",0),r.Kc(1,wW,2,1,"ng-container",0)),2&t&&(r.qc("nzStringTemplateOutlet",e.title),r.Db(1),r.qc("nzStringTemplateOutlet",e.footer))},directives:[ei],encapsulation:2,changeDetection:0}),t})(),GW=(()=>{class t{constructor(t){this.elementRef=t,this.nzExpand=!0,this.elementRef.nativeElement.classList.add("ant-table-expanded-row")}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l))},t.\u0275dir=r.Mb({type:t,selectors:[["tr","nzExpand",""]],hostVars:1,hostBindings:function(t,e){2&t&&r.ac("hidden",!e.nzExpand)},inputs:{nzExpand:"nzExpand"}}),t})(),YW=(()=>{class t{constructor(t,e,n){this.nzResizeObserver=t,this.ngZone=e,this.elementRef=n,this.listOfMeasureColumn=[],this.listOfAutoWidth=new r.n,this.destroy$=new xe.a,this.elementRef.nativeElement.classList.add("ant-table-measure-now")}trackByFunc(t,e){return e}ngAfterViewInit(){this.listOfTdElement.changes.pipe(Object(Mn.a)(this.listOfTdElement)).pipe(Object(Bc.a)(t=>Object(On.a)(t.toArray().map(t=>this.nzResizeObserver.observe(t).pipe(Object(N.a)(([t])=>{const{width:e}=t.target.getBoundingClientRect();return Math.floor(e)}))))),_e(16),An(this.destroy$)).subscribe(t=>{this.ngZone.run(()=>{this.listOfAutoWidth.next(t)})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(yj),r.Rb(r.A),r.Rb(r.l))},t.\u0275cmp=r.Lb({type:t,selectors:[["tr","nz-table-measure-row",""]],viewQuery:function(t,e){if(1&t&&r.Qc(qV,1),2&t){let t;r.zc(t=r.gc())&&(e.listOfTdElement=t)}},inputs:{listOfMeasureColumn:"listOfMeasureColumn"},outputs:{listOfAutoWidth:"listOfAutoWidth"},attrs:zW,decls:1,vars:2,consts:[["class","nz-disable-td","style","padding: 0px; border: 0px; height: 0px;",4,"ngFor","ngForOf","ngForTrackBy"],[1,"nz-disable-td",2,"padding","0px","border","0px","height","0px"],["tdElement",""]],template:function(t,e){1&t&&r.Kc(0,CW,2,0,"td",0),2&t&&r.qc("ngForOf",e.listOfMeasureColumn)("ngForTrackBy",e.trackByFunc)},directives:[i.m],encapsulation:2,changeDetection:0}),t})(),QW=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,yN,me,ii,vf,Ef,xN,GL,i.c,Bn,hV,vj,ML,Dd,Vo,ig,cl]]}),t})();const JW=["*"];function ZW(t,e){1&t&&r.oc(0)}const tq=["nz-list-item-actions",""];function eq(t,e){}function nq(t,e){1&t&&r.Sb(0,"em",3)}function iq(t,e){if(1&t&&(r.Xb(0,"li"),r.Kc(1,eq,0,0,"ng-template",1),r.Kc(2,nq,1,0,"em",2),r.Wb()),2&t){const t=e.$implicit,n=e.last;r.Db(1),r.qc("ngTemplateOutlet",t),r.Db(1),r.qc("ngIf",!n)}}function rq(t,e){}const oq=function(t,e){return{$implicit:t,index:e}};function sq(t,e){if(1&t&&(r.Vb(0),r.Kc(1,rq,0,0,"ng-template",9),r.Ub()),2&t){const t=e.$implicit,n=e.index,i=r.jc(2);r.Db(1),r.qc("ngTemplateOutlet",i.nzRenderItem)("ngTemplateOutletContext",r.wc(2,oq,t,n))}}function aq(t,e){if(1&t&&(r.Xb(0,"div",7),r.Kc(1,sq,2,5,"ng-container",8),r.oc(2,4),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("ngForOf",t.nzDataSource)}}function cq(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.Nc(t.nzHeader)}}function lq(t,e){if(1&t&&(r.Xb(0,"nz-list-header"),r.Kc(1,cq,2,1,"ng-container",10),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("nzStringTemplateOutlet",t.nzHeader)}}function uq(t,e){1&t&&r.Sb(0,"div"),2&t&&r.Hc("min-height",53,"px")}function hq(t,e){}function dq(t,e){if(1&t&&(r.Xb(0,"div",13),r.Kc(1,hq,0,0,"ng-template",9),r.Wb()),2&t){const t=e.$implicit,n=e.index,i=r.jc(2);r.qc("nzSpan",i.nzGrid.span||null)("nzXs",i.nzGrid.xs||null)("nzSm",i.nzGrid.sm||null)("nzMd",i.nzGrid.md||null)("nzLg",i.nzGrid.lg||null)("nzXl",i.nzGrid.xl||null)("nzXXl",i.nzGrid.xxl||null),r.Db(1),r.qc("ngTemplateOutlet",i.nzRenderItem)("ngTemplateOutletContext",r.wc(9,oq,t,n))}}function pq(t,e){if(1&t&&(r.Xb(0,"div",11),r.Kc(1,dq,2,12,"div",12),r.Wb()),2&t){const t=r.jc();r.qc("nzGutter",t.nzGrid.gutter||null),r.Db(1),r.qc("ngForOf",t.nzDataSource)}}function fq(t,e){if(1&t&&r.Sb(0,"nz-list-empty",14),2&t){const t=r.jc();r.qc("nzNoResult",t.nzNoResult)}}function gq(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.Nc(t.nzFooter)}}function mq(t,e){if(1&t&&(r.Xb(0,"nz-list-footer"),r.Kc(1,gq,2,1,"ng-container",10),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("nzStringTemplateOutlet",t.nzFooter)}}function bq(t,e){}function yq(t,e){}function vq(t,e){if(1&t&&(r.Xb(0,"nz-list-pagination"),r.Kc(1,yq,0,0,"ng-template",6),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("ngTemplateOutlet",t.nzPagination)}}const _q=[[["nz-list-header"]],[["nz-list-footer"],["","nz-list-footer",""]],[["nz-list-load-more"],["","nz-list-load-more",""]],[["nz-list-pagination"],["","nz-list-pagination",""]],"*"],wq=["nz-list-header","nz-list-footer, [nz-list-footer]","nz-list-load-more, [nz-list-load-more]","nz-list-pagination, [nz-list-pagination]","*"];function zq(t,e){if(1&t&&r.Sb(0,"ul",6),2&t){const t=r.jc(2);r.qc("nzActions",t.nzActions)}}function Cq(t,e){if(1&t&&(r.Kc(0,zq,1,1,"ul",5),r.oc(1)),2&t){const t=r.jc();r.qc("ngIf",t.nzActions&&t.nzActions.length>0)}}function Sq(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc(3);r.Db(1),r.Nc(t.nzContent)}}function xq(t,e){if(1&t&&(r.Vb(0),r.Kc(1,Sq,2,1,"ng-container",8),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.qc("nzStringTemplateOutlet",t.nzContent)}}function Oq(t,e){if(1&t&&(r.oc(0,1),r.oc(1,2),r.Kc(2,xq,2,1,"ng-container",7)),2&t){const t=r.jc();r.Db(2),r.qc("ngIf",t.nzContent)}}function kq(t,e){1&t&&r.oc(0,3)}function Tq(t,e){}function Eq(t,e){}function Iq(t,e){}function Dq(t,e){}function Mq(t,e){if(1&t&&(r.Kc(0,Tq,0,0,"ng-template",9),r.Kc(1,Eq,0,0,"ng-template",9),r.Kc(2,Iq,0,0,"ng-template",9),r.Kc(3,Dq,0,0,"ng-template",9)),2&t){const t=r.jc(),e=r.Ac(3),n=r.Ac(5),i=r.Ac(1);r.qc("ngTemplateOutlet",e),r.Db(1),r.qc("ngTemplateOutlet",t.nzExtra),r.Db(1),r.qc("ngTemplateOutlet",n),r.Db(1),r.qc("ngTemplateOutlet",i)}}function Rq(t,e){}function Aq(t,e){}function Pq(t,e){}function Lq(t,e){if(1&t&&(r.Xb(0,"nz-list-item-extra"),r.Kc(1,Pq,0,0,"ng-template",9),r.Wb()),2&t){const t=r.jc(2);r.Db(1),r.qc("ngTemplateOutlet",t.nzExtra)}}function Fq(t,e){}function jq(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"div",10),r.Kc(2,Rq,0,0,"ng-template",9),r.Kc(3,Aq,0,0,"ng-template",9),r.Wb(),r.Kc(4,Lq,2,1,"nz-list-item-extra",7),r.Kc(5,Fq,0,0,"ng-template",9),r.Ub()),2&t){const t=r.jc(),e=r.Ac(3),n=r.Ac(1),i=r.Ac(5);r.Db(2),r.qc("ngTemplateOutlet",e),r.Db(1),r.qc("ngTemplateOutlet",n),r.Db(1),r.qc("ngIf",t.nzExtra),r.Db(1),r.qc("ngTemplateOutlet",i)}}const Nq=[[["nz-list-item-actions"],["","nz-list-item-actions",""]],[["nz-list-item-meta"],["","nz-list-item-meta",""]],"*",[["nz-list-item-extra"],["","nz-list-item-extra",""]]],Vq=["nz-list-item-actions, [nz-list-item-actions]","nz-list-item-meta, [nz-list-item-meta]","*","nz-list-item-extra, [nz-list-item-extra]"];let Wq=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-list-item-extra"],["","nz-list-item-extra",""]],hostAttrs:[1,"ant-list-item-extra"],exportAs:["nzListItemExtra"],ngContentSelectors:JW,decls:1,vars:0,template:function(t,e){1&t&&(r.pc(),r.oc(0))},encapsulation:2,changeDetection:0}),t})(),qq=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-list-item-action"]],viewQuery:function(t,e){if(1&t&&r.Qc(r.M,1),2&t){let t;r.zc(t=r.gc())&&(e.templateRef=t.first)}},exportAs:["nzListItemAction"],ngContentSelectors:JW,decls:1,vars:0,template:function(t,e){1&t&&(r.pc(),r.Kc(0,ZW,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),t})(),Bq=(()=>{class t{constructor(t,e){this.ngZone=t,this.cdr=e,this.nzActions=[],this.actions=[],this.destroy$=new xe.a,this.inputActionChanges$=new xe.a,this.contentChildrenChanges$=Object(HD.a)(()=>this.nzListItemActions?Object(wi.a)(null):this.ngZone.onStable.asObservable().pipe(Object(Tn.a)(1),Object(Bc.a)(()=>this.contentChildrenChanges$))),Object(bl.a)(this.contentChildrenChanges$,this.inputActionChanges$).pipe(An(this.destroy$)).subscribe(()=>{this.actions=this.nzActions.length?this.nzActions:this.nzListItemActions.map(t=>t.templateRef),this.cdr.detectChanges()})}ngOnChanges(){this.inputActionChanges$.next(null)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.A),r.Rb(r.h))},t.\u0275cmp=r.Lb({type:t,selectors:[["ul","nz-list-item-actions",""]],contentQueries:function(t,e,n){if(1&t&&r.Kb(n,qq,0),2&t){let t;r.zc(t=r.gc())&&(e.nzListItemActions=t)}},hostAttrs:[1,"ant-list-item-action"],inputs:{nzActions:"nzActions"},exportAs:["nzListItemActions"],features:[r.Bb],attrs:tq,decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"ngTemplateOutlet"],["class","ant-list-item-action-split",4,"ngIf"],[1,"ant-list-item-action-split"]],template:function(t,e){1&t&&r.Kc(0,iq,3,2,"li",0),2&t&&r.qc("ngForOf",e.actions)},directives:[i.m,i.s,i.n],encapsulation:2,changeDetection:0}),t})(),Xq=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-list-empty"]],hostAttrs:[1,"ant-list-empty-text"],inputs:{nzNoResult:"nzNoResult"},exportAs:["nzListHeader"],decls:1,vars:2,consts:[[3,"nzComponentName","specificContent"]],template:function(t,e){1&t&&r.Sb(0,"nz-embed-empty",0),2&t&&r.qc("nzComponentName","list")("specificContent",e.nzNoResult)},directives:[Jf],encapsulation:2,changeDetection:0}),t})(),Uq=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-list-header"]],hostAttrs:[1,"ant-list-header"],exportAs:["nzListHeader"],ngContentSelectors:JW,decls:1,vars:0,template:function(t,e){1&t&&(r.pc(),r.oc(0))},encapsulation:2,changeDetection:0}),t})(),$q=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-list-footer"]],hostAttrs:[1,"ant-list-footer"],exportAs:["nzListFooter"],ngContentSelectors:JW,decls:1,vars:0,template:function(t,e){1&t&&(r.pc(),r.oc(0))},encapsulation:2,changeDetection:0}),t})(),Hq=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-list-pagination"]],hostAttrs:[1,"ant-list-pagination"],exportAs:["nzListPagination"],ngContentSelectors:JW,decls:1,vars:0,template:function(t,e){1&t&&(r.pc(),r.oc(0))},encapsulation:2,changeDetection:0}),t})(),Kq=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["nz-list-load-more"]],exportAs:["nzListLoadMoreDirective"]}),t})(),Gq=(()=>{class t{constructor(t,e){this.elementRef=t,this.directionality=e,this.nzBordered=!1,this.nzGrid="",this.nzItemLayout="horizontal",this.nzRenderItem=null,this.nzLoading=!1,this.nzLoadMore=null,this.nzSize="default",this.nzSplit=!0,this.hasSomethingAfterLastItem=!1,this.dir="ltr",this.itemLayoutNotifySource=new fu.a(this.nzItemLayout),this.destroy$=new xe.a,this.elementRef.nativeElement.classList.add("ant-list")}get itemLayoutNotify$(){return this.itemLayoutNotifySource.asObservable()}ngOnInit(){var t;this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t})}getSomethingAfterLastItem(){return!!(this.nzLoadMore||this.nzPagination||this.nzFooter||this.nzListFooterComponent||this.nzListPaginationComponent||this.nzListLoadMoreDirective)}ngOnChanges(t){t.nzItemLayout&&this.itemLayoutNotifySource.next(this.nzItemLayout)}ngOnDestroy(){this.itemLayoutNotifySource.unsubscribe(),this.destroy$.next(),this.destroy$.complete()}ngAfterContentInit(){this.hasSomethingAfterLastItem=this.getSomethingAfterLastItem()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(bn,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-list"],["","nz-list",""]],contentQueries:function(t,e,n){if(1&t&&(r.Kb(n,$q,1),r.Kb(n,Hq,1),r.Kb(n,Kq,1)),2&t){let t;r.zc(t=r.gc())&&(e.nzListFooterComponent=t.first),r.zc(t=r.gc())&&(e.nzListPaginationComponent=t.first),r.zc(t=r.gc())&&(e.nzListLoadMoreDirective=t.first)}},hostVars:16,hostBindings:function(t,e){2&t&&r.Jb("ant-list-rtl","rtl"===e.dir)("ant-list-vertical","vertical"===e.nzItemLayout)("ant-list-lg","large"===e.nzSize)("ant-list-sm","small"===e.nzSize)("ant-list-split",e.nzSplit)("ant-list-bordered",e.nzBordered)("ant-list-loading",e.nzLoading)("ant-list-something-after-last-item",e.hasSomethingAfterLastItem)},inputs:{nzBordered:"nzBordered",nzGrid:"nzGrid",nzItemLayout:"nzItemLayout",nzRenderItem:"nzRenderItem",nzLoading:"nzLoading",nzLoadMore:"nzLoadMore",nzSize:"nzSize",nzSplit:"nzSplit",nzDataSource:"nzDataSource",nzHeader:"nzHeader",nzFooter:"nzFooter",nzPagination:"nzPagination",nzNoResult:"nzNoResult"},exportAs:["nzList"],features:[r.Bb],ngContentSelectors:wq,decls:15,vars:9,consts:[["itemsTpl",""],[4,"ngIf"],[3,"nzSpinning"],[3,"min-height",4,"ngIf"],["nz-row","",3,"nzGutter",4,"ngIf","ngIfElse"],[3,"nzNoResult",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"ant-list-items"],[4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"nzStringTemplateOutlet"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl",4,"ngFor","ngForOf"],["nz-col","",3,"nzSpan","nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"],[3,"nzNoResult"]],template:function(t,e){if(1&t&&(r.pc(_q),r.Kc(0,aq,3,1,"ng-template",null,0,r.Lc),r.Kc(2,lq,2,1,"nz-list-header",1),r.oc(3),r.Xb(4,"nz-spin",2),r.Vb(5),r.Kc(6,uq,1,2,"div",3),r.Kc(7,pq,2,2,"div",4),r.Kc(8,fq,1,1,"nz-list-empty",5),r.Ub(),r.Wb(),r.Kc(9,mq,2,1,"nz-list-footer",1),r.oc(10,1),r.Kc(11,bq,0,0,"ng-template",6),r.oc(12,2),r.Kc(13,vq,2,1,"nz-list-pagination",1),r.oc(14,3)),2&t){const t=r.Ac(1);r.Db(2),r.qc("ngIf",e.nzHeader),r.Db(2),r.qc("nzSpinning",e.nzLoading),r.Db(2),r.qc("ngIf",e.nzLoading&&e.nzDataSource&&0===e.nzDataSource.length),r.Db(1),r.qc("ngIf",e.nzGrid&&e.nzDataSource)("ngIfElse",t),r.Db(1),r.qc("ngIf",!e.nzLoading&&e.nzDataSource&&0===e.nzDataSource.length),r.Db(1),r.qc("ngIf",e.nzFooter),r.Db(2),r.qc("ngTemplateOutlet",e.nzLoadMore),r.Db(2),r.qc("ngIf",e.nzPagination)}},directives:[i.n,DL,i.s,i.m,Uq,ei,nr,ir,Xq,$q,Hq],encapsulation:2,changeDetection:0}),sr([Di(),ar("design:type",Object)],t.prototype,"nzBordered",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzLoading",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzSplit",void 0),t})(),Yq=(()=>{class t{constructor(t,e,n,i){this.parentComp=n,this.cdr=i,this.nzActions=[],this.nzExtra=null,this.nzNoFlex=!1,e.addClass(t.nativeElement,"ant-list-item")}get isVerticalAndExtra(){return!("vertical"!==this.itemLayout||!this.listItemExtraDirective&&!this.nzExtra)}ngAfterViewInit(){this.itemLayout$=this.parentComp.itemLayoutNotify$.subscribe(t=>{this.itemLayout=t,this.cdr.detectChanges()})}ngOnDestroy(){this.itemLayout$&&this.itemLayout$.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.F),r.Rb(Gq),r.Rb(r.h))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-list-item"],["","nz-list-item",""]],contentQueries:function(t,e,n){if(1&t&&r.Kb(n,Wq,1),2&t){let t;r.zc(t=r.gc())&&(e.listItemExtraDirective=t.first)}},hostVars:2,hostBindings:function(t,e){2&t&&r.Jb("ant-list-item-no-flex",e.nzNoFlex)},inputs:{nzActions:"nzActions",nzExtra:"nzExtra",nzNoFlex:"nzNoFlex",nzContent:"nzContent"},exportAs:["nzListItem"],ngContentSelectors:Vq,decls:9,vars:2,consts:[["actionsTpl",""],["contentTpl",""],["extraTpl",""],["simpleTpl",""],[4,"ngIf","ngIfElse"],["nz-list-item-actions","",3,"nzActions",4,"ngIf"],["nz-list-item-actions","",3,"nzActions"],[4,"ngIf"],[4,"nzStringTemplateOutlet"],[3,"ngTemplateOutlet"],[1,"ant-list-item-main"]],template:function(t,e){if(1&t&&(r.pc(Nq),r.Kc(0,Cq,2,1,"ng-template",null,0,r.Lc),r.Kc(2,Oq,3,1,"ng-template",null,1,r.Lc),r.Kc(4,kq,1,0,"ng-template",null,2,r.Lc),r.Kc(6,Mq,4,4,"ng-template",null,3,r.Lc),r.Kc(8,jq,6,4,"ng-container",4)),2&t){const t=r.Ac(7);r.Db(8),r.qc("ngIf",e.isVerticalAndExtra)("ngIfElse",t)}},directives:[i.n,Bq,ei,i.s,Wq],encapsulation:2,changeDetection:0}),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzNoFlex",void 0),t})(),Qq=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,ML,rr,jL,ii,ig]]}),t})();function Jq(t,e){if(1&t&&r.Sb(0,"nz-option",9),2&t){const t=e.$implicit;r.qc("nzLabel",t)("nzValue",t)}}function Zq(t,e){if(1&t){const t=r.Yb();r.Xb(0,"p"),r.Mc(1),r.Wb(),r.Xb(2,"nz-select",7),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc().selectedFields=e}),r.Kc(3,Jq,1,2,"nz-option",8),r.Wb()}if(2&t){const t=r.jc();r.Db(1),r.Pc("RESULTADO: ",t.DataSize," elementos encontrados. SELECCI\xd3N: ",t.checkedAll?t.DataSize-t.checkedItems.size:t.checkedItems.size," elementos seleccionados."),r.Db(1),r.qc("ngModel",t.selectedFields),r.Db(1),r.qc("ngForOf",t.DataFields)}}function tB(t,e){if(1&t){const t=r.Yb();r.Xb(0,"th",10),r.fc("nzCheckedChange",function(e){return r.Cc(t),r.jc().onAllChecked(e)}),r.Wb()}if(2&t){const t=r.jc();r.qc("nzDisabled",0==t.PageData.length)("nzChecked",t.checkedAll)("nzIndeterminate",t.checkedItems.size>0)}}function eB(t,e){1&t&&r.Sb(0,"th",11)}function nB(t,e){if(1&t){const t=r.Yb();r.Xb(0,"th",12),r.fc("nzSortOrderChange",function(n){r.Cc(t);const i=e.$implicit;return r.jc().sorting(i,n)}),r.Mc(1),r.Wb()}if(2&t){const t=e.$implicit,n=r.jc();r.qc("nzShowSort",n.SortEvent.observers.length),r.Db(1),r.Nc(t)}}function iB(t,e){1&t&&(r.Xb(0,"th",13),r.Mc(1," Acciones"),r.Wb())}function rB(t,e){if(1&t){const t=r.Yb();r.Xb(0,"td",17),r.fc("nzCheckedChange",function(e){r.Cc(t);const n=r.jc().$implicit;return r.jc().onItemChecked(n,e)}),r.Wb()}if(2&t){const t=r.jc().$implicit,e=r.jc();r.qc("nzChecked",e.isItemChecked(t))}}function oB(t,e){if(1&t){const t=r.Yb();r.Xb(0,"td",17),r.fc("nzCheckedChange",function(e){r.Cc(t);const n=r.jc().$implicit;return r.jc().onItemChecked(n,e)}),r.Wb()}if(2&t){const t=r.jc().$implicit,e=r.jc();r.qc("nzChecked",e.isItemChecked(t))}}function sB(t,e){if(1&t&&(r.Xb(0,"td",18),r.Mc(1),r.Wb()),2&t){const t=e.$implicit,n=r.jc().$implicit;r.Db(1),r.Oc(" ",n[t]," ")}}function aB(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-list-item-action"),r.Xb(1,"i",22),r.fc("click",function(){r.Cc(t);const e=r.jc(2).$implicit;return r.jc().open(e)}),r.Wb(),r.Wb()}}function cB(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-list-item-action"),r.Xb(1,"i",23),r.fc("click",function(){r.Cc(t);const e=r.jc(2).$implicit;return r.jc().modify(e)}),r.Wb(),r.Wb()}}function lB(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-list-item-action"),r.Xb(1,"i",24),r.fc("click",function(){r.Cc(t);const e=r.jc(2).$implicit;return r.jc().export(e)}),r.Wb(),r.Wb()}}function uB(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-list-item-action"),r.Xb(1,"i",25),r.fc("click",function(){r.Cc(t);const e=r.jc(2).$implicit;return r.jc().delete(e)}),r.Wb(),r.Wb()}}function hB(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-list-item-action"),r.Xb(1,"i",26),r.fc("click",function(){r.Cc(t);const e=r.jc(2).$implicit;return r.jc().permission(e)}),r.Wb(),r.Wb()}}function dB(t,e){if(1&t&&(r.Xb(0,"td",19),r.Xb(1,"ul",20),r.Kc(2,aB,2,0,"nz-list-item-action",21),r.Kc(3,cB,2,0,"nz-list-item-action",21),r.Kc(4,lB,2,0,"nz-list-item-action",21),r.Kc(5,uB,2,0,"nz-list-item-action",21),r.Kc(6,hB,2,0,"nz-list-item-action",21),r.Wb(),r.Wb()),2&t){const t=r.jc(2);r.Db(2),r.qc("ngIf",!t.hiddenOpenAction&&t.OpenEvent.observers.length),r.Db(1),r.qc("ngIf",!t.hiddenModifyAction&&t.ModifyEvent.observers.length),r.Db(1),r.qc("ngIf",!t.hiddenExportAction&&t.ExportEvent.observers.length),r.Db(1),r.qc("ngIf",!t.hiddenDeleteAction&&t.DeleteEvent.observers.length),r.Db(1),r.qc("ngIf",!t.hiddenPermissionAction&&t.PermissionEvent.observers.length)}}function pB(t,e){if(1&t&&(r.Xb(0,"tr"),r.Kc(1,rB,1,1,"td",14),r.Kc(2,oB,1,1,"td",14),r.Kc(3,sB,2,1,"td",15),r.Kc(4,dB,7,5,"td",16),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("ngIf",t.Checkable&&t.CanMultipleCheckItems),r.Db(1),r.qc("ngIf",t.Checkable&&!t.CanMultipleCheckItems),r.Db(1),r.qc("ngForOf",t.selectedFields),r.Db(1),r.qc("ngIf",t.OpenEvent.observers.length||t.ModifyEvent.observers.length||t.ExportEvent.observers.length||t.DeleteEvent.observers.length||t.PermissionEvent.observers.length)}}const fB=function(){return{x:"80vw",y:"45vh"}};let gB=(()=>{class t{constructor(t,e){this.stateService=t,this.activeRoute=e,this.PaginationEvent=new r.n,this.SortEvent=new r.n,this.OpenEvent=new r.n,this.ModifyEvent=new r.n,this.ExportEvent=new r.n,this.DeleteEvent=new r.n,this.PermissionEvent=new r.n,this.CheckedChangeEvent=new r.n,this.hiddenOpenAction=!1,this.hiddenModifyAction=!1,this.hiddenExportAction=!1,this.hiddenDeleteAction=!1,this.hiddenPermissionAction=!1,this.Loading=!1,this.PageData=[],this.DataSize=0,this.DataFieldID="id",this.DataFields=[],this.ExcludeFields=[],this.Checkable=!0,this.CanMultipleCheckItems=!0,this.pageIndex=1,this.pageSize=10,this.checkedItems=new Set,this.checkedAll=!1,this.selectedFields=[],this.sortedFields=new Map}ngOnInit(){this.activeRoute.url.subscribe(t=>{this.stateService.setCurrentView(this,t)}),this.PaginationEvent.emit(this.getPagination()),console.log(this.PermissionEvent.observers)}ngOnDestroy(){this.stateService.saveOnDestroy(this,"dynamic-table")}getState(){return{pageIndex:this.pageIndex,pageSize:this.pageSize,checkedItems:this.checkedItems,checkedAll:this.checkedAll,selectedFields:this.selectedFields,sortedFields:this.sortedFields}}setState(t){t&&(t.pageIndex&&(this.pageIndex=t.pageIndex),t.pageSize&&(this.pageSize=t.pageSize),t.checkedItems&&(this.checkedItems=t.checkedItems),t.checkedAll&&(this.checkedAll=t.checkedAll),t.selectedFields&&(this.selectedFields=t.selectedFields),t.sortedFields&&(this.sortedFields=t.sortedFields))}getPagination(){return{pageIndex:this.pageIndex,pageSize:this.pageSize}}getSelectionFilter(){let t={};return this.checkedItems.size?(t[this.DataFieldID]={op:this.checkedAll?"out":"in",unary:Array.from(this.checkedItems)},t):t}getOrder(){let t=[];return this.sortedFields.forEach((e,n,i)=>{t.push({field:n,order:e})}),t}restart(){this.pageIndex=1,this.checkedItems=new Set,this.checkedAll=!1,this.selectedFields=[],this.sortedFields=new Map}changePageData(t){this.DataFields=[];for(const e in t[0])this.ExcludeFields.includes(e)||"residues"!=e&&this.DataFields.push(e);this.selectedFields.length<1&&(this.selectedFields=this.DataFields.filter(t=>["name","accession","uniquename","timeaccessioned","program","programversion","genus","species"].includes(t)))}changePageIndex(t){this.pageIndex=t,this.PaginationEvent.emit(this.getPagination())}changePageSize(t){this.pageSize=t,this.PaginationEvent.emit(this.getPagination())}onItemChecked(t,e){this.checkedAll&&(e=!e),e?(this.CanMultipleCheckItems||this.checkedItems.clear(),this.checkedItems.add(t[this.DataFieldID])):this.checkedItems.delete(t[this.DataFieldID]),this.CheckedChangeEvent.emit({items:this.checkedItems,checkedAll:this.checkedAll})}onAllChecked(t){this.checkedAll=t,this.checkedItems.clear(),this.CheckedChangeEvent.emit({items:this.checkedItems,checkedAll:this.checkedAll})}isItemChecked(t){return this.checkedAll?!this.checkedItems.has(t[this.DataFieldID]):this.checkedItems.has(t[this.DataFieldID])}open(t){this.OpenEvent.emit(t)}modify(t){this.ModifyEvent.emit(t)}export(t){this.ExportEvent.emit(t)}delete(t){this.DeleteEvent.emit(t)}permission(t){this.PermissionEvent.emit(t)}sorting(t,e){this.sortedFields.set(t,e),null==e&&this.sortedFields.delete(t),this.SortEvent.emit(this.getOrder())}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(IP),r.Rb(dm.a))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-dynamic-table"]],inputs:{hiddenOpenAction:"hiddenOpenAction",hiddenModifyAction:"hiddenModifyAction",hiddenExportAction:"hiddenExportAction",hiddenDeleteAction:"hiddenDeleteAction",hiddenPermissionAction:"hiddenPermissionAction",Loading:"Loading",PageData:"PageData",DataSize:"DataSize",DataFieldID:"DataFieldID",DataFields:"DataFields",ExcludeFields:"ExcludeFields",Checkable:"Checkable",CanMultipleCheckItems:"CanMultipleCheckItems"},outputs:{PaginationEvent:"PaginationEvent",SortEvent:"SortEvent",OpenEvent:"OpenEvent",ModifyEvent:"ModifyEvent",ExportEvent:"ExportEvent",DeleteEvent:"DeleteEvent",PermissionEvent:"PermissionEvent",CheckedChangeEvent:"CheckedChangeEvent"},decls:11,vars:14,consts:[["tableOptions",""],["nzShowPagination","","nzShowSizeChanger","","nzBordered","",3,"nzTitle","nzFrontPagination","nzLoading","nzData","nzTotal","nzScroll","nzPageIndex","nzPageSize","nzCurrentPageDataChange","nzPageIndexChange","nzPageSizeChange"],["nzAlign","center","nzLeft","","nzWidth","50px",3,"nzDisabled","nzChecked","nzIndeterminate","nzCheckedChange",4,"ngIf"],["nzAlign","center","nzLeft","","nzWidth","50px",4,"ngIf"],[3,"nzShowSort","nzSortOrderChange",4,"ngFor","ngForOf"],["nzAlign","center","nzRight","","nzWidth","200px",4,"ngIf"],[4,"ngFor","ngForOf"],["nzMode","multiple",2,"width","100%",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],[3,"nzLabel","nzValue"],["nzAlign","center","nzLeft","","nzWidth","50px",3,"nzDisabled","nzChecked","nzIndeterminate","nzCheckedChange"],["nzAlign","center","nzLeft","","nzWidth","50px"],[3,"nzShowSort","nzSortOrderChange"],["nzAlign","center","nzRight","","nzWidth","200px"],["nzAlign","center","nzLeft","",3,"nzChecked","nzCheckedChange",4,"ngIf"],["style","max-width: 50vw; overflow-x: visible;",4,"ngFor","ngForOf"],["nzAlign","center","nzRight","",4,"ngIf"],["nzAlign","center","nzLeft","",3,"nzChecked","nzCheckedChange"],[2,"max-width","50vw","overflow-x","visible"],["nzAlign","center","nzRight",""],["nz-list-item-actions","",2,"margin-left","6px"],[4,"ngIf"],["nz-icon","","nzType","file-search","nzTheme","outline",2,"cursor","pointer",3,"click"],["nz-icon","","nzType","edit","nzTheme","outline",2,"cursor","pointer",3,"click"],["nz-icon","","nzType","download","nzTheme","outline",2,"cursor","pointer",3,"click"],["nz-icon","","nzType","delete","nzTheme","outline",2,"cursor","pointer",3,"click"],["nz-icon","","nzType","user","nzTheme","outline",2,"cursor","pointer",3,"click"]],template:function(t,e){if(1&t&&(r.Kc(0,Zq,4,4,"ng-template",null,0,r.Lc),r.Xb(2,"nz-table",1),r.fc("nzCurrentPageDataChange",function(t){return e.changePageData(t)})("nzPageIndexChange",function(t){return e.changePageIndex(t)})("nzPageSizeChange",function(t){return e.changePageSize(t)}),r.Xb(3,"thead"),r.Xb(4,"tr"),r.Kc(5,tB,1,3,"th",2),r.Kc(6,eB,1,0,"th",3),r.Kc(7,nB,2,2,"th",4),r.Kc(8,iB,2,0,"th",5),r.Wb(),r.Wb(),r.Xb(9,"tbody"),r.Kc(10,pB,5,4,"tr",6),r.Wb(),r.Wb()),2&t){const t=r.Ac(1);r.Db(2),r.qc("nzTitle",t)("nzFrontPagination",!1)("nzLoading",e.Loading)("nzData",e.PageData)("nzTotal",e.DataSize)("nzScroll",r.uc(13,fB))("nzPageIndex",e.pageIndex)("nzPageSize",e.pageSize),r.Db(3),r.qc("ngIf",e.Checkable&&e.CanMultipleCheckItems),r.Db(1),r.qc("ngIf",e.Checkable&&!e.CanMultipleCheckItems),r.Db(1),r.qc("ngForOf",e.selectedFields),r.Db(1),r.qc("ngIf",e.OpenEvent.observers.length||e.ModifyEvent.observers.length||e.ExportEvent.observers.length||e.DeleteEvent.observers.length||e.PermissionEvent.observers.length),r.Db(2),r.qc("ngForOf",e.PageData)}},directives:[XW,HW,$W,i.n,i.m,UW,Gg,bt,ie,Ug,MW,PW,FW,IW,LW,AW,RW,Bq,qq,Rf,No],styles:[""]}),t})();function mB(t,e){if(1&t&&(r.Xb(0,"button",19),r.Sb(1,"i",20),r.Wb()),2&t){const t=r.jc();r.qc("nzLoading",t.loading)}}let bB=(()=>{class t{constructor(t,e,n,i,r,o){this.backendService=t,this.logService=e,this.modal=n,this.stateService=i,this.router=r,this.activeRoute=o,this.pageMeta={pageIndex:1,pageSize:10,checkedItems:new Set,checkedAll:!1,selectedFields:[]},this.pageData=[],this.totalSize=0,this.searchValue="",this.loading=!0,this.showForm=!1,this.dataForm=new Yt({program:new Gt(null,et.required),programversion:new Gt(null,et.required),name:new Gt,algorithm:new Gt,description:new Gt})}ngOnInit(){this.activeRoute.url.subscribe(t=>{this.stateService.setCurrentView(this,t)}),this.search()}ngOnDestroy(){this.stateService.saveOnDestroy(this)}getState(){return{pageMeta:this.pageMeta,searchValue:this.searchValue}}setState(t){t&&(t.pageMeta&&(this.pageMeta=t.pageMeta),t.searchValue&&(this.searchValue=t.searchValue))}changePage(){this.search()}showModal(){this.showForm=!0}handleOk(){this.createAnalisis()}handleCancel(){this.showForm=!1}createAnalisis(){this.loading=!0,this.backendService.postAnalyses(this.dataForm.value).subscribe(t=>{this.logService.addIssues(t.issues)},t=>{this.loading=!1,this.logService.addIssues(t.issues)},()=>{this.loading=!1,this.showForm=!1,this.search()})}item2str(t){return JSON.stringify(t)}searchEvent(){this.pageMeta.pageIndex=1,this.pageMeta.checkedItems.clear(),this.search()}search(){this.loading=!0,this.backendService.getAnalyses(void 0,{filter:{},order:{},searchValue:this.searchValue,pagination:{pageIndex:this.pageMeta.pageIndex,pageSize:this.pageMeta.pageSize}}).subscribe(t=>{this.pageData=t.content,this.totalSize=t.count,this.logService.addIssues(t.issues)},t=>{this.loading=!1,this.logService.addIssues(t.issues)},()=>{this.loading=!1})}openItem(t){this.router.navigate(["analysisDetail",t.analysis_id])}deleteSelection(){this.modal.confirm({nzTitle:"<i>\xbfSeguro que desea eliminar los an\xe1lisis seleccionados y los datos asociados?</i>",nzContent:"<b>N\xfamero de an\xe1lisis seleccionados: </b>"+this.pageMeta.checkedItems.size,nzOnOk:()=>{this.backendService.deleteAnalyses(void 0,{id:Array.from(this.pageMeta.checkedItems)}).subscribe(t=>{this.logService.addIssues(t.issues)},t=>{this.logService.addIssues(t.issues)},()=>{this.search()})}})}deleteItem(t){this.modal.confirm({nzTitle:"<i>\xbfSeguro que desea eliminar este an\xe1lisis y los datos asociados?</i>",nzContent:this.item2str(t),nzOnOk:()=>{this.loading=!0,this.backendService.deleteAnalyses(t.analysis_id).subscribe(t=>{this.logService.addIssues(t.issues)},t=>{this.loading=!1,this.logService.addIssues(t.issues)},()=>{this.loading=!1,this.search()})}})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(YP),r.Rb(qF),r.Rb(IP),r.Rb(dm.g),r.Rb(dm.a))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-analyses-browse"]],decls:40,vars:24,consts:[["nzTitle","An\xe1lisis de secuencias"],["action","",3,"submit"],["nzSearch","",3,"nzAddOnAfter"],["name","searchValue","type","text","nz-input","","placeholder","Introduzca los t\xe9rminos de b\xfasqueda",3,"ngModel","disabled","ngModelChange"],["suffixIconButton",""],["nz-row",""],["nz-button","","nzType","primary",2,"margin","8px",3,"click"],["nz-button","","nzType","primary",2,"margin","8px",3,"disabled","nzLoading","click"],["pageType","analysis",3,"Loading","PageData","DataSize","PaginationEvent","OpenEvent","DeleteEvent"],["nzTitle","Datos del an\xe1lisis",3,"nzVisible","nzOkLoading","nzOkDisabled","nzVisibleChange","nzOnCancel","nzOnOk"],["nz-form","",3,"formGroup"],["nzRequired","",3,"nzSpan"],["nzErrorTip","Input is required","nzHasFeedback","",3,"nzSpan","nzValidateStatus"],["nz-input","","formControlName","program","required",""],["nz-input","","formControlName","programversion","required",""],[3,"nzSpan"],["nz-input","","formControlName","name"],["nz-input","","formControlName","algorithm"],["nz-input","","formControlName","description","rows","3","cols","10"],["nz-button","","nzSearch","",3,"nzLoading"],["nz-icon","","nzType","search"]],template:function(t,e){if(1&t&&(r.Xb(0,"nz-page-header",0),r.Xb(1,"nz-page-header-content"),r.Xb(2,"form",1),r.fc("submit",function(){return e.searchEvent()}),r.Xb(3,"nz-input-group",2),r.Xb(4,"input",3),r.fc("ngModelChange",function(t){return e.searchValue=t}),r.Wb(),r.Wb(),r.Kc(5,mB,2,1,"ng-template",null,4,r.Lc),r.Wb(),r.Wb(),r.Wb(),r.Xb(7,"div",5),r.Xb(8,"button",6),r.fc("click",function(){return e.showModal()}),r.Mc(9," Crear an\xe1lisis "),r.Wb(),r.Xb(10,"button",7),r.fc("click",function(){return e.deleteSelection()}),r.Mc(11," Eliminar selecci\xf3n "),r.Wb(),r.Wb(),r.Xb(12,"app-dynamic-table",8),r.fc("PaginationEvent",function(){return e.changePage()})("OpenEvent",function(t){return e.openItem(t)})("DeleteEvent",function(t){return e.deleteItem(t)}),r.Wb(),r.Xb(13,"nz-modal",9),r.fc("nzVisibleChange",function(t){return e.showForm=t})("nzOnCancel",function(){return e.handleCancel()})("nzOnOk",function(){return e.handleOk()}),r.Xb(14,"form",10),r.Xb(15,"nz-form-item"),r.Xb(16,"nz-form-label",11),r.Mc(17,"Programa"),r.Wb(),r.Xb(18,"nz-form-control",12),r.Sb(19,"input",13),r.Wb(),r.Wb(),r.Xb(20,"nz-form-item"),r.Xb(21,"nz-form-label",11),r.Mc(22,"Versi\xf3n"),r.Wb(),r.Xb(23,"nz-form-control",12),r.Sb(24,"input",14),r.Wb(),r.Wb(),r.Xb(25,"nz-form-item"),r.Xb(26,"nz-form-label",15),r.Mc(27,"Nombre"),r.Wb(),r.Xb(28,"nz-form-control",15),r.Sb(29,"input",16),r.Wb(),r.Wb(),r.Xb(30,"nz-form-item"),r.Xb(31,"nz-form-label",15),r.Mc(32,"Algoritmo"),r.Wb(),r.Xb(33,"nz-form-control",15),r.Sb(34,"input",17),r.Wb(),r.Wb(),r.Xb(35,"nz-form-item"),r.Xb(36,"nz-form-label",15),r.Mc(37,"Descripci\xf3n"),r.Wb(),r.Xb(38,"nz-form-control",15),r.Sb(39,"textarea",18),r.Wb(),r.Wb(),r.Wb(),r.Wb()),2&t){const t=r.Ac(6);r.Db(3),r.qc("nzAddOnAfter",t),r.Db(1),r.qc("ngModel",e.searchValue)("disabled",e.loading),r.Db(6),r.qc("disabled",0===e.pageMeta.checkedItems.size&&!e.pageMeta.checkedAll)("nzLoading",e.loading),r.Db(2),r.qc("Loading",e.loading)("PageData",e.pageData)("DataSize",e.totalSize),r.Db(1),r.qc("nzVisible",e.showForm)("nzOkLoading",e.loading)("nzOkDisabled",!e.dataForm.valid),r.Db(1),r.qc("formGroup",e.dataForm),r.Db(2),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12)("nzValidateStatus",e.dataForm.controls.program),r.Db(3),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12)("nzValidateStatus",e.dataForm.controls.programversion),r.Db(3),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12),r.Db(3),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12),r.Db(3),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12)}},directives:[Lj,Mj,re,yt,te,Rf,Gp,Hp,G,bt,ie,nr,HL,qL,gB,UF,Qd,le,Jd,ir,np,tp,he,pe,No],styles:[""]}),t})();function yB(t,e){if(1&t&&(r.Vb(0),r.Sb(1,"i",1),r.Ub()),2&t){const t=e.$implicit;r.Db(1),r.qc("nzType",t)}}const vB=["contentTemplate"];function _B(t,e){1&t&&r.oc(0)}function wB(t,e){1&t&&r.oc(0,1)}const zB=[[["","nz-tab-link",""]],"*"],CB=["[nz-tab-link]","*"];function SB(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc().$implicit;r.Db(1),r.Nc(t.tab.label)}}const xB=function(){return{visible:!1}};function OB(t,e){if(1&t){const t=r.Yb();r.Xb(0,"li",8),r.fc("click",function(){r.Cc(t);const n=e.$implicit;return r.jc(2).onSelect(n)})("contextmenu",function(n){r.Cc(t);const i=e.$implicit;return r.jc(2).onContextmenu(i,n)}),r.Kc(1,SB,2,1,"ng-container",9),r.Wb()}if(2&t){const t=e.$implicit;r.Jb("ant-tabs-dropdown-menu-item-disabled",t.disabled),r.qc("nzSelected",t.active)("nzDisabled",t.disabled),r.Db(1),r.qc("nzStringTemplateOutlet",t.tab.label)("nzStringTemplateOutletContext",r.uc(6,xB))}}function kB(t,e){if(1&t&&(r.Xb(0,"ul",6),r.Kc(1,OB,2,7,"li",7),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("ngForOf",t.items)}}function TB(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",10),r.fc("click",function(){return r.Cc(t),r.jc().addClicked.emit()}),r.Wb()}if(2&t){const t=r.jc();r.qc("addIcon",t.addIcon)}}const EB=function(){return{minWidth:"46px"}},IB=["navWarp"],DB=["navList"];function MB(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",8),r.fc("click",function(){return r.Cc(t),r.jc().addClicked.emit()}),r.Wb()}if(2&t){const t=r.jc();r.qc("addIcon",t.addIcon)}}function RB(t,e){}function AB(t,e){if(1&t&&(r.Xb(0,"div",9),r.Kc(1,RB,0,0,"ng-template",10),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("ngTemplateOutlet",t.extraTemplate)}}const PB=["*"],LB=["nz-tab-body",""];function FB(t,e){}function jB(t,e){if(1&t&&(r.Vb(0),r.Kc(1,FB,0,0,"ng-template",1),r.Ub()),2&t){const t=r.jc();r.Db(1),r.qc("ngTemplateOutlet",t.content)}}function NB(t,e){if(1&t&&(r.Vb(0),r.Sb(1,"i",1),r.Ub()),2&t){const t=e.$implicit;r.Db(1),r.qc("nzType",t)}}function VB(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc().$implicit;r.Db(1),r.Nc(t.label)}}function WB(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",10),r.fc("click",function(e){r.Cc(t);const n=r.jc().index;return r.jc(2).onClose(n,e)}),r.Wb()}if(2&t){const t=r.jc().$implicit;r.qc("closeIcon",t.nzCloseIcon)}}const qB=function(){return{visible:!0}};function BB(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",6),r.fc("click",function(n){r.Cc(t);const i=e.$implicit,o=e.index;return r.jc(2).clickNavItem(i,o,n)})("contextmenu",function(n){r.Cc(t);const i=e.$implicit;return r.jc(2).contextmenuNavItem(i,n)}),r.Xb(1,"div",7),r.Kc(2,VB,2,1,"ng-container",8),r.Kc(3,WB,1,1,"button",9),r.Wb(),r.Wb()}if(2&t){const t=e.$implicit,n=e.index,i=r.jc(2);r.Hc("margin-right","horizontal"===i.position?i.nzTabBarGutter:null,"px")("margin-bottom","vertical"===i.position?i.nzTabBarGutter:null,"px"),r.Jb("ant-tabs-tab-active",i.nzSelectedIndex===n)("ant-tabs-tab-disabled",t.nzDisabled),r.Db(1),r.qc("disabled",t.nzDisabled)("tab",t)("active",i.nzSelectedIndex===n),r.Eb("tabIndex",i.getTabIndex(t,n))("aria-disabled",t.nzDisabled)("aria-selected",i.nzSelectedIndex===n&&!i.nzHideAll)("aria-controls",i.getTabContentId(n)),r.Db(1),r.qc("nzStringTemplateOutlet",t.label)("nzStringTemplateOutletContext",r.uc(18,qB)),r.Db(1),r.qc("ngIf",t.nzClosable&&i.closable&&!t.nzDisabled)}}function XB(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-tabs-nav",4),r.fc("tabScroll",function(e){return r.Cc(t),r.jc().nzTabListScroll.emit(e)})("selectFocusedIndex",function(e){return r.Cc(t),r.jc().setSelectedIndex(e)})("addClicked",function(){return r.Cc(t),r.jc().onAdd()}),r.Kc(1,BB,4,19,"div",5),r.Wb()}if(2&t){const t=r.jc();r.qc("ngStyle",t.nzTabBarStyle)("selectedIndex",t.nzSelectedIndex||0)("inkBarAnimated",t.inkBarAnimated)("addable",t.addable)("addIcon",t.nzAddIcon)("hideBar",t.nzHideAll)("position",t.position)("extraTemplate",t.nzTabBarExtraContent),r.Db(1),r.qc("ngForOf",t.tabs)}}function UB(t,e){if(1&t&&r.Sb(0,"div",11),2&t){const t=e.$implicit,n=e.index,i=r.jc();r.qc("active",i.nzSelectedIndex==n&&!i.nzHideAll)("content",t.content)("forceRender",t.nzForceRender)("tabPaneAnimated",i.tabPaneAnimated)}}let $B=(()=>{class t{constructor(t){this.elementRef=t,this.addIcon="plus",this.element=this.elementRef.nativeElement}getElementWidth(){var t;return(null===(t=this.element)||void 0===t?void 0:t.offsetWidth)||0}getElementHeight(){var t;return(null===(t=this.element)||void 0===t?void 0:t.offsetHeight)||0}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-tab-add-button"],["button","nz-tab-add-button",""]],hostAttrs:["aria-label","Add tab","type","button",1,"ant-tabs-nav-add"],inputs:{addIcon:"addIcon"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","outline",3,"nzType"]],template:function(t,e){1&t&&r.Kc(0,yB,2,1,"ng-container",0),2&t&&r.qc("nzStringTemplateOutlet",e.addIcon)},directives:[ei,No],encapsulation:2}),t})(),HB=(()=>{class t{constructor(t,e,n){this.elementRef=t,this.ngZone=e,this.animationMode=n,this.position="horizontal",this.animated=!0}get _animated(){return"NoopAnimations"!==this.animationMode&&this.animated}alignToElement(t){this.ngZone.runOutsideAngular(()=>{Wi(()=>this.setStyles(t))})}setStyles(t){const e=this.elementRef.nativeElement;"horizontal"===this.position?(e.style.top="",e.style.height="",e.style.left=this.getLeftPosition(t),e.style.width=this.getElementWidth(t)):(e.style.left="",e.style.width="",e.style.top=this.getTopPosition(t),e.style.height=this.getElementHeight(t))}getLeftPosition(t){return t?(t.offsetLeft||0)+"px":"0"}getElementWidth(t){return t?(t.offsetWidth||0)+"px":"0"}getTopPosition(t){return t?(t.offsetTop||0)+"px":"0"}getElementHeight(t){return t?(t.offsetHeight||0)+"px":"0"}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.A),r.Rb(Oc,8))},t.\u0275dir=r.Mb({type:t,selectors:[["nz-tabs-ink-bar"],["","nz-tabs-ink-bar",""]],hostAttrs:[1,"ant-tabs-ink-bar"],hostVars:2,hostBindings:function(t,e){2&t&&r.Jb("ant-tabs-ink-bar-animated",e._animated)},inputs:{position:"position",animated:"animated"}}),t})(),KB=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.M,1))},t.\u0275dir=r.Mb({type:t,selectors:[["ng-template","nzTabLink",""]],exportAs:["nzTabLinkTemplate"]}),t})(),GB=(()=>{class t{constructor(t,e,n){this.elementRef=t,this.routerLink=e,this.routerLinkWithHref=n}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(dm.h,10),r.Rb(dm.j,10))},t.\u0275dir=r.Mb({type:t,selectors:[["a","nz-tab-link",""]],exportAs:["nzTabLink"]}),t})(),YB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["","nz-tab",""]],exportAs:["nzTab"]}),t})();const QB=new r.r("NZ_TAB_SET");let JB=(()=>{class t{constructor(t){this.closestTabSet=t,this.nzTitle="",this.nzClosable=!1,this.nzCloseIcon="close",this.nzDisabled=!1,this.nzForceRender=!1,this.nzSelect=new r.n,this.nzDeselect=new r.n,this.nzClick=new r.n,this.nzContextmenu=new r.n,this.template=null,this.isActive=!1,this.position=null,this.origin=null,this.stateChanges=new xe.a}get content(){return this.template||this.contentTemplate}get label(){var t;return this.nzTitle||(null===(t=this.nzTabLinkTemplateDirective)||void 0===t?void 0:t.templateRef)}ngOnChanges(t){const{nzTitle:e,nzDisabled:n,nzForceRender:i}=t;(e||n||i)&&this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(QB))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-tab"]],contentQueries:function(t,e,n){if(1&t&&(r.Kb(n,YB,1,r.M),r.Kb(n,KB,1),r.Kb(n,GB,1)),2&t){let t;r.zc(t=r.gc())&&(e.template=t.first),r.zc(t=r.gc())&&(e.nzTabLinkTemplateDirective=t.first),r.zc(t=r.gc())&&(e.linkDirective=t.first)}},viewQuery:function(t,e){if(1&t&&r.Qc(vB,3),2&t){let t;r.zc(t=r.gc())&&(e.contentTemplate=t.first)}},inputs:{nzTitle:"nzTitle",nzClosable:"nzClosable",nzCloseIcon:"nzCloseIcon",nzDisabled:"nzDisabled",nzForceRender:"nzForceRender"},outputs:{nzSelect:"nzSelect",nzDeselect:"nzDeselect",nzClick:"nzClick",nzContextmenu:"nzContextmenu"},exportAs:["nzTab"],features:[r.Bb],ngContentSelectors:CB,decls:4,vars:0,consts:[["tabLinkTemplate",""],["contentTemplate",""]],template:function(t,e){1&t&&(r.pc(zB),r.Kc(0,_B,1,0,"ng-template",null,0,r.Lc),r.Kc(2,wB,1,0,"ng-template",null,1,r.Lc))},encapsulation:2,changeDetection:0}),sr([Di(),ar("design:type",Object)],t.prototype,"nzClosable",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzDisabled",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzForceRender",void 0),t})(),ZB=(()=>{class t{constructor(t){this.elementRef=t,this.disabled=!1,this.active=!1,this.el=t.nativeElement,this.parentElement=this.el.parentElement}focus(){this.el.focus()}get width(){return this.parentElement.offsetWidth}get height(){return this.parentElement.offsetHeight}get left(){return this.parentElement.offsetLeft}get top(){return this.parentElement.offsetTop}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l))},t.\u0275dir=r.Mb({type:t,selectors:[["","nzTabNavItem",""]],inputs:{disabled:"disabled",active:"active",tab:"tab"}}),t})(),tX=(()=>{class t{constructor(t,e){this.cdr=t,this.elementRef=e,this.items=[],this.addable=!1,this.addIcon="plus",this.addClicked=new r.n,this.selected=new r.n,this.closeAnimationWaitTimeoutId=-1,this.menuOpened=!1,this.element=this.elementRef.nativeElement}onSelect(t){t.disabled||(t.tab.nzClick.emit(),this.selected.emit(t))}onContextmenu(t,e){t.disabled||t.tab.nzContextmenu.emit(e)}showItems(){clearTimeout(this.closeAnimationWaitTimeoutId),this.menuOpened=!0,this.cdr.markForCheck()}menuVisChange(t){t||(this.closeAnimationWaitTimeoutId=setTimeout(()=>{this.menuOpened=!1,this.cdr.markForCheck()},150))}getElementWidth(){var t;return(null===(t=this.element)||void 0===t?void 0:t.offsetWidth)||0}getElementHeight(){var t;return(null===(t=this.element)||void 0===t?void 0:t.offsetHeight)||0}ngOnDestroy(){clearTimeout(this.closeAnimationWaitTimeoutId)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h),r.Rb(r.l))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-tab-nav-operation"]],hostAttrs:[1,"ant-tabs-nav-operations"],hostVars:2,hostBindings:function(t,e){2&t&&r.Jb("ant-tabs-nav-operations-hidden",0===e.items.length)},inputs:{items:"items",addable:"addable",addIcon:"addIcon"},outputs:{addClicked:"addClicked",selected:"selected"},exportAs:["nzTabNavOperation"],decls:7,vars:6,consts:[["nz-dropdown","","type","button","tabindex","-1","aria-hidden","true","nzOverlayClassName","nz-tabs-dropdown",1,"ant-tabs-nav-more",3,"nzDropdownMenu","nzOverlayStyle","nzMatchWidthElement","nzVisibleChange","mouseenter"],["dropdownTrigger","nzDropdown"],["nz-icon","","nzType","ellipsis"],["menu","nzDropdownMenu"],["nz-menu","",4,"ngIf"],["nz-tab-add-button","",3,"addIcon","click",4,"ngIf"],["nz-menu",""],["nz-menu-item","","class","ant-tabs-dropdown-menu-item",3,"ant-tabs-dropdown-menu-item-disabled","nzSelected","nzDisabled","click","contextmenu",4,"ngFor","ngForOf"],["nz-menu-item","",1,"ant-tabs-dropdown-menu-item",3,"nzSelected","nzDisabled","click","contextmenu"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-tab-add-button","",3,"addIcon","click"]],template:function(t,e){if(1&t&&(r.Xb(0,"button",0,1),r.fc("nzVisibleChange",function(t){return e.menuVisChange(t)})("mouseenter",function(){return e.showItems()}),r.Sb(2,"i",2),r.Wb(),r.Xb(3,"nz-dropdown-menu",null,3),r.Kc(5,kB,2,1,"ul",4),r.Wb(),r.Kc(6,TB,1,1,"button",5)),2&t){const t=r.Ac(4);r.qc("nzDropdownMenu",t)("nzOverlayStyle",r.uc(5,EB))("nzMatchWidthElement",null),r.Db(5),r.qc("ngIf",e.menuOpened),r.Db(1),r.qc("ngIf",e.addable)}},directives:[zN,No,SN,i.n,fN,i.m,cN,ei,$B],encapsulation:2,changeDetection:0}),t})();const eX="undefined"!=typeof requestAnimationFrame?jc:Nc.b;let nX=(()=>{class t{constructor(t,e,n,i,o){this.cdr=t,this.ngZone=e,this.viewportRuler=n,this.nzResizeObserver=i,this.dir=o,this.indexFocused=new r.n,this.selectFocusedIndex=new r.n,this.addClicked=new r.n,this.tabScroll=new r.n,this.position="horizontal",this.addable=!1,this.hideBar=!1,this.addIcon="plus",this.inkBarAnimated=!0,this.translate=null,this.transformX=0,this.transformY=0,this.pingLeft=!1,this.pingRight=!1,this.pingTop=!1,this.pingBottom=!1,this.hiddenItems=[],this.destroy$=new xe.a,this._selectedIndex=0,this.wrapperWidth=0,this.wrapperHeight=0,this.scrollListWidth=0,this.scrollListHeight=0,this.operationWidth=0,this.operationHeight=0,this.addButtonWidth=0,this.addButtonHeight=0,this.selectedIndexChanged=!1,this.lockAnimationTimeoutId=-1,this.cssTransformTimeWaitingId=-1}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){const e=wn(t);this._selectedIndex!==e&&(this._selectedIndex=t,this.selectedIndexChanged=!0,this.keyManager&&this.keyManager.updateActiveItem(t))}get focusIndex(){return this.keyManager?this.keyManager.activeItemIndex:0}set focusIndex(t){this.isValidIndex(t)&&this.focusIndex!==t&&this.keyManager&&this.keyManager.setActiveItem(t)}get showAddButton(){return 0===this.hiddenItems.length&&this.addable}ngOnInit(){}ngAfterViewInit(){const t=this.dir?this.dir.change:Object(wi.a)(null),e=this.viewportRuler.change(150),n=()=>{this.updateScrollListPosition(),this.alignInkBarToSelectedTab()};this.keyManager=new pp(this.items).withHorizontalOrientation(this.getLayoutDirection()).withWrap(),this.keyManager.updateActiveItem(0),Wi(n),Object(bl.a)(this.nzResizeObserver.observe(this.navWarpRef),this.nzResizeObserver.observe(this.navListRef)).pipe(An(this.destroy$),ui(16,eX)).subscribe(()=>{n()}),Object(bl.a)(t,e,this.items.changes).pipe(An(this.destroy$)).subscribe(()=>{Promise.resolve().then(n),this.keyManager.withHorizontalOrientation(this.getLayoutDirection())}),this.keyManager.change.pipe(An(this.destroy$)).subscribe(t=>{this.indexFocused.emit(t),this.setTabFocus(t),this.scrollToTab(this.keyManager.activeItem)})}ngAfterContentChecked(){this.selectedIndexChanged&&(this.updateScrollListPosition(),this.alignInkBarToSelectedTab(),this.selectedIndexChanged=!1,this.cdr.markForCheck())}ngOnDestroy(){clearTimeout(this.lockAnimationTimeoutId),clearTimeout(this.cssTransformTimeWaitingId),this.destroy$.next(),this.destroy$.complete()}onSelectedFromMenu(t){const e=this.items.toArray().findIndex(e=>e===t);-1!==e&&(this.keyManager.updateActiveItem(e),this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this.scrollToTab(t)))}onOffsetChange(t){if("horizontal"===this.position){if(-1===this.lockAnimationTimeoutId){if(this.transformX>=0&&t.x>0)return;if(this.transformX<=this.wrapperWidth-this.scrollListWidth&&t.x<0)return}t.event.preventDefault(),this.transformX=this.clampTransformX(this.transformX+t.x),this.setTransform(this.transformX,0)}else{if(-1===this.lockAnimationTimeoutId){if(this.transformY>=0&&t.y>0)return;if(this.transformY<=this.wrapperHeight-this.scrollListHeight&&t.y<0)return}t.event.preventDefault(),this.transformY=this.clampTransformY(this.transformY+t.y),this.setTransform(0,this.transformY)}this.lockAnimation(),this.setVisibleRange(),this.setPingStatus()}handleKeydown(t){const e=this.navWarpRef.nativeElement.contains(t.target);if(!_l(t)&&e)switch(t.keyCode){case 37:case 38:case 39:case 40:this.lockAnimation(),this.keyManager.onKeydown(t);break;case 13:case 32:this.focusIndex!==this.selectedIndex&&this.selectFocusedIndex.emit(this.focusIndex);break;default:this.keyManager.onKeydown(t)}}isValidIndex(t){if(!this.items)return!0;const e=this.items?this.items.toArray()[t]:null;return!!e&&!e.disabled}scrollToTab(t){if(!this.items.find(e=>e===t))return;const e=this.items.toArray();if("horizontal"===this.position){let n=this.transformX;if("rtl"===this.getLayoutDirection()){const i=e[0].left+e[0].width-t.left-t.width;i<this.transformX?n=i:i+t.width>this.transformX+this.wrapperWidth&&(n=i+t.width-this.wrapperWidth)}else t.left<-this.transformX?n=-t.left:t.left+t.width>-this.transformX+this.wrapperWidth&&(n=-(t.left+t.width-this.wrapperWidth));this.transformX=n,this.transformY=0,this.setTransform(n,0)}else{let e=this.transformY;t.top<-this.transformY?e=-t.top:t.top+t.height>-this.transformY+this.wrapperHeight&&(e=-(t.top+t.height-this.wrapperHeight)),this.transformY=e,this.transformX=0,this.setTransform(0,e)}clearTimeout(this.cssTransformTimeWaitingId),this.cssTransformTimeWaitingId=setTimeout(()=>{this.setVisibleRange()},150)}lockAnimation(){-1===this.lockAnimationTimeoutId&&this.ngZone.runOutsideAngular(()=>{this.navListRef.nativeElement.style.transition="none",this.lockAnimationTimeoutId=setTimeout(()=>{this.navListRef.nativeElement.style.transition="",this.lockAnimationTimeoutId=-1},150)})}setTransform(t,e){this.navListRef.nativeElement.style.transform=`translate(${t}px, ${e}px)`}clampTransformX(t){const e=this.wrapperWidth-this.scrollListWidth;return"rtl"===this.getLayoutDirection()?Math.max(Math.min(e,t),0):Math.min(Math.max(e,t),0)}clampTransformY(t){return Math.min(Math.max(this.wrapperHeight-this.scrollListHeight,t),0)}updateScrollListPosition(){this.resetSizes(),this.transformX=this.clampTransformX(this.transformX),this.transformY=this.clampTransformY(this.transformY),this.setVisibleRange(),this.setPingStatus(),this.keyManager&&(this.keyManager.updateActiveItem(this.keyManager.activeItemIndex),this.keyManager.activeItem&&this.scrollToTab(this.keyManager.activeItem))}resetSizes(){this.addButtonWidth=this.addBtnRef?this.addBtnRef.getElementWidth():0,this.addButtonHeight=this.addBtnRef?this.addBtnRef.getElementHeight():0,this.operationWidth=this.operationRef.getElementWidth(),this.operationHeight=this.operationRef.getElementHeight(),this.wrapperWidth=this.navWarpRef.nativeElement.offsetWidth||0,this.wrapperHeight=this.navWarpRef.nativeElement.offsetHeight||0,this.scrollListHeight=this.navListRef.nativeElement.offsetHeight||0,this.scrollListWidth=this.navListRef.nativeElement.offsetWidth||0}alignInkBarToSelectedTab(){const t=this.items&&this.items.length?this.items.toArray()[this.selectedIndex]:null,e=t?t.elementRef.nativeElement:null;e&&this.inkBar.alignToElement(e.parentElement)}setPingStatus(){const t={top:!1,right:!1,bottom:!1,left:!1},e=this.navWarpRef.nativeElement;"horizontal"===this.position?"rtl"===this.getLayoutDirection()?(t.right=this.transformX>0,t.left=this.transformX+this.wrapperWidth<this.scrollListWidth):(t.left=this.transformX<0,t.right=-this.transformX+this.wrapperWidth<this.scrollListWidth):(t.top=this.transformY<0,t.bottom=-this.transformY+this.wrapperHeight<this.scrollListHeight),Object.keys(t).forEach(n=>{const i=`ant-tabs-nav-wrap-ping-${n}`;t[n]?e.classList.add(i):e.classList.remove(i)})}setVisibleRange(){let t,e,n,i,r,o;const s=this.items.toArray(),a={width:0,height:0,left:0,top:0,right:0},c=t=>{let n;return n="right"===e?s[0].left+s[0].width-s[t].left-s[t].width:(s[t]||a)[e],n};"horizontal"===this.position?(t="width",i=this.wrapperWidth,r=this.scrollListWidth-(this.hiddenItems.length?this.operationWidth:0),o=this.addButtonWidth,n=Math.abs(this.transformX),"rtl"===this.getLayoutDirection()?(e="right",this.pingRight=this.transformX>0,this.pingLeft=this.transformX+this.wrapperWidth<this.scrollListWidth):(this.pingLeft=this.transformX<0,this.pingRight=-this.transformX+this.wrapperWidth<this.scrollListWidth,e="left")):(t="height",i=this.wrapperHeight,r=this.scrollListHeight-(this.hiddenItems.length?this.operationHeight:0),o=this.addButtonHeight,e="top",n=-this.transformY,this.pingTop=this.transformY<0,this.pingBottom=-this.transformY+this.wrapperHeight<this.scrollListHeight);let l=i;if(r+o>i&&(l=i-o),!s.length)return this.hiddenItems=[],void this.cdr.markForCheck();const u=s.length;let h=u;for(let g=0;g<u;g+=1)if(c(g)+(s[g]||a)[t]>n+l){h=g-1;break}let d=0;for(let g=u-1;g>=0;g-=1)if(c(g)<n){d=g+1;break}const p=s.slice(0,d),f=s.slice(h+1);this.hiddenItems=[...p,...f],this.cdr.markForCheck()}getLayoutDirection(){return this.dir&&"rtl"===this.dir.value?"rtl":"ltr"}setTabFocus(t){}ngOnChanges(t){const{position:e}=t;e&&!e.isFirstChange()&&(this.alignInkBarToSelectedTab(),this.lockAnimation(),this.updateScrollListPosition())}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h),r.Rb(r.A),r.Rb(nl),r.Rb(yj),r.Rb(bn,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-tabs-nav"]],contentQueries:function(t,e,n){if(1&t&&r.Kb(n,ZB,1),2&t){let t;r.zc(t=r.gc())&&(e.items=t)}},viewQuery:function(t,e){if(1&t&&(r.Qc(IB,3),r.Qc(DB,3),r.Qc(tX,3),r.Qc($B,1),r.Qc(HB,3)),2&t){let t;r.zc(t=r.gc())&&(e.navWarpRef=t.first),r.zc(t=r.gc())&&(e.navListRef=t.first),r.zc(t=r.gc())&&(e.operationRef=t.first),r.zc(t=r.gc())&&(e.addBtnRef=t.first),r.zc(t=r.gc())&&(e.inkBar=t.first)}},hostAttrs:["role","tablist",1,"ant-tabs-nav"],hostBindings:function(t,e){1&t&&r.fc("keydown",function(t){return e.handleKeydown(t)})},inputs:{position:"position",addable:"addable",hideBar:"hideBar",addIcon:"addIcon",inkBarAnimated:"inkBarAnimated",selectedIndex:"selectedIndex",extraTemplate:"extraTemplate"},outputs:{indexFocused:"indexFocused",selectFocusedIndex:"selectFocusedIndex",addClicked:"addClicked",tabScroll:"tabScroll"},exportAs:["nzTabsNav"],features:[r.Bb],ngContentSelectors:PB,decls:9,vars:16,consts:[[1,"ant-tabs-nav-wrap"],["navWarp",""],["nzTabScrollList","",1,"ant-tabs-nav-list",3,"offsetChange","tabScroll"],["navList",""],["nz-tab-add-button","",3,"addIcon","click",4,"ngIf"],["nz-tabs-ink-bar","",3,"hidden","position","animated"],[3,"addIcon","addable","items","addClicked","selected"],["class","ant-tabs-extra-content",4,"ngIf"],["nz-tab-add-button","",3,"addIcon","click"],[1,"ant-tabs-extra-content"],[3,"ngTemplateOutlet"]],template:function(t,e){1&t&&(r.pc(),r.Xb(0,"div",0,1),r.Xb(2,"div",2,3),r.fc("offsetChange",function(t){return e.onOffsetChange(t)})("tabScroll",function(t){return e.tabScroll.emit(t)}),r.oc(4),r.Kc(5,MB,1,1,"button",4),r.Sb(6,"div",5),r.Wb(),r.Wb(),r.Xb(7,"nz-tab-nav-operation",6),r.fc("addClicked",function(){return e.addClicked.emit()})("selected",function(t){return e.onSelectedFromMenu(t)}),r.Wb(),r.Kc(8,AB,2,1,"div",7)),2&t&&(r.Jb("ant-tabs-nav-wrap-ping-left",e.pingLeft)("ant-tabs-nav-wrap-ping-right",e.pingRight)("ant-tabs-nav-wrap-ping-top",e.pingTop)("ant-tabs-nav-wrap-ping-bottom",e.pingBottom),r.Db(5),r.qc("ngIf",e.showAddButton),r.Db(1),r.qc("hidden",e.hideBar)("position",e.position)("animated",e.inkBarAnimated),r.Db(1),r.qc("addIcon",e.addIcon)("addable",e.addable)("items",e.hiddenItems),r.Db(1),r.qc("ngIf",e.extraTemplate))},directives:function(){return[oX,i.n,HB,tX,$B,i.s]},encapsulation:2,changeDetection:0}),t})(),iX=(()=>{class t{constructor(){this.content=null,this.active=!1,this.tabPaneAnimated=!0,this.forceRender=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["","nz-tab-body",""]],hostAttrs:[1,"ant-tabs-tabpane"],hostVars:12,hostBindings:function(t,e){2&t&&(r.Eb("tabindex",e.active?0:-1)("aria-hidden",!e.active),r.Hc("visibility",e.tabPaneAnimated?e.active?null:"hidden":null)("height",e.tabPaneAnimated?e.active?null:0:null)("overflow-y",e.tabPaneAnimated?e.active?null:"none":null)("display",e.tabPaneAnimated||e.active?null:"none"),r.Jb("ant-tabs-tabpane-active",e.active))},inputs:{content:"content",active:"active",tabPaneAnimated:"tabPaneAnimated",forceRender:"forceRender"},exportAs:["nzTabBody"],attrs:LB,decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(t,e){1&t&&r.Kc(0,jB,2,1,"ng-container",0),2&t&&r.qc("ngIf",e.active||e.forceRender)},directives:[i.n,i.s],encapsulation:2,changeDetection:0}),t})();const rX=Math.pow(.995,20);let oX=(()=>{class t{constructor(t,e){this.ngZone=t,this.elementRef=e,this.lastWheelDirection=null,this.lastWheelTimestamp=0,this.lastTimestamp=0,this.lastTimeDiff=0,this.lastMixedWheel=0,this.lastWheelPrevent=!1,this.touchPosition=null,this.lastOffset=null,this.motion=-1,this.unsubscribe=()=>{},this.offsetChange=new r.n,this.tabScroll=new r.n,this.onTouchEnd=t=>{if(!this.touchPosition)return;const e=this.lastOffset,n=this.lastTimeDiff;if(this.lastOffset=this.touchPosition=null,e){const i=e.x/n,r=e.y/n,o=Math.abs(i),s=Math.abs(r);if(Math.max(o,s)<.1)return;let a=i,c=r;this.motion=window.setInterval(()=>{Math.abs(a)<.01&&Math.abs(c)<.01?window.clearInterval(this.motion):(a*=rX,c*=rX,this.onOffset(20*a,20*c,t))},20)}},this.onTouchMove=t=>{if(!this.touchPosition)return;t.preventDefault();const{screenX:e,screenY:n}=t.touches[0],i=e-this.touchPosition.x,r=n-this.touchPosition.y;this.onOffset(i,r,t);const o=Date.now();this.lastTimeDiff=o-this.lastTimestamp,this.lastTimestamp=o,this.lastOffset={x:i,y:r},this.touchPosition={x:e,y:n}},this.onTouchStart=t=>{const{screenX:e,screenY:n}=t.touches[0];this.touchPosition={x:e,y:n},window.clearInterval(this.motion)},this.onWheel=t=>{const{deltaX:e,deltaY:n}=t;let i;const r=Math.abs(e),o=Math.abs(n);r===o?i="x"===this.lastWheelDirection?e:n:r>o?(i=e,this.lastWheelDirection="x"):(i=n,this.lastWheelDirection="y");const s=Date.now(),a=Math.abs(i);(s-this.lastWheelTimestamp>100||a-this.lastMixedWheel>10)&&(this.lastWheelPrevent=!1),this.onOffset(-i,-i,t),(t.defaultPrevented||this.lastWheelPrevent)&&(this.lastWheelPrevent=!0),this.lastWheelTimestamp=s,this.lastMixedWheel=a}}ngOnInit(){this.unsubscribe=this.ngZone.runOutsideAngular(()=>{const t=this.elementRef.nativeElement,e=Mc(t,"wheel"),n=Mc(t,"touchstart"),i=Mc(t,"touchmove"),r=Mc(t,"touchend"),o=new Yi.a;return o.add(this.subscribeWrap("wheel",e,this.onWheel)),o.add(this.subscribeWrap("touchstart",n,this.onTouchStart)),o.add(this.subscribeWrap("touchmove",i,this.onTouchMove)),o.add(this.subscribeWrap("touchend",r,this.onTouchEnd)),()=>{o.unsubscribe()}})}subscribeWrap(t,e,n){return e.subscribe(e=>{this.tabScroll.emit({type:t,event:e}),e.defaultPrevented||n(e)})}onOffset(t,e,n){this.ngZone.run(()=>{this.offsetChange.emit({x:t,y:e,event:n})})}ngOnDestroy(){this.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.A),r.Rb(r.l))},t.\u0275dir=r.Mb({type:t,selectors:[["","nzTabScrollList",""]],outputs:{offsetChange:"offsetChange",tabScroll:"tabScroll"}}),t})(),sX=(()=>{class t{constructor(){this.closeIcon="close"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-tab-close-button"],["button","nz-tab-close-button",""]],hostAttrs:["aria-label","Close tab","type","button",1,"ant-tabs-tab-remove"],inputs:{closeIcon:"closeIcon"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","outline",3,"nzType"]],template:function(t,e){1&t&&r.Kc(0,NB,2,1,"ng-container",0),2&t&&r.qc("nzStringTemplateOutlet",e.closeIcon)},directives:[ei,No],encapsulation:2}),t})();class aX{}let cX=0,lX=(()=>{class t{constructor(t,e,n,i){this.nzConfigService=t,this.cdr=e,this.directionality=n,this.router=i,this._nzModuleName="tabs",this.nzTabPosition="top",this.nzCanDeactivate=null,this.nzAddIcon="plus",this.nzTabBarStyle=null,this.nzType="line",this.nzSize="default",this.nzAnimated=!0,this.nzTabBarGutter=void 0,this.nzHideAdd=!1,this.nzCentered=!1,this.nzHideAll=!1,this.nzLinkRouter=!1,this.nzLinkExact=!0,this.nzSelectChange=new r.n(!0),this.nzSelectedIndexChange=new r.n,this.nzTabListScroll=new r.n,this.nzClose=new r.n,this.nzAdd=new r.n,this.allTabs=new r.E,this.tabs=new r.E,this.dir="ltr",this.destroy$=new xe.a,this.indexToSelect=0,this.selectedIndex=null,this.tabLabelSubscription=Yi.a.EMPTY,this.tabsSubscription=Yi.a.EMPTY,this.canDeactivateSubscription=Yi.a.EMPTY,this.tabSetId=cX++}get nzSelectedIndex(){return this.selectedIndex}set nzSelectedIndex(t){this.indexToSelect=wn(t,null)}get position(){return-1===["top","bottom"].indexOf(this.nzTabPosition)?"vertical":"horizontal"}get addable(){return"editable-card"===this.nzType&&!this.nzHideAdd}get closable(){return"editable-card"===this.nzType}get line(){return"line"===this.nzType}get inkBarAnimated(){return this.line&&("boolean"==typeof this.nzAnimated?this.nzAnimated:this.nzAnimated.inkBar)}get tabPaneAnimated(){return"horizontal"===this.position&&this.line&&("boolean"==typeof this.nzAnimated?this.nzAnimated:this.nzAnimated.tabPane)}ngOnInit(){var t;this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.tabs.destroy(),this.tabLabelSubscription.unsubscribe(),this.tabsSubscription.unsubscribe(),this.canDeactivateSubscription.unsubscribe()}ngAfterContentInit(){Promise.resolve().then(()=>{this.setUpRouter()}),this.subscribeToTabLabels(),this.subscribeToAllTabChanges(),this.tabsSubscription=this.tabs.changes.subscribe(()=>{if(this.clampTabIndex(this.indexToSelect)===this.selectedIndex){const t=this.tabs.toArray();for(let e=0;e<t.length;e++)if(t[e].isActive){this.indexToSelect=this.selectedIndex=e;break}}this.subscribeToTabLabels(),this.cdr.markForCheck()})}ngAfterContentChecked(){const t=this.indexToSelect=this.clampTabIndex(this.indexToSelect);if(this.selectedIndex!==t){const e=null==this.selectedIndex;e||this.nzSelectChange.emit(this.createChangeEvent(t)),Promise.resolve().then(()=>{this.tabs.forEach((e,n)=>e.isActive=n===t),e||this.nzSelectedIndexChange.emit(t)})}this.tabs.forEach((e,n)=>{e.position=n-t,null==this.selectedIndex||0!==e.position||e.origin||(e.origin=t-this.selectedIndex)}),this.selectedIndex!==t&&(this.selectedIndex=t,this.cdr.markForCheck())}onClose(t,e){e.preventDefault(),e.stopPropagation(),this.nzClose.emit({index:t})}onAdd(){this.nzAdd.emit()}clampTabIndex(t){return Math.min(this.tabs.length-1,Math.max(t||0,0))}createChangeEvent(t){const e=new aX;return e.index=t,this.tabs&&this.tabs.length&&(e.tab=this.tabs.toArray()[t],this.tabs.forEach((e,n)=>{n!==t&&e.nzDeselect.emit()}),e.tab.nzSelect.emit()),e}subscribeToTabLabels(){this.tabLabelSubscription&&this.tabLabelSubscription.unsubscribe(),this.tabLabelSubscription=Object(bl.a)(...this.tabs.map(t=>t.stateChanges)).subscribe(()=>this.cdr.markForCheck())}subscribeToAllTabChanges(){this.allTabs.changes.pipe(Object(Mn.a)(this.allTabs)).subscribe(t=>{this.tabs.reset(t.filter(t=>t.closestTabSet===this)),this.tabs.notifyOnChanges()})}canDeactivateFun(t,e){return"function"==typeof this.nzCanDeactivate?(Se(n=this.nzCanDeactivate(t,e))?n:Pi(n)?Object(W.a)(Promise.resolve(n)):Object(wi.a)(n)).pipe(Object(pm.a)(),An(this.destroy$)):Object(wi.a)(!0);var n}clickNavItem(t,e,n){t.nzDisabled||(t.nzClick.emit(),this.isRouterLinkClickEvent(e,n)||this.setSelectedIndex(e))}isRouterLinkClickEvent(t,e){var n,i;const r=e.target;return!!this.nzLinkRouter&&!!(null===(i=null===(n=this.tabs.toArray()[t])||void 0===n?void 0:n.linkDirective)||void 0===i?void 0:i.elementRef.nativeElement.contains(r))}contextmenuNavItem(t,e){t.nzDisabled||t.nzContextmenu.emit(e)}setSelectedIndex(t){this.canDeactivateSubscription.unsubscribe(),this.canDeactivateSubscription=this.canDeactivateFun(this.selectedIndex,t).subscribe(e=>{e&&(this.nzSelectedIndex=t,this.tabNavBarRef.focusIndex=t,this.cdr.markForCheck())})}getTabIndex(t,e){return t.nzDisabled?null:this.selectedIndex===e?0:-1}getTabContentId(t){return`nz-tabs-${this.tabSetId}-tab-${t}`}setUpRouter(){if(this.nzLinkRouter){if(!this.router)throw new Error(`${bi} you should import 'RouterModule' if you want to use 'nzLinkRouter'!`);this.router.events.pipe(An(this.destroy$),Object(di.a)(t=>t instanceof dm.c),Object(Mn.a)(!0),IA(0)).subscribe(()=>{this.updateRouterActive(),this.cdr.markForCheck()})}}updateRouterActive(){if(this.router.navigated){const t=this.findShouldActiveTabIndex();t!==this.selectedIndex&&this.setSelectedIndex(t),this.nzHideAll=-1===t}}findShouldActiveTabIndex(){const t=this.tabs.toArray(),e=this.isLinkActive(this.router);return t.findIndex(t=>{const n=t.linkDirective;return!!n&&(e(n.routerLink)||e(n.routerLinkWithHref))})}isLinkActive(t){return e=>!!e&&t.isActive(e.urlTree,this.nzLinkExact)}getTabContentMarginValue(){return 100*-(this.nzSelectedIndex||0)}getTabContentMarginLeft(){return this.tabPaneAnimated&&"rtl"!==this.dir?this.getTabContentMarginValue()+"%":""}getTabContentMarginRight(){return this.tabPaneAnimated&&"rtl"===this.dir?this.getTabContentMarginValue()+"%":""}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Do),r.Rb(r.h),r.Rb(bn,8),r.Rb(dm.g,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-tabset"]],contentQueries:function(t,e,n){if(1&t&&r.Kb(n,JB,1),2&t){let t;r.zc(t=r.gc())&&(e.allTabs=t)}},viewQuery:function(t,e){if(1&t&&r.Qc(nX,1),2&t){let t;r.zc(t=r.gc())&&(e.tabNavBarRef=t.first)}},hostAttrs:[1,"ant-tabs"],hostVars:24,hostBindings:function(t,e){2&t&&r.Jb("ant-tabs-card","card"===e.nzType||"editable-card"===e.nzType)("ant-tabs-editable","editable-card"===e.nzType)("ant-tabs-editable-card","editable-card"===e.nzType)("ant-tabs-centered",e.nzCentered)("ant-tabs-rtl","rtl"===e.dir)("ant-tabs-top","top"===e.nzTabPosition)("ant-tabs-bottom","bottom"===e.nzTabPosition)("ant-tabs-left","left"===e.nzTabPosition)("ant-tabs-right","right"===e.nzTabPosition)("ant-tabs-default","default"===e.nzSize)("ant-tabs-small","small"===e.nzSize)("ant-tabs-large","large"===e.nzSize)},inputs:{nzTabPosition:"nzTabPosition",nzCanDeactivate:"nzCanDeactivate",nzAddIcon:"nzAddIcon",nzTabBarStyle:"nzTabBarStyle",nzType:"nzType",nzSize:"nzSize",nzAnimated:"nzAnimated",nzTabBarGutter:"nzTabBarGutter",nzHideAdd:"nzHideAdd",nzCentered:"nzCentered",nzHideAll:"nzHideAll",nzLinkRouter:"nzLinkRouter",nzLinkExact:"nzLinkExact",nzSelectedIndex:"nzSelectedIndex",nzTabBarExtraContent:"nzTabBarExtraContent"},outputs:{nzSelectChange:"nzSelectChange",nzSelectedIndexChange:"nzSelectedIndexChange",nzTabListScroll:"nzTabListScroll",nzClose:"nzClose",nzAdd:"nzAdd"},exportAs:["nzTabset"],features:[r.Cb([{provide:QB,useExisting:t}])],decls:4,vars:16,consts:[[3,"ngStyle","selectedIndex","inkBarAnimated","addable","addIcon","hideBar","position","extraTemplate","tabScroll","selectFocusedIndex","addClicked",4,"ngIf"],[1,"ant-tabs-content-holder"],[1,"ant-tabs-content"],["nz-tab-body","",3,"active","content","forceRender","tabPaneAnimated",4,"ngFor","ngForOf"],[3,"ngStyle","selectedIndex","inkBarAnimated","addable","addIcon","hideBar","position","extraTemplate","tabScroll","selectFocusedIndex","addClicked"],["class","ant-tabs-tab",3,"margin-right","margin-bottom","ant-tabs-tab-active","ant-tabs-tab-disabled","click","contextmenu",4,"ngFor","ngForOf"],[1,"ant-tabs-tab",3,"click","contextmenu"],["role","tab","nzTabNavItem","","cdkMonitorElementFocus","",1,"ant-tabs-tab-btn",3,"disabled","tab","active"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-tab-close-button","",3,"closeIcon","click",4,"ngIf"],["nz-tab-close-button","",3,"closeIcon","click"],["nz-tab-body","",3,"active","content","forceRender","tabPaneAnimated"]],template:function(t,e){1&t&&(r.Kc(0,XB,2,9,"nz-tabs-nav",0),r.Xb(1,"div",1),r.Xb(2,"div",2),r.Kc(3,UB,1,4,"div",3),r.Wb(),r.Wb()),2&t&&(r.qc("ngIf",e.tabs.length),r.Db(2),r.Hc("margin-left",e.getTabContentMarginLeft())("margin-right",e.getTabContentMarginRight()),r.Jb("ant-tabs-content-top","top"===e.nzTabPosition)("ant-tabs-content-bottom","bottom"===e.nzTabPosition)("ant-tabs-content-left","left"===e.nzTabPosition)("ant-tabs-content-right","right"===e.nzTabPosition)("ant-tabs-content-animated",e.tabPaneAnimated),r.Db(1),r.qc("ngForOf",e.tabs))},directives:[i.n,i.m,nX,i.o,ZB,kp,ei,sX,iX],encapsulation:2}),sr([Mo(),ar("design:type",String)],t.prototype,"nzType",void 0),sr([Mo(),ar("design:type",String)],t.prototype,"nzSize",void 0),sr([Mo(),ar("design:type",Object)],t.prototype,"nzAnimated",void 0),sr([Mo(),ar("design:type",Number)],t.prototype,"nzTabBarGutter",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzHideAdd",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzCentered",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzHideAll",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzLinkRouter",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzLinkExact",void 0),t})(),uX=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,dp,Vo,ii,Bn,Ep,al,xN]]}),t})();function hX(t,e){1&t&&r.oc(0)}const dX=["*"];function pX(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc(3);r.Db(1),r.Nc(t.nzTitle)}}function fX(t,e){if(1&t&&(r.Xb(0,"div",11),r.Kc(1,pX,2,1,"ng-container",12),r.Wb()),2&t){const t=r.jc(2);r.Db(1),r.qc("nzStringTemplateOutlet",t.nzTitle)}}function gX(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc(3);r.Db(1),r.Nc(t.nzExtra)}}function mX(t,e){if(1&t&&(r.Xb(0,"div",13),r.Kc(1,gX,2,1,"ng-container",12),r.Wb()),2&t){const t=r.jc(2);r.Db(1),r.qc("nzStringTemplateOutlet",t.nzExtra)}}function bX(t,e){}function yX(t,e){if(1&t&&(r.Vb(0),r.Kc(1,bX,0,0,"ng-template",14),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.qc("ngTemplateOutlet",t.listOfNzCardTabComponent.template)}}function vX(t,e){if(1&t&&(r.Xb(0,"div",6),r.Xb(1,"div",7),r.Kc(2,fX,2,1,"div",8),r.Kc(3,mX,2,1,"div",9),r.Wb(),r.Kc(4,yX,2,1,"ng-container",10),r.Wb()),2&t){const t=r.jc();r.Db(2),r.qc("ngIf",t.nzTitle),r.Db(1),r.qc("ngIf",t.nzExtra),r.Db(1),r.qc("ngIf",t.listOfNzCardTabComponent)}}function _X(t,e){}function wX(t,e){if(1&t&&(r.Xb(0,"div",15),r.Kc(1,_X,0,0,"ng-template",14),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("ngTemplateOutlet",t.nzCover)}}function zX(t,e){1&t&&(r.Vb(0),r.oc(1),r.Ub())}function CX(t,e){1&t&&r.Sb(0,"nz-card-loading")}function SX(t,e){}function xX(t,e){if(1&t&&(r.Xb(0,"li"),r.Xb(1,"span"),r.Kc(2,SX,0,0,"ng-template",14),r.Wb(),r.Wb()),2&t){const t=e.$implicit,n=r.jc(2);r.Hc("width",100/n.nzActions.length,"%"),r.Db(2),r.qc("ngTemplateOutlet",t)}}function OX(t,e){if(1&t&&(r.Xb(0,"ul",16),r.Kc(1,xX,3,3,"li",17),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("ngForOf",t.nzActions)}}function kX(t,e){1&t&&(r.Xb(0,"div",4),r.Sb(1,"div",5),r.Wb()),2&t&&r.qc("ngClass",e.$implicit)}function TX(t,e){if(1&t&&(r.Xb(0,"div",2),r.Kc(1,kX,2,1,"div",3),r.Wb()),2&t){const t=e.$implicit;r.Db(1),r.qc("ngForOf",t)}}let EX=(()=>{class t{constructor(t){this.elementRef=t,this.nzHoverable=!0,this.elementRef.nativeElement.classList.add("ant-card-grid")}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l))},t.\u0275dir=r.Mb({type:t,selectors:[["","nz-card-grid",""]],hostVars:2,hostBindings:function(t,e){2&t&&r.Jb("ant-card-hoverable",e.nzHoverable)},inputs:{nzHoverable:"nzHoverable"},exportAs:["nzCardGrid"]}),sr([Di(),ar("design:type",Object)],t.prototype,"nzHoverable",void 0),t})(),IX=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-card-tab"]],viewQuery:function(t,e){if(1&t&&r.Qc(r.M,3),2&t){let t;r.zc(t=r.gc())&&(e.template=t.first)}},exportAs:["nzCardTab"],ngContentSelectors:dX,decls:1,vars:0,template:function(t,e){1&t&&(r.pc(),r.Kc(0,hX,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),t})(),DX=(()=>{class t{constructor(t,e,n,i){this.nzConfigService=t,this.cdr=e,this.elementRef=n,this.directionality=i,this._nzModuleName="card",this.nzBordered=!0,this.nzBorderless=!1,this.nzLoading=!1,this.nzHoverable=!1,this.nzBodyStyle=null,this.nzActions=[],this.nzType=null,this.nzSize="default",this.dir="ltr",this.destroy$=new xe.a,this.elementRef.nativeElement.classList.add("ant-card"),this.nzConfigService.getConfigChangeEventForComponent("card").pipe(An(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){var t;null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Do),r.Rb(r.h),r.Rb(r.l),r.Rb(bn,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-card"]],contentQueries:function(t,e,n){if(1&t&&(r.Kb(n,IX,1),r.Kb(n,EX,0)),2&t){let t;r.zc(t=r.gc())&&(e.listOfNzCardTabComponent=t.first),r.zc(t=r.gc())&&(e.listOfNzCardGridDirective=t)}},hostVars:16,hostBindings:function(t,e){2&t&&r.Jb("ant-card-loading",e.nzLoading)("ant-card-bordered",!1===e.nzBorderless&&e.nzBordered)("ant-card-hoverable",e.nzHoverable)("ant-card-small","small"===e.nzSize)("ant-card-contain-grid",e.listOfNzCardGridDirective&&e.listOfNzCardGridDirective.length)("ant-card-type-inner","inner"===e.nzType)("ant-card-contain-tabs",!!e.listOfNzCardTabComponent)("ant-card-rtl","rtl"===e.dir)},inputs:{nzBordered:"nzBordered",nzBorderless:"nzBorderless",nzLoading:"nzLoading",nzHoverable:"nzHoverable",nzBodyStyle:"nzBodyStyle",nzActions:"nzActions",nzType:"nzType",nzSize:"nzSize",nzCover:"nzCover",nzTitle:"nzTitle",nzExtra:"nzExtra"},exportAs:["nzCard"],ngContentSelectors:dX,decls:7,vars:6,consts:[["class","ant-card-head",4,"ngIf"],["class","ant-card-cover",4,"ngIf"],[1,"ant-card-body",3,"ngStyle"],[4,"ngIf","ngIfElse"],["loadingTemplate",""],["class","ant-card-actions",4,"ngIf"],[1,"ant-card-head"],[1,"ant-card-head-wrapper"],["class","ant-card-head-title",4,"ngIf"],["class","ant-card-extra",4,"ngIf"],[4,"ngIf"],[1,"ant-card-head-title"],[4,"nzStringTemplateOutlet"],[1,"ant-card-extra"],[3,"ngTemplateOutlet"],[1,"ant-card-cover"],[1,"ant-card-actions"],[3,"width",4,"ngFor","ngForOf"]],template:function(t,e){if(1&t&&(r.pc(),r.Kc(0,vX,5,3,"div",0),r.Kc(1,wX,2,1,"div",1),r.Xb(2,"div",2),r.Kc(3,zX,2,0,"ng-container",3),r.Kc(4,CX,1,0,"ng-template",null,4,r.Lc),r.Wb(),r.Kc(6,OX,2,1,"ul",5)),2&t){const t=r.Ac(5);r.qc("ngIf",e.nzTitle||e.nzExtra||e.listOfNzCardTabComponent),r.Db(1),r.qc("ngIf",e.nzCover),r.Db(1),r.qc("ngStyle",e.nzBodyStyle),r.Db(1),r.qc("ngIf",!e.nzLoading)("ngIfElse",t),r.Db(3),r.qc("ngIf",e.nzActions.length)}},directives:function(){return[i.n,i.o,ei,i.s,MX,i.m]},encapsulation:2,changeDetection:0}),sr([Mo(),Di(),ar("design:type",Boolean)],t.prototype,"nzBordered",void 0),sr([Mo(),Di(),ar("design:type",Boolean)],t.prototype,"nzBorderless",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzLoading",void 0),sr([Mo(),Di(),ar("design:type",Boolean)],t.prototype,"nzHoverable",void 0),sr([Mo(),ar("design:type",String)],t.prototype,"nzSize",void 0),t})(),MX=(()=>{class t{constructor(t){this.elementRef=t,this.listOfLoading=[["ant-col-22"],["ant-col-8","ant-col-15"],["ant-col-6","ant-col-18"],["ant-col-13","ant-col-9"],["ant-col-4","ant-col-3","ant-col-16"],["ant-col-8","ant-col-6","ant-col-8"]],this.elementRef.nativeElement.classList.add("ant-card-loading-content")}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-card-loading"]],exportAs:["nzCardLoading"],decls:2,vars:1,consts:[[1,"ant-card-loading-content"],["class","ant-row","style","margin-left: -4px; margin-right: -4px;",4,"ngFor","ngForOf"],[1,"ant-row",2,"margin-left","-4px","margin-right","-4px"],["style","padding-left: 4px; padding-right: 4px;",3,"ngClass",4,"ngFor","ngForOf"],[2,"padding-left","4px","padding-right","4px",3,"ngClass"],[1,"ant-card-loading-block"]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.Kc(1,TX,2,1,"div",1),r.Wb()),2&t&&(r.Db(1),r.qc("ngForOf",e.listOfLoading))},directives:[i.m,i.l],encapsulation:2,changeDetection:0}),t})(),RX=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[i.c,ii],vn]}),t})();function AX(t,e){1&t&&r.oc(0)}const PX=["*"];function LX(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc(3);r.Db(1),r.Nc(t.nzTitle)}}function FX(t,e){if(1&t&&(r.Xb(0,"div",6),r.Kc(1,LX,2,1,"ng-container",7),r.Wb()),2&t){const t=r.jc(2);r.Db(1),r.qc("nzStringTemplateOutlet",t.nzTitle)}}function jX(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc(3);r.Db(1),r.Nc(t.nzExtra)}}function NX(t,e){if(1&t&&(r.Xb(0,"div",8),r.Kc(1,jX,2,1,"ng-container",7),r.Wb()),2&t){const t=r.jc(2);r.Db(1),r.qc("nzStringTemplateOutlet",t.nzExtra)}}function VX(t,e){if(1&t&&(r.Xb(0,"div",3),r.Kc(1,FX,2,1,"div",4),r.Kc(2,NX,2,1,"div",5),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("ngIf",t.nzTitle),r.Db(1),r.qc("ngIf",t.nzExtra)}}function WX(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc(2).$implicit;r.Db(1),r.Oc(" ",t.title," ")}}function qX(t,e){}function BX(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"td",12),r.Xb(2,"div",13),r.Xb(3,"span",14),r.Kc(4,WX,2,1,"ng-container",7),r.Wb(),r.Xb(5,"span",15),r.Kc(6,qX,0,0,"ng-template",16),r.Wb(),r.Wb(),r.Wb(),r.Ub()),2&t){const t=r.jc().$implicit,e=r.jc(3);r.Db(1),r.qc("colSpan",t.span),r.Db(2),r.Jb("ant-descriptions-item-no-colon",!e.nzColon),r.Db(1),r.qc("nzStringTemplateOutlet",t.title),r.Db(2),r.qc("ngTemplateOutlet",t.content)}}function XX(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc(3).$implicit;r.Db(1),r.Oc(" ",t.title," ")}}function UX(t,e){if(1&t&&(r.Xb(0,"td",14),r.Kc(1,XX,2,1,"ng-container",7),r.Wb()),2&t){const t=r.jc(2).$implicit;r.Db(1),r.qc("nzStringTemplateOutlet",t.title)}}function $X(t,e){}function HX(t,e){if(1&t&&(r.Vb(0),r.Kc(1,UX,2,1,"td",17),r.Xb(2,"td",18),r.Kc(3,$X,0,0,"ng-template",16),r.Wb(),r.Ub()),2&t){const t=r.jc().$implicit;r.Db(1),r.qc("nzStringTemplateOutlet",t.title),r.Db(1),r.qc("colSpan",2*t.span-1),r.Db(1),r.qc("ngTemplateOutlet",t.content)}}function KX(t,e){if(1&t&&(r.Vb(0),r.Kc(1,BX,7,5,"ng-container",2),r.Kc(2,HX,4,3,"ng-container",2),r.Ub()),2&t){const t=r.jc(3);r.Db(1),r.qc("ngIf",!t.nzBordered),r.Db(1),r.qc("ngIf",t.nzBordered)}}function GX(t,e){if(1&t&&(r.Xb(0,"tr",10),r.Kc(1,KX,3,2,"ng-container",11),r.Wb()),2&t){const t=e.$implicit;r.Db(1),r.qc("ngForOf",t)}}function YX(t,e){if(1&t&&(r.Vb(0),r.Kc(1,GX,2,1,"tr",9),r.Ub()),2&t){const t=r.jc();r.Db(1),r.qc("ngForOf",t.itemMatrix)}}function QX(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc().$implicit;r.Db(1),r.Oc(" ",t.title," ")}}function JX(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"td",12),r.Xb(2,"span",14),r.Kc(3,QX,2,1,"ng-container",7),r.Wb(),r.Wb(),r.Ub()),2&t){const t=e.$implicit,n=r.jc(4);r.Db(1),r.qc("colSpan",t.span),r.Db(1),r.Jb("ant-descriptions-item-no-colon",!n.nzColon),r.Db(1),r.qc("nzStringTemplateOutlet",t.title)}}function ZX(t,e){}function tU(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"td",12),r.Xb(2,"span",15),r.Kc(3,ZX,0,0,"ng-template",16),r.Wb(),r.Wb(),r.Ub()),2&t){const t=e.$implicit;r.Db(1),r.qc("colSpan",t.span),r.Db(2),r.qc("ngTemplateOutlet",t.content)}}function eU(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"tr",10),r.Kc(2,JX,4,4,"ng-container",11),r.Wb(),r.Xb(3,"tr",10),r.Kc(4,tU,4,2,"ng-container",11),r.Wb(),r.Ub()),2&t){const t=e.$implicit;r.Db(2),r.qc("ngForOf",t),r.Db(2),r.qc("ngForOf",t)}}function nU(t,e){if(1&t&&(r.Vb(0),r.Kc(1,eU,5,2,"ng-container",11),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.qc("ngForOf",t.itemMatrix)}}function iU(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc().$implicit;r.Db(1),r.Oc(" ",t.title," ")}}function rU(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"td",19),r.Kc(2,iU,2,1,"ng-container",7),r.Wb(),r.Ub()),2&t){const t=e.$implicit;r.Db(1),r.qc("colSpan",t.span),r.Db(1),r.qc("nzStringTemplateOutlet",t.title)}}function oU(t,e){}function sU(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"td",18),r.Kc(2,oU,0,0,"ng-template",16),r.Wb(),r.Ub()),2&t){const t=e.$implicit;r.Db(1),r.qc("colSpan",t.span),r.Db(1),r.qc("ngTemplateOutlet",t.content)}}function aU(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"tr",10),r.Kc(2,rU,3,2,"ng-container",11),r.Wb(),r.Xb(3,"tr",10),r.Kc(4,sU,3,2,"ng-container",11),r.Wb(),r.Ub()),2&t){const t=e.$implicit;r.Db(2),r.qc("ngForOf",t),r.Db(2),r.qc("ngForOf",t)}}function cU(t,e){if(1&t&&(r.Vb(0),r.Kc(1,aU,5,2,"ng-container",11),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.qc("ngForOf",t.itemMatrix)}}function lU(t,e){if(1&t&&(r.Vb(0),r.Kc(1,nU,2,1,"ng-container",2),r.Kc(2,cU,2,1,"ng-container",2),r.Ub()),2&t){const t=r.jc();r.Db(1),r.qc("ngIf",!t.nzBordered),r.Db(1),r.qc("ngIf",t.nzBordered)}}let uU=(()=>{class t{constructor(){this.nzSpan=1,this.nzTitle="",this.inputChange$=new xe.a}ngOnChanges(){this.inputChange$.next()}ngOnDestroy(){this.inputChange$.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-descriptions-item"]],viewQuery:function(t,e){if(1&t&&r.Qc(r.M,3),2&t){let t;r.zc(t=r.gc())&&(e.content=t.first)}},inputs:{nzSpan:"nzSpan",nzTitle:"nzTitle"},exportAs:["nzDescriptionsItem"],features:[r.Bb],ngContentSelectors:PX,decls:1,vars:0,template:function(t,e){1&t&&(r.pc(),r.Kc(0,AX,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),sr([Mi(),ar("design:type",Object)],t.prototype,"nzSpan",void 0),t})();const hU={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};let dU=(()=>{class t{constructor(t,e,n,i){this.nzConfigService=t,this.cdr=e,this.breakpointService=n,this.directionality=i,this._nzModuleName="descriptions",this.nzBordered=!1,this.nzLayout="horizontal",this.nzColumn=hU,this.nzSize="default",this.nzTitle="",this.nzColon=!0,this.itemMatrix=[],this.realColumn=3,this.dir="ltr",this.breakpoint=Ui.md,this.destroy$=new xe.a}ngOnInit(){var t;this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t})}ngOnChanges(t){t.nzColumn&&this.prepareMatrix()}ngAfterContentInit(){const t=this.items.changes.pipe(Object(Mn.a)(this.items),An(this.destroy$));Object(bl.a)(t,t.pipe(Object(Bc.a)(()=>Object(bl.a)(...this.items.map(t=>t.inputChange$)).pipe(ui(16)))),this.breakpointService.subscribe($i).pipe(Object(go.a)(t=>this.breakpoint=t))).pipe(An(this.destroy$)).subscribe(()=>{this.prepareMatrix(),this.cdr.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}prepareMatrix(){if(!this.items)return;let t=[],e=0;const n=this.realColumn=this.getColumn(),i=this.items.toArray(),r=i.length,o=[],s=()=>{o.push(t),t=[],e=0};for(let a=0;a<r;a++){const o=i[a],{nzTitle:c,content:l,nzSpan:u}=o;e+=u,e>=n?(e>n&&vi(`"nzColumn" is ${n} but we have row length ${e}`),t.push({title:c,content:l,span:n-(e-u)}),s()):a===r-1?(t.push({title:c,content:l,span:n-(e-u)}),s()):t.push({title:c,content:l,span:u})}this.itemMatrix=o}getColumn(){return"number"!=typeof this.nzColumn?this.nzColumn[this.breakpoint]:this.nzColumn}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Do),r.Rb(r.h),r.Rb(Ki),r.Rb(bn,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-descriptions"]],contentQueries:function(t,e,n){if(1&t&&r.Kb(n,uU,0),2&t){let t;r.zc(t=r.gc())&&(e.items=t)}},hostAttrs:[1,"ant-descriptions"],hostVars:8,hostBindings:function(t,e){2&t&&r.Jb("ant-descriptions-bordered",e.nzBordered)("ant-descriptions-middle","middle"===e.nzSize)("ant-descriptions-small","small"===e.nzSize)("ant-descriptions-rtl","rtl"===e.dir)},inputs:{nzBordered:"nzBordered",nzLayout:"nzLayout",nzColumn:"nzColumn",nzSize:"nzSize",nzTitle:"nzTitle",nzColon:"nzColon",nzExtra:"nzExtra"},exportAs:["nzDescriptions"],features:[r.Bb],decls:6,vars:3,consts:[["class","ant-descriptions-header",4,"ngIf"],[1,"ant-descriptions-view"],[4,"ngIf"],[1,"ant-descriptions-header"],["class","ant-descriptions-title",4,"ngIf"],["class","ant-descriptions-extra",4,"ngIf"],[1,"ant-descriptions-title"],[4,"nzStringTemplateOutlet"],[1,"ant-descriptions-extra"],["class","ant-descriptions-row",4,"ngFor","ngForOf"],[1,"ant-descriptions-row"],[4,"ngFor","ngForOf"],[1,"ant-descriptions-item",3,"colSpan"],[1,"ant-descriptions-item-container"],[1,"ant-descriptions-item-label"],[1,"ant-descriptions-item-content"],[3,"ngTemplateOutlet"],["class","ant-descriptions-item-label",4,"nzStringTemplateOutlet"],[1,"ant-descriptions-item-content",3,"colSpan"],[1,"ant-descriptions-item-label",3,"colSpan"]],template:function(t,e){1&t&&(r.Kc(0,VX,3,2,"div",0),r.Xb(1,"div",1),r.Xb(2,"table"),r.Xb(3,"tbody"),r.Kc(4,YX,2,1,"ng-container",2),r.Kc(5,lU,3,2,"ng-container",2),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.qc("ngIf",e.nzTitle||e.nzExtra),r.Db(4),r.qc("ngIf","horizontal"===e.nzLayout),r.Db(1),r.qc("ngIf","vertical"===e.nzLayout))},directives:[i.n,ei,i.m,i.s],encapsulation:2,changeDetection:0}),sr([Di(),Mo(),ar("design:type",Boolean)],t.prototype,"nzBordered",void 0),sr([Mo(),ar("design:type",Object)],t.prototype,"nzColumn",void 0),sr([Mo(),ar("design:type",String)],t.prototype,"nzSize",void 0),sr([Mo(),Di(),ar("design:type",Boolean)],t.prototype,"nzColon",void 0),t})(),pU=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,ii,Bn]]}),t})();function fU(t,e){if(1&t&&(r.Xb(0,"a",4),r.Mc(1,"Detalles"),r.Wb()),2&t){const t=r.jc();r.qc("routerLink",t.getDetailsRoute())}}function gU(t,e){if(1&t&&(r.Xb(0,"nz-descriptions-item",7),r.Xb(1,"div",8),r.Mc(2),r.Wb(),r.Wb()),2&t){const t=e.$implicit;r.rc("nzTitle",t.key),r.Db(2),r.Nc(t.value)}}function mU(t,e){if(1&t&&(r.Xb(0,"nz-descriptions",5),r.Kc(1,gU,3,2,"nz-descriptions-item",6),r.kc(2,"keyvalue"),r.Wb()),2&t){const t=r.jc();r.qc("nzColumn",1),r.Db(1),r.qc("ngForOf",r.lc(2,2,t.data))}}function bU(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"nz-descriptions-item",17),r.Mc(2),r.Wb(),r.Xb(3,"nz-descriptions-item",18),r.Mc(4),r.Wb(),r.Xb(5,"nz-descriptions-item",19),r.Mc(6),r.Wb(),r.Xb(7,"nz-descriptions-item",20),r.Mc(8),r.Wb(),r.Ub()),2&t){const t=r.jc(2);r.Db(2),r.Nc(t.data.uniquename),r.Db(2),r.Nc(t.data.seqlen),r.Db(2),r.Nc(t.data.timeaccessioned),r.Db(2),r.Nc(t.data.timelastmodified)}}function yU(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"nz-descriptions-item",21),r.Mc(2),r.Wb(),r.Xb(3,"nz-descriptions-item",22),r.Mc(4),r.Wb(),r.Xb(5,"nz-descriptions-item",23),r.Mc(6),r.Wb(),r.Xb(7,"nz-descriptions-item",24),r.Mc(8),r.Wb(),r.Ub()),2&t){const t=r.jc(2);r.Db(2),r.Nc(t.data.program),r.Db(2),r.Nc(t.data.programversion),r.Db(2),r.Nc(t.data.algorithm),r.Db(2),r.Nc(t.data.timeexecuted)}}function vU(t,e){if(1&t&&(r.Xb(0,"nz-descriptions-item",25),r.Mc(1),r.Wb()),2&t){const t=r.jc(2);r.Db(1),r.Nc(t.data.comment)}}function _U(t,e){if(1&t&&(r.Xb(0,"nz-descriptions-item",26),r.Mc(1),r.Wb()),2&t){const t=r.jc(2);r.Db(1),r.Nc(t.data.genus)}}function wU(t,e){if(1&t&&(r.Xb(0,"nz-descriptions-item",27),r.Mc(1),r.Wb()),2&t){const t=r.jc(2);r.Db(1),r.Nc(t.data.species)}}function zU(t,e){if(1&t&&(r.Xb(0,"nz-descriptions-item",28),r.Mc(1),r.Wb()),2&t){const t=r.jc(2);r.Db(1),r.Nc(t.data.common_name)}}function CU(t,e){if(1&t&&(r.Xb(0,"nz-descriptions-item",29),r.Mc(1),r.Wb()),2&t){const t=r.jc(2);r.Db(1),r.Nc(t.data.definition)}}function SU(t,e){if(1&t&&(r.Xb(0,"nz-descriptions-item",29),r.Mc(1),r.Wb()),2&t){const t=r.jc(2);r.Db(1),r.Nc(t.data.definition)}}function xU(t,e){if(1&t&&(r.Xb(0,"nz-descriptions-item",30),r.Mc(1),r.Wb()),2&t){const t=r.jc(2);r.Db(1),r.Nc(t.data.is_relationshiptype?"true":"false")}}function OU(t,e){if(1&t&&(r.Xb(0,"nz-descriptions-item",31),r.Mc(1),r.Wb()),2&t){const t=r.jc(2);r.Db(1),r.Nc(t.data.description)}}function kU(t,e){if(1&t&&(r.Xb(0,"nz-descriptions-item",32),r.Mc(1),r.Wb()),2&t){const t=r.jc(2);r.Db(1),r.Nc(t.data.accession)}}function TU(t,e){if(1&t&&(r.Xb(0,"nz-descriptions-item",31),r.Mc(1),r.Wb()),2&t){const t=r.jc(2);r.Db(1),r.Nc(t.data.description)}}function EU(t,e){if(1&t&&(r.Xb(0,"nz-descriptions"),r.Kc(1,bU,9,4,"ng-container",3),r.Kc(2,yU,9,4,"ng-container",3),r.Kc(3,vU,2,1,"nz-descriptions-item",9),r.Kc(4,_U,2,1,"nz-descriptions-item",10),r.Kc(5,wU,2,1,"nz-descriptions-item",11),r.Kc(6,zU,2,1,"nz-descriptions-item",12),r.Kc(7,CU,2,1,"nz-descriptions-item",13),r.Kc(8,SU,2,1,"nz-descriptions-item",13),r.Kc(9,xU,2,1,"nz-descriptions-item",14),r.Kc(10,OU,2,1,"nz-descriptions-item",15),r.Kc(11,kU,2,1,"nz-descriptions-item",16),r.Kc(12,TU,2,1,"nz-descriptions-item",15),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("ngIf","sequence"==t.type),r.Db(1),r.qc("ngIf","analysis"==t.type||"alignment"==t.type),r.Db(1),r.qc("ngIf","phylotree"==t.type||"taxonomy"==t.type),r.Db(1),r.qc("ngIf","organism"==t.type),r.Db(1),r.qc("ngIf","organism"==t.type),r.Db(1),r.qc("ngIf","organism"==t.type),r.Db(1),r.qc("ngIf","ontology"==t.type),r.Db(1),r.qc("ngIf","cvterm"==t.type),r.Db(1),r.qc("ngIf","cvterm"==t.type),r.Db(1),r.qc("ngIf","db"==t.type),r.Db(1),r.qc("ngIf","dbxref"==t.type),r.Db(1),r.qc("ngIf","dbxref"==t.type)}}let IU=(()=>{class t{constructor(){this.data={},this.type=""}getDetailsRoute(){switch(this.type){case"sequence":return`/${this.type}Detail/${this.data.feature_id}`;case"alignment":return`/${this.type}Detail/${this.data.analysis_id}`;case"phylotree":return`/${this.type}Detail/${this.data.phylotree_id}`;case"analysis":return`/${this.type}Detail/${this.data.analysis_id}`;case"taxonomy":return`/${this.type}Detail/${this.data.phylotree_id}`;case"organism":return`/${this.type}Detail/${this.data.organism_id}`;case"ontology":return`/${this.type}Detail/${this.data.cv_id}`;case"cvterm":return`/${this.type}Detail/${this.data.cvterm_id}`;case"db":return`/${this.type}Detail/${this.data.db_id}`;case"dbxref":return`/${this.type}Detail/${this.data.dbxref_id}`;default:return""}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["app-bo-card"]],inputs:{data:"data",type:"type"},decls:5,vars:4,consts:[[3,"nzTitle","nzExtra"],["detailsLink",""],["nzBordered","",3,"nzColumn",4,"ngIf"],[4,"ngIf"],["nzButton","","nzType","link",3,"routerLink"],["nzBordered","",3,"nzColumn"],[3,"nzTitle",4,"ngFor","ngForOf"],[3,"nzTitle"],[2,"max-width","65vw","white-space","pre","overflow","auto","font-family","'Courier New',monospace"],["nzTitle","Comentario",4,"ngIf"],["nzTitle","G\xe9nero",4,"ngIf"],["nzTitle","Especie",4,"ngIf"],["nzTitle","Nombre com\xfan",4,"ngIf"],["nzTitle","Definici\xf3n",4,"ngIf"],["nzTitle","Relaci\xf3n",4,"ngIf"],["nzTitle","Descripci\xf3n",4,"ngIf"],["nzTitle","Entrada",4,"ngIf"],["nzTitle","Nombre \xfanico"],["nzTitle","Dimensi\xf3n"],["nzTitle","Insertada"],["nzTitle","Modificada"],["nzTitle","Programa"],["nzTitle","Versi\xf3n"],["nzTitle","Algoritmo"],["nzTitle","Ejecutado/Insertado"],["nzTitle","Comentario"],["nzTitle","G\xe9nero"],["nzTitle","Especie"],["nzTitle","Nombre com\xfan"],["nzTitle","Definici\xf3n"],["nzTitle","Relaci\xf3n"],["nzTitle","Descripci\xf3n"],["nzTitle","Entrada"]],template:function(t,e){if(1&t&&(r.Xb(0,"nz-card",0),r.Kc(1,fU,2,1,"ng-template",null,1,r.Lc),r.Kc(3,mU,3,4,"nz-descriptions",2),r.Kc(4,EU,13,12,"nz-descriptions",3),r.Wb()),2&t){const t=r.Ac(2);r.qc("nzTitle",e.type?e.data.name:void 0)("nzExtra",e.type?t:void 0),r.Db(3),r.qc("ngIf",!e.type),r.Db(1),r.qc("ngIf",e.type)}},directives:[DX,i.n,dm.j,dU,i.m,uU],pipes:[i.h],styles:[""]}),t})();const DU=["template"];function MU(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.Nc(t.nzDot)}}function RU(t,e){if(1&t&&(r.Xb(0,"li",1),r.Sb(1,"div",2),r.Xb(2,"div",3),r.Kc(3,MU,2,1,"ng-container",4),r.Wb(),r.Xb(4,"div",5),r.oc(5),r.Wb(),r.Wb()),2&t){const t=r.jc();r.Jb("ant-timeline-item-right","right"===(t.nzPosition||t.position))("ant-timeline-item-left","left"===(t.nzPosition||t.position))("ant-timeline-item-last",t.isLast),r.Db(2),r.Hc("border-color",t.borderColor),r.Jb("ant-timeline-item-head-red","red"===t.nzColor)("ant-timeline-item-head-blue","blue"===t.nzColor)("ant-timeline-item-head-green","green"===t.nzColor)("ant-timeline-item-head-gray","gray"===t.nzColor)("ant-timeline-item-head-custom",!!t.nzDot),r.Db(1),r.qc("nzStringTemplateOutlet",t.nzDot)}}const AU=["*"];function PU(t,e){if(1&t&&r.Tb(0,4),2&t){r.jc();const t=r.Ac(5);r.qc("ngTemplateOutlet",t)}}function LU(t,e){}function FU(t,e){if(1&t&&(r.Vb(0),r.Kc(1,LU,0,0,"ng-template",4),r.Ub()),2&t){const t=e.$implicit;r.Db(1),r.qc("ngTemplateOutlet",t.template)}}function jU(t,e){if(1&t&&r.Tb(0,4),2&t){r.jc();const t=r.Ac(5);r.qc("ngTemplateOutlet",t)}}function NU(t,e){1&t&&r.Sb(0,"i",12)}function VU(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Kc(2,NU,1,0,"i",11),r.Ub()),2&t){const t=r.jc(3);r.Db(1),r.Oc(" ",t.nzPendingDot," "),r.Db(1),r.qc("ngIf",!t.nzPendingDot)}}function WU(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc(3);r.Db(1),r.Oc(" ",t.isPendingBoolean?"":t.nzPending," ")}}function qU(t,e){if(1&t&&(r.Xb(0,"li",6),r.Sb(1,"div",7),r.Xb(2,"div",8),r.Kc(3,VU,3,2,"ng-container",9),r.Wb(),r.Xb(4,"div",10),r.Kc(5,WU,2,1,"ng-container",9),r.Wb(),r.Wb()),2&t){const t=r.jc(2);r.Db(3),r.qc("nzStringTemplateOutlet",t.nzPendingDot),r.Db(2),r.qc("nzStringTemplateOutlet",t.nzPending)}}function BU(t,e){if(1&t&&r.Kc(0,qU,6,2,"li",5),2&t){const t=r.jc();r.qc("ngIf",t.nzPending)}}let XU=(()=>{class t{constructor(){this.check$=new tr(1)}markForCheck(){this.check$.next()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();const UU=["red","blue","green","grey","gray"];let $U=(()=>{class t{constructor(t,e){this.cdr=t,this.timelineService=e,this.nzColor="blue",this.isLast=!1,this.borderColor=null}ngOnChanges(t){this.timelineService.markForCheck(),t.nzColor&&this.updateCustomColor()}detectChanges(){this.cdr.detectChanges()}updateCustomColor(){var t;this.borderColor=(t=this.nzColor,-1!==UU.findIndex(e=>e===t)?null:this.nzColor)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h),r.Rb(XU))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-timeline-item"],["","nz-timeline-item",""]],viewQuery:function(t,e){if(1&t&&r.Qc(DU,1),2&t){let t;r.zc(t=r.gc())&&(e.template=t.first)}},inputs:{nzColor:"nzColor",nzPosition:"nzPosition",nzDot:"nzDot"},exportAs:["nzTimelineItem"],features:[r.Bb],ngContentSelectors:AU,decls:2,vars:0,consts:[["template",""],[1,"ant-timeline-item"],[1,"ant-timeline-item-tail"],[1,"ant-timeline-item-head"],[4,"nzStringTemplateOutlet"],[1,"ant-timeline-item-content"]],template:function(t,e){1&t&&(r.pc(),r.Kc(0,RU,6,19,"ng-template",null,0,r.Lc))},directives:[ei],encapsulation:2,changeDetection:0}),t})(),HU=(()=>{class t{constructor(t,e,n){this.cdr=t,this.timelineService=e,this.directionality=n,this.nzMode="left",this.nzReverse=!1,this.isPendingBoolean=!1,this.timelineItems=[],this.dir="ltr",this.destroy$=new xe.a}ngOnChanges(t){const{nzMode:e,nzReverse:n,nzPending:i}=t;(KU(e)||KU(n))&&this.updateChildren(),i&&(this.isPendingBoolean=!0===i.currentValue)}ngOnInit(){var t;this.timelineService.check$.pipe(An(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()}),null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterContentInit(){this.updateChildren(),this.listOfItems.changes.pipe(An(this.destroy$)).subscribe(()=>{this.updateChildren()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateChildren(){if(this.listOfItems&&this.listOfItems.length){const t=this.listOfItems.length;this.listOfItems.forEach((e,n)=>{e.isLast=this.nzReverse?0===n:n===t-1,e.position=function(t,e){return"custom"===e?void 0:"left"===e?"left":"right"===e?"right":"alternate"===e&&t%2==0?"left":"right"}(n,this.nzMode),e.detectChanges()}),this.timelineItems=this.nzReverse?this.listOfItems.toArray().reverse():this.listOfItems.toArray()}this.cdr.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h),r.Rb(XU),r.Rb(bn,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-timeline"]],contentQueries:function(t,e,n){if(1&t&&r.Kb(n,$U,0),2&t){let t;r.zc(t=r.gc())&&(e.listOfItems=t)}},inputs:{nzMode:"nzMode",nzReverse:"nzReverse",nzPending:"nzPending",nzPendingDot:"nzPendingDot"},exportAs:["nzTimeline"],features:[r.Cb([XU]),r.Bb],ngContentSelectors:AU,decls:7,vars:13,consts:[[1,"ant-timeline"],[3,"ngTemplateOutlet",4,"ngIf"],[4,"ngFor","ngForOf"],["pendingTemplate",""],[3,"ngTemplateOutlet"],["class","ant-timeline-item ant-timeline-item-pending",4,"ngIf"],[1,"ant-timeline-item","ant-timeline-item-pending"],[1,"ant-timeline-item-tail"],[1,"ant-timeline-item-head","ant-timeline-item-head-custom","ant-timeline-item-head-blue"],[4,"nzStringTemplateOutlet"],[1,"ant-timeline-item-content"],["nz-icon","","nzType","loading",4,"ngIf"],["nz-icon","","nzType","loading"]],template:function(t,e){1&t&&(r.pc(),r.Xb(0,"ul",0),r.Kc(1,PU,1,1,"ng-container",1),r.Kc(2,FU,2,1,"ng-container",2),r.Kc(3,jU,1,1,"ng-container",1),r.Wb(),r.Kc(4,BU,1,1,"ng-template",null,3,r.Lc),r.oc(6)),2&t&&(r.Jb("ant-timeline-right","right"===e.nzMode)("ant-timeline-alternate","alternate"===e.nzMode||"custom"===e.nzMode)("ant-timeline-pending",!!e.nzPending)("ant-timeline-reverse",e.nzReverse)("ant-timeline-rtl","rtl"===e.dir),r.Db(1),r.qc("ngIf",e.nzReverse),r.Db(1),r.qc("ngForOf",e.timelineItems),r.Db(1),r.qc("ngIf",!e.nzReverse))},directives:[i.n,i.m,i.s,ei,No],encapsulation:2,changeDetection:0}),t})();function KU(t){return!(!t||t.previousValue===t.currentValue&&!t.isFirstChange())}let GU=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,Bn,Vo,ii]]}),t})();function YU(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",15),r.fc("click",function(){return r.Cc(t),r.jc().editEvent()}),r.Sb(1,"i",16),r.Mc(2,"Editar detalles"),r.Wb()}}function QU(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",17),r.fc("click",function(){return r.Cc(t),r.jc().editEvent()}),r.Sb(1,"i",18),r.Mc(2,"Guardar cambios"),r.Wb()}}function JU(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Xb(1,"tr",19),r.fc("click",function(){r.Cc(t);const n=e.$implicit;return r.jc().onExpandChange(n.feature_id)}),r.Xb(2,"td",20),r.Mc(3),r.Wb(),r.Wb(),r.Xb(4,"tr",20),r.Sb(5,"app-bo-card",21),r.Wb(),r.Ub()}if(2&t){const t=e.$implicit,n=r.jc();r.Db(2),r.qc("nzExpand",n.expandSet.has(t.feature_id)),r.Db(1),r.Oc(" ",t.uniquename," "),r.Db(1),r.qc("nzExpand",n.expandSet.has(t.feature_id)),r.Db(1),r.qc("data",t)}}function ZU(t,e){1&t&&r.Sb(0,"app-bo-card",22),2&t&&r.qc("data",e.$implicit)}function t$(t,e){1&t&&r.Sb(0,"app-bo-card",23),2&t&&r.qc("data",e.$implicit)}let e$=(()=>{class t{constructor(t,e){this.backendService=t,this.router=e,this.analysis={},this.features=[],this.cvterm={},this.editing=!1,this.phylotrees=[],this.processes=[],this.expandSet=new Set}ngOnInit(){this.analysis_id=this.router.url.replace(/^.*[\\\/]/,"");let t=this.backendService.filter({analysis_id:this.analysis_id});this.backendService.getAnalyses(this.analysis_id).subscribe(t=>{this.analysis=t.content},t=>{},()=>{this.backendService.getCvterms(void 0,this.analysis.type_id).subscribe(t=>{this.cvterm=t.content},t=>{},()=>{}),this.backendService.getPhylotrees(void 0,t).subscribe(t=>{this.phylotrees=t.content},t=>{},()=>{})}),this.backendService.getSequences(void 0,t).subscribe(t=>{this.features=t.content},t=>{},()=>{})}editEvent(){this.editing=!this.editing}onExpandChange(t){this.expandSet.has(t)?this.expandSet.delete(t):this.expandSet.add(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(dm.g))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-analysis-detail"]],decls:26,vars:8,consts:[["nzSubtitle","Informaci\xf3n detallada",3,"nzTitle"],["nz-button","",3,"click",4,"ngIf"],["nz-button","","nzType","primary",3,"click",4,"ngIf"],[2,"width","80vw"],["nzTitle","General"],[3,"data"],["nzTitle","Secuencias"],[3,"nzData"],["seqs_table",""],[4,"ngFor","ngForOf"],["nzTitle","Filogenias"],["type","phylotree",3,"data",4,"ngFor","ngForOf"],["nzTitle","Procesos"],["type","process",3,"data",4,"ngFor","ngForOf"],["nzTitle","Cronolog\xeda"],["nz-button","",3,"click"],["nz-icon","","nzType","edit"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","save"],[3,"click"],[3,"nzExpand"],["type","sequence",3,"data"],["type","phylotree",3,"data"],["type","process",3,"data"]],template:function(t,e){if(1&t&&(r.Xb(0,"nz-page-header",0),r.Xb(1,"nz-page-header-extra"),r.Kc(2,YU,3,0,"button",1),r.Kc(3,QU,3,0,"button",2),r.Wb(),r.Wb(),r.Xb(4,"nz-tabset",3),r.Xb(5,"nz-tab",4),r.Sb(6,"app-bo-card",5),r.Wb(),r.Xb(7,"nz-tab",6),r.Xb(8,"nz-table",7,8),r.Xb(10,"tbody"),r.Kc(11,JU,6,4,"ng-container",9),r.Wb(),r.Wb(),r.Wb(),r.Xb(12,"nz-tab",10),r.Kc(13,ZU,1,1,"app-bo-card",11),r.Wb(),r.Xb(14,"nz-tab",12),r.Kc(15,t$,1,1,"app-bo-card",13),r.Wb(),r.Xb(16,"nz-tab",14),r.Xb(17,"nz-timeline"),r.Xb(18,"nz-timeline-item"),r.Mc(19,"Import 2015-09-01"),r.Wb(),r.Xb(20,"nz-timeline-item"),r.Mc(21,"Update 2015-12-10"),r.Wb(),r.Xb(22,"nz-timeline-item"),r.Mc(23,"Update 2016-03-24"),r.Wb(),r.Xb(24,"nz-timeline-item"),r.Mc(25,"Update 2018-09-11"),r.Wb(),r.Wb(),r.Wb(),r.Wb()),2&t){const t=r.Ac(9);r.rc("nzTitle",e.analysis.name?e.analysis.name:e.analysis.program+" "+e.analysis.programversion),r.Db(2),r.qc("ngIf",!e.editing),r.Db(1),r.qc("ngIf",e.editing),r.Db(3),r.qc("data",e.analysis),r.Db(2),r.qc("nzData",e.features),r.Db(3),r.qc("ngForOf",t.data),r.Db(2),r.qc("ngForOf",e.phylotrees),r.Db(2),r.qc("ngForOf",e.processes)}},directives:[Lj,Rj,i.n,lX,JB,IU,XW,UW,i.m,HU,$U,HL,qL,Rf,No,$W,MW,RW,GW,NW],styles:[""]}),t})();function n$(t,e){if(1&t&&(r.Xb(0,"button",9),r.Sb(1,"i",10),r.Wb()),2&t){const t=r.jc();r.qc("nzLoading",t.loading)}}let i$=(()=>{class t{constructor(t,e,n,i,r,o){this.backendService=t,this.logService=e,this.modal=n,this.stateService=i,this.router=r,this.activeRoute=o,this.pageMeta={pageIndex:1,pageSize:10,checkedItems:new Set,checkedAll:!1,selectedFields:[]},this.pageData=[],this.totalSize=0,this.searchValue="",this.loading=!0}ngOnInit(){this.activeRoute.url.subscribe(t=>{this.stateService.setCurrentView(this,t)}),this.search()}ngOnDestroy(){this.stateService.saveOnDestroy(this)}getState(){return{pageMeta:this.pageMeta,searchValue:this.searchValue}}setState(t){t&&(t.pageMeta&&(this.pageMeta=t.pageMeta),t.searchValue&&(this.searchValue=t.searchValue))}changePage(){this.search()}item2str(t){return JSON.stringify(t)}searchEvent(){this.pageMeta.pageIndex=1,this.pageMeta.checkedItems.clear(),this.search()}search(){this.loading=!0,this.backendService.getOntologies(void 0,{filter:{},order:{},searchValue:this.searchValue,pagination:{pageIndex:this.pageMeta.pageIndex,pageSize:this.pageMeta.pageSize}}).subscribe(t=>{this.pageData=t.content,this.totalSize=t.count,this.logService.addIssues(t.issues)},t=>{this.loading=!1,this.logService.addIssues(t.issues)},()=>{this.loading=!1})}openItem(t){this.router.navigate(["ontologyDetail",t.cv_id])}exportSelection(){this.logService.info("DUMMY: Exportando la selecci\xf3n.")}exportItem(t){this.logService.info("DUMMY: Exportando la ontolog\xeda "+this.item2str(t)),console.log(t)}deleteSelection(){this.logService.info("DUMMY: Eliminando la selecci\xf3n.")}deleteItem(t){this.logService.info("DUMMY: Eliminando la ontolog\xeda "+this.item2str(t)),console.log(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(YP),r.Rb(qF),r.Rb(IP),r.Rb(dm.g),r.Rb(dm.a))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-ontologies-browse"]],decls:15,vars:10,consts:[["nzTitle","Ontolog\xedas","nzSubtitle","Vocabularios controlados"],["action","",3,"submit"],["nzSearch","",3,"nzAddOnAfter"],["name","searchValue","type","text","nz-input","","placeholder","Introduzca los t\xe9rminos de b\xfasqueda",3,"ngModel","disabled","ngModelChange"],["suffixIconButton",""],["nz-row",""],["routerLink","/ontologiesImport","nz-button","","nzType","primary",2,"margin","8px"],["nz-button","","nzType","primary",2,"margin","8px",3,"disabled","nzLoading","click"],["pageType","cv",3,"Loading","PageData","DataSize","PaginationEvent","OpenEvent","ExportEvent","DeleteEvent"],["nz-button","","nzSearch","",3,"nzLoading"],["nz-icon","","nzType","search"]],template:function(t,e){if(1&t&&(r.Xb(0,"nz-page-header",0),r.Xb(1,"nz-page-header-content"),r.Xb(2,"form",1),r.fc("submit",function(){return e.searchEvent()}),r.Xb(3,"nz-input-group",2),r.Xb(4,"input",3),r.fc("ngModelChange",function(t){return e.searchValue=t}),r.Wb(),r.Wb(),r.Kc(5,n$,2,1,"ng-template",null,4,r.Lc),r.Wb(),r.Wb(),r.Wb(),r.Xb(7,"div",5),r.Xb(8,"button",6),r.Mc(9," Importar "),r.Wb(),r.Xb(10,"button",7),r.fc("click",function(){return e.exportSelection()}),r.Mc(11," Exportar selecci\xf3n "),r.Wb(),r.Xb(12,"button",7),r.fc("click",function(){return e.deleteSelection()}),r.Mc(13," Eliminar selecci\xf3n "),r.Wb(),r.Wb(),r.Xb(14,"app-dynamic-table",8),r.fc("PaginationEvent",function(){return e.changePage()})("OpenEvent",function(t){return e.openItem(t)})("ExportEvent",function(t){return e.exportItem(t)})("DeleteEvent",function(t){return e.deleteItem(t)}),r.Wb()),2&t){const t=r.Ac(6);r.Db(3),r.qc("nzAddOnAfter",t),r.Db(1),r.qc("ngModel",e.searchValue)("disabled",e.loading),r.Db(6),r.qc("disabled",0===e.pageMeta.checkedItems.size&&!e.pageMeta.checkedAll)("nzLoading",e.loading),r.Db(2),r.qc("disabled",0===e.pageMeta.checkedItems.size&&!e.pageMeta.checkedAll)("nzLoading",e.loading),r.Db(2),r.qc("Loading",e.loading)("PageData",e.pageData)("DataSize",e.totalSize)}},directives:[Lj,Mj,re,yt,te,Rf,Gp,Hp,G,bt,ie,nr,HL,qL,dm.h,gB,No],styles:[""]}),t})();function r$(t,e){if(1&t&&(r.Vb(0),r.Sb(1,"i",8),r.Ub()),2&t){const t=r.jc(3);r.Db(1),r.qc("nzType",t.icon)}}function o$(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=e.$implicit,n=r.jc(4);r.Db(1),r.Oc(" ",t(n.nzPercent)," ")}}const s$=function(t){return{$implicit:t}};function a$(t,e){if(1&t&&r.Kc(0,o$,2,1,"ng-container",9),2&t){const t=r.jc(3);r.qc("nzStringTemplateOutlet",t.formatter)("nzStringTemplateOutletContext",r.vc(2,s$,t.nzPercent))}}function c$(t,e){if(1&t&&(r.Xb(0,"span",5),r.Kc(1,r$,2,1,"ng-container",6),r.Kc(2,a$,1,4,"ng-template",null,7,r.Lc),r.Wb()),2&t){const t=r.Ac(3),e=r.jc(2);r.Db(1),r.qc("ngIf",("exception"===e.status||"success"===e.status)&&!e.nzFormat)("ngIfElse",t)}}function l$(t,e){if(1&t&&r.Kc(0,c$,4,2,"span",4),2&t){const t=r.jc();r.qc("ngIf",t.nzShowInfo)}}function u$(t,e){if(1&t&&r.Sb(0,"div",17),2&t){const t=r.jc(4);r.Hc("width",t.nzSuccessPercent,"%")("border-radius","round"===t.nzStrokeLinecap?"100px":"0")("height",t.strokeWidth,"px")}}function h$(t,e){if(1&t&&(r.Xb(0,"div",13),r.Xb(1,"div",14),r.Sb(2,"div",15),r.Kc(3,u$,1,6,"div",16),r.Wb(),r.Wb()),2&t){const t=r.jc(3);r.Db(2),r.Hc("width",t.nzPercent,"%")("border-radius","round"===t.nzStrokeLinecap?"100px":"0")("background",t.isGradient?null:t.nzStrokeColor)("background-image",t.isGradient?t.lineGradient:null)("height",t.strokeWidth,"px"),r.Db(1),r.qc("ngIf",t.nzSuccessPercent||0===t.nzSuccessPercent)}}function d$(t,e){}function p$(t,e){if(1&t&&(r.Vb(0),r.Kc(1,h$,4,11,"div",11),r.Kc(2,d$,0,0,"ng-template",12),r.Ub()),2&t){const t=r.jc(2),e=r.Ac(1);r.Db(1),r.qc("ngIf",!t.isSteps),r.Db(1),r.qc("ngTemplateOutlet",e)}}function f$(t,e){1&t&&r.Sb(0,"div",20),2&t&&r.qc("ngStyle",e.$implicit)}function g$(t,e){}function m$(t,e){if(1&t&&(r.Xb(0,"div",18),r.Kc(1,f$,1,1,"div",19),r.Kc(2,g$,0,0,"ng-template",12),r.Wb()),2&t){const t=r.jc(2),e=r.Ac(1);r.Db(1),r.qc("ngForOf",t.steps),r.Db(1),r.qc("ngTemplateOutlet",e)}}function b$(t,e){if(1&t&&(r.Xb(0,"div"),r.Kc(1,p$,3,2,"ng-container",2),r.Kc(2,m$,3,2,"div",10),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("ngIf",!t.isSteps),r.Db(1),r.qc("ngIf",t.isSteps)}}function y$(t,e){if(1&t&&(r.ic(),r.Sb(0,"stop")),2&t){const t=e.$implicit;r.Eb("offset",t.offset)("stop-color",t.color)}}function v$(t,e){if(1&t&&(r.ic(),r.Xb(0,"defs"),r.Xb(1,"linearGradient",24),r.Kc(2,y$,1,2,"stop",25),r.Wb(),r.Wb()),2&t){const t=r.jc(2);r.Db(1),r.qc("id","gradient-"+t.gradientId),r.Db(1),r.qc("ngForOf",t.circleGradient)}}function _$(t,e){if(1&t&&(r.ic(),r.Sb(0,"path",26)),2&t){const t=e.$implicit,n=r.jc(2);r.qc("ngStyle",t.strokePathStyle),r.Eb("d",n.pathString)("stroke-linecap",n.nzStrokeLinecap)("stroke",t.stroke)("stroke-width",n.nzPercent?n.strokeWidth:0)}}function w$(t,e){1&t&&r.ic()}function z$(t,e){if(1&t&&(r.Xb(0,"div",14),r.ic(),r.Xb(1,"svg",21),r.Kc(2,v$,3,2,"defs",2),r.Sb(3,"path",22),r.Kc(4,_$,1,5,"path",23),r.Wb(),r.Kc(5,w$,0,0,"ng-template",12),r.Wb()),2&t){const t=r.jc(),e=r.Ac(1);r.Hc("width",t.nzWidth,"px")("height",t.nzWidth,"px")("font-size",.15*t.nzWidth+6,"px"),r.Jb("ant-progress-circle-gradient",t.isGradient),r.Db(2),r.qc("ngIf",t.isGradient),r.Db(1),r.qc("ngStyle",t.trailPathStyle),r.Eb("stroke-width",t.strokeWidth)("d",t.pathString),r.Db(1),r.qc("ngForOf",t.progressCirclePath)("ngForTrackBy",t.trackByFn),r.Db(1),r.qc("ngTemplateOutlet",e)}}const C$=t=>{let e=[];return Object.keys(t).forEach(n=>{const i=t[n],r=+n.replace("%","");isNaN(r)||e.push({key:r,value:i})}),e=e.sort((t,e)=>t.key-e.key),e};let S$=0;const x$=new Map([["success","check"],["exception","close"]]),O$=new Map([["normal","#108ee9"],["exception","#ff5500"],["success","#87d068"]]),k$=t=>`${t}%`;let T$=(()=>{class t{constructor(t,e,n){this.cdr=t,this.nzConfigService=e,this.directionality=n,this._nzModuleName="progress",this.nzShowInfo=!0,this.nzWidth=132,this.nzStrokeColor=void 0,this.nzSize="default",this.nzPercent=0,this.nzStrokeWidth=void 0,this.nzGapDegree=void 0,this.nzType="line",this.nzGapPosition="top",this.nzStrokeLinecap="round",this.nzSteps=0,this.steps=[],this.lineGradient=null,this.isGradient=!1,this.isSteps=!1,this.gradientId=S$++,this.progressCirclePath=[],this.trailPathStyle=null,this.dir="ltr",this.trackByFn=t=>`${t}`,this.cachedStatus="normal",this.inferredStatus="normal",this.destroy$=new xe.a}get formatter(){return this.nzFormat||k$}get status(){return this.nzStatus||this.inferredStatus}get strokeWidth(){return this.nzStrokeWidth||("line"===this.nzType&&"small"!==this.nzSize?8:6)}get isCircleStyle(){return"circle"===this.nzType||"dashboard"===this.nzType}ngOnChanges(t){const{nzSteps:e,nzGapPosition:n,nzStrokeLinecap:i,nzStrokeColor:r,nzGapDegree:o,nzType:s,nzStatus:a,nzPercent:c,nzSuccessPercent:l,nzStrokeWidth:u}=t;a&&(this.cachedStatus=this.nzStatus||this.cachedStatus),(c||l)&&(parseInt(this.nzPercent.toString(),10)>=100?(zi(this.nzSuccessPercent)&&this.nzSuccessPercent>=100||void 0===this.nzSuccessPercent)&&(this.inferredStatus="success"):this.inferredStatus=this.cachedStatus),(a||c||l||r)&&this.updateIcon(),r&&this.setStrokeColor(),(n||i||o||s||c||r||r)&&this.getCirclePaths(),(c||e||u)&&(this.isSteps=this.nzSteps>0,this.isSteps&&this.getSteps())}ngOnInit(){var t;this.nzConfigService.getConfigChangeEventForComponent("progress").pipe(An(this.destroy$)).subscribe(()=>{this.updateIcon(),this.setStrokeColor(),this.getCirclePaths()}),null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateIcon(){const t=x$.get(this.status);this.icon=t?t+(this.isCircleStyle?"-o":"-circle-fill"):""}getSteps(){const t=Math.floor(this.nzSteps*(this.nzPercent/100)),e="small"===this.nzSize?2:14,n=[];for(let i=0;i<this.nzSteps;i++){let r;i<=t-1&&(r=this.nzStrokeColor),n.push({backgroundColor:`${r}`,width:`${e}px`,height:`${this.strokeWidth}px`})}this.steps=n}getCirclePaths(){if(!this.isCircleStyle)return;const t=zi(this.nzSuccessPercent)?[this.nzSuccessPercent,this.nzPercent]:[this.nzPercent],e=50-this.strokeWidth/2,n=2*Math.PI*e,i=this.nzGapDegree||("circle"===this.nzType?0:75);let r=0,o=-e,s=0,a=-2*e;switch(this.nzGapPosition||("circle"===this.nzType?"top":"bottom")){case"left":r=-e,o=0,s=2*e,a=0;break;case"right":r=e,o=0,s=-2*e,a=0;break;case"bottom":o=e,a=2*e}this.pathString=`M 50,50 m ${r},${o}\n       a ${e},${e} 0 1 1 ${s},${-a}\n       a ${e},${e} 0 1 1 ${-s},${a}`,this.trailPathStyle={strokeDasharray:`${n-i}px ${n}px`,strokeDashoffset:`-${i/2}px`,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s"},this.progressCirclePath=t.map((e,r)=>{const o=2===t.length&&0===r;return{stroke:this.isGradient&&!o?`url(#gradient-${this.gradientId})`:null,strokePathStyle:{stroke:this.isGradient?null:o?O$.get("success"):this.nzStrokeColor,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s",strokeDasharray:`${(e||0)/100*(n-i)}px ${n}px`,strokeDashoffset:`-${i/2}px`}}}).reverse()}setStrokeColor(){const t=this.nzStrokeColor,e=this.isGradient=!!t&&"string"!=typeof t;e&&!this.isCircleStyle?this.lineGradient=(t=>{const{from:e="#1890ff",to:n="#1890ff",direction:i="to right"}=t,r=or(t,["from","to","direction"]);return 0!==Object.keys(r).length?`linear-gradient(${i}, ${C$(r).map(({key:t,value:e})=>`${e} ${t}%`).join(", ")})`:`linear-gradient(${i}, ${e}, ${n})`})(t):e&&this.isCircleStyle?this.circleGradient=C$(this.nzStrokeColor).map(({key:t,value:e})=>({offset:`${t}%`,color:e})):(this.lineGradient=null,this.circleGradient=[])}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h),r.Rb(Do),r.Rb(bn,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-progress"]],inputs:{nzShowInfo:"nzShowInfo",nzWidth:"nzWidth",nzStrokeColor:"nzStrokeColor",nzSize:"nzSize",nzPercent:"nzPercent",nzStrokeWidth:"nzStrokeWidth",nzGapDegree:"nzGapDegree",nzType:"nzType",nzGapPosition:"nzGapPosition",nzStrokeLinecap:"nzStrokeLinecap",nzSteps:"nzSteps",nzFormat:"nzFormat",nzSuccessPercent:"nzSuccessPercent",nzStatus:"nzStatus"},exportAs:["nzProgress"],features:[r.Bb],decls:5,vars:15,consts:[["progressInfoTemplate",""],[3,"ngClass"],[4,"ngIf"],["class","ant-progress-inner",3,"width","height","fontSize","ant-progress-circle-gradient",4,"ngIf"],["class","ant-progress-text",4,"ngIf"],[1,"ant-progress-text"],[4,"ngIf","ngIfElse"],["formatTemplate",""],["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["class","ant-progress-steps-outer",4,"ngIf"],["class","ant-progress-outer",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"ant-progress-outer"],[1,"ant-progress-inner"],[1,"ant-progress-bg"],["class","ant-progress-success-bg",3,"width","border-radius","height",4,"ngIf"],[1,"ant-progress-success-bg"],[1,"ant-progress-steps-outer"],["class","ant-progress-steps-item",3,"ngStyle",4,"ngFor","ngForOf"],[1,"ant-progress-steps-item",3,"ngStyle"],["viewBox","0 0 100 100",1,"ant-progress-circle"],["stroke","#f3f3f3","fill-opacity","0",1,"ant-progress-circle-trail",3,"ngStyle"],["class","ant-progress-circle-path","fill-opacity","0",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],["x1","100%","y1","0%","x2","0%","y2","0%",3,"id"],[4,"ngFor","ngForOf"],["fill-opacity","0",1,"ant-progress-circle-path",3,"ngStyle"]],template:function(t,e){1&t&&(r.Kc(0,l$,1,1,"ng-template",null,0,r.Lc),r.Xb(2,"div",1),r.Kc(3,b$,3,2,"div",2),r.Kc(4,z$,6,15,"div",3),r.Wb()),2&t&&(r.Db(2),r.Jb("ant-progress-line","line"==e.nzType)("ant-progress-small","small"==e.nzSize)("ant-progress-show-info",e.nzShowInfo)("ant-progress-circle",e.isCircleStyle)("ant-progress-steps",e.isSteps)("ant-progress-rtl","rtl"===e.dir),r.qc("ngClass","ant-progress ant-progress-status-"+e.status),r.Db(1),r.qc("ngIf","line"===e.nzType),r.Db(1),r.qc("ngIf",e.isCircleStyle))},directives:[i.l,i.n,No,ei,i.s,i.m,i.o],encapsulation:2,changeDetection:0}),sr([Mo(),ar("design:type",Boolean)],t.prototype,"nzShowInfo",void 0),sr([Mo(),ar("design:type",Object)],t.prototype,"nzStrokeColor",void 0),sr([Mo(),ar("design:type",String)],t.prototype,"nzSize",void 0),sr([Mi(),ar("design:type",Number)],t.prototype,"nzSuccessPercent",void 0),sr([Mi(),ar("design:type",Number)],t.prototype,"nzPercent",void 0),sr([Mo(),Mi(),ar("design:type",Number)],t.prototype,"nzStrokeWidth",void 0),sr([Mo(),Mi(),ar("design:type",Number)],t.prototype,"nzGapDegree",void 0),sr([Mo(),ar("design:type",String)],t.prototype,"nzGapPosition",void 0),sr([Mo(),ar("design:type",String)],t.prototype,"nzStrokeLinecap",void 0),sr([Mi(),ar("design:type",Number)],t.prototype,"nzSteps",void 0),t})(),E$=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,Vo,ii]]}),t})();const I$=["file"],D$=["nz-upload-btn",""],M$=["*"];function R$(t,e){}const A$=function(t){return{$implicit:t}};function P$(t,e){if(1&t&&(r.Xb(0,"div",18),r.Kc(1,R$,0,0,"ng-template",19),r.Wb()),2&t){const t=r.jc(2).$implicit,e=r.Ac(5);r.Jb("ant-upload-list-item-file",!t.isUploading),r.Db(1),r.qc("ngTemplateOutlet",e)("ngTemplateOutletContext",r.vc(4,A$,t))}}function L$(t,e){if(1&t&&r.Sb(0,"img",22),2&t){const t=r.jc(3).$implicit;r.qc("src",t.thumbUrl||t.url,r.Ec),r.Eb("alt",t.name)}}function F$(t,e){if(1&t){const t=r.Yb();r.Xb(0,"a",20),r.fc("click",function(e){r.Cc(t);const n=r.jc(2).$implicit;return r.jc().handlePreview(n,e)}),r.Kc(1,L$,1,2,"img",21),r.Wb()}if(2&t){r.jc();const t=r.Ac(5),e=r.jc().$implicit;r.Jb("ant-upload-list-item-file",!e.isImageUrl),r.qc("href",e.url||e.thumbUrl,r.Ec),r.Db(1),r.qc("ngIf",e.isImageUrl)("ngIfElse",t)}}function j$(t,e){}function N$(t,e){if(1&t&&(r.Xb(0,"div",23),r.Kc(1,j$,0,0,"ng-template",19),r.Wb()),2&t){const t=r.jc(2).$implicit,e=r.Ac(5);r.Db(1),r.qc("ngTemplateOutlet",e)("ngTemplateOutletContext",r.vc(2,A$,t))}}function V$(t,e){}function W$(t,e){if(1&t&&r.Kc(0,V$,0,0,"ng-template",19),2&t){const t=r.jc(2).$implicit,e=r.Ac(5);r.qc("ngTemplateOutlet",e)("ngTemplateOutletContext",r.vc(2,A$,t))}}function q$(t,e){if(1&t&&(r.Vb(0,13),r.Kc(1,P$,2,6,"div",14),r.Kc(2,F$,2,5,"a",15),r.Kc(3,N$,2,4,"div",16),r.Ub(),r.Kc(4,W$,1,4,"ng-template",null,17,r.Lc)),2&t){const t=r.jc().$implicit;r.qc("ngSwitch",t.iconType),r.Db(1),r.qc("ngSwitchCase","uploading"),r.Db(1),r.qc("ngSwitchCase","thumbnail")}}function B$(t,e){1&t&&(r.Vb(0),r.Sb(1,"i",29),r.Ub())}function X$(t,e){if(1&t&&(r.Vb(0),r.Kc(1,B$,2,0,"ng-container",24),r.Ub()),2&t){const t=r.jc(2).$implicit,e=r.Ac(4);r.Db(1),r.qc("ngIf",t.isUploading)("ngIfElse",e)}}function U$(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc(5);r.Db(1),r.Oc(" ",t.locale.uploading," ")}}function $$(t,e){if(1&t&&(r.Vb(0),r.Kc(1,U$,2,1,"ng-container",24),r.Ub()),2&t){const t=r.jc(2).$implicit,e=r.Ac(4);r.Db(1),r.qc("ngIf",t.isUploading)("ngIfElse",e)}}function H$(t,e){if(1&t&&r.Sb(0,"i",30),2&t){const t=r.jc(2).$implicit;r.qc("nzType",t.isUploading?"loading":"paper-clip")}}function K$(t,e){if(1&t&&(r.Vb(0),r.Vb(1,13),r.Kc(2,X$,2,2,"ng-container",27),r.Kc(3,$$,2,2,"ng-container",27),r.Kc(4,H$,1,1,"i",28),r.Ub(),r.Ub()),2&t){const t=r.jc(3);r.Db(1),r.qc("ngSwitch",t.listType),r.Db(1),r.qc("ngSwitchCase","picture"),r.Db(1),r.qc("ngSwitchCase","picture-card")}}function G$(t,e){}function Y$(t,e){if(1&t&&r.Sb(0,"i",31),2&t){const t=r.jc().$implicit;r.qc("nzType",t.isImageUrl?"picture":"file")}}function Q$(t,e){if(1&t&&(r.Kc(0,K$,5,3,"ng-container",24),r.Kc(1,G$,0,0,"ng-template",19,25,r.Lc),r.Kc(3,Y$,1,1,"ng-template",null,26,r.Lc)),2&t){const t=e.$implicit,n=r.Ac(2),i=r.jc(2);r.qc("ngIf",!i.iconRender)("ngIfElse",n),r.Db(1),r.qc("ngTemplateOutlet",i.iconRender)("ngTemplateOutletContext",r.vc(4,A$,t))}}function J$(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",33),r.fc("click",function(e){r.Cc(t);const n=r.jc(2).$implicit;return r.jc().handleRemove(n,e)}),r.Sb(1,"i",34),r.Wb()}if(2&t){const t=r.jc(3);r.Eb("title",t.locale.removeFile)}}function Z$(t,e){if(1&t&&r.Kc(0,J$,2,1,"button",32),2&t){const t=r.jc(2);r.qc("ngIf",t.icons.showRemoveIcon)}}function tH(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",33),r.fc("click",function(){r.Cc(t);const e=r.jc(2).$implicit;return r.jc().handleDownload(e)}),r.Sb(1,"i",35),r.Wb()}if(2&t){const t=r.jc(3);r.Eb("title",t.locale.downloadFile)}}function eH(t,e){if(1&t&&r.Kc(0,tH,2,1,"button",32),2&t){const t=r.jc().$implicit;r.qc("ngIf",t.showDownload)}}function nH(t,e){}function iH(t,e){}function rH(t,e){if(1&t&&(r.Xb(0,"span"),r.Kc(1,nH,0,0,"ng-template",10),r.Kc(2,iH,0,0,"ng-template",10),r.Wb()),2&t){r.jc(2);const t=r.Ac(9),e=r.Ac(7),n=r.jc();r.Gb("ant-upload-list-item-card-actions ","picture"===n.listType?"picture":"",""),r.Db(1),r.qc("ngTemplateOutlet",t),r.Db(1),r.qc("ngTemplateOutlet",e)}}function oH(t,e){if(1&t&&r.Kc(0,rH,3,5,"span",36),2&t){const t=r.jc(2);r.qc("ngIf","picture-card"!==t.listType)}}function sH(t,e){if(1&t){const t=r.Yb();r.Xb(0,"a",39),r.fc("click",function(e){r.Cc(t);const n=r.jc(2).$implicit;return r.jc().handlePreview(n,e)}),r.Mc(1),r.Wb()}if(2&t){const t=r.jc(2).$implicit;r.qc("href",t.url,r.Ec),r.Eb("title",t.name)("download",t.linkProps&&t.linkProps.download),r.Db(1),r.Oc(" ",t.name," ")}}function aH(t,e){if(1&t){const t=r.Yb();r.Xb(0,"span",40),r.fc("click",function(e){r.Cc(t);const n=r.jc(2).$implicit;return r.jc().handlePreview(n,e)}),r.Mc(1),r.Wb()}if(2&t){const t=r.jc(2).$implicit;r.Eb("title",t.name),r.Db(1),r.Oc(" ",t.name," ")}}function cH(t,e){}function lH(t,e){if(1&t&&(r.Kc(0,sH,2,4,"a",37),r.Kc(1,aH,2,2,"span",38),r.Kc(2,cH,0,0,"ng-template",10)),2&t){const t=r.jc().$implicit,e=r.Ac(11);r.qc("ngIf",t.url),r.Db(1),r.qc("ngIf",!t.url),r.Db(1),r.qc("ngTemplateOutlet",e)}}function uH(t,e){}function hH(t,e){}const dH=function(){return{opacity:.5,"pointer-events":"none"}};function pH(t,e){if(1&t){const t=r.Yb();r.Xb(0,"a",44),r.fc("click",function(e){r.Cc(t);const n=r.jc(2).$implicit;return r.jc().handlePreview(n,e)}),r.Sb(1,"i",45),r.Wb()}if(2&t){const t=r.jc(2).$implicit,e=r.jc();r.qc("href",t.url||t.thumbUrl,r.Ec)("ngStyle",t.url||t.thumbUrl?null:r.uc(3,dH)),r.Eb("title",e.locale.previewFile)}}function fH(t,e){}function gH(t,e){if(1&t&&(r.Vb(0),r.Kc(1,fH,0,0,"ng-template",10),r.Ub()),2&t){r.jc(2);const t=r.Ac(9);r.Db(1),r.qc("ngTemplateOutlet",t)}}function mH(t,e){}function bH(t,e){if(1&t&&(r.Xb(0,"span",41),r.Kc(1,pH,2,4,"a",42),r.Kc(2,gH,2,1,"ng-container",43),r.Kc(3,mH,0,0,"ng-template",10),r.Wb()),2&t){const t=r.jc().$implicit,e=r.Ac(7),n=r.jc();r.Db(1),r.qc("ngIf",n.icons.showPreviewIcon),r.Db(1),r.qc("ngIf","done"===t.status),r.Db(1),r.qc("ngTemplateOutlet",e)}}function yH(t,e){if(1&t&&(r.Xb(0,"div",46),r.Sb(1,"nz-progress",47),r.Wb()),2&t){const t=r.jc().$implicit;r.Db(1),r.qc("nzPercent",t.percent)("nzShowInfo",!1)("nzStrokeWidth",2)}}function vH(t,e){if(1&t&&(r.Xb(0,"div"),r.Xb(1,"div",1),r.Kc(2,q$,6,3,"ng-template",null,2,r.Lc),r.Kc(4,Q$,5,6,"ng-template",null,3,r.Lc),r.Kc(6,Z$,1,1,"ng-template",null,4,r.Lc),r.Kc(8,eH,1,1,"ng-template",null,5,r.Lc),r.Kc(10,oH,1,1,"ng-template",null,6,r.Lc),r.Kc(12,lH,3,3,"ng-template",null,7,r.Lc),r.Xb(14,"div",8),r.Xb(15,"span",9),r.Kc(16,uH,0,0,"ng-template",10),r.Kc(17,hH,0,0,"ng-template",10),r.Wb(),r.Wb(),r.Kc(18,bH,4,3,"span",11),r.Kc(19,yH,2,3,"div",12),r.Wb(),r.Wb()),2&t){const t=e.$implicit,n=r.Ac(3),i=r.Ac(13),o=r.jc();r.Gb("ant-upload-list-",o.listType,"-container"),r.Db(1),r.Hb("ant-upload-list-item ant-upload-list-item-",t.status," ant-upload-list-item-list-type-",o.listType,""),r.qc("@itemState",void 0)("nzTooltipTitle","error"===t.status?t.message:null),r.Eb("data-key",t.key),r.Db(15),r.qc("ngTemplateOutlet",n),r.Db(1),r.qc("ngTemplateOutlet",i),r.Db(1),r.qc("ngIf","picture-card"===o.listType&&!t.isUploading),r.Db(1),r.qc("ngIf",t.isUploading)}}const _H=["uploadComp"],wH=["listComp"],zH=function(){return[]};function CH(t,e){if(1&t&&r.Sb(0,"nz-upload-list",8,9),2&t){const t=r.jc(2);r.Hc("display",t.nzShowUploadList?"":"none"),r.qc("locale",t.locale)("listType",t.nzListType)("items",t.nzFileList||r.uc(13,zH))("icons",t.nzShowUploadList)("iconRender",t.nzIconRender)("previewFile",t.nzPreviewFile)("previewIsImage",t.nzPreviewIsImage)("onPreview",t.nzPreview)("onRemove",t.onRemove)("onDownload",t.nzDownload)("dir",t.dir)}}function SH(t,e){1&t&&r.Tb(0)}function xH(t,e){if(1&t&&(r.Vb(0),r.Kc(1,SH,1,0,"ng-container",10),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.qc("ngTemplateOutlet",t.nzFileListRender)("ngTemplateOutletContext",r.vc(2,A$,t.nzFileList))}}function OH(t,e){if(1&t&&(r.Kc(0,CH,2,14,"nz-upload-list",6),r.Kc(1,xH,2,4,"ng-container",7)),2&t){const t=r.jc();r.qc("ngIf",t.locale&&!t.nzFileListRender),r.Db(1),r.qc("ngIf",t.nzFileListRender)}}function kH(t,e){1&t&&r.oc(0)}function TH(t,e){}function EH(t,e){if(1&t&&(r.Xb(0,"div",11),r.Xb(1,"div",12,13),r.Kc(3,TH,0,0,"ng-template",14),r.Wb(),r.Wb()),2&t){const t=r.jc(),e=r.Ac(3);r.Hc("display",t.nzShowButton?"":"none"),r.qc("ngClass",t.classList),r.Db(1),r.qc("options",t._btnOptions),r.Db(2),r.qc("ngTemplateOutlet",e)}}function IH(t,e){}function DH(t,e){}function MH(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Xb(1,"div",15),r.fc("drop",function(e){return r.Cc(t),r.jc().fileDrop(e)})("dragover",function(e){return r.Cc(t),r.jc().fileDrop(e)})("dragleave",function(e){return r.Cc(t),r.jc().fileDrop(e)}),r.Xb(2,"div",16,13),r.Xb(4,"div",17),r.Kc(5,IH,0,0,"ng-template",14),r.Wb(),r.Wb(),r.Wb(),r.Kc(6,DH,0,0,"ng-template",14),r.Ub()}if(2&t){const t=r.jc(),e=r.Ac(3),n=r.Ac(1);r.Db(1),r.qc("ngClass",t.classList),r.Db(1),r.qc("options",t._btnOptions),r.Db(3),r.qc("ngTemplateOutlet",e),r.Db(1),r.qc("ngTemplateOutlet",n)}}function RH(t,e){}function AH(t,e){}function PH(t,e){if(1&t&&(r.Vb(0),r.Kc(1,RH,0,0,"ng-template",14),r.Kc(2,AH,0,0,"ng-template",14),r.Ub()),2&t){r.jc(2);const t=r.Ac(1),e=r.Ac(5);r.Db(1),r.qc("ngTemplateOutlet",t),r.Db(1),r.qc("ngTemplateOutlet",e)}}function LH(t,e){if(1&t&&r.Kc(0,PH,3,2,"ng-container",3),2&t){const t=r.jc(),e=r.Ac(10);r.qc("ngIf","picture-card"===t.nzListType)("ngIfElse",e)}}function FH(t,e){}function jH(t,e){}function NH(t,e){if(1&t&&(r.Kc(0,FH,0,0,"ng-template",14),r.Kc(1,jH,0,0,"ng-template",14)),2&t){r.jc();const t=r.Ac(5),e=r.Ac(1);r.qc("ngTemplateOutlet",t),r.Db(1),r.qc("ngTemplateOutlet",e)}}let VH=(()=>{class t{constructor(t,e){if(this.http=t,this.elementRef=e,this.reqs={},this.destroy=!1,this.elementRef.nativeElement.classList.add("ant-upload"),!t)throw new Error("Not found 'HttpClient', You can import 'HttpClientModule' in your root module.")}onClick(){!this.options.disabled&&this.options.openFileDialogOnClick&&this.file.nativeElement.click()}onKeyDown(t){this.options.disabled||"Enter"!==t.key&&13!==t.keyCode||this.onClick()}onFileDrop(t){if(this.options.disabled||"dragover"===t.type)t.preventDefault();else{if(this.options.directory)this.traverseFileTree(t.dataTransfer.items);else{const e=Array.prototype.slice.call(t.dataTransfer.files).filter(t=>this.attrAccept(t,this.options.accept));e.length&&this.uploadFiles(e)}t.preventDefault()}}onChange(t){if(this.options.disabled)return;const e=t.target;this.uploadFiles(e.files),e.value=""}traverseFileTree(t){const e=(t,n)=>{t.isFile?t.file(t=>{this.attrAccept(t,this.options.accept)&&this.uploadFiles([t])}):t.isDirectory&&t.createReader().readEntries(i=>{for(const r of i)e(r,`${n}${t.name}/`)})};for(const n of t)e(n.webkitGetAsEntry(),"")}attrAccept(t,e){if(t&&e){const n=Array.isArray(e)?e:e.split(","),i=""+t.name,r=""+t.type,o=r.replace(/\/.*$/,"");return n.some(t=>{const e=t.trim();return"."===e.charAt(0)?-1!==i.toLowerCase().indexOf(e.toLowerCase(),i.toLowerCase().length-e.toLowerCase().length):/\/\*$/.test(e)?o===e.replace(/\/.*$/,""):r===e})}return!0}attachUid(t){return t.uid||(t.uid=Math.random().toString(36).substring(2)),t}uploadFiles(t){let e=Object(wi.a)(Array.prototype.slice.call(t));this.options.filters&&this.options.filters.forEach(t=>{e=e.pipe(Object(Bc.a)(e=>{const n=t.fn(e);return n instanceof F.a?n:Object(wi.a)(n)}))}),e.subscribe(t=>{t.forEach(e=>{this.attachUid(e),this.upload(e,t)})},t=>{vi("Unhandled upload filter error",t)})}upload(t,e){if(!this.options.beforeUpload)return this.post(t);const n=this.options.beforeUpload(t,e);if(n instanceof F.a)n.subscribe(e=>{const n=Object.prototype.toString.call(e);"[object File]"===n||"[object Blob]"===n?(this.attachUid(e),this.post(e)):"boolean"==typeof e&&!1!==e&&this.post(t)},t=>{vi("Unhandled upload beforeUpload error",t)});else if(!1!==n)return this.post(t)}post(t){if(this.destroy)return;let e=Object(wi.a)(t);const n=this.options,{uid:i}=t,{action:r,data:o,headers:s,transformFile:a}=n,c={action:"string"==typeof r?r:"",name:n.name,headers:s,file:t,postFile:t,data:o,withCredentials:n.withCredentials,onProgress:n.onProgress?e=>{n.onProgress(e,t)}:void 0,onSuccess:(e,r)=>{this.clean(i),n.onSuccess(e,t,r)},onError:e=>{this.clean(i),n.onError(e,t)}};if("function"==typeof r){const n=r(t);n instanceof F.a?e=e.pipe(Object(Bc.a)(()=>n),Object(N.a)(e=>(c.action=e,t))):c.action=n}if("function"==typeof a){const n=a(t);e=e.pipe(Object(Bc.a)(()=>n instanceof F.a?n:Object(wi.a)(n)))}if("function"==typeof o){const n=o(t);n instanceof F.a?e=e.pipe(Object(Bc.a)(()=>n),Object(N.a)(e=>(c.data=e,t))):c.data=n}if("function"==typeof s){const n=s(t);n instanceof F.a?e=e.pipe(Object(Bc.a)(()=>n),Object(N.a)(e=>(c.headers=e,t))):c.headers=n}e.subscribe(e=>{c.postFile=e;const r=(n.customRequest||this.xhr).call(this,c);r instanceof Yi.a||vi("Must return Subscription type in '[nzCustomRequest]' property"),this.reqs[i]=r,n.onStart(t)})}xhr(t){const e=new FormData;t.data&&Object.keys(t.data).map(n=>{e.append(n,t.data[n])}),e.append(t.name,t.postFile),t.headers||(t.headers={}),null!==t.headers["X-Requested-With"]?t.headers["X-Requested-With"]="XMLHttpRequest":delete t.headers["X-Requested-With"];const n=new Ur("POST",t.action,e,{reportProgress:!0,withCredentials:t.withCredentials,headers:new jr(t.headers)});return this.http.request(n).subscribe(e=>{e.type===$r.UploadProgress?(e.total>0&&(e.percent=e.loaded/e.total*100),t.onProgress(e,t.file)):e instanceof Gr&&t.onSuccess(e.body,t.file,e)},e=>{this.abort(t.file),t.onError(e,t.file)})}clean(t){const e=this.reqs[t];e instanceof Yi.a&&e.unsubscribe(),delete this.reqs[t]}abort(t){t?this.clean(t&&t.uid):Object.keys(this.reqs).forEach(t=>this.clean(t))}ngOnDestroy(){this.destroy=!0,this.abort()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Jr,8),r.Rb(r.l))},t.\u0275cmp=r.Lb({type:t,selectors:[["","nz-upload-btn",""]],viewQuery:function(t,e){if(1&t&&r.Qc(I$,1),2&t){let t;r.zc(t=r.gc())&&(e.file=t.first)}},hostVars:4,hostBindings:function(t,e){1&t&&r.fc("click",function(){return e.onClick()})("keydown",function(t){return e.onKeyDown(t)})("drop",function(t){return e.onFileDrop(t)})("dragover",function(t){return e.onFileDrop(t)}),2&t&&(r.Eb("tabindex","0")("role","button"),r.Jb("ant-upload-disabled",e.options.disabled))},inputs:{options:"options"},exportAs:["nzUploadBtn"],attrs:D$,ngContentSelectors:M$,decls:3,vars:4,consts:[["type","file",2,"display","none",3,"multiple","change"],["file",""]],template:function(t,e){1&t&&(r.pc(),r.Xb(0,"input",0,1),r.fc("change",function(t){return e.onChange(t)}),r.Wb(),r.oc(2)),2&t&&(r.qc("multiple",e.options.multiple),r.Eb("accept",e.options.accept)("directory",e.options.directory?"directory":null)("webkitdirectory",e.options.directory?"webkitdirectory":null))},encapsulation:2}),t})();const WH=t=>!!t&&0===t.indexOf("image/");let qH=(()=>{class t{constructor(t,e,n,i,r){this.cdr=t,this.doc=e,this.ngZone=n,this.platform=i,this.elementRef=r,this.list=[],this.locale={},this.iconRender=null,this.dir="ltr",this.elementRef.nativeElement.classList.add("ant-upload-list")}get showPic(){return"picture"===this.listType||"picture-card"===this.listType}set items(t){this.list=t}genErr(t){return t.response&&"string"==typeof t.response?t.response:t.error&&t.error.statusText||this.locale.uploadError}extname(t){const e=t.split("/"),n=e[e.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(n)||[""])[0]}isImageUrl(t){if(WH(t.type))return!0;const e=t.thumbUrl||t.url||"";if(!e)return!1;const n=this.extname(e);return!(!/^data:image\//.test(e)&&!/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg)$/i.test(n))||!/^data:/.test(e)&&!n}getIconType(t){return this.showPic?t.isUploading||!t.thumbUrl&&!t.url?"uploading":"thumbnail":""}previewImage(t){return new Promise(e=>{WH(t.type)?this.ngZone.runOutsideAngular(()=>{const n=this.doc.createElement("canvas");n.width=200,n.height=200,n.style.cssText="position: fixed; left: 0; top: 0; width: 200px; height: 200px; z-index: 9999; display: none;",this.doc.body.appendChild(n);const i=n.getContext("2d"),r=new Image;r.onload=()=>{const{width:t,height:o}=r;let s=200,a=200,c=0,l=0;t<o?(a=o*(200/t),l=-(a-s)/2):(s=t*(200/o),c=-(s-a)/2);try{i.drawImage(r,c,l,s,a)}catch(mpt){}const u=n.toDataURL();this.doc.body.removeChild(n),e(u)},r.src=window.URL.createObjectURL(t)}):e("")})}genThumb(){if(!this.platform.isBrowser)return;const t=window;this.showPic&&"undefined"!=typeof document&&void 0!==t&&t.FileReader&&t.File&&this.list.filter(t=>t.originFileObj instanceof File&&void 0===t.thumbUrl).forEach(t=>{t.thumbUrl="",(this.previewFile?this.previewFile(t).toPromise():this.previewImage(t.originFileObj)).then(e=>{t.thumbUrl=e,this.detectChanges()})})}showDownload(t){return!(!this.icons.showDownloadIcon||"done"!==t.status)}fixData(){this.list.forEach(t=>{t.isUploading="uploading"===t.status,t.message=this.genErr(t),t.linkProps="string"==typeof t.linkProps?JSON.parse(t.linkProps):t.linkProps,t.isImageUrl=this.previewIsImage?this.previewIsImage(t):this.isImageUrl(t),t.iconType=this.getIconType(t),t.showDownload=this.showDownload(t)})}handlePreview(t,e){if(this.onPreview)return e.preventDefault(),this.onPreview(t)}handleRemove(t,e){e.preventDefault(),this.onRemove&&this.onRemove(t)}handleDownload(t){"function"==typeof this.onDownload?this.onDownload(t):t.url&&window.open(t.url)}detectChanges(){this.fixData(),this.cdr.detectChanges()}ngOnChanges(){this.fixData(),this.genThumb()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h),r.Rb(i.d),r.Rb(r.A),r.Rb(qn),r.Rb(r.l))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-upload-list"]],hostVars:8,hostBindings:function(t,e){2&t&&r.Jb("ant-upload-list-rtl","rtl"===e.dir)("ant-upload-list-text","text"===e.listType)("ant-upload-list-picture","picture"===e.listType)("ant-upload-list-picture-card","picture-card"===e.listType)},inputs:{locale:"locale",iconRender:"iconRender",dir:"dir",items:"items",listType:"listType",icons:"icons",onPreview:"onPreview",onRemove:"onRemove",onDownload:"onDownload",previewFile:"previewFile",previewIsImage:"previewIsImage"},exportAs:["nzUploadList"],features:[r.Bb],decls:1,vars:1,consts:[[3,"class",4,"ngFor","ngForOf"],["nz-tooltip","",3,"nzTooltipTitle"],["icon",""],["iconNode",""],["removeIcon",""],["downloadIcon",""],["downloadOrDelete",""],["preview",""],[1,"ant-upload-list-item-info"],[1,"ant-upload-span"],[3,"ngTemplateOutlet"],["class","ant-upload-list-item-actions",4,"ngIf"],["class","ant-upload-list-item-progress",4,"ngIf"],[3,"ngSwitch"],["class","ant-upload-list-item-thumbnail",3,"ant-upload-list-item-file",4,"ngSwitchCase"],["class","ant-upload-list-item-thumbnail","target","_blank","rel","noopener noreferrer",3,"ant-upload-list-item-file","href","click",4,"ngSwitchCase"],["class","ant-upload-text-icon",4,"ngSwitchDefault"],["noImageThumbTpl",""],[1,"ant-upload-list-item-thumbnail"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["target","_blank","rel","noopener noreferrer",1,"ant-upload-list-item-thumbnail",3,"href","click"],["class","ant-upload-list-item-image",3,"src",4,"ngIf","ngIfElse"],[1,"ant-upload-list-item-image",3,"src"],[1,"ant-upload-text-icon"],[4,"ngIf","ngIfElse"],["customIconRender",""],["iconNodeFileIcon",""],[4,"ngSwitchCase"],["nz-icon","",3,"nzType",4,"ngSwitchDefault"],["nz-icon","","nzType","loading"],["nz-icon","",3,"nzType"],["nz-icon","","nzTheme","twotone",3,"nzType"],["type","button","nz-button","","nzType","text","nzSize","small","class","ant-upload-list-item-card-actions-btn",3,"click",4,"ngIf"],["type","button","nz-button","","nzType","text","nzSize","small",1,"ant-upload-list-item-card-actions-btn",3,"click"],["nz-icon","","nzType","delete"],["nz-icon","","nzType","download"],[3,"class",4,"ngIf"],["target","_blank","rel","noopener noreferrer","class","ant-upload-list-item-name",3,"href","click",4,"ngIf"],["class","ant-upload-list-item-name",3,"click",4,"ngIf"],["target","_blank","rel","noopener noreferrer",1,"ant-upload-list-item-name",3,"href","click"],[1,"ant-upload-list-item-name",3,"click"],[1,"ant-upload-list-item-actions"],["target","_blank","rel","noopener noreferrer",3,"href","ngStyle","click",4,"ngIf"],[4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"href","ngStyle","click"],["nz-icon","","nzType","eye"],[1,"ant-upload-list-item-progress"],["nzType","line",3,"nzPercent","nzShowInfo","nzStrokeWidth"]],template:function(t,e){1&t&&r.Kc(0,vH,20,14,"div",0),2&t&&r.qc("ngForOf",e.list)},directives:[i.m,hu,i.s,i.n,i.p,i.q,i.r,No,Rf,HL,i.o,T$],encapsulation:2,data:{animation:[qo("itemState",[Ko(":enter",[Uo({height:"0",width:"0",opacity:0}),Bo(150,Uo({height:"*",width:"*",opacity:1}))]),Ko(":leave",[Bo(150,Uo({height:"0",width:"0",opacity:0}))])])]},changeDetection:0}),t})(),BH=(()=>{class t{constructor(t,e,n){this.cdr=t,this.i18n=e,this.directionality=n,this.destroy$=new xe.a,this.dir="ltr",this.nzType="select",this.nzLimit=0,this.nzSize=0,this.nzDirectory=!1,this.nzOpenFileDialogOnClick=!0,this.nzFilter=[],this.nzFileList=[],this.nzDisabled=!1,this.nzListType="text",this.nzMultiple=!1,this.nzName="file",this._showUploadList=!0,this.nzShowButton=!0,this.nzWithCredentials=!1,this.nzIconRender=null,this.nzFileListRender=null,this.nzChange=new r.n,this.nzFileListChange=new r.n,this.onStart=t=>{this.nzFileList||(this.nzFileList=[]);const e=this.fileToObject(t);e.status="uploading",this.nzFileList=this.nzFileList.concat(e),this.nzFileListChange.emit(this.nzFileList),this.nzChange.emit({file:e,fileList:this.nzFileList,type:"start"}),this.detectChangesList()},this.onProgress=(t,e)=>{const n=this.getFileItem(e,this.nzFileList);n.percent=t.percent,this.nzChange.emit({event:t,file:Object.assign({},n),fileList:this.nzFileList,type:"progress"}),this.detectChangesList()},this.onSuccess=(t,e)=>{const n=this.nzFileList,i=this.getFileItem(e,n);i.status="done",i.response=t,this.nzChange.emit({file:Object.assign({},i),fileList:n,type:"success"}),this.detectChangesList()},this.onError=(t,e)=>{const n=this.nzFileList,i=this.getFileItem(e,n);i.error=t,i.status="error",this.nzChange.emit({file:Object.assign({},i),fileList:n,type:"error"}),this.detectChangesList()},this.onRemove=t=>{this.uploadComp.abort(t),t.status="removed";const e="function"==typeof this.nzRemove?this.nzRemove(t):null==this.nzRemove||this.nzRemove;(e instanceof F.a?e:Object(wi.a)(e)).pipe(Object(di.a)(t=>t)).subscribe(()=>{this.nzFileList=this.removeFileItem(t,this.nzFileList),this.nzChange.emit({file:t,fileList:this.nzFileList,type:"removed"}),this.nzFileListChange.emit(this.nzFileList),this.cdr.detectChanges()})},this.prefixCls="ant-upload",this.classList=[]}set nzShowUploadList(t){this._showUploadList="boolean"==typeof t?Oi(t):t}get nzShowUploadList(){return this._showUploadList}zipOptions(){"boolean"==typeof this.nzShowUploadList&&this.nzShowUploadList&&(this.nzShowUploadList={showPreviewIcon:!0,showRemoveIcon:!0,showDownloadIcon:!0});const t=this.nzFilter.slice();if(this.nzMultiple&&this.nzLimit>0&&-1===t.findIndex(t=>"limit"===t.name)&&t.push({name:"limit",fn:t=>t.slice(-this.nzLimit)}),this.nzSize>0&&-1===t.findIndex(t=>"size"===t.name)&&t.push({name:"size",fn:t=>t.filter(t=>t.size/1024<=this.nzSize)}),this.nzFileType&&this.nzFileType.length>0&&-1===t.findIndex(t=>"type"===t.name)){const e=this.nzFileType.split(",");t.push({name:"type",fn:t=>t.filter(t=>~e.indexOf(t.type))})}return this._btnOptions={disabled:this.nzDisabled,accept:this.nzAccept,action:this.nzAction,directory:this.nzDirectory,openFileDialogOnClick:this.nzOpenFileDialogOnClick,beforeUpload:this.nzBeforeUpload,customRequest:this.nzCustomRequest,data:this.nzData,headers:this.nzHeaders,name:this.nzName,multiple:this.nzMultiple,withCredentials:this.nzWithCredentials,filters:t,transformFile:this.nzTransformFile,onStart:this.onStart,onProgress:this.onProgress,onSuccess:this.onSuccess,onError:this.onError},this}fileToObject(t){return{lastModified:t.lastModified,lastModifiedDate:t.lastModifiedDate,name:t.filename||t.name,size:t.size,type:t.type,uid:t.uid,response:t.response,error:t.error,percent:0,originFileObj:t}}getFileItem(t,e){return e.filter(e=>e.uid===t.uid)[0]}removeFileItem(t,e){return e.filter(e=>e.uid!==t.uid)}fileDrop(t){t.type!==this.dragState&&(this.dragState=t.type,this.setClassMap())}detectChangesList(){var t;this.cdr.detectChanges(),null===(t=this.listComp)||void 0===t||t.detectChanges()}setClassMap(){let t=[];"drag"===this.nzType?(this.nzFileList.some(t=>"uploading"===t.status)&&t.push(`${this.prefixCls}-drag-uploading`),"dragover"===this.dragState&&t.push(`${this.prefixCls}-drag-hover`)):t=[`${this.prefixCls}-select-${this.nzListType}`],this.classList=[this.prefixCls,`${this.prefixCls}-${this.nzType}`,...t,this.nzDisabled&&`${this.prefixCls}-disabled`||"","rtl"===this.dir&&`${this.prefixCls}-rtl`||""].filter(t=>!!t),this.cdr.detectChanges()}ngOnInit(){var t;this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t,this.setClassMap(),this.cdr.detectChanges()}),this.i18n.localeChange.pipe(An(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Upload"),this.detectChangesList()})}ngOnChanges(){this.zipOptions().setClassMap()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h),r.Rb(Ed),r.Rb(bn,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-upload"]],viewQuery:function(t,e){if(1&t&&(r.Qc(_H,1),r.Qc(wH,1)),2&t){let t;r.zc(t=r.gc())&&(e.uploadComp=t.first),r.zc(t=r.gc())&&(e.listComp=t.first)}},hostVars:2,hostBindings:function(t,e){2&t&&r.Jb("ant-upload-picture-card-wrapper","picture-card"===e.nzListType)},inputs:{nzType:"nzType",nzLimit:"nzLimit",nzSize:"nzSize",nzDirectory:"nzDirectory",nzOpenFileDialogOnClick:"nzOpenFileDialogOnClick",nzFilter:"nzFilter",nzFileList:"nzFileList",nzDisabled:"nzDisabled",nzListType:"nzListType",nzMultiple:"nzMultiple",nzName:"nzName",nzShowButton:"nzShowButton",nzWithCredentials:"nzWithCredentials",nzIconRender:"nzIconRender",nzFileListRender:"nzFileListRender",nzShowUploadList:"nzShowUploadList",nzFileType:"nzFileType",nzAccept:"nzAccept",nzAction:"nzAction",nzBeforeUpload:"nzBeforeUpload",nzCustomRequest:"nzCustomRequest",nzData:"nzData",nzHeaders:"nzHeaders",nzRemove:"nzRemove",nzPreview:"nzPreview",nzPreviewFile:"nzPreviewFile",nzPreviewIsImage:"nzPreviewIsImage",nzTransformFile:"nzTransformFile",nzDownload:"nzDownload"},outputs:{nzChange:"nzChange",nzFileListChange:"nzFileListChange"},exportAs:["nzUpload"],features:[r.Bb],ngContentSelectors:M$,decls:11,vars:2,consts:[["list",""],["con",""],["btn",""],[4,"ngIf","ngIfElse"],["select",""],["pic",""],[3,"display","locale","listType","items","icons","iconRender","previewFile","previewIsImage","onPreview","onRemove","onDownload","dir",4,"ngIf"],[4,"ngIf"],[3,"locale","listType","items","icons","iconRender","previewFile","previewIsImage","onPreview","onRemove","onDownload","dir"],["listComp",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["nz-upload-btn","",3,"options"],["uploadComp",""],[3,"ngTemplateOutlet"],[3,"ngClass","drop","dragover","dragleave"],["nz-upload-btn","",1,"ant-upload-btn",3,"options"],[1,"ant-upload-drag-container"]],template:function(t,e){if(1&t&&(r.pc(),r.Kc(0,OH,2,2,"ng-template",null,0,r.Lc),r.Kc(2,kH,1,0,"ng-template",null,1,r.Lc),r.Kc(4,EH,4,5,"ng-template",null,2,r.Lc),r.Kc(6,MH,7,4,"ng-container",3),r.Kc(7,LH,1,2,"ng-template",null,4,r.Lc),r.Kc(9,NH,2,2,"ng-template",null,5,r.Lc)),2&t){const t=r.Ac(8);r.Db(6),r.qc("ngIf","drag"===e.nzType)("ngIfElse",t)}},directives:[i.n,qH,yn,i.s,i.l,VH],encapsulation:2,changeDetection:0}),sr([Mi(),ar("design:type",Object)],t.prototype,"nzLimit",void 0),sr([Mi(),ar("design:type",Object)],t.prototype,"nzSize",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzDirectory",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzOpenFileDialogOnClick",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzDisabled",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzMultiple",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzShowButton",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzWithCredentials",void 0),t})(),XH=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,me,Bn,pu,E$,Dd,Vo,GL]]}),t})(),UH=(()=>{class t{constructor(t,e){this.backendService=t,this.logService=e,this.fileList=[],this.dataForm=new Yt({name:new Gt(null,et.required),definition:new Gt}),this.loading=!1,this.beforeUpload=t=>(this.fileList=this.fileList.concat(t),!1),this.removeFile=t=>{for(let e=0;e<this.fileList.length;e++)t.uid==this.fileList[e].uid&&this.fileList.splice(e,1)}}importFiles(){this.loading=!0,this.backendService.importOntologies(this.fileList).subscribe(t=>{this.logService.addIssues(t.issues)},t=>{this.loading=!1,this.logService.addIssues(t.issues)},()=>{this.loading=!1,this.fileList=[]})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(YP))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-ontologies-import"]],decls:13,vars:9,consts:[["nzTitle","Importar ontolog\xeda","nzSubtitle","(desde ficheros OBO)"],["nz-form","",3,"formGroup"],["nz-row","","nzJustify","center"],["nz-button","",3,"nzType","nzLoading","disabled","click"],["nzType","drag",3,"nzMultiple","nzFileList","nzRemove","nzBeforeUpload","nzFileListChange"],[1,"ant-upload-drag-icon"],["nz-icon","","nzType","inbox"],[1,"ant-upload-text"],[1,"ant-upload-hint"]],template:function(t,e){1&t&&(r.Sb(0,"nz-page-header",0),r.Xb(1,"form",1),r.Xb(2,"div",2),r.Xb(3,"button",3),r.fc("click",function(){return e.importFiles()}),r.Mc(4),r.Wb(),r.Wb(),r.Sb(5,"br"),r.Xb(6,"nz-upload",4),r.fc("nzFileListChange",function(t){return e.fileList=t}),r.Xb(7,"p",5),r.Sb(8,"i",6),r.Wb(),r.Xb(9,"p",7),r.Mc(10,"Pulsa o arrastra ficheros a este \xe1rea"),r.Wb(),r.Xb(11,"p",8),r.Mc(12," Los ficheros se a\xf1adiran a una lista. Cuando est\xe9 todo listo, pulsa bot\xf3n 'Empezar subida'. "),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.Db(1),r.qc("formGroup",e.dataForm),r.Db(2),r.qc("nzType","primary")("nzLoading",e.loading)("disabled",0==e.fileList.length),r.Db(1),r.Oc(" ",e.loading?"Cargando":"Empezar subida"," "),r.Db(2),r.qc("nzMultiple",!0)("nzFileList",e.fileList)("nzRemove",e.removeFile)("nzBeforeUpload",e.beforeUpload))},directives:[Lj,re,yt,Qd,le,nr,HL,qL,Rf,BH,No],styles:[""]}),t})();function $H(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Xb(1,"tr",8),r.fc("click",function(){r.Cc(t);const n=e.$implicit;return r.jc().onExpandChange(n.cvterm_id)}),r.Xb(2,"td",9),r.Mc(3),r.Wb(),r.Wb(),r.Xb(4,"tr",9),r.Sb(5,"app-bo-card",10),r.Wb(),r.Ub()}if(2&t){const t=e.$implicit,n=r.jc();r.Db(2),r.qc("nzExpand",n.expandSet.has(t.cvterm_id)),r.Db(1),r.Oc(" ",t.name," "),r.Db(1),r.qc("nzExpand",n.expandSet.has(t.cvterm_id)),r.Db(1),r.qc("data",t)}}let HH=(()=>{class t{constructor(t,e){this.backendService=t,this.router=e,this.cv={},this.dbxref={},this.cvterms=[],this.expandSet=new Set}ngOnInit(){this.cv_id=this.router.url.replace(/^.*[\\\/]/,""),this.backendService.getOntologies(this.cv_id).subscribe(t=>{this.cv=t.content},t=>{},()=>{}),this.backendService.getCvterms(this.cv_id).subscribe(t=>{this.cvterms=t.content},t=>{},()=>{})}onExpandChange(t){this.expandSet.has(t)?this.expandSet.delete(t):this.expandSet.add(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(dm.g))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-ontology-detail"]],decls:9,vars:4,consts:[["nzSubtitle","Informaci\xf3n detallada",3,"nzTitle"],[2,"width","80vw"],["nzTitle","General"],[3,"data"],["nzTitle","T\xe9rminos"],[3,"nzData"],["seqs_table",""],[4,"ngFor","ngForOf"],[3,"click"],[3,"nzExpand"],["type","cvterm",3,"data"]],template:function(t,e){if(1&t&&(r.Sb(0,"nz-page-header",0),r.Xb(1,"nz-tabset",1),r.Xb(2,"nz-tab",2),r.Sb(3,"app-bo-card",3),r.Wb(),r.Xb(4,"nz-tab",4),r.Xb(5,"nz-table",5,6),r.Xb(7,"tbody"),r.Kc(8,$H,6,4,"ng-container",7),r.Wb(),r.Wb(),r.Wb(),r.Wb()),2&t){const t=r.Ac(6);r.rc("nzTitle",e.cv.name),r.Db(3),r.qc("data",e.cv),r.Db(2),r.qc("nzData",e.cvterms),r.Db(3),r.qc("ngForOf",t.data)}},directives:[Lj,lX,JB,IU,XW,UW,i.m,$W,MW,RW,GW,NW],styles:[""]}),t})();function KH(t,e){if(1&t&&(r.Xb(0,"button",19),r.Sb(1,"i",20),r.Wb()),2&t){const t=r.jc();r.qc("nzLoading",t.loading)}}let GH=(()=>{class t{constructor(t,e,n,i,r,o){this.backendService=t,this.logService=e,this.modal=n,this.stateService=i,this.router=r,this.activeRoute=o,this.pageMeta={pageIndex:1,pageSize:10,checkedItems:new Set,checkedAll:!1,selectedFields:[]},this.pageData=[],this.totalSize=0,this.searchValue="",this.loading=!0,this.showForm=!1,this.dataForm=new Yt({genus:new Gt(null,et.required),species:new Gt(null,et.required),common_name:new Gt,abbreviation:new Gt,comment:new Gt})}ngOnInit(){this.activeRoute.url.subscribe(t=>{this.stateService.setCurrentView(this,t)}),this.search()}ngOnDestroy(){this.stateService.saveOnDestroy(this)}getState(){return{pageMeta:this.pageMeta,searchValue:this.searchValue}}setState(t){t&&(t.pageMeta&&(this.pageMeta=t.pageMeta),t.searchValue&&(this.searchValue=t.searchValue))}changePage(){this.search()}showModal(){this.showForm=!0}handleOk(){this.createOrganism()}handleCancel(){this.showForm=!1}createOrganism(){this.loading=!0,this.backendService.postOrganisms(this.dataForm.value).subscribe(t=>{this.logService.addIssues(t.issues)},t=>{this.loading=!1,this.logService.addIssues(t.issues)},()=>{this.loading=!1,this.showForm=!1,this.search()})}item2str(t){return JSON.stringify(t)}searchEvent(){this.pageMeta.pageIndex=1,this.pageMeta.checkedItems.clear(),this.search()}search(){this.loading=!0,this.backendService.getOrganisms(void 0,{filter:{},order:{},searchValue:this.searchValue,pagination:{pageIndex:this.pageMeta.pageIndex,pageSize:this.pageMeta.pageSize}}).subscribe(t=>{this.pageData=t.content,this.totalSize=t.count,this.logService.addIssues(t.issues)},t=>{this.loading=!1,this.logService.addIssues(t.issues)},()=>{this.loading=!1})}openItem(t){this.router.navigate(["organismDetail",t.organism_id])}exportSelection(){}exportItem(t){this.logService.info("DUMMY: Exportando la secuencia "+this.item2str(t))}deleteSelection(){this.modal.confirm({nzTitle:"<i>\xbfSeguro que desea eliminar los organismos seleccionados y los datos asociados?</i>",nzContent:"<b>N\xfamero de organismos seleccionados: </b>"+this.pageMeta.checkedItems.size,nzOnOk:()=>{this.backendService.deleteOrganisms(void 0,{id:Array.from(this.pageMeta.checkedItems)}).subscribe(t=>{this.logService.addIssues(t.issues)},t=>{this.logService.addIssues(t.issues)},()=>{this.search()})}})}deleteItem(t){this.modal.confirm({nzTitle:"<i>\xbfSeguro que desea eliminar este organismo y los datos asociados?</i>",nzContent:this.item2str(t),nzOnOk:()=>{this.loading=!0,this.backendService.deleteOrganisms(t.organism_id).subscribe(t=>{this.logService.addIssues(t.issues)},t=>{this.loading=!1,this.logService.addIssues(t.issues)},()=>{this.loading=!1,this.search()})}})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(YP),r.Rb(qF),r.Rb(IP),r.Rb(dm.g),r.Rb(dm.a))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-organisms-browse"]],decls:42,vars:26,consts:[["nzTitle","Organismos","nzSubtitle","Filogenia"],["action","",3,"submit"],["nzSearch","",3,"nzAddOnAfter"],["name","searchValue","type","text","nz-input","","placeholder","Introduzca los t\xe9rminos de b\xfasqueda",3,"ngModel","disabled","ngModelChange"],["suffixIconButton",""],["nz-row",""],["nz-button","","nzType","primary",2,"margin","8px",3,"click"],["nz-button","","nzType","primary",2,"margin","8px",3,"disabled","nzLoading","click"],["pageType","organism",3,"Loading","PageData","DataSize","PaginationEvent","OpenEvent","ExportEvent","DeleteEvent"],["nzTitle","Datos del organismo",3,"nzVisible","nzOkLoading","nzOkDisabled","nzVisibleChange","nzOnCancel","nzOnOk"],["nz-form","",3,"formGroup"],["nzRequired","",3,"nzSpan"],["nzErrorTip","Input is required","nzHasFeedback","",3,"nzSpan","nzValidateStatus"],["nz-input","","formControlName","genus","required",""],["nz-input","","formControlName","species","required",""],[3,"nzSpan"],["nz-input","","formControlName","common_name"],["nz-input","","formControlName","abbreviation"],["nz-input","","formControlName","comment","rows","3","cols","10"],["nz-button","","nzSearch","",3,"nzLoading"],["nz-icon","","nzType","search"]],template:function(t,e){if(1&t&&(r.Xb(0,"nz-page-header",0),r.Xb(1,"nz-page-header-content"),r.Xb(2,"form",1),r.fc("submit",function(){return e.searchEvent()}),r.Xb(3,"nz-input-group",2),r.Xb(4,"input",3),r.fc("ngModelChange",function(t){return e.searchValue=t}),r.Wb(),r.Wb(),r.Kc(5,KH,2,1,"ng-template",null,4,r.Lc),r.Wb(),r.Wb(),r.Wb(),r.Xb(7,"div",5),r.Xb(8,"button",6),r.fc("click",function(){return e.showModal()}),r.Mc(9," Crear organismo "),r.Wb(),r.Xb(10,"button",7),r.fc("click",function(){return e.exportSelection()}),r.Mc(11," Exportar selecci\xf3n "),r.Wb(),r.Xb(12,"button",7),r.fc("click",function(){return e.deleteSelection()}),r.Mc(13," Eliminar selecci\xf3n "),r.Wb(),r.Wb(),r.Xb(14,"app-dynamic-table",8),r.fc("PaginationEvent",function(){return e.changePage()})("OpenEvent",function(t){return e.openItem(t)})("ExportEvent",function(t){return e.exportItem(t)})("DeleteEvent",function(t){return e.deleteItem(t)}),r.Wb(),r.Xb(15,"nz-modal",9),r.fc("nzVisibleChange",function(t){return e.showForm=t})("nzOnCancel",function(){return e.handleCancel()})("nzOnOk",function(){return e.handleOk()}),r.Xb(16,"form",10),r.Xb(17,"nz-form-item"),r.Xb(18,"nz-form-label",11),r.Mc(19,"G\xe9nero"),r.Wb(),r.Xb(20,"nz-form-control",12),r.Sb(21,"input",13),r.Wb(),r.Wb(),r.Xb(22,"nz-form-item"),r.Xb(23,"nz-form-label",11),r.Mc(24,"Especie"),r.Wb(),r.Xb(25,"nz-form-control",12),r.Sb(26,"input",14),r.Wb(),r.Wb(),r.Xb(27,"nz-form-item"),r.Xb(28,"nz-form-label",15),r.Mc(29,"N. com\xfan"),r.Wb(),r.Xb(30,"nz-form-control",15),r.Sb(31,"input",16),r.Wb(),r.Wb(),r.Xb(32,"nz-form-item"),r.Xb(33,"nz-form-label",15),r.Mc(34,"Abreviaci\xf3n"),r.Wb(),r.Xb(35,"nz-form-control",15),r.Sb(36,"input",17),r.Wb(),r.Wb(),r.Xb(37,"nz-form-item"),r.Xb(38,"nz-form-label",15),r.Mc(39,"Comentario"),r.Wb(),r.Xb(40,"nz-form-control",15),r.Sb(41,"textarea",18),r.Wb(),r.Wb(),r.Wb(),r.Wb()),2&t){const t=r.Ac(6);r.Db(3),r.qc("nzAddOnAfter",t),r.Db(1),r.qc("ngModel",e.searchValue)("disabled",e.loading),r.Db(6),r.qc("disabled",0===e.pageMeta.checkedItems.size&&!e.pageMeta.checkedAll)("nzLoading",e.loading),r.Db(2),r.qc("disabled",0===e.pageMeta.checkedItems.size&&!e.pageMeta.checkedAll)("nzLoading",e.loading),r.Db(2),r.qc("Loading",e.loading)("PageData",e.pageData)("DataSize",e.totalSize),r.Db(1),r.qc("nzVisible",e.showForm)("nzOkLoading",e.loading)("nzOkDisabled",!e.dataForm.valid),r.Db(1),r.qc("formGroup",e.dataForm),r.Db(2),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12)("nzValidateStatus",e.dataForm.controls.genus),r.Db(3),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12)("nzValidateStatus",e.dataForm.controls.species),r.Db(3),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12),r.Db(3),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12),r.Db(3),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12)}},directives:[Lj,Mj,re,yt,te,Rf,Gp,Hp,G,bt,ie,nr,HL,qL,gB,UF,Qd,le,Jd,ir,np,tp,he,pe,No],styles:[""]}),t})();function YH(t,e){if(1&t&&r.Sb(0,"nz-option",14),2&t){const t=e.$implicit,n=e.index;r.tc("nzLabel","",t.genus," ",t.species,""),r.rc("nzValue",n)}}function QH(t,e){if(1&t&&r.Sb(0,"nz-option",14),2&t){const t=e.index;r.rc("nzLabel",e.$implicit.name),r.rc("nzValue",t)}}function JH(t,e){if(1&t&&r.Sb(0,"nz-option",14),2&t){const t=e.$implicit;r.rc("nzLabel",t),r.rc("nzValue",t)}}let ZH=(()=>{class t{constructor(t,e){this.backendService=t,this.logService=e,this.fileList=[],this.organisms=[],this.analyses=[],this.regions=["matK","rbcl"],this.selectedOrganism=null,this.selectedAnalysis=null,this.selectedRegion=null,this.loading=!0,this.beforeUpload=t=>(this.fileList=this.fileList.concat(t),!1),this.removeFile=t=>{for(let e=0;e<this.fileList.length;e++)t.uid==this.fileList[e].uid&&this.fileList.splice(e,1)}}ngOnInit(){this.backendService.getOrganisms().subscribe(t=>{this.organisms=t.content,this.logService.addIssues(t.issues)},t=>{this.logService.addIssues(t.issues)},()=>{}),this.backendService.getAnalyses().subscribe(t=>{this.analyses=t.content,this.logService.addIssues(t.issues)},t=>{this.loading=!1,this.logService.addIssues(t.issues)},()=>{this.loading=!1})}importFiles(){this.loading=!0,this.backendService.importOrganisms(this.fileList).subscribe(t=>{this.logService.addIssues(t.issues)},t=>{this.loading=!1,this.logService.addIssues(t.issues)},()=>{this.loading=!1,this.fileList=[]})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(YP))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-organisms-import"]],decls:31,vars:23,consts:[["nzTitle","Importar secuencias","nzSubtitle","(desde ficheros FASTA)"],["nz-form",""],[3,"nzSpan"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Seleccionar especie","name","selectedOrganism",3,"nzDisabled","ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Seleccionar procedencia","name","selectedAnalysis",3,"nzDisabled","ngModel","ngModelChange"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Seleccionar regi\xf3n del ADN","name","selectedRegion",3,"nzDisabled","ngModel","ngModelChange"],["nz-row","","nzJustify","center"],["nz-button","",3,"nzType","nzLoading","disabled","click"],["nzType","drag",3,"nzMultiple","nzFileList","nzRemove","nzBeforeUpload","nzFileListChange"],[1,"ant-upload-drag-icon"],["nz-icon","","nzType","inbox"],[1,"ant-upload-text"],[1,"ant-upload-hint"],[3,"nzLabel","nzValue"]],template:function(t,e){1&t&&(r.Sb(0,"nz-page-header",0),r.Xb(1,"form",1),r.Xb(2,"nz-form-item"),r.Xb(3,"nz-form-label",2),r.Mc(4,"Organismo"),r.Wb(),r.Xb(5,"nz-form-control",2),r.Xb(6,"nz-select",3),r.fc("ngModelChange",function(t){return e.selectedOrganism=t}),r.Kc(7,YH,1,3,"nz-option",4),r.Wb(),r.Wb(),r.Wb(),r.Xb(8,"nz-form-item"),r.Xb(9,"nz-form-label",2),r.Mc(10,"An\xe1lisis"),r.Wb(),r.Xb(11,"nz-form-control",2),r.Xb(12,"nz-select",5),r.fc("ngModelChange",function(t){return e.selectedAnalysis=t}),r.Kc(13,QH,1,2,"nz-option",4),r.Wb(),r.Wb(),r.Wb(),r.Xb(14,"nz-form-item"),r.Xb(15,"nz-form-label",2),r.Mc(16,"Regi\xf3n"),r.Wb(),r.Xb(17,"nz-form-control",2),r.Xb(18,"nz-select",6),r.fc("ngModelChange",function(t){return e.selectedRegion=t}),r.Kc(19,JH,1,2,"nz-option",4),r.Wb(),r.Wb(),r.Wb(),r.Xb(20,"div",7),r.Xb(21,"button",8),r.fc("click",function(){return e.importFiles()}),r.Mc(22),r.Wb(),r.Wb(),r.Sb(23,"br"),r.Xb(24,"nz-upload",9),r.fc("nzFileListChange",function(t){return e.fileList=t}),r.Xb(25,"p",10),r.Sb(26,"i",11),r.Wb(),r.Xb(27,"p",12),r.Mc(28,"Pulsa o arrastra ficheros a este \xe1rea"),r.Wb(),r.Xb(29,"p",13),r.Mc(30," Los ficheros se a\xf1adiran a una lista. Cuando est\xe9 todo listo, pulsa bot\xf3n 'Empezar subida'. "),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.Db(3),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12),r.Db(1),r.qc("nzDisabled",e.loading)("ngModel",e.selectedOrganism),r.Db(1),r.qc("ngForOf",e.organisms),r.Db(2),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12),r.Db(1),r.qc("nzDisabled",e.loading)("ngModel",e.selectedAnalysis),r.Db(1),r.qc("ngForOf",e.analyses),r.Db(2),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12),r.Db(1),r.qc("nzDisabled",e.loading)("ngModel",e.selectedRegion),r.Db(1),r.qc("ngForOf",e.regions),r.Db(2),r.qc("nzType","primary")("nzLoading",e.loading)("disabled",0==e.fileList.length||null==e.selectedOrganism||null==e.selectedAnalysis||null==e.selectedRegion),r.Db(1),r.Oc(" ",e.loading?"Cargando":"Empezar subida"," "),r.Db(2),r.qc("nzMultiple",!0)("nzFileList",e.fileList)("nzRemove",e.removeFile)("nzBeforeUpload",e.beforeUpload))},directives:[Lj,re,yt,te,Qd,nr,Jd,ir,np,tp,Gg,bt,ie,i.m,HL,qL,Rf,BH,No,Ug],styles:[""]}),t})();function tK(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Xb(1,"tr",8),r.fc("click",function(){r.Cc(t);const n=e.$implicit;return r.jc().onExpandChange(n.feature_id)}),r.Xb(2,"td",9),r.Mc(3),r.Wb(),r.Wb(),r.Xb(4,"tr",9),r.Sb(5,"app-bo-card",10),r.Wb(),r.Ub()}if(2&t){const t=e.$implicit,n=r.jc();r.Db(2),r.qc("nzExpand",n.expandSet.has(t.feature_id)),r.Db(1),r.Oc(" ",t.uniquename," "),r.Db(1),r.qc("nzExpand",n.expandSet.has(t.feature_id)),r.Db(1),r.qc("data",t)}}let eK=(()=>{class t{constructor(t,e){this.backendService=t,this.router=e,this.organism={},this.dbxref={},this.features=[],this.expandSet=new Set}ngOnInit(){this.organism_id=this.router.url.replace(/^.*[\\\/]/,""),this.backendService.getOrganisms(this.organism_id).subscribe(t=>{this.organism=t.content},t=>{},()=>{}),this.backendService.getSequences(void 0,this.backendService.filter({organism_id:this.organism_id})).subscribe(t=>{this.features=t.content},t=>{},()=>{})}onExpandChange(t){this.expandSet.has(t)?this.expandSet.delete(t):this.expandSet.add(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(dm.g))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-organism-detail"]],decls:9,vars:4,consts:[["nzSubtitle","Informaci\xf3n detallada",3,"nzTitle"],[2,"width","80vw"],["nzTitle","General"],[3,"data"],["nzTitle","Muestras"],[3,"nzData"],["seqs_table",""],[4,"ngFor","ngForOf"],[3,"click"],[3,"nzExpand"],["type","sequence",3,"data"]],template:function(t,e){if(1&t&&(r.Sb(0,"nz-page-header",0),r.Xb(1,"nz-tabset",1),r.Xb(2,"nz-tab",2),r.Sb(3,"app-bo-card",3),r.Wb(),r.Xb(4,"nz-tab",4),r.Xb(5,"nz-table",5,6),r.Xb(7,"tbody"),r.Kc(8,tK,6,4,"ng-container",7),r.Wb(),r.Wb(),r.Wb(),r.Wb()),2&t){const t=r.Ac(6);r.rc("nzTitle",e.organism.genus+" "+e.organism.species),r.Db(3),r.qc("data",e.organism),r.Db(2),r.qc("nzData",e.features),r.Db(3),r.qc("ngForOf",t.data)}},directives:[Lj,lX,JB,IU,XW,UW,i.m,$W,MW,RW,GW,NW],styles:[""]}),t})();function nK(t,e){if(1&t&&(r.Xb(0,"button",9),r.Sb(1,"i",10),r.Wb()),2&t){const t=r.jc();r.qc("nzLoading",t.loading)}}let iK=(()=>{class t{constructor(t,e,n,i,r,o){this.backendService=t,this.logService=e,this.modal=n,this.stateService=i,this.router=r,this.activeRoute=o,this.pageMeta={pageIndex:1,pageSize:10,checkedItems:new Set,checkedAll:!1,selectedFields:[]},this.pageData=[],this.totalSize=0,this.searchValue="",this.loading=!0}ngOnInit(){this.activeRoute.url.subscribe(t=>{this.stateService.setCurrentView(this,t)}),this.search()}ngOnDestroy(){this.stateService.saveOnDestroy(this)}getState(){return{pageMeta:this.pageMeta,searchValue:this.searchValue}}setState(t){t&&(t.pageMeta&&(this.pageMeta=t.pageMeta),t.searchValue&&(this.searchValue=t.searchValue))}changePage(){this.search()}item2str(t){return JSON.stringify(t)}searchEvent(){this.pageMeta.pageIndex=1,this.pageMeta.checkedItems.clear(),this.search()}search(){this.loading=!0,this.backendService.getTaxonomies(void 0,{filter:{},order:{},searchValue:this.searchValue,pagination:{pageIndex:this.pageMeta.pageIndex,pageSize:this.pageMeta.pageSize}}).subscribe(t=>{this.pageData=t.content,this.totalSize=t.count,this.logService.addIssues(t.issues)},t=>{this.loading=!1,this.logService.addIssues(t.issues)},()=>{this.loading=!1})}openItem(t){this.router.navigate(["taxonomyDetail",t.phylotree_id])}exportSelection(){}exportItem(t){this.logService.info("DUMMY: Exportando la taxonom\xeda n\xfamero "+this.item2str(t)),console.log(t)}deleteSelection(){this.modal.confirm({nzTitle:"<i>\xbfSeguro que desea eliminar las taxonom\xedas seleccionados y los datos asociados?</i>",nzContent:"<b>N\xfamero de taxonom\xedas seleccionadas: </b>"+this.pageMeta.checkedItems.size,nzOnOk:()=>{this.backendService.deleteTaxonomies(void 0,{id:Array.from(this.pageMeta.checkedItems)}).subscribe(t=>{this.logService.addIssues(t.issues)},t=>{this.logService.addIssues(t.issues)},()=>{this.search()})}})}deleteItem(t){this.modal.confirm({nzTitle:"<i>\xbfSeguro que desea eliminar esta taxonom\xeda y los datos asociados?</i>",nzContent:this.item2str(t),nzOnOk:()=>{this.loading=!0,this.backendService.deleteTaxonomies(t.phylotree_id).subscribe(t=>{this.logService.addIssues(t.issues)},t=>{this.loading=!1,this.logService.addIssues(t.issues)},()=>{this.loading=!1,this.search()})}})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(YP),r.Rb(qF),r.Rb(IP),r.Rb(dm.g),r.Rb(dm.a))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-taxonomies-browse"]],decls:15,vars:10,consts:[["nzTitle","Taxonom\xedas","nzSubtitle","Filogenia"],["action","",3,"submit"],["nzSearch","",3,"nzAddOnAfter"],["name","searchValue","type","text","nz-input","","placeholder","Introduzca los t\xe9rminos de b\xfasqueda",3,"ngModel","disabled","ngModelChange"],["suffixIconButton",""],["nz-row",""],["routerLink","/taxonomiesImport","nz-button","","nzType","primary",2,"margin","8px"],["nz-button","","nzType","primary",2,"margin","8px",3,"disabled","nzLoading","click"],["pageType","phylotree",3,"Loading","PageData","DataSize","PaginationEvent","OpenEvent","ExportEvent","DeleteEvent"],["nz-button","","nzSearch","",3,"nzLoading"],["nz-icon","","nzType","search"]],template:function(t,e){if(1&t&&(r.Xb(0,"nz-page-header",0),r.Xb(1,"nz-page-header-content"),r.Xb(2,"form",1),r.fc("submit",function(){return e.searchEvent()}),r.Xb(3,"nz-input-group",2),r.Xb(4,"input",3),r.fc("ngModelChange",function(t){return e.searchValue=t}),r.Wb(),r.Wb(),r.Kc(5,nK,2,1,"ng-template",null,4,r.Lc),r.Wb(),r.Wb(),r.Wb(),r.Xb(7,"div",5),r.Xb(8,"button",6),r.Mc(9," Importar "),r.Wb(),r.Xb(10,"button",7),r.fc("click",function(){return e.exportSelection()}),r.Mc(11," Exportar selecci\xf3n "),r.Wb(),r.Xb(12,"button",7),r.fc("click",function(){return e.deleteSelection()}),r.Mc(13," Eliminar selecci\xf3n "),r.Wb(),r.Wb(),r.Xb(14,"app-dynamic-table",8),r.fc("PaginationEvent",function(){return e.changePage()})("OpenEvent",function(t){return e.openItem(t)})("ExportEvent",function(t){return e.exportItem(t)})("DeleteEvent",function(t){return e.deleteItem(t)}),r.Wb()),2&t){const t=r.Ac(6);r.Db(3),r.qc("nzAddOnAfter",t),r.Db(1),r.qc("ngModel",e.searchValue)("disabled",e.loading),r.Db(6),r.qc("disabled",0===e.pageMeta.checkedItems.size&&!e.pageMeta.checkedAll)("nzLoading",e.loading),r.Db(2),r.qc("disabled",0===e.pageMeta.checkedItems.size&&!e.pageMeta.checkedAll)("nzLoading",e.loading),r.Db(2),r.qc("Loading",e.loading)("PageData",e.pageData)("DataSize",e.totalSize)}},directives:[Lj,Mj,re,yt,te,Rf,Gp,Hp,G,bt,ie,nr,HL,qL,dm.h,gB,No],styles:[""]}),t})(),rK=(()=>{class t{constructor(t,e){this.backendService=t,this.logService=e,this.fileList=[],this.dataForm=new Yt({name:new Gt,comment:new Gt({value:"",disabled:!0}),taxa:new Gt}),this.loading=!1,this.beforeUpload=t=>(this.fileList=this.fileList.concat(t),!1),this.removeFile=t=>{for(let e=0;e<this.fileList.length;e++)t.uid==this.fileList[e].uid&&this.fileList.splice(e,1)}}importFiles(){this.loading=!0,this.backendService.importTaxonomies(this.fileList,this.dataForm.value).subscribe(t=>{this.logService.addIssues(t.issues)},t=>{this.loading=!1,this.logService.addIssues(t.issues)},()=>{this.loading=!1,this.fileList=[]})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(YP))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-taxonomies-import"]],decls:28,vars:15,consts:[["nzTitle","Importar taxonom\xeda","nzSubtitle","(desde ficheros y/o un listado t\xe9rminos)"],["nz-form","",3,"formGroup"],[3,"nzSpan"],["nz-input","","formControlName","name","placeholder","NCBI taxonomy tree"],["nz-input","","formControlName","comment","rows","1"],["nz-input","","formControlName","taxa","rows","3","cols","10"],["nz-row","","nzJustify","center"],["nz-button","",3,"nzType","nzLoading","disabled","click"],["nzType","drag",3,"nzMultiple","nzFileList","nzRemove","nzBeforeUpload","nzFileListChange"],[1,"ant-upload-drag-icon"],["nz-icon","","nzType","inbox"],[1,"ant-upload-text"],[1,"ant-upload-hint"]],template:function(t,e){1&t&&(r.Sb(0,"nz-page-header",0),r.Xb(1,"form",1),r.Xb(2,"nz-form-item"),r.Xb(3,"nz-form-label",2),r.Mc(4,"Nombre"),r.Wb(),r.Xb(5,"nz-form-control",2),r.Sb(6,"input",3),r.Wb(),r.Wb(),r.Xb(7,"nz-form-item"),r.Xb(8,"nz-form-label",2),r.Mc(9,"Comentario"),r.Wb(),r.Xb(10,"nz-form-control",2),r.Sb(11,"textarea",4),r.Wb(),r.Wb(),r.Xb(12,"nz-form-item"),r.Xb(13,"nz-form-label",2),r.Mc(14,"Lista de taxones"),r.Wb(),r.Xb(15,"nz-form-control",2),r.Sb(16,"textarea",5),r.Wb(),r.Wb(),r.Xb(17,"div",6),r.Xb(18,"button",7),r.fc("click",function(){return e.importFiles()}),r.Mc(19),r.Wb(),r.Wb(),r.Sb(20,"br"),r.Xb(21,"nz-upload",8),r.fc("nzFileListChange",function(t){return e.fileList=t}),r.Xb(22,"p",9),r.Sb(23,"i",10),r.Wb(),r.Xb(24,"p",11),r.Mc(25,"Pulsa o arrastra ficheros a este \xe1rea"),r.Wb(),r.Xb(26,"p",12),r.Mc(27," Los ficheros se a\xf1adiran a una lista. Cuando est\xe9 todo listo, pulsa bot\xf3n 'Empezar subida'. "),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.Db(1),r.qc("formGroup",e.dataForm),r.Db(2),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12),r.Db(3),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12),r.Db(3),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12),r.Db(3),r.qc("nzType","primary")("nzLoading",e.loading)("disabled",0==e.fileList.length||!e.dataForm.valid),r.Db(1),r.Oc(" ",e.loading?"Cargando":"Empezar subida"," "),r.Db(2),r.qc("nzMultiple",!0)("nzFileList",e.fileList)("nzRemove",e.removeFile)("nzBeforeUpload",e.beforeUpload))},directives:[Lj,re,yt,Qd,le,nr,Jd,ir,np,tp,Hp,G,bt,he,HL,qL,Rf,BH,No],styles:[""]}),t})();function oK(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Xb(1,"tr",8),r.fc("click",function(){r.Cc(t);const n=e.$implicit;return r.jc().onExpandChange(n.organism_id)}),r.Xb(2,"td",9),r.Mc(3),r.Wb(),r.Wb(),r.Xb(4,"tr",9),r.Sb(5,"app-bo-card",10),r.Wb(),r.Ub()}if(2&t){const t=e.$implicit,n=r.jc();r.Db(2),r.qc("nzExpand",n.expandSet.has(t.organism_id)),r.Db(1),r.Oc(" ",t.genus+" "+t.species," "),r.Db(1),r.qc("nzExpand",n.expandSet.has(t.organism_id)),r.Db(1),r.qc("data",t)}}let sK=(()=>{class t{constructor(t,e){this.backendService=t,this.router=e,this.taxonomy={},this.dbxref={},this.organisms=[],this.expandSet=new Set}ngOnInit(){this.taxonomy_id=this.router.url.replace(/^.*[\\\/]/,""),this.backendService.getTaxonomies(this.taxonomy_id).subscribe(t=>{this.taxonomy=t.content},t=>{},()=>{}),this.backendService.getOrganisms(void 0,this.backendService.filter({phylotree_id:this.taxonomy_id})).subscribe(t=>{this.organisms=t.content},t=>{},()=>{})}onExpandChange(t){this.expandSet.has(t)?this.expandSet.delete(t):this.expandSet.add(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(dm.g))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-taxonomy-detail"]],decls:9,vars:4,consts:[["nzSubtitle","Informaci\xf3n detallada",3,"nzTitle"],[2,"width","80vw"],["nzTitle","General"],[3,"data"],["nzTitle","Organismos"],[3,"nzData"],["seqs_table",""],[4,"ngFor","ngForOf"],[3,"click"],[3,"nzExpand"],["type","organism",3,"data"]],template:function(t,e){if(1&t&&(r.Sb(0,"nz-page-header",0),r.Xb(1,"nz-tabset",1),r.Xb(2,"nz-tab",2),r.Sb(3,"app-bo-card",3),r.Wb(),r.Xb(4,"nz-tab",4),r.Xb(5,"nz-table",5,6),r.Xb(7,"tbody"),r.Kc(8,oK,6,4,"ng-container",7),r.Wb(),r.Wb(),r.Wb(),r.Wb()),2&t){const t=r.Ac(6);r.rc("nzTitle",e.taxonomy.name),r.Db(3),r.qc("data",e.taxonomy),r.Db(2),r.qc("nzData",e.organisms),r.Db(3),r.qc("ngForOf",t.data)}},directives:[Lj,lX,JB,IU,XW,UW,i.m,$W,MW,RW,GW,NW],styles:[""]}),t})();var aK=n("Iab2");const cK=["drawerTemplate"];function lK(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",12),r.fc("click",function(){return r.Cc(t),r.jc(2).maskClick()}),r.Wb()}if(2&t){const t=r.jc(2);r.qc("ngStyle",t.nzMaskStyle)}}function uK(t,e){if(1&t&&(r.Vb(0),r.Sb(1,"div",17),r.Ub()),2&t){const t=r.jc(4);r.Db(1),r.qc("innerHTML",t.nzTitle,r.Dc)}}function hK(t,e){if(1&t&&(r.Xb(0,"div",15),r.Kc(1,uK,2,1,"ng-container",16),r.Wb()),2&t){const t=r.jc(3);r.Db(1),r.qc("nzStringTemplateOutlet",t.nzTitle)}}function dK(t,e){if(1&t&&(r.Vb(0),r.Sb(1,"i",19),r.Ub()),2&t){const t=e.$implicit;r.Db(1),r.qc("nzType",t)}}function pK(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",18),r.fc("click",function(){return r.Cc(t),r.jc(3).closeClick()}),r.Kc(1,dK,2,1,"ng-container",16),r.Wb()}if(2&t){const t=r.jc(3);r.Db(1),r.qc("nzStringTemplateOutlet",t.nzCloseIcon)}}function fK(t,e){if(1&t&&(r.Xb(0,"div"),r.Kc(1,hK,2,1,"div",13),r.Kc(2,pK,2,1,"button",14),r.Wb()),2&t){const t=r.jc(2);r.Jb("ant-drawer-header",!!t.nzTitle)("ant-drawer-header-no-title",!t.nzTitle),r.Db(1),r.qc("ngIf",t.nzTitle),r.Db(1),r.qc("ngIf",t.nzClosable)}}function gK(t,e){}function mK(t,e){1&t&&r.Tb(0)}function bK(t,e){if(1&t&&(r.Vb(0),r.Kc(1,mK,1,0,"ng-container",20),r.Ub()),2&t){const t=r.jc(3);r.Db(1),r.qc("ngTemplateOutlet",t.nzContent)("ngTemplateOutletContext",t.templateContext)}}function yK(t,e){if(1&t&&(r.Vb(0),r.Kc(1,bK,2,2,"ng-container",10),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.qc("ngIf",t.isTemplateRef(t.nzContent))}}function vK(t,e){}function _K(t,e){if(1&t&&(r.Vb(0),r.Kc(1,vK,0,0,"ng-template",21),r.Ub()),2&t){const t=r.jc(3);r.Db(1),r.qc("ngTemplateOutlet",t.contentFromContentChild)}}function wK(t,e){if(1&t&&r.Kc(0,_K,2,1,"ng-container",10),2&t){const t=r.jc(2);r.qc("ngIf",t.contentFromContentChild)}}function zK(t,e){1&t&&r.oc(0,0,["*ngIf","!(nzContent || contentFromContentChild)"])}function CK(t,e){if(1&t&&(r.Vb(0),r.Sb(1,"div",17),r.Ub()),2&t){const t=r.jc(3);r.Db(1),r.qc("innerHTML",t.nzFooter,r.Dc)}}function SK(t,e){if(1&t&&(r.Xb(0,"div",22),r.Kc(1,CK,2,1,"ng-container",16),r.Wb()),2&t){const t=r.jc(2);r.Db(1),r.qc("nzStringTemplateOutlet",t.nzFooter)}}function xK(t,e){if(1&t&&(r.Xb(0,"div",1),r.Kc(1,lK,1,1,"div",2),r.Xb(2,"div"),r.Xb(3,"div",3),r.Xb(4,"div",4),r.Kc(5,fK,3,6,"div",5),r.Xb(6,"div",6),r.Kc(7,gK,0,0,"ng-template",7),r.Kc(8,yK,2,1,"ng-container",8),r.Kc(9,wK,1,1,"ng-template",null,9,r.Lc),r.Kc(11,zK,1,0,"ng-content",10),r.Wb(),r.Kc(12,SK,2,1,"div",11),r.Wb(),r.Wb(),r.Wb(),r.Wb()),2&t){const t=r.Ac(10),e=r.jc();r.Hc("transform",e.offsetTransform)("transition",e.placementChanging?"none":null)("z-index",e.nzZIndex),r.Jb("ant-drawer-rtl","rtl"===e.dir)("ant-drawer-open",e.isOpen)("no-mask",!e.nzMask)("ant-drawer-top","top"===e.nzPlacement)("ant-drawer-bottom","bottom"===e.nzPlacement)("ant-drawer-right","right"===e.nzPlacement)("ant-drawer-left","left"===e.nzPlacement),r.qc("nzNoAnimation",e.nzNoAnimation),r.Db(1),r.qc("ngIf",e.nzMask),r.Db(1),r.Gb("ant-drawer-content-wrapper ",e.nzWrapClassName,""),r.Hc("width",e.width)("height",e.height)("transform",e.transform)("transition",e.placementChanging?"none":null),r.Db(2),r.Hc("height",e.isLeftOrRight?"100%":null),r.Db(1),r.qc("ngIf",e.nzTitle||e.nzClosable),r.Db(1),r.qc("ngStyle",e.nzBodyStyle),r.Db(2),r.qc("ngIf",e.nzContent)("ngIfElse",t),r.Db(3),r.qc("ngIf",!(e.nzContent||e.contentFromContentChild)),r.Db(1),r.qc("ngIf",e.nzFooter)}}const OK=["*"];let kK=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.M))},t.\u0275dir=r.Mb({type:t,selectors:[["","nzDrawerContent",""]],exportAs:["nzDrawerContent"]}),t})();class TK{}let EK=(()=>{class t extends TK{constructor(t,e,n,i,o,s,a,c,l,u,h){super(),this.cdr=t,this.document=e,this.nzConfigService=n,this.renderer=i,this.overlay=o,this.injector=s,this.changeDetectorRef=a,this.focusTrapFactory=c,this.viewContainerRef=l,this.overlayKeyboardDispatcher=u,this.directionality=h,this._nzModuleName="drawer",this.nzCloseIcon="close",this.nzClosable=!0,this.nzMaskClosable=!0,this.nzMask=!0,this.nzCloseOnNavigation=!0,this.nzNoAnimation=!1,this.nzKeyboard=!0,this.nzPlacement="right",this.nzMaskStyle={},this.nzBodyStyle={},this.nzWidth=256,this.nzHeight=256,this.nzZIndex=1e3,this.nzOffsetX=0,this.nzOffsetY=0,this.componentInstance=null,this.nzOnViewInit=new r.n,this.nzOnClose=new r.n,this.nzVisibleChange=new r.n,this.destroy$=new xe.a,this.placementChanging=!1,this.placementChangeTimeoutId=-1,this.isOpen=!1,this.templateContext={$implicit:void 0,drawerRef:this},this.nzAfterOpen=new xe.a,this.nzAfterClose=new xe.a,this.nzDirection=void 0,this.dir="ltr"}set nzVisible(t){this.isOpen=t}get nzVisible(){return this.isOpen}get offsetTransform(){if(!this.isOpen||this.nzOffsetX+this.nzOffsetY===0)return null;switch(this.nzPlacement){case"left":return`translateX(${this.nzOffsetX}px)`;case"right":return`translateX(-${this.nzOffsetX}px)`;case"top":return`translateY(${this.nzOffsetY}px)`;case"bottom":return`translateY(-${this.nzOffsetY}px)`}}get transform(){if(this.isOpen)return null;switch(this.nzPlacement){case"left":return"translateX(-100%)";case"right":return"translateX(100%)";case"top":return"translateY(-100%)";case"bottom":return"translateY(100%)"}}get width(){return this.isLeftOrRight?Ti(this.nzWidth):null}get height(){return this.isLeftOrRight?null:Ti(this.nzHeight)}get isLeftOrRight(){return"left"===this.nzPlacement||"right"===this.nzPlacement}get afterOpen(){return this.nzAfterOpen.asObservable()}get afterClose(){return this.nzAfterClose.asObservable()}isTemplateRef(t){return t instanceof r.M}ngOnInit(){var t;null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.nzDirection||this.directionality.value,this.attachOverlay(),this.updateOverlayStyle(),this.updateBodyOverflow(),this.templateContext={$implicit:this.nzContentParams,drawerRef:this},this.changeDetectorRef.detectChanges()}ngAfterViewInit(){this.attachBodyContent(),setTimeout(()=>{this.nzOnViewInit.emit()})}ngAfterContentInit(){this.contentFromContentChild||this.nzContent||_i("Usage `<ng-content></ng-content>` is deprecated, which will be removed in 12.0.0. Please instead use `<ng-template nzDrawerContent></ng-template>` to declare the content of the drawer.")}ngOnChanges(t){const{nzPlacement:e,nzVisible:n}=t;n&&(t.nzVisible.currentValue?this.open():this.close()),e&&!e.isFirstChange()&&this.triggerPlacementChangeCycleOnce()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),clearTimeout(this.placementChangeTimeoutId),this.disposeOverlay()}getAnimationDuration(){return this.nzNoAnimation?0:300}triggerPlacementChangeCycleOnce(){this.nzNoAnimation||(this.placementChanging=!0,this.changeDetectorRef.markForCheck(),clearTimeout(this.placementChangeTimeoutId),this.placementChangeTimeoutId=setTimeout(()=>{this.placementChanging=!1,this.changeDetectorRef.markForCheck()},this.getAnimationDuration()))}close(t){this.isOpen=!1,this.nzVisibleChange.emit(!1),this.updateOverlayStyle(),this.overlayKeyboardDispatcher.remove(this.overlayRef),this.changeDetectorRef.detectChanges(),setTimeout(()=>{this.updateBodyOverflow(),this.restoreFocus(),this.nzAfterClose.next(t),this.nzAfterClose.complete(),this.componentInstance=null},this.getAnimationDuration())}open(){this.attachOverlay(),this.isOpen=!0,this.nzVisibleChange.emit(!0),this.overlayKeyboardDispatcher.add(this.overlayRef),this.updateOverlayStyle(),this.updateBodyOverflow(),this.savePreviouslyFocusedElement(),this.trapFocus(),this.changeDetectorRef.detectChanges(),setTimeout(()=>{this.nzAfterOpen.next()},this.getAnimationDuration())}getContentComponent(){return this.componentInstance}closeClick(){this.nzOnClose.emit()}maskClick(){this.nzMaskClosable&&this.nzMask&&this.nzOnClose.emit()}attachBodyContent(){if(this.bodyPortalOutlet.dispose(),this.nzContent instanceof r.O){const t=r.s.create({parent:this.injector,providers:[{provide:TK,useValue:this}]}),e=new ul(this.nzContent,null,t),n=this.bodyPortalOutlet.attachComponentPortal(e);this.componentInstance=n.instance,Object.assign(n.instance,this.nzContentParams),n.changeDetectorRef.detectChanges()}}attachOverlay(){this.overlayRef||(this.portal=new hl(this.drawerTemplate,this.viewContainerRef),this.overlayRef=this.overlay.create(this.getOverlayConfig())),this.overlayRef&&!this.overlayRef.hasAttached()&&(this.overlayRef.attach(this.portal),this.overlayRef.keydownEvents().pipe(An(this.destroy$)).subscribe(t=>{27===t.keyCode&&this.isOpen&&this.nzKeyboard&&this.nzOnClose.emit()}),this.overlayRef.detachments().pipe(An(this.destroy$)).subscribe(()=>{this.disposeOverlay()}))}disposeOverlay(){var t;null===(t=this.overlayRef)||void 0===t||t.dispose(),this.overlayRef=null}getOverlayConfig(){return new El({disposeOnNavigation:this.nzCloseOnNavigation,positionStrategy:this.overlay.position().global(),scrollStrategy:this.overlay.scrollStrategies.block()})}updateOverlayStyle(){this.overlayRef&&this.overlayRef.overlayElement&&this.renderer.setStyle(this.overlayRef.overlayElement,"pointer-events",this.isOpen?"auto":"none")}updateBodyOverflow(){this.overlayRef&&(this.isOpen?this.overlayRef.getConfig().scrollStrategy.enable():this.overlayRef.getConfig().scrollStrategy.disable())}savePreviouslyFocusedElement(){this.document&&!this.previouslyFocusedElement&&(this.previouslyFocusedElement=this.document.activeElement,this.previouslyFocusedElement&&"function"==typeof this.previouslyFocusedElement.blur&&this.previouslyFocusedElement.blur())}trapFocus(){!this.focusTrap&&this.overlayRef&&this.overlayRef.overlayElement&&(this.focusTrap=this.focusTrapFactory.create(this.overlayRef.overlayElement),this.focusTrap.focusInitialElement())}restoreFocus(){this.previouslyFocusedElement&&"function"==typeof this.previouslyFocusedElement.focus&&this.previouslyFocusedElement.focus(),this.focusTrap&&this.focusTrap.destroy()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h),r.Rb(i.d,8),r.Rb(Do),r.Rb(r.F),r.Rb(Hl),r.Rb(r.s),r.Rb(r.h),r.Rb(yp),r.Rb(r.R),r.Rb(Rl),r.Rb(bn,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-drawer"]],contentQueries:function(t,e,n){if(1&t&&r.Kb(n,kK,3,r.M),2&t){let t;r.zc(t=r.gc())&&(e.contentFromContentChild=t.first)}},viewQuery:function(t,e){if(1&t&&(r.Qc(cK,3),r.Qc(gl,1)),2&t){let t;r.zc(t=r.gc())&&(e.drawerTemplate=t.first),r.zc(t=r.gc())&&(e.bodyPortalOutlet=t.first)}},inputs:{nzCloseIcon:"nzCloseIcon",nzClosable:"nzClosable",nzMaskClosable:"nzMaskClosable",nzMask:"nzMask",nzCloseOnNavigation:"nzCloseOnNavigation",nzNoAnimation:"nzNoAnimation",nzKeyboard:"nzKeyboard",nzPlacement:"nzPlacement",nzMaskStyle:"nzMaskStyle",nzBodyStyle:"nzBodyStyle",nzWidth:"nzWidth",nzHeight:"nzHeight",nzZIndex:"nzZIndex",nzOffsetX:"nzOffsetX",nzOffsetY:"nzOffsetY",nzVisible:"nzVisible",nzContent:"nzContent",nzTitle:"nzTitle",nzFooter:"nzFooter",nzWrapClassName:"nzWrapClassName"},outputs:{nzOnViewInit:"nzOnViewInit",nzOnClose:"nzOnClose",nzVisibleChange:"nzVisibleChange"},exportAs:["nzDrawer"],features:[r.Ab,r.Bb],ngContentSelectors:OK,decls:2,vars:0,consts:[["drawerTemplate",""],[1,"ant-drawer",3,"nzNoAnimation"],["class","ant-drawer-mask",3,"ngStyle","click",4,"ngIf"],[1,"ant-drawer-content"],[1,"ant-drawer-wrapper-body"],[3,"ant-drawer-header","ant-drawer-header-no-title",4,"ngIf"],[1,"ant-drawer-body",3,"ngStyle"],["cdkPortalOutlet",""],[4,"ngIf","ngIfElse"],["contentElseTemp",""],[4,"ngIf"],["class","ant-drawer-footer",4,"ngIf"],[1,"ant-drawer-mask",3,"ngStyle","click"],["class","ant-drawer-title",4,"ngIf"],["aria-label","Close","class","ant-drawer-close","style","--scroll-bar: 0px;",3,"click",4,"ngIf"],[1,"ant-drawer-title"],[4,"nzStringTemplateOutlet"],[3,"innerHTML"],["aria-label","Close",1,"ant-drawer-close",2,"--scroll-bar","0px",3,"click"],["nz-icon","",3,"nzType"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngTemplateOutlet"],[1,"ant-drawer-footer"]],template:function(t,e){1&t&&(r.pc(),r.Kc(0,xK,13,41,"ng-template",null,0,r.Lc))},directives:[Ec,i.n,i.o,gl,ei,No,i.s],encapsulation:2,changeDetection:0}),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzClosable",void 0),sr([Mo(),Di(),ar("design:type",Boolean)],t.prototype,"nzMaskClosable",void 0),sr([Mo(),Di(),ar("design:type",Boolean)],t.prototype,"nzMask",void 0),sr([Mo(),Di(),ar("design:type",Boolean)],t.prototype,"nzCloseOnNavigation",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzNoAnimation",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzKeyboard",void 0),sr([Mo(),ar("design:type",String)],t.prototype,"nzDirection",void 0),t})(),IK=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)}}),t})(),DK=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,Zl,ml,Vo,ii,Ic,IK]]}),t})();function MK(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-option",16),r.Mc(1),r.Xb(2,"i",17),r.fc("click",function(){r.Cc(t);const n=e.$implicit;return r.jc(2).deleteFilter(n.id)}),r.Wb(),r.Wb()}if(2&t){const t=e.$implicit;r.qc("nzLabel",t.name)("nzValue",t.id),r.Db(1),r.Oc(" ",t.name,"")}}function RK(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",18),r.Sb(1,"input",19,20),r.Xb(3,"a",21),r.fc("click",function(){r.Cc(t);const e=r.Ac(2);return r.jc(2).newFilter(e.value)}),r.Sb(4,"i",22),r.Mc(5," A\xf1adir filtro"),r.Wb(),r.Wb()}if(2&t){const t=r.Ac(2);r.Db(3),r.qc("disabled",!t.value)}}function AK(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-page-header",6),r.Xb(1,"nz-page-header-extra"),r.Xb(2,"button",7),r.Mc(3," Aplicar "),r.Wb(),r.Xb(4,"button",8),r.Mc(5," Reiniciar "),r.Wb(),r.Wb(),r.Xb(6,"nz-page-header-content"),r.Xb(7,"form",9),r.Xb(8,"nz-form-item",10),r.Xb(9,"nz-select",11),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc().selectedFilter=e})("ngModelChange",function(){return r.Cc(t),r.jc().selectedFilterEvent()}),r.Kc(10,MK,3,3,"nz-option",12),r.Wb(),r.Kc(11,RK,6,1,"ng-template",null,13,r.Lc),r.Xb(13,"nz-button-group"),r.Xb(14,"button",14),r.fc("click",function(){return r.Cc(t),r.jc().overwriteFilter()}),r.Sb(15,"i",15),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb()}if(2&t){const t=r.Ac(12),e=r.jc();r.Db(9),r.qc("nzDropdownRender",t)("ngModel",e.selectedFilter),r.Db(1),r.qc("ngForOf",e.filters),r.Db(4),r.qc("disabled",!e.selectedFilter)}}let PK=(()=>{class t{constructor(t,e){this.backendService=t,this.logService=e,this.applyFilterEvent=new r.n,this.showFilter=!1,this.filters=[],this.selectedFilter="",this.selectedFilterChange=new r.n,this.filterState={},this.filterStateChange=new r.n,this.form=new Yt({}),this.fields=[]}ngOnInit(){this.loadSavedFilters(),this.backendService.getBrowserFilterForms(this.browserType).subscribe(t=>{this.fields=t.content,this.logService.addIssues(t.issues)},t=>{this.logService.addIssues(t.issues)},()=>{})}onSubmit(){this.applyFilterEvent.emit(this.getFilter()),this.closeDrawer()}showDrawer(){this.showFilter=!0}closeDrawer(){this.showFilter=!1}newFilter(t){t&&this.backendService.postBrowserFilters(this.browserType,t,this.filterState).subscribe(t=>{this.logService.addIssues(t.issues)},t=>{this.logService.addIssues(t.issues)},()=>{this.loadSavedFilters()})}loadSavedFilters(){this.backendService.getBrowserFilters(this.browserType).subscribe(t=>{this.filters=t.content},t=>{},()=>{})}selectedFilterEvent(){this.filters.forEach(t=>{t.id==this.selectedFilter&&(this.filterState=Object.assign({},t.values))}),this.selectedFilterChange.emit(this.selectedFilter),this.filterStateChange.emit(this.filterState)}modifiedFilterEvent(){this.filterStateChange.emit(this.filterState)}overwriteFilter(){this.backendService.putBrowserFilters(this.browserType,this.selectedFilter,this.filterState).subscribe(t=>{this.logService.addIssues(t.issues)},t=>{this.logService.addIssues(t.issues)},()=>{this.loadSavedFilters()})}deleteFilter(t){this.backendService.deleteBrowserFilters(this.browserType,t).subscribe(t=>{this.logService.addIssues(t.issues)},t=>{this.logService.addIssues(t.issues)},()=>{this.loadSavedFilters(),this.selectedFilter=""})}getFilter(){let t={};for(const e in this.filterState)this.filterState[e]&&(Array.isArray(this.filterState[e])?this.filterState[e].length&&(t[e]={op:"in",unary:this.filterState[e]}):t[e]=e.endsWith("-to")?{op:"le",unary:this.filterState[e]}:e.endsWith("-from")?{op:"ge",unary:this.filterState[e]}:{op:"eq",unary:this.filterState[e]});return t}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(YP))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-filter-detail"]],inputs:{browserType:"browserType",selectedFilter:"selectedFilter",filterState:"filterState"},outputs:{applyFilterEvent:"applyFilterEvent",selectedFilterChange:"selectedFilterChange",filterStateChange:"filterStateChange"},decls:9,vars:8,consts:[["nz-button","","nzShape","round",3,"click"],["nz-icon","","nzType","filter","nzTheme","outline"],["nzPlacement","right","nzWidth","70vw",3,"nzTitle","nzClosable","nzVisible","nzOnClose"],["drawerHeader",""],["nz-form","","id","form",3,"nzLayout","formGroup","ngSubmit"],[3,"form","model","fields","modelChange"],["nzTitle","Filtrado"],["nz-button","","nzType","primary","form","form","type","submit",2,"margin","5px"],["nz-button","","form","form","type","reset",2,"margin","5px"],["nz-form","","nzLayout","inline"],[2,"width","100%"],["name","selectedFilter","nzAllowClear","","nzShowSearch","","nzPlaceHolder","Guardado de filtros",3,"nzDropdownRender","ngModel","ngModelChange"],["nzCustomContent","",3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["filterCreator",""],["nz-button","",3,"disabled","click"],["nz-icon","","nzType","save"],["nzCustomContent","",3,"nzLabel","nzValue"],["nz-icon","","nzType","delete",2,"float","right",3,"click"],[2,"display","flex","flex-wrap","nowrap","padding","8px"],["type","text","nz-input",""],["inputElement",""],["nz-button","","nzType","link",3,"disabled","click"],["nz-icon","","nzType","plus"]],template:function(t,e){if(1&t&&(r.Xb(0,"button",0),r.fc("click",function(){return e.showDrawer()}),r.Sb(1,"i",1),r.Xb(2,"span"),r.Mc(3,"Filtrar"),r.Wb(),r.Wb(),r.Xb(4,"nz-drawer",2),r.fc("nzOnClose",function(){return e.closeDrawer()}),r.Kc(5,AK,16,4,"ng-template",null,3,r.Lc),r.Xb(7,"form",4),r.fc("ngSubmit",function(){return e.onSubmit()}),r.Xb(8,"formly-form",5),r.fc("modelChange",function(){return e.modifiedFilterEvent()}),r.Wb(),r.Wb(),r.Wb()),2&t){const t=r.Ac(6);r.Db(4),r.qc("nzTitle",t)("nzClosable",!1)("nzVisible",e.showFilter),r.Db(3),r.qc("nzLayout","vertical")("formGroup",e.form),r.Db(1),r.qc("form",e.form)("model",e.filterState)("fields",e.fields)}},directives:[HL,qL,Rf,No,EK,re,yt,Qd,le,Ge,Lj,Rj,Mj,te,nr,Jd,Gg,bt,ie,i.m,KL,Ug,Hp],styles:[""]}),t})();const LK=["*"],FK={small:8,middle:16,large:24};let jK=(()=>{class t{constructor(t,e){this.renderer=t,this.elementRef=e}setDirectionAndSize(t,e){const n="string"==typeof e?FK[e]:e;"horizontal"===t?(this.renderer.removeStyle(this.elementRef.nativeElement,"margin-bottom"),this.renderer.setStyle(this.elementRef.nativeElement,"margin-right",`${n}px`)):(this.renderer.removeStyle(this.elementRef.nativeElement,"margin-right"),this.renderer.setStyle(this.elementRef.nativeElement,"margin-bottom",`${n}px`))}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.F),r.Rb(r.l))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-space-item"],["","nz-space-item",""]],hostAttrs:[1,"ant-space-item"],ngContentSelectors:LK,decls:1,vars:0,template:function(t,e){1&t&&(r.pc(),r.oc(0))},encapsulation:2,changeDetection:0}),t})(),NK=(()=>{class t{constructor(t){this.nzConfigService=t,this._nzModuleName="space",this.nzDirection="horizontal",this.nzSize="small",this.destroy$=new xe.a}updateSpaceItems(){this.nzSpaceItemComponents&&this.nzSpaceItemComponents.forEach(t=>{t.setDirectionAndSize(this.nzDirection,this.nzSize)})}ngOnChanges(){this.updateSpaceItems(),this.mergedAlign=void 0===this.nzAlign&&"horizontal"===this.nzDirection?"center":this.nzAlign}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngAfterViewInit(){this.nzSpaceItemComponents.changes.pipe(Object(Mn.a)(null),An(this.destroy$)).subscribe(()=>{this.updateSpaceItems()})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Do))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-space"],["","nz-space",""]],contentQueries:function(t,e,n){if(1&t&&r.Kb(n,jK,0),2&t){let t;r.zc(t=r.gc())&&(e.nzSpaceItemComponents=t)}},hostAttrs:[1,"ant-space"],hostVars:12,hostBindings:function(t,e){2&t&&r.Jb("ant-space-horizontal","horizontal"===e.nzDirection)("ant-space-vertical","vertical"===e.nzDirection)("ant-space-align-start","start"===e.mergedAlign)("ant-space-align-end","end"===e.mergedAlign)("ant-space-align-center","center"===e.mergedAlign)("ant-space-align-baseline","baseline"===e.mergedAlign)},inputs:{nzDirection:"nzDirection",nzSize:"nzSize",nzAlign:"nzAlign"},exportAs:["NzSpace"],features:[r.Bb],ngContentSelectors:LK,decls:1,vars:0,template:function(t,e){1&t&&(r.pc(),r.oc(0))},encapsulation:2,changeDetection:0}),sr([Mo(),ar("design:type",Object)],t.prototype,"nzSize",void 0),t})(),VK=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c]]}),t})();function WK(t,e){if(1&t&&(r.Xb(0,"nz-page-header-title"),r.Mc(1),r.Wb()),2&t){const t=r.jc();r.Db(1),r.Nc(t.BrowserTitle)}}function qK(t,e){if(1&t&&(r.Xb(0,"button",13),r.Sb(1,"i",14),r.Wb()),2&t){const t=r.jc();r.qc("nzLoading",t.Loading)}}function BK(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",15),r.fc("click",function(){return r.Cc(t),r.jc().CreateEvent.emit()}),r.Mc(1," Crear "),r.Wb()}}function XK(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",15),r.fc("click",function(){return r.Cc(t),r.jc().ImportEvent.emit()}),r.Mc(1," Importar "),r.Wb()}}function UK(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",16),r.fc("click",function(){r.Cc(t);const e=r.jc();return e.exportSelection(e.dynamicTable.getSelectionFilter(),e.dynamicTable.getOrder())}),r.Mc(1," Exportar seleccionados "),r.Wb()}if(2&t){const t=r.jc();r.qc("disabled",0===t.dynamicTable.checkedItems.size&&!t.dynamicTable.checkedAll)("nzLoading",t.Loading)}}function $K(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",16),r.fc("click",function(){r.Cc(t);const e=r.jc();return e.deleteSelection(e.dynamicTable.getSelectionFilter())}),r.Mc(1," Eliminar seleccionados "),r.Wb()}if(2&t){const t=r.jc();r.qc("disabled",0===t.dynamicTable.checkedItems.size&&!t.dynamicTable.checkedAll)("nzLoading",t.Loading)}}function HK(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",16),r.fc("click",function(){return r.Cc(t),r.jc().selectedEvent()}),r.Mc(1," Confirmar selecci\xf3n "),r.Wb()}if(2&t){const t=r.jc();r.qc("disabled",0===t.dynamicTable.checkedItems.size&&!t.dynamicTable.checkedAll||t.confirmState)("nzLoading",t.Loading)}}function KK(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",16),r.fc("click",function(){r.Cc(t);const n=e.$implicit,i=r.jc();return n.eventEmitter.emit(i.dynamicTable.getSelectionFilter())}),r.Mc(1),r.Wb()}if(2&t){const t=e.$implicit,n=r.jc();r.qc("disabled",t.needCheckedItem&&0===n.dynamicTable.checkedItems.size&&(!n.dynamicTable.checkedAll||n.dynamicTable.checkedAll&&t.cantCheckedAllItem))("nzLoading",n.Loading),r.Db(1),r.Oc(" ",t.title," ")}}let GK=(()=>{class t{constructor(t,e,n,i){this.backendService=t,this.stateService=e,this.logService=n,this.activeRoute=i,this.Loading=!1,this.CanMultipleCheckItems=!0,this.searchValue="",this.pageData=[],this.totalSize=0,this.confirmState=!1,this.itemsSelectionWhenConfirmed=null,this.CustomButtonsBrowser=[],this.CreateEvent=new r.n,this.ImportEvent=new r.n,this.ExportSelectedEvent=new r.n,this.DeleteSelectedEvent=new r.n,this.SetSelectedEvent=new r.n,this.SortEvent=new r.n,this.OpenItemEvent=new r.n,this.ModifyItemEvent=new r.n,this.ExportItemEvent=new r.n,this.DeleteItemEvent=new r.n,this.PermissionItemEvent=new r.n,this.selectedFilter="",this.filterState={}}ngOnInit(){this.activeRoute.url.subscribe(t=>{this.stateService.setCurrentView(this,t)}),this.fieldID=this.backendService.getFieldID(this.BrowserType)}ngAfterViewInit(){this.searchEvent()}ngOnDestroy(){this.stateService.saveOnDestroy(this)}getState(){return{searchValue:this.searchValue}}setState(t){t&&t.searchValue&&(this.searchValue=t.searchValue)}newSearch(){this.dynamicTable.restart(),this.searchEvent()}applyFilter(t){this.newSearch()}changePage(){this.searchEvent()}checkedChangeEvent(t){if(this.itemsSelectionWhenConfirmed)if(this.itemsSelectionWhenConfirmed.checkedAll==t.checkedAll)if(this.itemsSelectionWhenConfirmed.items.size==t.items.size){for(const e of this.itemsSelectionWhenConfirmed.items)if(!t.items.has(e))return void(this.confirmState=!1);this.confirmState=!0}else this.confirmState=!1;else this.confirmState=!1;else this.confirmState=!1}searchEvent(){this.backendService.getFromChado(this.BrowserType,void 0,{pagination:this.dynamicTable.getPagination(),filter:this.browserFilter.getFilter(),order:this.dynamicTable.getOrder(),searchValue:this.searchValue}).subscribe(t=>{this.pageData=t.content,this.totalSize=t.count,this.logService.addIssues(t.issues)},t=>{this.totalSize=0,this.logService.addIssues(t.issues)},()=>{})}selectedEvent(){const t=this.dynamicTable.getSelectionFilter();this.SetSelectedEvent.emit(0==Object.keys(t).length?{}:{filter:t}),this.itemsSelectionWhenConfirmed={items:new Set(this.dynamicTable.checkedItems),checkedAll:this.dynamicTable.checkedAll},this.confirmState=!0}exportSelection(t,e){let n=Object.assign(Object.assign({},t),this.browserFilter.getFilter());this.ExportSelectedEvent.emit({filter:n,order:e})}deleteSelection(t){let e=Object.assign(Object.assign({},t),this.browserFilter.getFilter());this.DeleteSelectedEvent.emit({filter:e})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(IP),r.Rb(YP),r.Rb(dm.a))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-dynamic-browse"]],viewQuery:function(t,e){if(1&t&&(r.Qc(gB,3),r.Qc(PK,3)),2&t){let t;r.zc(t=r.gc())&&(e.dynamicTable=t.first),r.zc(t=r.gc())&&(e.browserFilter=t.first)}},inputs:{BrowserTitle:"BrowserTitle",BrowserType:"BrowserType",Loading:"Loading",CanMultipleCheckItems:"CanMultipleCheckItems",CustomButtonsBrowser:"CustomButtonsBrowser"},outputs:{CreateEvent:"CreateEvent",ImportEvent:"ImportEvent",ExportSelectedEvent:"ExportSelectedEvent",DeleteSelectedEvent:"DeleteSelectedEvent",SetSelectedEvent:"SetSelectedEvent",SortEvent:"SortEvent",OpenItemEvent:"OpenItemEvent",ModifyItemEvent:"ModifyItemEvent",ExportItemEvent:"ExportItemEvent",DeleteItemEvent:"DeleteItemEvent",PermissionItemEvent:"PermissionItemEvent"},decls:19,vars:23,consts:[[4,"ngIf"],[3,"submit"],["nzSearch","",3,"nzAddOnAfter"],["type","text","nz-input","","name","searchValue","placeholder","Introduzca los t\xe9rminos de b\xfasqueda",3,"disabled","ngModel","ngModelChange"],["suffixIconButton",""],[2,"margin-bottom","20px"],["nzAlign","center"],["nz-button","","nzType","primary","nzShape","round","style","margin: 0 5px;",3,"click",4,"ngIf"],["nz-button","","nzType","primary","nzShape","round","style","margin: 0 5px;",3,"disabled","nzLoading","click",4,"ngIf"],["nz-button","","nzType","primary","nzShape","round","style","margin: 0 5px;",3,"disabled","nzLoading","click",4,"ngFor","ngForOf"],[3,"browserType","filterState","selectedFilter","filterStateChange","selectedFilterChange","applyFilterEvent"],[2,"padding","0px 24px 0px 24px"],[3,"PageData","DataSize","DataFieldID","CanMultipleCheckItems","Loading","hiddenOpenAction","hiddenModifyAction","hiddenExportAction","hiddenDeleteAction","hiddenPermissionAction","PaginationEvent","SortEvent","OpenEvent","ModifyEvent","ExportEvent","DeleteEvent","PermissionEvent","CheckedChangeEvent"],["nz-button","","nzSearch","",3,"nzLoading"],["nz-icon","","nzType","search"],["nz-button","","nzType","primary","nzShape","round",2,"margin","0 5px",3,"click"],["nz-button","","nzType","primary","nzShape","round",2,"margin","0 5px",3,"disabled","nzLoading","click"]],template:function(t,e){if(1&t&&(r.Xb(0,"nz-page-header"),r.Kc(1,WK,2,1,"nz-page-header-title",0),r.Xb(2,"nz-page-header-content"),r.Xb(3,"form",1),r.fc("submit",function(){return e.newSearch()}),r.Xb(4,"nz-input-group",2),r.Xb(5,"input",3),r.fc("ngModelChange",function(t){return e.searchValue=t}),r.Wb(),r.Wb(),r.Kc(6,qK,2,1,"ng-template",null,4,r.Lc),r.Wb(),r.Wb(),r.Xb(8,"nz-page-header-footer",5),r.Xb(9,"nz-space",6),r.Kc(10,BK,2,0,"button",7),r.Kc(11,XK,2,0,"button",7),r.Kc(12,UK,2,2,"button",8),r.Kc(13,$K,2,2,"button",8),r.Kc(14,HK,2,2,"button",8),r.Kc(15,KK,2,3,"button",9),r.Xb(16,"app-filter-detail",10),r.fc("filterStateChange",function(t){return e.filterState=t})("selectedFilterChange",function(t){return e.selectedFilter=t})("applyFilterEvent",function(t){return e.applyFilter(t)}),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(17,"div",11),r.Xb(18,"app-dynamic-table",12),r.fc("PaginationEvent",function(){return e.changePage()})("SortEvent",function(t){return e.SortEvent.observers?e.SortEvent.emit(t):void 0})("OpenEvent",function(t){return e.OpenItemEvent.observers?e.OpenItemEvent.emit(t):void 0})("ModifyEvent",function(t){return e.ModifyItemEvent.observers?e.ModifyItemEvent.emit(t):void 0})("ExportEvent",function(t){return e.ExportItemEvent.observers?e.ExportItemEvent.emit(t):void 0})("DeleteEvent",function(t){return e.DeleteItemEvent.observers?e.DeleteItemEvent.emit(t):void 0})("PermissionEvent",function(t){return e.PermissionItemEvent.emit(t)})("CheckedChangeEvent",function(t){return e.checkedChangeEvent(t)}),r.Wb(),r.Wb()),2&t){const t=r.Ac(7);r.Db(1),r.qc("ngIf",e.BrowserTitle),r.Db(3),r.qc("nzAddOnAfter",t),r.Db(1),r.qc("disabled",e.Loading)("ngModel",e.searchValue),r.Db(5),r.qc("ngIf",e.CreateEvent.observers.length),r.Db(1),r.qc("ngIf",e.ImportEvent.observers.length),r.Db(1),r.qc("ngIf",e.ExportSelectedEvent.observers.length),r.Db(1),r.qc("ngIf",e.DeleteSelectedEvent.observers.length),r.Db(1),r.qc("ngIf",e.SetSelectedEvent.observers.length),r.Db(1),r.qc("ngForOf",e.CustomButtonsBrowser),r.Db(1),r.qc("browserType",e.BrowserType)("filterState",e.filterState)("selectedFilter",e.selectedFilter),r.Db(2),r.qc("PageData",e.pageData)("DataSize",e.totalSize)("DataFieldID",e.fieldID)("CanMultipleCheckItems",e.CanMultipleCheckItems)("Loading",e.Loading)("hiddenOpenAction",!e.OpenItemEvent.observers.length)("hiddenModifyAction",!e.ModifyItemEvent.observers.length)("hiddenExportAction",!e.ExportItemEvent.observers.length)("hiddenDeleteAction",!e.DeleteItemEvent.observers.length)("hiddenPermissionAction",!e.PermissionItemEvent.observers.length)}},directives:[Lj,i.n,Mj,re,yt,te,Rf,Gp,Hp,G,bt,ie,Aj,NK,i.m,PK,gB,Ij,HL,qL,No],styles:[""]}),t})();function YK(t,e){1&t&&r.Mc(0,"Permisos")}function QK(t,e){1&t&&(r.Vb(0),r.Sb(1,"nz-spin",6),r.Ub())}function JK(t,e){if(1&t&&r.Sb(0,"nz-option",22),2&t){const t=e.$implicit;r.qc("nzValue",t.key)("nzLabel",t.value.name)}}function ZK(t,e){if(1&t&&r.Sb(0,"nz-option",22),2&t){const t=e.$implicit;r.qc("nzValue",t.id)("nzLabel",t.name)}}function tG(t,e){if(1&t&&r.Sb(0,"nz-option",22),2&t){const t=e.$implicit;r.qc("nzValue",t.key)("nzLabel",t.value.name)}}function eG(t,e){if(1&t){const t=r.Yb();r.Xb(0,"tr"),r.Xb(1,"td",10),r.Xb(2,"nz-select",15),r.fc("ngModelChange",function(t){return e.$implicit.identityType=t})("ngModelChange",function(n){r.Cc(t);const i=e.$implicit;return r.jc(4).selectIdentityTypeChange(n,i)}),r.Kc(3,JK,1,2,"nz-option",16),r.kc(4,"keyvalue"),r.Wb(),r.Wb(),r.Xb(5,"td",10),r.Xb(6,"nz-select",17,18),r.fc("ngModelChange",function(t){return e.$implicit.identityId=t}),r.Kc(8,ZK,1,2,"nz-option",16),r.Wb(),r.Wb(),r.Xb(9,"td",10),r.Xb(10,"nz-select",19),r.fc("ngModelChange",function(t){return e.$implicit.permissionId=t}),r.Kc(11,tG,1,2,"nz-option",16),r.kc(12,"keyvalue"),r.Wb(),r.Wb(),r.Xb(13,"td",10),r.Xb(14,"ul",20),r.Xb(15,"nz-list-item-action"),r.Xb(16,"i",21),r.fc("click",function(n){r.Cc(t);const i=e.$implicit;return r.jc(4).deleteAclDetail(n,i)}),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb()}if(2&t){const t=e.$implicit,n=r.jc(4);r.Db(2),r.qc("ngModel",t.identityType),r.Db(1),r.qc("ngForOf",r.lc(4,7,n.identityTypes)),r.Db(3),r.qc("ngModel",t.identityId)("disabled",n.getSelectIdentitiestDisabled(t)),r.Db(2),r.qc("ngForOf",n.identityList[t.identityType]),r.Db(2),r.qc("ngModel",t.permissionId),r.Db(1),r.qc("ngForOf",r.lc(12,9,n.permissionTypes))}}function nG(t,e){if(1&t&&(r.Vb(0),r.Kc(1,eG,17,11,"tr",14),r.Ub()),2&t){r.jc();const t=r.Ac(2);r.Db(1),r.qc("ngForOf",t.data)}}const iG=function(){return{y:"430px"}};function rG(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Xb(1,"nz-table",7,8),r.Xb(3,"thead"),r.Xb(4,"tr",9),r.Xb(5,"th",10),r.Mc(6,"Tipo de identidad"),r.Wb(),r.Xb(7,"th",10),r.Mc(8,"Nombre de la identidad"),r.Wb(),r.Xb(9,"th",10),r.Mc(10,"Tipo de permiso"),r.Wb(),r.Xb(11,"th",11),r.Mc(12,"Acciones"),r.Wb(),r.Wb(),r.Wb(),r.Xb(13,"tbody"),r.Kc(14,nG,2,1,"ng-container",5),r.Xb(15,"tr"),r.Xb(16,"td",12),r.fc("click",function(e){return r.Cc(t),r.jc(2).addAclDetail(e)}),r.Sb(17,"i",13),r.Mc(18," \xa0A\xf1adir un nuevo permiso "),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Ub()}if(2&t){const t=r.jc(2);r.Db(1),r.qc("nzData",t.getArrayDetailsDataTable())("nzShowPagination",!1)("nzScroll",r.uc(4,iG)),r.Db(13),r.qc("ngIf",t.detailsDataTable.size>0)}}function oG(t,e){if(1&t&&(r.Xb(0,"div",4),r.Kc(1,QK,2,0,"ng-container",5),r.Kc(2,rG,19,5,"ng-container",5),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("ngIf",t.loadingModal),r.Db(1),r.qc("ngIf",!t.loadingModal)}}function sG(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",23),r.fc("click",function(){return r.Cc(t),r.jc().handleConfirm()}),r.Mc(1,"Confirmar"),r.Wb(),r.Xb(2,"button",24),r.fc("click",function(){return r.Cc(t),r.jc().handleCancel()}),r.Mc(3,"Cancelar"),r.Wb()}}var aG=function(t){return t[t.IDENTITY=1]="IDENTITY",t[t.ORGANIZATION=2]="ORGANIZATION",t[t.GROUP=3]="GROUP",t[t.ROLE=4]="ROLE",t}({});let cG=(()=>{class t{constructor(t,e,n){this.backendService=t,this.logService=e,this.notificationServices=n,this.identityTypes=new Map([[aG.IDENTITY,{name:"Usuario"}],[aG.GROUP,{name:"Grupo"}],[aG.ORGANIZATION,{name:"Organizaci\xf3n"}],[aG.ROLE,{name:"Rol"}]]),this.permissionTypes=new Map,this.detailsDataTable=new Set,this.isVisibleChange=new r.n,this.objectTypeName=null,this.featureId=null,this.aclId=null,this.objectType=null,this.identityList={}}set isVisible(t){t&&this.initModal(),this._isVisible=t,this.isVisibleChange.emit(this._isVisible)}get isVisible(){return this._isVisible}ngOnInit(){}initModal(){if(!this.objectTypeName||!this.featureId)return console.log("abort"),void(this.isVisible=!1);this.identityList[aG.IDENTITY]=[],this.identityList[aG.GROUP]=[],this.identityList[aG.ORGANIZATION]=[],this.identityList[aG.ROLE]=[],this.loadDataFromBackend()}loadDataFromBackend(){this.loadingModal=!0,this.backendService.getObjectTypes(void 0,{name:this.objectTypeName}).subscribe(t=>{if(1==t.content.length){const e=t.content[0];this.objectType=e,this.permissionTypes.clear();for(const t of e.permission_types)console.log(t),this.permissionTypes.set(t.id,{name:t.name});this.loadAclFromBackend()}},t=>{console.log(t),this.isVisible=!1})}loadAclFromBackend(){this.backendService.getACL(void 0,{object_type:this.objectType.id,chado_id:this.featureId}).subscribe(t=>{const e=t.content;this.formatToDetailsDataTable(e.details),this.aclId=e.id,this.loadIdentitiesFromBackend(),this.logService.addIssues(t.issues)},t=>{if(404==t.status)return this.aclId=null,this.formatToDetailsDataTable([]),void this.loadIdentitiesFromBackend();this.isVisible=!1,this.logService.addIssues(t.issues),console.log(t)})}loadIdentitiesFromBackend(){q({identities:this.backendService.getIdentities(),groups:this.backendService.getGroups(),organizations:this.backendService.getOrganizations(),roles:this.backendService.getRoles()}).subscribe(t=>{this.identityList[aG.IDENTITY]=t.identities.content,this.identityList[aG.GROUP]=t.groups.content,this.identityList[aG.ORGANIZATION]=t.organizations.content,this.identityList[aG.ROLE]=t.roles.content,this.loadingModal=!1})}formatToDetailsDataTable(t){this.detailsDataTable.clear();for(const e of t){const t={};t.identityType=e.authorizable.authorizable_type_id,t.permissionId=e.permission_id,"string"==typeof t.permissionId&&(t.permissionId=parseInt(t.permissionId)),t.identityId=e.authorizable.id,t.id=e.id,this.detailsDataTable.add(t)}}formatBody(){const t={object_type:this.objectType.id,details:[]};for(const e of this.detailsDataTable){const n={authorizable_id:e.identityId,permission_id:e.permissionId};e.id&&(n.id=e.id),t.details.push(n)}return t}getArrayDetailsDataTable(){return 0==this.detailsDataTable.size?[""]:Array.from(this.detailsDataTable)}selectIdentityTypeChange(t,e){e.identityId=null}getSelectIdentitiestDisabled(t){return!Object.values(aG).includes(t.identityType)}handleCancel(){this.isVisible=!1}handleConfirm(){for(const t of this.detailsDataTable)if(!t.identityId||!t.identityType||!t.permissionId)return void this.notificationServices.createNotificationWithType("error","Error","No se admiten campos vac\xedos en la tabla de permisos.","bottomRight");if(this.aclId)this.backendService.putACL(this.aclId,this.formatBody()).subscribe(t=>{console.log(t),this.isVisible=!1,this.logService.addIssues(t.issues)},t=>{console.log(t)});else if(this.detailsDataTable.size>0){const t=this.formatBody();t.chado_id=this.featureId,this.backendService.postACL(t).subscribe(t=>{console.log(t),this.isVisible=!1,this.logService.addIssues(t.issues)},t=>{console.log(t)})}else this.isVisible=!1}deleteAclDetail(t,e){this.detailsDataTable.delete(e)}addAclDetail(t){this.detailsDataTable.add({}),console.log(this.detailsDataTable)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(YP),r.Rb(_L))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-acl-modal"]],inputs:{isVisible:"isVisible"},outputs:{isVisibleChange:"isVisibleChange"},decls:7,vars:5,consts:[[3,"nzVisible","nzTitle","nzContent","nzFooter","nzWidth","nzVisibleChange","nzOnCancel"],["modalTitle",""],["modalContent",""],["modalFooter",""],[2,"height","500px","overflow-y","auto","overflow-x","hidden"],[4,"ngIf"],["nzSimple","",2,"text-align","center","margin","auto","transform","translateY(-50%)","top","50%","position","relative"],[3,"nzData","nzShowPagination","nzScroll"],["nzTable",""],[2,"font-weight","bold"],["nzAlign","center"],["nzAlign","center","nzWidth","100px"],["colspan","4",2,"cursor","pointer",3,"click"],["nz-icon","","nzType","plus","nzTheme","outline"],[4,"ngFor","ngForOf"],[2,"width","150px",3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzShowSearch","",2,"width","220px",3,"ngModel","disabled","ngModelChange"],["selectIdentity",""],[2,"width","220px",3,"ngModel","ngModelChange"],["nz-list-item-actions","",2,"margin-left","6px"],["nz-icon","","nzType","delete","nzTheme","outline",2,"cursor","pointer",3,"click"],[3,"nzValue","nzLabel"],["nz-button","","nzType","primary",3,"click"],["nz-button","",3,"click"]],template:function(t,e){if(1&t&&(r.Xb(0,"nz-modal",0),r.fc("nzVisibleChange",function(t){return e.isVisible=t})("nzOnCancel",function(){return e.handleCancel()}),r.Kc(1,YK,1,0,"ng-template",null,1,r.Lc),r.Kc(3,oG,3,2,"ng-template",null,2,r.Lc),r.Kc(5,sG,4,0,"ng-template",null,3,r.Lc),r.Wb()),2&t){const t=r.Ac(2),n=r.Ac(4),i=r.Ac(6);r.qc("nzVisible",e.isVisible)("nzTitle",t)("nzContent",n)("nzFooter",i)("nzWidth",1e3)}},directives:[UF,i.n,DL,XW,HW,$W,MW,PW,FW,UW,Rf,No,i.m,Gg,bt,ie,Bq,qq,Ug,HL,qL],pipes:[i.h],styles:[".ant-table-footer{background-color:#fff}"]}),t})();const lG=["modalAclRef"];function uG(t,e){if(1&t&&r.Sb(0,"nz-option",6),2&t){const t=e.$implicit;r.rc("nzLabel",t),r.rc("nzValue",t)}}function hG(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-select",4),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc().selectedFormat=e}),r.Kc(1,uG,1,2,"nz-option",5),r.Wb()}if(2&t){const t=r.jc();r.qc("ngModel",t.selectedFormat),r.Db(1),r.qc("ngForOf",t.formats)}}let dG=(()=>{class t{constructor(t,e,n,i,o){this.backendService=t,this.logService=e,this.modal=n,this.stateService=i,this.router=o,this.sequenceSelection=new r.n,this.loading=!1,this.formats=[],this.selectedFormat="",this.dataForm=new Yt({uniquename:new Gt(null,et.required),name:new Gt}),this.isVisibleAclModal=!1}ngOnInit(){this.backendService.getFormats("sequences").subscribe(t=>{this.formats=t.content})}openItem(t){this.router.navigate(["sequenceDetail",t.feature_id])}importItems(){this.router.navigate(["sequencesImport"])}exportItem(t,e){this.modal.confirm({nzTitle:"<i>\xbfEn qu\xe9 formato desea realizar la descarga?</i>",nzContent:e,nzOnOk:()=>{this.backendService.exportFromChado("sequences",t.feature_id,this.selectedFormat).subscribe(e=>{aK.saveAs(new Blob([e]),t.uniquename+"."+this.selectedFormat)},t=>{this.logService.addIssues(t.issues)},()=>{})}})}exportSelection(t,e){this.modal.confirm({nzTitle:"<i>\xbfEn qu\xe9 formato desea realizar la descarga?</i>",nzContent:e,nzOnOk:()=>{this.backendService.exportFromChado("sequences",void 0,this.selectedFormat,t).subscribe(t=>{aK.saveAs(new Blob([t]),"sequences."+this.selectedFormat)},t=>{this.logService.addIssues(t.issues)},()=>{})}})}deleteItem(t){this.modal.warning({nzTitle:"<i>\xbfSeguro que desea eliminar este elemento?</i>",nzContent:JSON.stringify(t),nzOnOk:()=>{this.loading=!0,this.backendService.deleteFromChado("sequences",t.feature_id).subscribe(t=>{this.logService.addIssues(t.issues)},t=>{this.loading=!1,this.logService.addIssues(t.issues)},()=>{this.loading=!1,this.dynamicBrowser.changePage()})}})}deleteSelection(t){this.modal.warning({nzTitle:"<i>\xbfSeguro que desea eliminar los elementos seleccionados?</i>",nzOnOk:()=>{this.loading=!0,this.backendService.deleteFromChado("sequences",void 0,t).subscribe(t=>{this.logService.addIssues(t.issues)},t=>{this.loading=!1,this.logService.addIssues(t.issues)},()=>{this.loading=!1,this.dynamicBrowser.changePage()})}})}permissionItem(t){this.modalAclRef.featureId=t.feature_id,this.modalAclRef.objectTypeName="sequence",this.isVisibleAclModal=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(YP),r.Rb(qF),r.Rb(IP),r.Rb(dm.g))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-sequences-browse"]],viewQuery:function(t,e){if(1&t&&(r.Qc(GK,1),r.Qc(lG,1)),2&t){let t;r.zc(t=r.gc())&&(e.dynamicBrowser=t.first),r.zc(t=r.gc())&&(e.modalAclRef=t.first)}},outputs:{sequenceSelection:"sequenceSelection"},decls:5,vars:4,consts:[[3,"Loading","BrowserTitle","BrowserType","OpenItemEvent","ImportEvent","ExportItemEvent","ExportSelectedEvent","DeleteItemEvent","DeleteSelectedEvent","PermissionItemEvent"],["exportForm",""],[3,"isVisible","isVisibleChange"],["modalAclRef",""],["nzShowSearch","","nzPlaceHolder","Seleccionar formato","name","selectedFormat",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],[3,"nzLabel","nzValue"]],template:function(t,e){if(1&t){const t=r.Yb();r.Xb(0,"app-dynamic-browse",0),r.fc("OpenItemEvent",function(t){return e.openItem(t)})("ImportEvent",function(){return e.importItems()})("ExportItemEvent",function(n){r.Cc(t);const i=r.Ac(2);return e.exportItem(n,i)})("ExportSelectedEvent",function(n){r.Cc(t);const i=r.Ac(2);return e.exportSelection(n,i)})("DeleteItemEvent",function(t){return e.deleteItem(t)})("DeleteSelectedEvent",function(t){return e.deleteSelection(t)})("PermissionItemEvent",function(t){return e.permissionItem(t)}),r.Wb(),r.Kc(1,hG,2,2,"ng-template",null,1,r.Lc),r.Xb(3,"app-acl-modal",2,3),r.fc("isVisibleChange",function(t){return e.isVisibleAclModal=t}),r.Wb()}2&t&&(r.qc("Loading",e.loading)("BrowserTitle","Secuencias gen\xe9ticas")("BrowserType","sequences"),r.Db(3),r.qc("isVisible",e.isVisibleAclModal))},directives:[GK,cG,Gg,bt,ie,i.m,Ug],styles:[""]}),t})();function pG(t,e){if(1&t&&r.Sb(0,"nz-option",14),2&t){const t=e.$implicit;r.tc("nzLabel","",t.genus," ",t.species,""),r.rc("nzValue",t.organism_id)}}function fG(t,e){if(1&t&&r.Sb(0,"nz-option",14),2&t){const t=e.$implicit;r.tc("nzLabel","",t.program," ",t.programversion,""),r.rc("nzValue",t.analysis_id)}}function gG(t,e){if(1&t&&r.Sb(0,"nz-option",14),2&t){const t=e.$implicit;r.rc("nzLabel",t),r.rc("nzValue",t)}}let mG=(()=>{class t{constructor(t,e,n,i){this.backendService=t,this.logService=e,this.activeRoute=n,this.stateService=i,this.fileList=[],this.organisms=[],this.analyses=[],this.regions=[],this.dataForm=new Yt({organism_id:new Gt,analysis_id:new Gt,region:new Gt}),this.loading=!0,this.beforeUpload=t=>(this.fileList=this.fileList.concat(t),!1),this.removeFile=t=>{for(let e=0;e<this.fileList.length;e++)t.uid==this.fileList[e].uid&&this.fileList.splice(e,1)}}getState(){return{dataForm:this.dataForm,fileList:this.fileList}}setState(t){t&&(t.dataForm&&(this.dataForm=t.dataForm),t.fileList&&(this.fileList=t.fileList))}ngOnInit(){this.activeRoute.url.subscribe(t=>{this.stateService.setCurrentView(this,t)}),this.backendService.getRegions().subscribe(t=>{this.regions=t.content,this.logService.addIssues(t.issues)},t=>{this.logService.addIssues(t.issues)},()=>{}),this.backendService.getOrganisms().subscribe(t=>{this.organisms=t.content,this.logService.addIssues(t.issues)},t=>{this.logService.addIssues(t.issues)},()=>{}),this.backendService.getAnalyses().subscribe(t=>{this.analyses=t.content,this.logService.addIssues(t.issues)},t=>{this.loading=!1,this.logService.addIssues(t.issues)},()=>{this.loading=!1})}ngOnDestroy(){this.stateService.saveOnDestroy(this)}importFiles(){this.loading=!0,this.backendService.importSequences(this.fileList,this.dataForm.value).subscribe(t=>{this.logService.addIssues(t.issues)},t=>{this.loading=!1,this.logService.addIssues(t.issues)},()=>{this.loading=!1,this.fileList=[]})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(YP),r.Rb(dm.a),r.Rb(IP))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-sequences-import"]],decls:31,vars:21,consts:[["nzTitle","Importar secuencias","nzSubtitle","(desde ficheros FASTA)"],["nz-form","",3,"formGroup"],[3,"nzSpan"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Seleccionar especie","formControlName","organism_id",3,"nzDisabled"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Seleccionar procedencia","formControlName","analysis_id",3,"nzDisabled"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Seleccionar regi\xf3n del ADN","formControlName","region",3,"nzDisabled"],["nz-row","","nzJustify","center"],["nz-button","",3,"nzType","nzLoading","disabled","click"],["nzType","drag","nzListType","picture",3,"nzMultiple","nzFileList","nzRemove","nzBeforeUpload","nzFileListChange"],[1,"ant-upload-drag-icon"],["nz-icon","","nzType","inbox"],[1,"ant-upload-text"],[1,"ant-upload-hint"],[3,"nzLabel","nzValue"]],template:function(t,e){1&t&&(r.Sb(0,"nz-page-header",0),r.Xb(1,"form",1),r.Xb(2,"nz-form-item"),r.Xb(3,"nz-form-label",2),r.Mc(4,"Organismo"),r.Wb(),r.Xb(5,"nz-form-control",2),r.Xb(6,"nz-select",3),r.Kc(7,pG,1,3,"nz-option",4),r.Wb(),r.Wb(),r.Wb(),r.Xb(8,"nz-form-item"),r.Xb(9,"nz-form-label",2),r.Mc(10,"An\xe1lisis"),r.Wb(),r.Xb(11,"nz-form-control",2),r.Xb(12,"nz-select",5),r.Kc(13,fG,1,3,"nz-option",4),r.Wb(),r.Wb(),r.Wb(),r.Xb(14,"nz-form-item"),r.Xb(15,"nz-form-label",2),r.Mc(16,"Regi\xf3n"),r.Wb(),r.Xb(17,"nz-form-control",2),r.Xb(18,"nz-select",6),r.Kc(19,gG,1,2,"nz-option",4),r.Wb(),r.Wb(),r.Wb(),r.Xb(20,"div",7),r.Xb(21,"button",8),r.fc("click",function(){return e.importFiles()}),r.Mc(22),r.Wb(),r.Wb(),r.Sb(23,"br"),r.Xb(24,"nz-upload",9),r.fc("nzFileListChange",function(t){return e.fileList=t}),r.Xb(25,"p",10),r.Sb(26,"i",11),r.Wb(),r.Xb(27,"p",12),r.Mc(28,"Pulsa o arrastra ficheros a este \xe1rea"),r.Wb(),r.Xb(29,"p",13),r.Mc(30," Los ficheros se a\xf1adiran a una lista. Cuando est\xe9 todo listo, pulsa bot\xf3n 'Empezar subida'. "),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.Db(1),r.qc("formGroup",e.dataForm),r.Db(2),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12),r.Db(1),r.qc("nzDisabled",e.loading),r.Db(1),r.qc("ngForOf",e.organisms),r.Db(2),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12),r.Db(1),r.qc("nzDisabled",e.loading),r.Db(1),r.qc("ngForOf",e.analyses),r.Db(2),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12),r.Db(1),r.qc("nzDisabled",e.loading),r.Db(1),r.qc("ngForOf",e.regions),r.Db(2),r.qc("nzType","primary")("nzLoading",e.loading)("disabled",0==e.fileList.length||!e.dataForm.valid),r.Db(1),r.Oc(" ",e.loading?"Cargando":"Empezar subida"," "),r.Db(2),r.qc("nzMultiple",!0)("nzFileList",e.fileList)("nzRemove",e.removeFile)("nzBeforeUpload",e.beforeUpload))},directives:[Lj,re,yt,Qd,le,nr,Jd,ir,np,tp,Gg,bt,he,i.m,HL,qL,Rf,BH,No,Ug],styles:[".ant-upload-list-item{background:#fff!important}  .ant-upload-list-item:hover{background:#fff!important}.ant-upload-list-item-info[_ngcontent-%COMP%]{background:#fff!important}"]}),t})();function bG(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",19),r.fc("click",function(){return r.Cc(t),r.jc().editEvent()}),r.Sb(1,"i",20),r.Mc(2,"Editar detalles"),r.Wb()}}function yG(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",21),r.fc("click",function(){return r.Cc(t),r.jc().editEvent()}),r.Sb(1,"i",22),r.Mc(2,"Guardar cambios"),r.Wb()}}function vG(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",19),r.fc("click",function(){return r.Cc(t),r.jc().editEvent()}),r.Sb(1,"i",20),r.Mc(2),r.Wb()}if(2&t){const t=r.jc();r.Db(2),r.Oc(" ",t.editing?"Guardar":"Modificar secuencia","")}}function _G(t,e){1&t&&r.Sb(0,"app-bo-card",23),2&t&&r.qc("data",e.$implicit)}function wG(t,e){1&t&&r.Sb(0,"app-bo-card",24),2&t&&r.qc("data",e.$implicit)}function zG(t,e){1&t&&r.Sb(0,"app-bo-card",25),2&t&&r.qc("data",e.$implicit)}let CG=(()=>{class t{constructor(t,e){this.backendService=t,this.router=e,this.feature={},this.organism={},this.cvterm={},this.editing=!1,this.analyses=[],this.phylotrees=[],this.processes=[]}ngOnInit(){this.feature_id=this.router.url.replace(/^.*[\\\/]/,""),this.backendService.getSequences(this.feature_id).subscribe(t=>{this.feature=t.content},t=>{},()=>{this.backendService.getOrganisms(this.feature.organism_id).subscribe(t=>{this.organism=t.content},t=>{},()=>{})});let t=this.backendService.filter({feature_id:this.feature_id});this.backendService.getAnalyses(void 0,t).subscribe(t=>{this.analyses=t.content},t=>{},()=>{}),this.backendService.getPhylotrees(void 0,t).subscribe(t=>{this.phylotrees=t.content},t=>{},()=>{})}editEvent(){this.editing=!this.editing}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(dm.g))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-sequence-detail"]],decls:31,vars:12,consts:[["nzSubtitle","Informaci\xf3n detallada",3,"nzTitle"],["nz-button","",3,"click",4,"ngIf"],["nz-button","","nzType","primary",3,"click",4,"ngIf"],[2,"width","80vw"],["nzTitle","General"],[3,"data"],["nzTitle","Sequencia"],[3,"nzTitle","nzExtra"],["nz-input","","rows","1",2,"white-space","pre","overflow","auto","font-family","'Courier New', monospace",3,"disabled"],["editButton",""],["nzTitle","Organismo"],["type","organism",3,"data"],["nzTitle","An\xe1lisis"],["type","analysis",3,"data",4,"ngFor","ngForOf"],["nzTitle","Filogenias"],["type","phylotree",3,"data",4,"ngFor","ngForOf"],["nzTitle","Procesos"],["type","process",3,"data",4,"ngFor","ngForOf"],["nzTitle","Cronolog\xeda"],["nz-button","",3,"click"],["nz-icon","","nzType","edit"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","save"],["type","analysis",3,"data"],["type","phylotree",3,"data"],["type","process",3,"data"]],template:function(t,e){if(1&t&&(r.Xb(0,"nz-page-header",0),r.Xb(1,"nz-page-header-extra"),r.Kc(2,bG,3,0,"button",1),r.Kc(3,yG,3,0,"button",2),r.Wb(),r.Wb(),r.Xb(4,"nz-tabset",3),r.Xb(5,"nz-tab",4),r.Sb(6,"app-bo-card",5),r.Wb(),r.Xb(7,"nz-tab",6),r.Xb(8,"nz-card",7),r.Xb(9,"textarea",8),r.Mc(10),r.Wb(),r.Kc(11,vG,3,1,"ng-template",null,9,r.Lc),r.Wb(),r.Wb(),r.Xb(13,"nz-tab",10),r.Sb(14,"app-bo-card",11),r.Wb(),r.Xb(15,"nz-tab",12),r.Kc(16,_G,1,1,"app-bo-card",13),r.Wb(),r.Xb(17,"nz-tab",14),r.Kc(18,wG,1,1,"app-bo-card",15),r.Wb(),r.Xb(19,"nz-tab",16),r.Kc(20,zG,1,1,"app-bo-card",17),r.Wb(),r.Xb(21,"nz-tab",18),r.Xb(22,"nz-timeline"),r.Xb(23,"nz-timeline-item"),r.Mc(24,"Import 2015-09-01"),r.Wb(),r.Xb(25,"nz-timeline-item"),r.Mc(26,"Update 2015-12-10"),r.Wb(),r.Xb(27,"nz-timeline-item"),r.Mc(28,"Update 2016-03-24"),r.Wb(),r.Xb(29,"nz-timeline-item"),r.Mc(30,"Update 2018-09-11"),r.Wb(),r.Wb(),r.Wb(),r.Wb()),2&t){const t=r.Ac(12);r.rc("nzTitle",e.feature.uniquename),r.Db(2),r.qc("ngIf",!e.editing),r.Db(1),r.qc("ngIf",e.editing),r.Db(3),r.qc("data",e.feature),r.Db(2),r.qc("nzTitle",e.cvterm.name)("nzExtra",t),r.Db(1),r.qc("disabled",!e.editing),r.Db(1),r.Nc(e.feature.residues),r.Db(4),r.qc("data",e.organism),r.Db(2),r.qc("ngForOf",e.analyses),r.Db(2),r.qc("ngForOf",e.phylotrees),r.Db(2),r.qc("ngForOf",e.processes)}},directives:[Lj,Rj,i.n,lX,JB,IU,DX,Hp,i.m,HU,$U,HL,qL,Rf,No],styles:[""]}),t})();function SG(t,e){if(1&t&&r.Sb(0,"nz-option",4),2&t){const t=e.$implicit;r.rc("nzLabel",t),r.rc("nzValue",t)}}function xG(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-select",2),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc().selectedFormat=e}),r.Kc(1,SG,1,2,"nz-option",3),r.Wb()}if(2&t){const t=r.jc();r.qc("ngModel",t.selectedFormat),r.Db(1),r.qc("ngForOf",t.formats)}}let OG=(()=>{class t{constructor(t,e,n,i,o){this.backendService=t,this.logService=e,this.modal=n,this.stateService=i,this.router=o,this.sequenceSelection=new r.n,this.loading=!1,this.formats=[],this.selectedFormat=""}ngOnInit(){this.backendService.getFormats("alignments").subscribe(t=>{this.formats=t.content})}openItem(t){this.router.navigate(["alignmentDetail",t.analysis_id])}importItems(){this.router.navigate(["alignmentsImport"])}exportItem(t,e){this.modal.confirm({nzTitle:"<i>\xbfEn qu\xe9 formato desea realizar la descarga?</i>",nzContent:e,nzOnOk:()=>{this.backendService.exportFromChado("alignments",t.analysis_id,this.selectedFormat).subscribe(e=>{aK.saveAs(new Blob([e]),t.name+"."+this.selectedFormat)},t=>{this.logService.addIssues(t.issues)},()=>{})}})}exportSelection(t,e){this.modal.confirm({nzTitle:"<i>\xbfEn qu\xe9 formato desea realizar la descarga?</i>",nzContent:e,nzOnOk:()=>{this.backendService.exportFromChado("alignments",void 0,this.selectedFormat,t).subscribe(t=>{aK.saveAs(new Blob([t]),"alignments."+this.selectedFormat)},t=>{this.logService.addIssues(t.issues)},()=>{})}})}deleteItem(t){this.modal.confirm({nzTitle:"<i>\xbfSeguro que desea eliminar este alineamiento y los datos asociados?</i>",nzContent:JSON.stringify(t),nzOnOk:()=>{this.loading=!0,this.backendService.deleteFromChado("alignments",t.analysis_id).subscribe(t=>{this.logService.addIssues(t.issues)},t=>{this.loading=!1,this.logService.addIssues(t.issues)},()=>{this.loading=!1,this.dynamicBrowser.changePage()})}})}deleteSelection(t){this.modal.warning({nzTitle:"<i>\xbfSeguro que desea eliminar los alineamientos seleccionados y los datos asociados?</i>",nzOnOk:()=>{this.loading=!0,this.backendService.deleteFromChado("alignments",void 0,t).subscribe(t=>{this.logService.addIssues(t.issues)},t=>{this.loading=!1,this.logService.addIssues(t.issues)},()=>{this.loading=!1,this.dynamicBrowser.changePage()})}})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(YP),r.Rb(qF),r.Rb(IP),r.Rb(dm.g))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-alignments-browse"]],viewQuery:function(t,e){if(1&t&&r.Qc(GK,1),2&t){let t;r.zc(t=r.gc())&&(e.dynamicBrowser=t.first)}},outputs:{sequenceSelection:"sequenceSelection"},decls:3,vars:2,consts:[["BrowserTitle","Alineamientos m\xfaltiples",3,"Loading","BrowserType","OpenItemEvent","ImportEvent","ExportItemEvent","DeleteItemEvent","DeleteSelectedEvent"],["exportForm",""],["nzShowSearch","","nzPlaceHolder","Seleccionar formato","name","selectedFormat",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],[3,"nzLabel","nzValue"]],template:function(t,e){if(1&t){const t=r.Yb();r.Xb(0,"app-dynamic-browse",0),r.fc("OpenItemEvent",function(t){return e.openItem(t)})("ImportEvent",function(){return e.importItems()})("ExportItemEvent",function(n){r.Cc(t);const i=r.Ac(2);return e.exportItem(n,i)})("DeleteItemEvent",function(t){return e.deleteItem(t)})("DeleteSelectedEvent",function(t){return e.deleteSelection(t)}),r.Wb(),r.Kc(1,xG,2,2,"ng-template",null,1,r.Lc)}2&t&&r.qc("Loading",e.loading)("BrowserType","alignments")},directives:[GK,Gg,bt,ie,i.m,Ug],styles:[""]}),t})(),kG=(()=>{class t{constructor(t,e,n,i){this.backendService=t,this.logService=e,this.activeRoute=n,this.stateService=i,this.fileList=[],this.loading=!1,this.dataForm=new Yt({program:new Gt,programversion:new Gt,name:new Gt,algorithm:new Gt,description:new Gt}),this.beforeUpload=t=>(this.fileList=this.fileList.concat(t),!1),this.removeFile=t=>{for(let e=0;e<this.fileList.length;e++)t.uid==this.fileList[e].uid&&this.fileList.splice(e,1)}}getState(){return{dataForm:this.dataForm,fileList:this.fileList}}setState(t){t&&(t.dataForm&&(this.dataForm=t.dataForm),t.fileList&&(this.fileList=t.fileList))}ngOnInit(){this.activeRoute.url.subscribe(t=>{this.stateService.setCurrentView(this,t)})}ngOnDestroy(){this.stateService.saveOnDestroy(this)}importFiles(){this.loading=!0,this.backendService.importAlignments(this.fileList,this.dataForm.value).subscribe(t=>{this.logService.addIssues(t.issues)},t=>{this.loading=!1,this.logService.addIssues(t.issues)},()=>{this.loading=!1,this.fileList=[]})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(YP),r.Rb(dm.a),r.Rb(IP))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-alignments-import"]],decls:38,vars:19,consts:[["nzTitle","Importar alineamientos multiples","nzSubtitle","(desde ficheros FASTA)"],["nz-form","",3,"formGroup"],[3,"nzSpan"],["nz-input","","formControlName","program","placeholder","Multiple Sequence Alignment"],["nz-input","","formControlName","programversion","placeholder","(Imported fasta)"],["nz-input","","formControlName","name"],["nz-input","","formControlName","algorithm"],["nz-input","","formControlName","description","rows","3","cols","10"],["nz-row","","nzJustify","center"],["nz-button","",3,"nzType","nzLoading","disabled","click"],["nzType","drag",3,"nzMultiple","nzFileList","nzRemove","nzBeforeUpload","nzFileListChange"],[1,"ant-upload-drag-icon"],["nz-icon","","nzType","inbox"],[1,"ant-upload-text"],[1,"ant-upload-hint"]],template:function(t,e){1&t&&(r.Sb(0,"nz-page-header",0),r.Xb(1,"form",1),r.Xb(2,"nz-form-item"),r.Xb(3,"nz-form-label",2),r.Mc(4,"Programa"),r.Wb(),r.Xb(5,"nz-form-control",2),r.Sb(6,"input",3),r.Wb(),r.Wb(),r.Xb(7,"nz-form-item"),r.Xb(8,"nz-form-label",2),r.Mc(9,"Versi\xf3n"),r.Wb(),r.Xb(10,"nz-form-control",2),r.Sb(11,"input",4),r.Wb(),r.Wb(),r.Xb(12,"nz-form-item"),r.Xb(13,"nz-form-label",2),r.Mc(14,"Nombre"),r.Wb(),r.Xb(15,"nz-form-control",2),r.Sb(16,"input",5),r.Wb(),r.Wb(),r.Xb(17,"nz-form-item"),r.Xb(18,"nz-form-label",2),r.Mc(19,"Algoritmo"),r.Wb(),r.Xb(20,"nz-form-control",2),r.Sb(21,"input",6),r.Wb(),r.Wb(),r.Xb(22,"nz-form-item"),r.Xb(23,"nz-form-label",2),r.Mc(24,"Descripci\xf3n"),r.Wb(),r.Xb(25,"nz-form-control",2),r.Sb(26,"textarea",7),r.Wb(),r.Wb(),r.Xb(27,"div",8),r.Xb(28,"button",9),r.fc("click",function(){return e.importFiles()}),r.Mc(29),r.Wb(),r.Wb(),r.Sb(30,"br"),r.Xb(31,"nz-upload",10),r.fc("nzFileListChange",function(t){return e.fileList=t}),r.Xb(32,"p",11),r.Sb(33,"i",12),r.Wb(),r.Xb(34,"p",13),r.Mc(35,"Pulsa o arrastra ficheros a este \xe1rea"),r.Wb(),r.Xb(36,"p",14),r.Mc(37," Los ficheros se a\xf1adiran a una lista. Cuando est\xe9 todo listo, pulsa bot\xf3n 'Empezar subida'. "),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.Db(1),r.qc("formGroup",e.dataForm),r.Db(2),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12),r.Db(3),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12),r.Db(3),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12),r.Db(3),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12),r.Db(3),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12),r.Db(3),r.qc("nzType","primary")("nzLoading",e.loading)("disabled",0==e.fileList.length),r.Db(1),r.Oc(" ",e.loading?"Cargando":"Empezar subida"," "),r.Db(2),r.qc("nzMultiple",!0)("nzFileList",e.fileList)("nzRemove",e.removeFile)("nzBeforeUpload",e.beforeUpload))},directives:[Lj,re,yt,Qd,le,nr,Jd,ir,np,tp,Hp,G,bt,he,HL,qL,Rf,BH,No],styles:[""]}),t})();function TG(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",19),r.fc("click",function(){return r.Cc(t),r.jc().editEvent()}),r.Sb(1,"i",20),r.Mc(2,"Editar detalles"),r.Wb()}}function EG(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",21),r.fc("click",function(){return r.Cc(t),r.jc().editEvent()}),r.Sb(1,"i",22),r.Mc(2,"Guardar cambios"),r.Wb()}}function IG(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",19),r.fc("click",function(){return r.Cc(t),r.jc().editEvent()}),r.Sb(1,"i",20),r.Mc(2),r.Wb()}if(2&t){const t=r.jc();r.Db(2),r.Oc(" ",t.editing?"Guardar":"Modificar secuencia","")}}function DG(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Xb(1,"tr",23),r.fc("click",function(){r.Cc(t);const n=e.$implicit;return r.jc().onExpandChange(n.feature_id)}),r.Xb(2,"td",24),r.Mc(3),r.Wb(),r.Wb(),r.Xb(4,"tr",24),r.Sb(5,"app-bo-card",25),r.Wb(),r.Ub()}if(2&t){const t=e.$implicit,n=r.jc();r.Db(2),r.qc("nzExpand",n.expandSet.has(t.feature_id)),r.Db(1),r.Oc(" ",t.uniquename," "),r.Db(1),r.qc("nzExpand",n.expandSet.has(t.feature_id)),r.Db(1),r.qc("data",t)}}function MG(t,e){1&t&&r.Sb(0,"app-bo-card",26),2&t&&r.qc("data",e.$implicit)}function RG(t,e){1&t&&r.Sb(0,"app-bo-card",27),2&t&&r.qc("data",e.$implicit)}let AG=(()=>{class t{constructor(t,e){this.backendService=t,this.router=e,this.analysis={},this.format="fasta",this.data="",this.editing=!1,this.features=[],this.cvterms=[],this.phylotrees=[],this.processes=[],this.expandSet=new Set,this.reader=new FileReader}ngOnInit(){this.analysis_id=this.router.url.replace(/^.*[\\\/]/,""),this.reader.addEventListener("loadend",t=>{this.data=t.target.result}),this.backendService.getAlignments(this.analysis_id).subscribe(t=>{this.analysis=t.content},t=>{},()=>{});let t=this.backendService.filter({analysis_id:this.analysis_id});this.backendService.getSequences(void 0,t).subscribe(t=>{this.features=t.content},t=>{},()=>{}),this.backendService.exportAlignments(this.analysis_id,this.format).subscribe(t=>{this.reader.readAsText(t)},t=>{},()=>{}),this.backendService.getPhylotrees(void 0,t).subscribe(t=>{this.phylotrees=t.content},t=>{},()=>{})}editEvent(){this.editing=!this.editing}onExpandChange(t){this.expandSet.has(t)?this.expandSet.delete(t):this.expandSet.add(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(dm.g))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-alignment-detail"]],decls:32,vars:11,consts:[["nzSubtitle","Informaci\xf3n detallada",3,"nzTitle"],["nz-button","",3,"click",4,"ngIf"],["nz-button","","nzType","primary",3,"click",4,"ngIf"],[2,"width","80vw"],["nzTitle","General"],[3,"data"],["nzTitle","Alineamiento"],[3,"nzTitle"],["nz-input","","rows","10",2,"white-space","pre","overflow","auto","font-family","'Courier New', monospace",3,"disabled"],["editButton",""],["nzTitle","Secuencias"],[3,"nzData"],["seqs_table",""],[4,"ngFor","ngForOf"],["nzTitle","Filogenias"],["type","phylotree",3,"data",4,"ngFor","ngForOf"],["nzTitle","Procesos"],["type","process",3,"data",4,"ngFor","ngForOf"],["nzTitle","Cronolog\xeda"],["nz-button","",3,"click"],["nz-icon","","nzType","edit"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","save"],[3,"click"],[3,"nzExpand"],["type","sequence",3,"data"],["type","phylotree",3,"data"],["type","process",3,"data"]],template:function(t,e){if(1&t&&(r.Xb(0,"nz-page-header",0),r.Xb(1,"nz-page-header-extra"),r.Kc(2,TG,3,0,"button",1),r.Kc(3,EG,3,0,"button",2),r.Wb(),r.Wb(),r.Xb(4,"nz-tabset",3),r.Xb(5,"nz-tab",4),r.Sb(6,"app-bo-card",5),r.Wb(),r.Xb(7,"nz-tab",6),r.Xb(8,"nz-card",7),r.Xb(9,"textarea",8),r.Mc(10),r.Wb(),r.Kc(11,IG,3,1,"ng-template",null,9,r.Lc),r.Wb(),r.Wb(),r.Xb(13,"nz-tab",10),r.Xb(14,"nz-table",11,12),r.Xb(16,"tbody"),r.Kc(17,DG,6,4,"ng-container",13),r.Wb(),r.Wb(),r.Wb(),r.Xb(18,"nz-tab",14),r.Kc(19,MG,1,1,"app-bo-card",15),r.Wb(),r.Xb(20,"nz-tab",16),r.Kc(21,RG,1,1,"app-bo-card",17),r.Wb(),r.Xb(22,"nz-tab",18),r.Xb(23,"nz-timeline"),r.Xb(24,"nz-timeline-item"),r.Mc(25,"Import 2015-09-01"),r.Wb(),r.Xb(26,"nz-timeline-item"),r.Mc(27,"Update 2015-12-10"),r.Wb(),r.Xb(28,"nz-timeline-item"),r.Mc(29,"Update 2016-03-24"),r.Wb(),r.Xb(30,"nz-timeline-item"),r.Mc(31,"Update 2018-09-11"),r.Wb(),r.Wb(),r.Wb(),r.Wb()),2&t){const t=r.Ac(12),n=r.Ac(15);r.rc("nzTitle",e.analysis.name?e.analysis.name:e.analysis.program+" "+e.analysis.programversion),r.Db(2),r.qc("ngIf",!e.editing),r.Db(1),r.qc("ngIf",e.editing),r.Db(3),r.qc("data",e.analysis),r.Db(2),r.qc("nzTitle",t),r.Db(1),r.qc("disabled",!e.editing),r.Db(1),r.Nc(e.data),r.Db(4),r.qc("nzData",e.features),r.Db(3),r.qc("ngForOf",n.data),r.Db(2),r.qc("ngForOf",e.phylotrees),r.Db(2),r.qc("ngForOf",e.processes)}},directives:[Lj,Rj,i.n,lX,JB,IU,DX,Hp,XW,UW,i.m,HU,$U,HL,qL,Rf,No,$W,MW,RW,GW,NW],styles:[""]}),t})();function PG(t,e){if(1&t&&r.Sb(0,"nz-option",4),2&t){const t=e.$implicit;r.rc("nzLabel",t),r.rc("nzValue",t)}}function LG(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-select",2),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc().selectedFormat=e}),r.Kc(1,PG,1,2,"nz-option",3),r.Wb()}if(2&t){const t=r.jc();r.qc("ngModel",t.selectedFormat),r.Db(1),r.qc("ngForOf",t.formats)}}let FG=(()=>{class t{constructor(t,e,n,i,o){this.backendService=t,this.logService=e,this.modal=n,this.stateService=i,this.router=o,this.sequenceSelection=new r.n,this.loading=!1,this.formats=[],this.selectedFormat=""}ngOnInit(){this.backendService.getFormats("phylotrees").subscribe(t=>{this.formats=t.content})}openItem(t){this.router.navigate(["phylotreeDetail",t.phylotree_id])}importItems(){this.router.navigate(["phylotreesImport"])}exportItem(t,e){this.modal.confirm({nzTitle:"<i>\xbfEn qu\xe9 formato desea realizar la descarga?</i>",nzContent:e,nzOnOk:()=>{this.backendService.exportFromChado("phylotrees",t.phylotree_id,this.selectedFormat).subscribe(e=>{aK.saveAs(new Blob([e]),t.name+"."+this.selectedFormat)},t=>{this.logService.addIssues(t.issues)},()=>{})}})}exportSelection(t,e){this.modal.confirm({nzTitle:"<i>\xbfEn qu\xe9 formato desea realizar la descarga?</i>",nzContent:e,nzOnOk:()=>{this.backendService.exportFromChado("phylotrees",void 0,this.selectedFormat,t).subscribe(t=>{aK.saveAs(new Blob([t]),"phylotrees."+this.selectedFormat)},t=>{this.logService.addIssues(t.issues)},()=>{})}})}deleteItem(t){this.modal.warning({nzTitle:"<i>\xbfSeguro que desea eliminar esta filogenia y los datos asociados?</i>",nzContent:JSON.stringify(t),nzOnOk:()=>{this.loading=!0,this.backendService.deleteFromChado("phylotrees",t.phylotree_id).subscribe(t=>{this.logService.addIssues(t.issues)},t=>{this.loading=!1,this.logService.addIssues(t.issues)},()=>{this.loading=!1,this.dynamicBrowser.changePage()})}})}deleteSelection(t){this.modal.warning({nzTitle:"<i>\xbfSeguro que desea eliminar las filogenias seleccionadas y los datos asociados?</i>",nzOnOk:()=>{this.backendService.deleteFromChado("phylotrees",void 0,t).subscribe(t=>{this.logService.addIssues(t.issues)},t=>{this.loading=!1,this.logService.addIssues(t.issues)},()=>{this.loading=!1,this.dynamicBrowser.changePage()})}})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(YP),r.Rb(qF),r.Rb(IP),r.Rb(dm.g))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-phylotrees-browse"]],viewQuery:function(t,e){if(1&t&&r.Qc(GK,1),2&t){let t;r.zc(t=r.gc())&&(e.dynamicBrowser=t.first)}},outputs:{sequenceSelection:"sequenceSelection"},decls:3,vars:2,consts:[["BrowserTitle","\xc1rboles filogen\xe9ticos",3,"Loading","BrowserType","OpenItemEvent","ImportEvent","ExportItemEvent","DeleteItemEvent","DeleteSelectedEvent"],["exportForm",""],["nzShowSearch","","nzPlaceHolder","Seleccionar formato","name","selectedFormat",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],[3,"nzLabel","nzValue"]],template:function(t,e){if(1&t){const t=r.Yb();r.Xb(0,"app-dynamic-browse",0),r.fc("OpenItemEvent",function(t){return e.openItem(t)})("ImportEvent",function(){return e.importItems()})("ExportItemEvent",function(n){r.Cc(t);const i=r.Ac(2);return e.exportItem(n,i)})("DeleteItemEvent",function(t){return e.deleteItem(t)})("DeleteSelectedEvent",function(t){return e.deleteSelection(t)}),r.Wb(),r.Kc(1,LG,2,2,"ng-template",null,1,r.Lc)}2&t&&r.qc("Loading",e.loading)("BrowserType","phylotrees")},directives:[GK,Gg,bt,ie,i.m,Ug],styles:[""]}),t})();function jG(t,e){if(1&t&&r.Sb(0,"nz-option",14),2&t){const t=e.$implicit;r.tc("nzLabel","",t.program," ",t.programversion,""),r.rc("nzValue",t.analysis_id)}}let NG=(()=>{class t{constructor(t,e,n,i){this.backendService=t,this.logService=e,this.activeRoute=n,this.stateService=i,this.fileList=[],this.analyses=[],this.dataForm=new Yt({analysis_id:new Gt,name:new Gt,comment:new Gt}),this.loading=!0,this.beforeUpload=t=>(this.fileList=this.fileList.concat(t),!1),this.removeFile=t=>{for(let e=0;e<this.fileList.length;e++)t.uid==this.fileList[e].uid&&this.fileList.splice(e,1)}}getState(){return{dataForm:this.dataForm,fileList:this.fileList}}setState(t){t&&(t.dataForm&&(this.dataForm=t.dataForm),t.fileList&&(this.fileList=t.fileList))}ngOnInit(){this.activeRoute.url.subscribe(t=>{this.stateService.setCurrentView(this,t)}),this.backendService.getAnalyses().subscribe(t=>{this.analyses=t.content,this.logService.addIssues(t.issues)},t=>{this.loading=!1,this.logService.addIssues(t.issues)},()=>{this.loading=!1})}ngOnDestroy(){this.stateService.saveOnDestroy(this)}importFiles(){this.loading=!0,this.backendService.importPhylotrees(this.fileList,this.dataForm.value).subscribe(t=>{this.logService.addIssues(t.issues)},t=>{this.loading=!1,this.logService.addIssues(t.issues)},()=>{this.loading=!1,this.fileList=[]})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(YP),r.Rb(dm.a),r.Rb(IP))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-phylotrees-import"]],decls:29,vars:17,consts:[["nzTitle","Importar \xe1rboles filogen\xe9ticos","nzSubtitle","(desde ficheros Newick)"],["nz-form","",3,"formGroup"],[3,"nzSpan"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Seleccionar procedencia","formControlName","analysis_id",3,"nzDisabled"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nz-input","","formControlName","name"],["nz-input","","formControlName","comment","rows","3","cols","10"],["nz-row","","nzJustify","center"],["nz-button","",3,"nzType","nzLoading","disabled","click"],["nzType","drag",3,"nzMultiple","nzFileList","nzRemove","nzBeforeUpload","nzFileListChange"],[1,"ant-upload-drag-icon"],["nz-icon","","nzType","inbox"],[1,"ant-upload-text"],[1,"ant-upload-hint"],[3,"nzLabel","nzValue"]],template:function(t,e){1&t&&(r.Sb(0,"nz-page-header",0),r.Xb(1,"form",1),r.Xb(2,"nz-form-item"),r.Xb(3,"nz-form-label",2),r.Mc(4,"An\xe1lisis"),r.Wb(),r.Xb(5,"nz-form-control",2),r.Xb(6,"nz-select",3),r.Kc(7,jG,1,3,"nz-option",4),r.Wb(),r.Wb(),r.Wb(),r.Xb(8,"nz-form-item"),r.Xb(9,"nz-form-label",2),r.Mc(10,"Nombre"),r.Wb(),r.Xb(11,"nz-form-control",2),r.Sb(12,"input",5),r.Wb(),r.Wb(),r.Xb(13,"nz-form-item"),r.Xb(14,"nz-form-label",2),r.Mc(15,"Comentario"),r.Wb(),r.Xb(16,"nz-form-control",2),r.Sb(17,"textarea",6),r.Wb(),r.Wb(),r.Xb(18,"div",7),r.Xb(19,"button",8),r.fc("click",function(){return e.importFiles()}),r.Mc(20),r.Wb(),r.Wb(),r.Sb(21,"br"),r.Xb(22,"nz-upload",9),r.fc("nzFileListChange",function(t){return e.fileList=t}),r.Xb(23,"p",10),r.Sb(24,"i",11),r.Wb(),r.Xb(25,"p",12),r.Mc(26,"Pulsa o arrastra ficheros a este \xe1rea"),r.Wb(),r.Xb(27,"p",13),r.Mc(28," Los ficheros se a\xf1adiran a una lista. Cuando est\xe9 todo listo, pulsa bot\xf3n 'Empezar subida'. "),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.Db(1),r.qc("formGroup",e.dataForm),r.Db(2),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12),r.Db(1),r.qc("nzDisabled",e.loading),r.Db(1),r.qc("ngForOf",e.analyses),r.Db(2),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12),r.Db(3),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12),r.Db(3),r.qc("nzType","primary")("nzLoading",e.loading)("disabled",0==e.fileList.length),r.Db(1),r.Oc(" ",e.loading?"Cargando":"Empezar subida"," "),r.Db(2),r.qc("nzMultiple",!0)("nzFileList",e.fileList)("nzRemove",e.removeFile)("nzBeforeUpload",e.beforeUpload))},directives:[Lj,re,yt,Qd,le,nr,Jd,ir,np,tp,Gg,bt,he,i.m,Hp,G,HL,qL,Rf,BH,No,Ug],styles:[""]}),t})();function VG(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",19),r.fc("click",function(){return r.Cc(t),r.jc().editEvent()}),r.Sb(1,"i",20),r.Mc(2,"Editar detalles"),r.Wb()}}function WG(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",21),r.fc("click",function(){return r.Cc(t),r.jc().editEvent()}),r.Sb(1,"i",22),r.Mc(2,"Guardar cambios"),r.Wb()}}function qG(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",19),r.fc("click",function(){return r.Cc(t),r.jc().editEvent()}),r.Sb(1,"i",20),r.Mc(2),r.Wb()}if(2&t){const t=r.jc();r.Db(2),r.Oc(" ",t.editing?"Guardar":"Modificar secuencia","")}}function BG(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Xb(1,"tr",23),r.fc("click",function(){r.Cc(t);const n=e.$implicit;return r.jc().onExpandChange(n.feature_id)}),r.Xb(2,"td",24),r.Mc(3),r.Wb(),r.Wb(),r.Xb(4,"tr",24),r.Sb(5,"app-bo-card",25),r.Wb(),r.Ub()}if(2&t){const t=e.$implicit,n=r.jc();r.Db(2),r.qc("nzExpand",n.expandSet.has(t.feature_id)),r.Db(1),r.Oc(" ",t.uniquename," "),r.Db(1),r.qc("nzExpand",n.expandSet.has(t.feature_id)),r.Db(1),r.qc("data",t)}}function XG(t,e){if(1&t&&r.Sb(0,"app-bo-card",26),2&t){const t=r.jc();r.qc("data",t.alignment)}}function UG(t,e){1&t&&r.Sb(0,"app-bo-card",27),2&t&&r.qc("data",e.$implicit)}let $G=(()=>{class t{constructor(t,e){this.backendService=t,this.router=e,this.phylotree={},this.format="newick",this.data="",this.features=[],this.cvterms=[],this.editing=!1,this.processes=[],this.expandSet=new Set,this.reader=new FileReader}ngOnInit(){this.phylotree_id=this.router.url.replace(/^.*[\\\/]/,""),this.reader.addEventListener("loadend",t=>{this.data=t.target.result}),this.backendService.getPhylotrees(this.phylotree_id).subscribe(t=>{this.phylotree=t.content},t=>{},()=>{this.backendService.exportPhylotrees(this.phylotree_id,this.format).subscribe(t=>{this.reader.readAsText(t)},t=>{},()=>{}),this.phylotree.type_id&&this.backendService.getCvterms(void 0,this.phylotree.type_id).subscribe(t=>{this.type=t.content},t=>{},()=>{}),this.phylotree.analysis_id&&this.backendService.getAlignments(this.phylotree.analysis_id).subscribe(t=>{this.alignment=t.content},t=>{},()=>{})});let t=this.backendService.filter({phylotree_id:this.phylotree_id});this.backendService.getSequences(void 0,t).subscribe(t=>{this.features=t.content},t=>{},()=>{})}editEvent(){this.editing=!this.editing}onExpandChange(t){this.expandSet.has(t)?this.expandSet.delete(t):this.expandSet.add(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(dm.g))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-phylotree-detail"]],decls:32,vars:11,consts:[["nzSubtitle","Informaci\xf3n detallada",3,"nzTitle"],["nz-button","",3,"click",4,"ngIf"],["nz-button","","nzType","primary",3,"click",4,"ngIf"],[2,"width","80vw"],["nzTitle","General"],[3,"data"],["nzTitle","Filogenia"],[3,"nzTitle"],["nz-input","","rows","10",2,"white-space","pre","overflow","auto","font-family","'Courier New', monospace",3,"disabled"],["editButton",""],["nzTitle","Secuencias"],[3,"nzData"],["seqs_table",""],[4,"ngFor","ngForOf"],["nzTitle","Alineamiento"],["type","alignment",3,"data",4,"ngIf"],["nzTitle","Procesos"],["type","process",3,"data",4,"ngFor","ngForOf"],["nzTitle","Cronolog\xeda"],["nz-button","",3,"click"],["nz-icon","","nzType","edit"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","save"],[3,"click"],[3,"nzExpand"],["type","sequence",3,"data"],["type","alignment",3,"data"],["type","process",3,"data"]],template:function(t,e){if(1&t&&(r.Xb(0,"nz-page-header",0),r.Xb(1,"nz-page-header-extra"),r.Kc(2,VG,3,0,"button",1),r.Kc(3,WG,3,0,"button",2),r.Wb(),r.Wb(),r.Xb(4,"nz-tabset",3),r.Xb(5,"nz-tab",4),r.Sb(6,"app-bo-card",5),r.Wb(),r.Xb(7,"nz-tab",6),r.Xb(8,"nz-card",7),r.Xb(9,"textarea",8),r.Mc(10),r.Wb(),r.Kc(11,qG,3,1,"ng-template",null,9,r.Lc),r.Wb(),r.Wb(),r.Xb(13,"nz-tab",10),r.Xb(14,"nz-table",11,12),r.Xb(16,"tbody"),r.Kc(17,BG,6,4,"ng-container",13),r.Wb(),r.Wb(),r.Wb(),r.Xb(18,"nz-tab",14),r.Kc(19,XG,1,1,"app-bo-card",15),r.Wb(),r.Xb(20,"nz-tab",16),r.Kc(21,UG,1,1,"app-bo-card",17),r.Wb(),r.Xb(22,"nz-tab",18),r.Xb(23,"nz-timeline"),r.Xb(24,"nz-timeline-item"),r.Mc(25,"Import 2015-09-01"),r.Wb(),r.Xb(26,"nz-timeline-item"),r.Mc(27,"Update 2015-12-10"),r.Wb(),r.Xb(28,"nz-timeline-item"),r.Mc(29,"Update 2016-03-24"),r.Wb(),r.Xb(30,"nz-timeline-item"),r.Mc(31,"Update 2018-09-11"),r.Wb(),r.Wb(),r.Wb(),r.Wb()),2&t){const t=r.Ac(12),n=r.Ac(15);r.rc("nzTitle",e.phylotree.name),r.Db(2),r.qc("ngIf",!e.editing),r.Db(1),r.qc("ngIf",e.editing),r.Db(3),r.qc("data",e.phylotree),r.Db(2),r.qc("nzTitle",t),r.Db(1),r.qc("disabled",!e.editing),r.Db(1),r.Nc(e.data),r.Db(4),r.qc("nzData",e.features),r.Db(3),r.qc("ngForOf",n.data),r.Db(2),r.qc("ngIf",e.alignment),r.Db(2),r.qc("ngForOf",e.processes)}},directives:[Lj,Rj,i.n,lX,JB,IU,DX,Hp,XW,UW,i.m,HU,$U,HL,qL,Rf,No,$W,MW,RW,GW,NW],styles:[""]}),t})();const HG=["processDotTemplate"];function KG(t,e){1&t&&r.Sb(0,"div",9)}function GG(t,e){1&t&&(r.Xb(0,"span",11),r.Sb(1,"i",12),r.Wb())}function YG(t,e){1&t&&(r.Xb(0,"span",11),r.Sb(1,"i",13),r.Wb())}function QG(t,e){if(1&t&&(r.Xb(0,"span",11),r.Mc(1),r.Wb()),2&t){const t=r.jc(2);r.Db(1),r.Nc(t.index+1)}}function JG(t,e){if(1&t&&(r.Vb(0),r.Sb(1,"i",14),r.Ub()),2&t){const t=e.$implicit,n=r.jc(3);r.Db(1),r.qc("nzType",!n.oldAPIIcon&&t)("ngClass",n.oldAPIIcon&&t)}}function ZG(t,e){if(1&t&&(r.Xb(0,"span",11),r.Kc(1,JG,2,2,"ng-container",6),r.Wb()),2&t){const t=r.jc(2);r.Db(1),r.qc("nzStringTemplateOutlet",t.nzIcon)}}function tY(t,e){if(1&t&&(r.Kc(0,GG,2,0,"span",10),r.Kc(1,YG,2,0,"span",10),r.Kc(2,QG,2,1,"span",10),r.Kc(3,ZG,2,1,"span",10)),2&t){const t=r.jc();r.qc("ngIf","finish"===t.nzStatus&&!t.nzIcon),r.Db(1),r.qc("ngIf","error"===t.nzStatus),r.Db(1),r.qc("ngIf",("process"===t.nzStatus||"wait"===t.nzStatus)&&!t.nzIcon),r.Db(1),r.qc("ngIf",t.nzIcon)}}function eY(t,e){1&t&&r.Sb(0,"span",17)}function nY(t,e){}const iY=function(t,e,n){return{$implicit:t,status:e,index:n}};function rY(t,e){if(1&t&&(r.Xb(0,"span",11),r.Kc(1,eY,1,0,"ng-template",null,15,r.Lc),r.Kc(3,nY,0,0,"ng-template",16),r.Wb()),2&t){const t=r.Ac(2),e=r.jc();r.Db(3),r.qc("ngTemplateOutlet",e.customProcessTemplate||t)("ngTemplateOutletContext",r.xc(2,iY,t,e.nzStatus,e.index))}}function oY(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc();r.Db(1),r.Nc(t.nzTitle)}}function sY(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.Nc(t.nzSubtitle)}}function aY(t,e){if(1&t&&(r.Xb(0,"div",18),r.Kc(1,sY,2,1,"ng-container",6),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("nzStringTemplateOutlet",t.nzSubtitle)}}function cY(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc();r.Db(1),r.Nc(t.nzDescription)}}const lY=["*"];let uY=(()=>{class t{constructor(t){this.cdr=t,this.nzDisabled=!1,this.isCustomStatus=!1,this._status="wait",this.oldAPIIcon=!0,this.direction="horizontal",this.index=0,this.last=!1,this.outStatus="process",this.showProcessDot=!1,this.clickable=!1,this.click$=new xe.a,this._currentIndex=0}get nzStatus(){return this._status}set nzStatus(t){this._status=t,this.isCustomStatus=!0}get nzIcon(){return this._icon}set nzIcon(t){t instanceof r.M||(this.oldAPIIcon="string"==typeof t&&t.indexOf("anticon")>-1),this._icon=t}get currentIndex(){return this._currentIndex}set currentIndex(t){this._currentIndex=t,this.isCustomStatus||(this._status=t>this.index?"finish":t===this.index?this.outStatus||"":"wait")}onClick(){this.clickable&&this.currentIndex!==this.index&&!this.nzDisabled&&this.click$.next(this.index)}enable(){this.nzDisabled=!1,this.cdr.markForCheck()}disable(){this.nzDisabled=!0,this.cdr.markForCheck()}markForCheck(){this.cdr.markForCheck()}ngOnDestroy(){this.click$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-step"]],viewQuery:function(t,e){if(1&t&&r.Qc(HG,1),2&t){let t;r.zc(t=r.gc())&&(e.processDotTemplate=t.first)}},hostAttrs:[1,"ant-steps-item"],hostVars:16,hostBindings:function(t,e){2&t&&r.Jb("ant-steps-item-wait","wait"===e.nzStatus)("ant-steps-item-process","process"===e.nzStatus)("ant-steps-item-finish","finish"===e.nzStatus)("ant-steps-item-error","error"===e.nzStatus)("ant-steps-item-active",e.currentIndex===e.index)("ant-steps-item-disabled",e.nzDisabled)("ant-steps-item-custom",!!e.nzIcon)("ant-steps-next-error","error"===e.outStatus&&e.currentIndex===e.index+1)},inputs:{nzDisabled:"nzDisabled",nzStatus:"nzStatus",nzIcon:"nzIcon",nzTitle:"nzTitle",nzSubtitle:"nzSubtitle",nzDescription:"nzDescription"},exportAs:["nzStep"],decls:11,vars:8,consts:[[1,"ant-steps-item-container",3,"tabindex","click"],["class","ant-steps-item-tail",4,"ngIf"],[1,"ant-steps-item-icon"],[3,"ngIf"],[1,"ant-steps-item-content"],[1,"ant-steps-item-title"],[4,"nzStringTemplateOutlet"],["class","ant-steps-item-subtitle",4,"ngIf"],[1,"ant-steps-item-description"],[1,"ant-steps-item-tail"],["class","ant-steps-icon",4,"ngIf"],[1,"ant-steps-icon"],["nz-icon","","nzType","check"],["nz-icon","","nzType","close"],["nz-icon","",3,"nzType","ngClass"],["processDotTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-steps-icon-dot"],[1,"ant-steps-item-subtitle"]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.fc("click",function(){return e.onClick()}),r.Kc(1,KG,1,0,"div",1),r.Xb(2,"div",2),r.Kc(3,tY,4,4,"ng-template",3),r.Kc(4,rY,4,6,"ng-template",3),r.Wb(),r.Xb(5,"div",4),r.Xb(6,"div",5),r.Kc(7,oY,2,1,"ng-container",6),r.Kc(8,aY,2,1,"div",7),r.Wb(),r.Xb(9,"div",8),r.Kc(10,cY,2,1,"ng-container",6),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.qc("tabindex",e.clickable&&!e.nzDisabled?0:null),r.Eb("role",e.clickable&&!e.nzDisabled?"button":null),r.Db(1),r.qc("ngIf",!0!==e.last),r.Db(2),r.qc("ngIf",!e.showProcessDot),r.Db(1),r.qc("ngIf",e.showProcessDot),r.Db(3),r.qc("nzStringTemplateOutlet",e.nzTitle),r.Db(1),r.qc("ngIf",e.nzSubtitle),r.Db(2),r.qc("nzStringTemplateOutlet",e.nzDescription))},directives:[i.n,ei,No,i.l,i.s],encapsulation:2,changeDetection:0}),sr([Di(),ar("design:type",Object)],t.prototype,"nzDisabled",void 0),t})(),hY=(()=>{class t{constructor(t,e){this.cdr=t,this.directionality=e,this.nzCurrent=0,this.nzDirection="horizontal",this.nzLabelPlacement="horizontal",this.nzType="default",this.nzSize="default",this.nzStartIndex=0,this.nzStatus="process",this.nzIndexChange=new r.n,this.destroy$=new xe.a,this.showProcessDot=!1,this.classMap={},this.dir="ltr",this.setClassMap()}set nzProgressDot(t){t instanceof r.M?(this.showProcessDot=!0,this.customProcessDotTemplate=t):this.showProcessDot=Oi(t),this.updateChildrenSteps()}ngOnChanges(t){(t.nzStartIndex||t.nzDirection||t.nzStatus||t.nzCurrent)&&this.updateChildrenSteps(),(t.nzDirection||t.nzProgressDot||t.nzLabelPlacement||t.nzSize)&&this.setClassMap()}ngOnInit(){var t;null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t,this.setClassMap(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.setClassMap(),this.updateChildrenSteps()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.indexChangeSubscription&&this.indexChangeSubscription.unsubscribe()}ngAfterContentInit(){this.steps&&this.steps.changes.pipe(Object(Mn.a)(null),An(this.destroy$)).subscribe(()=>{this.updateChildrenSteps()})}updateChildrenSteps(){if(this.steps){const t=this.steps.length;this.steps.toArray().forEach((e,n)=>{Promise.resolve().then(()=>{e.outStatus=this.nzStatus,e.showProcessDot=this.showProcessDot,this.customProcessDotTemplate&&(e.customProcessTemplate=this.customProcessDotTemplate),e.clickable=this.nzIndexChange.observers.length>0,e.direction=this.nzDirection,e.index=n+this.nzStartIndex,e.currentIndex=this.nzCurrent,e.last=t===n+1,e.markForCheck()})}),this.indexChangeSubscription&&this.indexChangeSubscription.unsubscribe(),this.indexChangeSubscription=Object(bl.a)(...this.steps.map(t=>t.click$)).subscribe(t=>this.nzIndexChange.emit(t))}}setClassMap(){this.classMap={[`ant-steps-${this.nzDirection}`]:!0,"ant-steps-label-horizontal":"horizontal"===this.nzDirection,"ant-steps-label-vertical":(this.showProcessDot||"vertical"===this.nzLabelPlacement)&&"horizontal"===this.nzDirection,"ant-steps-dot":this.showProcessDot,"ant-steps-small":"small"===this.nzSize,"ant-steps-navigation":"navigation"===this.nzType,"ant-steps-rtl":"rtl"===this.dir}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h),r.Rb(bn,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-steps"]],contentQueries:function(t,e,n){if(1&t&&r.Kb(n,uY,0),2&t){let t;r.zc(t=r.gc())&&(e.steps=t)}},inputs:{nzCurrent:"nzCurrent",nzDirection:"nzDirection",nzLabelPlacement:"nzLabelPlacement",nzType:"nzType",nzSize:"nzSize",nzStartIndex:"nzStartIndex",nzStatus:"nzStatus",nzProgressDot:"nzProgressDot"},outputs:{nzIndexChange:"nzIndexChange"},exportAs:["nzSteps"],features:[r.Bb],ngContentSelectors:lY,decls:2,vars:1,consts:[[1,"ant-steps",3,"ngClass"]],template:function(t,e){1&t&&(r.pc(),r.Xb(0,"div",0),r.oc(1),r.Wb()),2&t&&r.qc("ngClass",e.classMap)},directives:[i.l],encapsulation:2,changeDetection:0}),t})(),dY=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,Vo,ii]]}),t})();function pY(t,e){if(1&t&&r.Sb(0,"nz-option",23),2&t){const t=e.index;r.qc("nzLabel",e.$implicit.name)("nzValue",t),r.Eb("data-index",t)}}function fY(t,e){if(1&t&&r.Sb(0,"nz-option",23),2&t){const t=e.index;r.qc("nzLabel",e.$implicit.name)("nzValue",t),r.Eb("data-index",t)}}function gY(t,e){1&t&&(r.Xb(0,"span",24),r.Sb(1,"i",25),r.Wb()),2&t&&r.qc("nzTooltipColor","#ff4d4f")("nzTooltipTitle","Revisa la configuraci\xf3n")}function mY(t,e){if(1&t&&(r.Xb(0,"tr",26),r.Xb(1,"td"),r.Mc(2),r.Wb(),r.Wb()),2&t){const t=e.$implicit,n=r.jc();r.qc("nzExpand",n.expandFiles),r.Db(2),r.Nc(t.name)}}const bY=function(t){return{invalid:t}};let yY=(()=>{class t{constructor(t,e,n,i,r){this.backendService=t,this.msg=e,this.route=n,this.router=i,this.changeDetector=r,this.searchValue="",this.tree=[],this.fileList=[],this.loading=!1,this.step=0,this.validConfiguration=!0,this.expandFiles=!1,this.selectedPriority="Media",this.model={},this.jobContext={},this.form=new Yt({}),this.options={},this.myFilter={},this.showSelectedResourceError=!1,this.showSelectedProcessError=!1,this.beforeUpload=t=>(this.fileList=this.fileList.concat(t),!1),this.removeFile=t=>{for(let e=0;e<this.fileList.length;e++)t.uid===this.fileList[e].uid&&this.fileList.splice(e,1)}}ngOnInit(){if(this.tree=this.orgs2nztree(this.route.snapshot.data.organisms.content),this.searchValue="",this.processes=this.route.parent.snapshot.data.processes.content,"process"in history.state&&"jobInputs"in history.state){for(let t=0;t<this.processes.length;t++)this.processes[t].name===history.state.process&&(this.selectedProcess=t);this.model=JSON.parse(JSON.parse(history.state.jobInputs)).parameters,this.loadResource(!1)}}ngAfterViewChecked(){this.changeDetector.detectChanges()}loadResource(t){t&&(this.model={}),this.backendService.getResources(this.processes[this.selectedProcess].id).subscribe(t=>{var e;if(this.resources=t,"resource"in history.state){const t=null===(e=this.resources)||void 0===e?void 0:e.content;for(let e=0;e<t.length;e++)t[e].name===history.state.resource&&(this.selectedResource=e)}},t=>{this.msg.error(t.error),this.loading=!1},()=>{this.searchValue="",this.loading=!1})}getSelectorData(t){let e=[];return Object.keys(t).forEach(n=>{Object.keys(t[n]).forEach(i=>{i.endsWith("_selector")&&(e=e.concat(t[n][i]))})}),e}cleanDataOfModel(t){return Object.keys(t).forEach(e=>{Object.keys(t[e]).forEach(n=>{n.endsWith("_selector")&&delete t[e][n]})}),t}submit(){if(this.form.valid){this.validConfiguration=!0,this.jobContext.resource_id=this.resources.content[this.selectedResource].uuid,this.jobContext.process_id=this.processes[this.selectedProcess].uuid,this.jobContext.credentials=this.resources.content[this.selectedResource].jm_credentials;const t=this.getSelectorData(this.model);this.jobContext.process_params={data:t,parameters:this.cleanDataOfModel(this.model)},alert(JSON.stringify(this.jobContext)),this.backendService.postJobs(this.jobContext).subscribe(t=>{console.log(t),this.router.navigate(["/process/processDetail",t.job.id],{state:{job:t.job,process:{name:this.processes[this.selectedProcess].name,schema_inputs:JSON.stringify(this.processes[this.selectedProcess].schema_inputs)},resource:this.resources.content[this.selectedResource].name}})})}else this.validConfiguration=!1}onIndexChange(t){let e=0;1!==t&&2!==t||(console.log(this.selectedResource),console.log(this.selectedProcess),"{}"!==JSON.stringify(this.selectedProcess)&&"{}"!==JSON.stringify(this.selectedResource)?(this.showSelectedResourceError=!1,this.showSelectedProcessError=!1,e=t):(this.showSelectedProcessError="{}"===JSON.stringify(this.selectedProcess),this.showSelectedResourceError="{}"===JSON.stringify(this.selectedResource))),this.step=e}onExpandChange(t){this.expandFiles=t}orgs2nztree(t){const e=[];let n={};for(const i of t)n={title:i.genus+" "+i.species,key:i.organism_id,children:[]},e.push(n);return e}seqs2nztree(t){const e=[];let n={};for(const i of t)n={title:i.name,key:i.feature_id,isLeaf:!0},e.push(n);return e}nzEvent(t){if(console.log(t),"expand"===t.eventName){const e=t.node;0===(null==e?void 0:e.getChildren().length)&&(null==e?void 0:e.isExpanded)&&this.loadNode(e).then(t=>{e.addChildren(t)})}}loadNode(t){return new Promise(e=>{let n;this.backendService.getSequences(void 0,this.backendService.filter({organism_id:t.key})).subscribe(t=>{n=t.content,this.msg.addIssues(t.issues)},t=>{this.msg.addIssues(t.issues)},()=>{e(this.seqs2nztree(n))})})}importFiles(){this.loading=!0,this.backendService.importSequences(this.fileList).subscribe(t=>{this.msg.addIssues(t.message)},t=>{this.loading=!1,this.msg.addIssues(t.issues)},()=>{this.loading=!1,this.fileList=[]})}handleChange({file:t,fileList:e}){const n=t.status;"uploading"!==n&&console.log(t,e),"done"===n?(this.msg.success(`${t.name} file uploaded successfully.`),this.fileList=e):"error"===n&&this.msg.error(`${t.name} file upload failed.`)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(YP),r.Rb(dm.a),r.Rb(dm.g),r.Rb(r.h))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-process-setup"]],inputs:{fields:"fields"},decls:77,vars:47,consts:[["nzType","navigation","nzStatus","process",3,"nzCurrent","nzIndexChange"],["nzTitle","Programa"],["nzTitle","Configuraci\xf3n"],["nzTitle","Resumen"],[1,"step_content",3,"hidden"],[3,"nzSpan","nzNoColon"],[1,"asterisk"],[3,"nzSpan","ngClass"],["nzPlaceHolder","Seleccionar programa","name","selectedProcess",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzShowSearch","","nzPlaceHolder","Seleccionar recurso c\xf3mputo","name","selectedResource",3,"nzDisabled","ngModel","ngModelChange"],[3,"nzSpan"],["nzPlaceHolder","Seleccionar priorida","name","selectedPriority",3,"nzDisabled","ngModel","ngModelChange"],["nzLabel","Alta","nzValue","Alta"],["nzLabel","Media","nzValue","Media"],["nzLabel","Baja","nzValue","Baja"],[3,"formGroup"],[1,"step_content",3,"hidden","model","fields","options","form"],["nzJustify","center",3,"nzData","nzFrontPagination","ngClass"],["nz-button","",3,"nzType","nzLoading","click"],["nz-tooltip","","nzTooltipPlacement","top",3,"nzTooltipColor","nzTooltipTitle",4,"ngIf"],[3,"nzExpand","nzExpandChange"],[3,"nzExpand",4,"ngFor","ngForOf"],[3,"nzLabel","nzValue"],["nz-tooltip","","nzTooltipPlacement","top",3,"nzTooltipColor","nzTooltipTitle"],["nz-icon","","nzType","close-circle",1,"error_message"],[3,"nzExpand"]],template:function(t,e){1&t&&(r.Xb(0,"nz-steps",0),r.fc("nzIndexChange",function(t){return e.onIndexChange(t)}),r.Sb(1,"nz-step",1),r.Sb(2,"nz-step",2),r.Sb(3,"nz-step",3),r.Wb(),r.Xb(4,"form",4),r.Xb(5,"nz-form-item"),r.Xb(6,"nz-form-label",5),r.Xb(7,"label"),r.Xb(8,"span",6),r.Mc(9,"* "),r.Wb(),r.Mc(10," Programa: "),r.Wb(),r.Wb(),r.Xb(11,"nz-form-control",7),r.Xb(12,"nz-select",8),r.fc("ngModelChange",function(t){return e.selectedProcess=t})("ngModelChange",function(){return e.loadResource(!0)}),r.Kc(13,pY,1,3,"nz-option",9),r.Wb(),r.Wb(),r.Wb(),r.Xb(14,"nz-form-item"),r.Xb(15,"nz-form-label",5),r.Xb(16,"label"),r.Xb(17,"span",6),r.Mc(18,"* "),r.Wb(),r.Mc(19," Recurso c\xf3mputo: "),r.Wb(),r.Wb(),r.Xb(20,"nz-form-control",7),r.Xb(21,"nz-select",10),r.fc("ngModelChange",function(t){return e.selectedResource=t}),r.Kc(22,fY,1,3,"nz-option",9),r.Wb(),r.Wb(),r.Wb(),r.Xb(23,"nz-form-item"),r.Xb(24,"nz-form-label",5),r.Xb(25,"label"),r.Xb(26,"span",6),r.Mc(27,"* "),r.Wb(),r.Mc(28," Prioridad: "),r.Wb(),r.Wb(),r.Xb(29,"nz-form-control",11),r.Xb(30,"nz-select",12),r.fc("ngModelChange",function(t){return e.selectedPriority=t}),r.Sb(31,"nz-option",13),r.Sb(32,"nz-option",14),r.Sb(33,"nz-option",15),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(34,"form",16),r.Sb(35,"formly-form",17),r.Xb(36,"div",4),r.Xb(37,"nz-table",18),r.Xb(38,"thead"),r.Xb(39,"tr"),r.Xb(40,"th"),r.Mc(41,"Par\xe1metros de configuraci\xf3n"),r.Wb(),r.Xb(42,"th"),r.Xb(43,"button",19),r.fc("click",function(){return e.submit()}),r.Mc(44),r.Wb(),r.Kc(45,gY,2,2,"span",20),r.Wb(),r.Wb(),r.Wb(),r.Xb(46,"tbody"),r.Xb(47,"tr"),r.Xb(48,"td"),r.Mc(49,"Programa:"),r.Wb(),r.Xb(50,"td"),r.Mc(51),r.Wb(),r.Wb(),r.Xb(52,"tr"),r.Xb(53,"td"),r.Mc(54,"Versi\xf3n del programa:"),r.Wb(),r.Xb(55,"td"),r.Mc(56),r.Wb(),r.Wb(),r.Xb(57,"tr"),r.Xb(58,"td"),r.Mc(59,"Prioridad de la tarea:"),r.Wb(),r.Xb(60,"td"),r.Mc(61),r.Wb(),r.Wb(),r.Xb(62,"tr"),r.Xb(63,"td"),r.Mc(64,"Lugar de ejecuci\xf3n:"),r.Wb(),r.Xb(65,"td"),r.Mc(66),r.Wb(),r.Wb(),r.Xb(67,"tr"),r.Xb(68,"td"),r.Mc(69,"Secuencias seleccionadas:"),r.Wb(),r.Xb(70,"td"),r.Mc(71),r.Wb(),r.Wb(),r.Xb(72,"tr"),r.Xb(73,"td"),r.Mc(74,"Ficheros seleccionados:"),r.Wb(),r.Xb(75,"td",21),r.fc("nzExpandChange",function(t){return e.onExpandChange(t)}),r.Wb(),r.Wb(),r.Kc(76,mY,3,2,"tr",22),r.Wb(),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.qc("nzCurrent",e.step),r.Db(4),r.qc("hidden",0!=e.step),r.Db(2),r.qc("nzSpan",7)("nzNoColon",!0),r.Db(5),r.qc("nzSpan",12)("ngClass",r.vc(41,bY,e.showSelectedProcessError)),r.Db(1),r.qc("ngModel",e.selectedProcess),r.Db(1),r.qc("ngForOf",e.processes),r.Db(2),r.qc("nzSpan",7)("nzNoColon",!0),r.Db(5),r.qc("nzSpan",12)("ngClass",r.vc(43,bY,e.showSelectedResourceError)),r.Db(1),r.qc("nzDisabled",e.loading)("ngModel",e.selectedResource),r.Db(1),r.qc("ngForOf",null==e.resources?null:e.resources.content),r.Db(2),r.qc("nzSpan",7)("nzNoColon",!0),r.Db(5),r.qc("nzSpan",12),r.Db(1),r.qc("nzDisabled",e.loading)("ngModel",e.selectedPriority),r.Db(4),r.qc("formGroup",e.form),r.Db(1),r.qc("hidden",1!=e.step)("model",e.model)("fields",null==e.processes[e.selectedProcess]?null:e.processes[e.selectedProcess].schema_inputs)("options",e.options)("form",e.form),r.Db(1),r.qc("hidden",2!=e.step),r.Db(1),r.qc("nzData",e.processes)("nzFrontPagination",!1)("ngClass",r.vc(45,bY,!e.validConfiguration)),r.Db(6),r.qc("nzType","primary")("nzLoading",e.loading),r.Db(1),r.Oc(" ",e.loading?"Cargando":"Lanzar tarea"," "),r.Db(1),r.qc("ngIf",!e.validConfiguration&&2==e.step),r.Db(6),r.Nc(null==e.processes[e.selectedProcess]?null:e.processes[e.selectedProcess].name),r.Db(5),r.Nc(e.selectedProcess),r.Db(5),r.Nc(e.selectedPriority),r.Db(5),r.Nc(null==e.resources||null==e.resources.content[e.selectedResource]?null:e.resources.content[e.selectedResource].name),r.Db(5),r.Nc(e.path),r.Db(4),r.qc("nzExpand",e.fileList.length>0),r.Db(1),r.qc("ngForOf",e.fileList))},directives:[hY,uY,re,yt,te,nr,Jd,ir,np,tp,vR,i.l,Gg,bt,ie,i.m,Ug,le,Ge,XW,HW,$W,MW,PW,HL,qL,Rf,i.n,UW,RW,hu,No,GW,NW],styles:[".error_message[_ngcontent-%COMP%]{color:#ff4d4f;font-size:14px;line-height:1.5715;font-family:Roboto}.step_content[_ngcontent-%COMP%]{padding:12px}.step_content[_ngcontent-%COMP%]   nz-table[_ngcontent-%COMP%]{min-width:350px;margin:0 auto}.step_content[_ngcontent-%COMP%]   nz-table[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:10px}.step_content[_ngcontent-%COMP%]   .invalid[_ngcontent-%COMP%]{border:1px solid #ff4d4f}.step_content[_ngcontent-%COMP%]   .asterisk[_ngcontent-%COMP%]{color:rgba(255,77,79,.85);font-family:SimSun,sans-serif}"]}),t})();function vY(t,e){if(1&t&&(r.Xb(0,"button",8),r.Sb(1,"i",9),r.Wb()),2&t){const t=r.jc();r.qc("nzLoading",t.loading)}}const _Y=function(t){return["../processDetail",t]},wY=function(t,e,n){return{job:t,process:e,resource:n}};function zY(t,e){if(1&t){const t=r.Yb();r.Xb(0,"tr"),r.Xb(1,"td"),r.Xb(2,"a",10),r.Xb(3,"span",11),r.Xb(4,"mark"),r.Mc(5),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(6,"td"),r.Mc(7),r.Wb(),r.Xb(8,"td"),r.Mc(9),r.Wb(),r.Xb(10,"td"),r.Mc(11),r.Wb(),r.Xb(12,"td"),r.Mc(13),r.Wb(),r.Xb(14,"div"),r.Xb(15,"ul",12),r.Xb(16,"nz-list-item-action"),r.Xb(17,"a",13),r.Sb(18,"i",14),r.Wb(),r.Wb(),r.Xb(19,"nz-list-item-action"),r.Xb(20,"i",15),r.fc("click",function(){r.Cc(t);const n=e.index,i=r.jc(),o=r.Ac(8);return i.delete(o.data[n])}),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb()}if(2&t){const t=e.$implicit,n=e.index,i=r.jc();r.Db(5),r.Oc("[PROC-",n+1+(i.page-1)*i.page_size,"]"),r.Db(2),r.Nc(t.id),r.Db(2),r.Nc(t.status),r.Db(2),r.Nc(i.jobProcesses.get(t.process_id).name),r.Db(2),r.Nc(i.jobResources.get(t.resource_id)),r.Db(4),r.qc("routerLink",r.vc(7,_Y,t.id))("state",r.xc(9,wY,t,i.jobProcesses.get(t.process_id),i.jobResources.get(t.resource_id)))}}let CY=(()=>{class t{constructor(t,e,n,i){this.backendService=t,this.msg=e,this.socketService=n,this.route=i,this.page=1,this.page_size=10,this.loading=!1,this.data=new Set,this.pageData=[],this.searchValue="",this.jobResources=new Map,this.jobProcesses=new Map}ngOnInit(){this.jobs=new Set(this.route.snapshot.data.jobs.content),this.data=new Set(this.route.snapshot.data.jobs.content);const t=this.route.parent.snapshot.data.processes.content,e=this.route.snapshot.data.resources.content;this.status=this.route.snapshot.queryParams.status;for(const n of e)this.jobResources.set(n.id,n.name);for(const n of t)this.jobProcesses.set(n.id,{name:n.name,schema_inputs:JSON.stringify(n.schema_inputs)});this.initProccessStatusChangeSubscription()}ngOnDestroy(){this.processStatusChangeSubscription&&this.processStatusChangeSubscription.unsubscribe()}initProccessStatusChangeSubscription(){switch(console.log(this.status),this.status){case"todo":this.processStatusChangeSubscription=this.socketService.processStatusChangeSubject.subscribe(t=>{for(const e of this.jobs)if(e.id==t.id){"success"==t.status||"error"==t.status||"cancel"==t.status?this.jobs.delete(e):e.status=t.status;break}});break;case"done":this.processStatusChangeSubscription=this.socketService.processStatusChangeSubject.subscribe(t=>{"success"!=t.status&&"error"!=t.status&&"cancel"!=t.status||this.jobs.add(t)})}}changePage(t){this.page=t}msa2str(t){return JSON.stringify(t)}searchEvent(){this.loading=!0,this.route.queryParams.subscribe(t=>{this.backendService.getProcesses(void 0,{query:this.searchValue,status:this.status}).subscribe(t=>{this.data=new Set(t.content),this.msg.info("Cargando la lista de procesos.")},t=>{this.loading=!1,this.msg.error(t.error.message+"\nNo se pudieron cargar los procesos.")},()=>{this.loading=!1,this.msg.success("Lista de procesos cargada."),this.changePage(1)})})}open(t){this.msg.info("DUMMY: Abriendo el proceso n\xfamero "+t),console.log("DUMMY: Abriendo el proceso n\xfamero "+t)}export(t){this.msg.info("DUMMY: Exportando el proceso n\xfamero "+t),console.log("DUMMY: Exportando el proceso n\xfamero "+t)}delete(t){this.msg.info("DUMMY: Cancelando el proceso n\xfamero "+t),console.log("DUMMY: Cancelando el proceso n\xfamero "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(YP),r.Rb(wL),r.Rb(dm.a))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-processes-browse"]],decls:25,vars:10,consts:[["nzTitle","Procesos lanzados"],[3,"submit"],["nzSearch","",3,"nzAddOnAfter"],["nz-input","","name","searchValue","placeholder","Introduzca los t\xe9rminos de b\xfasqueda",3,"disabled","ngModel","ngModelChange"],["suffixIconButton",""],[3,"nzTitle","nzLoading","nzData","nzPageIndex","nzPageSize","nzTotal","nzPageIndexChange","nzCurrentPageDataChange"],["table",""],[4,"ngFor","ngForOf"],["nz-button","","nzSearch","",3,"nzLoading"],["nz-icon","","nzType","search"],["nzButton","","nzType","link"],["nz-typography",""],["nz-list-item-actions",""],[3,"routerLink","state"],["nz-icon","","nzType","file-search","nzTheme","outline"],["nz-icon","","nzType","stop","nzTheme","outline",3,"click"]],template:function(t,e){if(1&t&&(r.Xb(0,"nz-page-header",0),r.Xb(1,"nz-page-header-content"),r.Xb(2,"form",1),r.fc("submit",function(){return e.searchEvent()}),r.Xb(3,"nz-input-group",2),r.Xb(4,"input",3),r.fc("ngModelChange",function(t){return e.searchValue=t}),r.Wb(),r.Wb(),r.Kc(5,vY,2,1,"ng-template",null,4,r.Lc),r.Wb(),r.Wb(),r.Wb(),r.Xb(7,"nz-table",5,6),r.fc("nzPageIndexChange",function(t){return e.changePage(t)})("nzCurrentPageDataChange",function(t){return e.pageData=t}),r.Xb(9,"thead"),r.Xb(10,"tr"),r.Xb(11,"th"),r.Mc(12,"\xcdndice"),r.Wb(),r.Xb(13,"th"),r.Mc(14,"Nombre"),r.Wb(),r.Xb(15,"th"),r.Mc(16,"Estado"),r.Wb(),r.Xb(17,"th"),r.Mc(18,"Procesos"),r.Wb(),r.Xb(19,"th"),r.Mc(20,"Servidor"),r.Wb(),r.Xb(21,"th"),r.Mc(22,"Acciones"),r.Wb(),r.Wb(),r.Wb(),r.Xb(23,"tbody"),r.Kc(24,zY,21,13,"tr",7),r.Wb(),r.Wb()),2&t){const t=r.Ac(6);r.Db(3),r.qc("nzAddOnAfter",t),r.Db(1),r.qc("disabled",e.loading)("ngModel",e.searchValue),r.Db(3),r.sc("nzTitle","RESULTADO: ",e.jobs.size," procesos."),r.qc("nzLoading",e.loading)("nzData",e.data)("nzPageIndex",e.page)("nzPageSize",e.page_size)("nzTotal",e.data.size),r.Db(17),r.qc("ngForOf",e.jobs)}},directives:[Lj,Mj,re,yt,te,Rf,Gp,Hp,G,bt,ie,XW,HW,$W,MW,PW,UW,i.m,HL,qL,No,Bq,qq,dm.j],styles:[""]}),t})(),SY=(()=>{class t{constructor(t,e){this.http=t,this.state=e,this.baseUrl=e.getParameter("host")+e.getParameter("api_prefix")}downloadJobResult(t,e){void 0!==t&&void 0!==e&&Object(aK.saveAs)(`${this.baseUrl}/files/jobs/${t}/${e}.content`,e)}importJobResult(t,e){const n={filesAPI:`/jobs/${t}/${e.file}`,job_id:t,program:e.subprocess,programversion:"1.0"},i=Object.keys(e.object_type)[0],r=new URL(`${this.baseUrl}/${i}/${e.object_type[i]}/`);return r.search=new URLSearchParams(n).toString(),console.log(r.toString()),new jr({"Access-Control-Allow-Origin":"http://localhost:4200"}),this.http.post(r.toString(),{},this.state.authOptions)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(Jr),r.bc(IP))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const xY=["*"];function OY(t,e){if(1&t&&(r.Vb(0),r.Sb(1,"i",6),r.Ub()),2&t){const t=e.$implicit,n=r.jc(2);r.Db(1),r.qc("nzType",t||"right")("nzRotate",n.nzActive?90:0)}}function kY(t,e){if(1&t&&(r.Vb(0),r.Kc(1,OY,2,2,"ng-container",2),r.Ub()),2&t){const t=r.jc();r.Db(1),r.qc("nzStringTemplateOutlet",t.nzExpandedIcon)}}function TY(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc();r.Db(1),r.Nc(t.nzHeader)}}function EY(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.Nc(t.nzExtra)}}function IY(t,e){if(1&t&&(r.Xb(0,"div",7),r.Kc(1,EY,2,1,"ng-container",2),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("nzStringTemplateOutlet",t.nzExtra)}}let DY=(()=>{class t{constructor(t,e,n,i){this.nzConfigService=t,this.cdr=e,this.elementRef=n,this.directionality=i,this._nzModuleName="collapse",this.nzAccordion=!1,this.nzBordered=!0,this.nzGhost=!1,this.nzExpandIconPosition="left",this.dir="ltr",this.listOfNzCollapsePanelComponent=[],this.destroy$=new xe.a,this.elementRef.nativeElement.classList.add("ant-collapse"),this.nzConfigService.getConfigChangeEventForComponent("collapse").pipe(An(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){var t;null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}addPanel(t){this.listOfNzCollapsePanelComponent.push(t)}removePanel(t){this.listOfNzCollapsePanelComponent.splice(this.listOfNzCollapsePanelComponent.indexOf(t),1)}click(t){this.nzAccordion&&!t.nzActive&&this.listOfNzCollapsePanelComponent.filter(e=>e!==t).forEach(t=>{t.nzActive&&(t.nzActive=!1,t.nzActiveChange.emit(t.nzActive),t.markForCheck())}),t.nzActive=!t.nzActive,t.nzActiveChange.emit(t.nzActive)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Do),r.Rb(r.h),r.Rb(r.l),r.Rb(bn,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-collapse"]],hostVars:10,hostBindings:function(t,e){2&t&&r.Jb("ant-collapse-icon-position-left","left"===e.nzExpandIconPosition)("ant-collapse-icon-position-right","right"===e.nzExpandIconPosition)("ant-collapse-ghost",e.nzGhost)("ant-collapse-borderless",!e.nzBordered)("ant-collapse-rtl","rtl"===e.dir)},inputs:{nzAccordion:"nzAccordion",nzBordered:"nzBordered",nzGhost:"nzGhost",nzExpandIconPosition:"nzExpandIconPosition"},exportAs:["nzCollapse"],ngContentSelectors:xY,decls:1,vars:0,template:function(t,e){1&t&&(r.pc(),r.oc(0))},encapsulation:2,changeDetection:0}),sr([Mo(),Di(),ar("design:type",Boolean)],t.prototype,"nzAccordion",void 0),sr([Mo(),Di(),ar("design:type",Boolean)],t.prototype,"nzBordered",void 0),sr([Mo(),Di(),ar("design:type",Boolean)],t.prototype,"nzGhost",void 0),t})(),MY=(()=>{class t{constructor(t,e,n,i,o){this.nzConfigService=t,this.cdr=e,this.nzCollapseComponent=n,this.elementRef=i,this.noAnimation=o,this._nzModuleName="collapsePanel",this.nzActive=!1,this.nzDisabled=!1,this.nzShowArrow=!0,this.nzActiveChange=new r.n,this.destroy$=new xe.a,this.elementRef.nativeElement.classList.add("ant-collapse-item"),this.nzConfigService.getConfigChangeEventForComponent("collapsePanel").pipe(An(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}clickHeader(){this.nzDisabled||this.nzCollapseComponent.click(this)}markForCheck(){this.cdr.markForCheck()}ngOnInit(){this.nzCollapseComponent.addPanel(this)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.nzCollapseComponent.removePanel(this)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Do),r.Rb(r.h),r.Rb(DY,1),r.Rb(r.l),r.Rb(Ec,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-collapse-panel"]],hostVars:6,hostBindings:function(t,e){2&t&&r.Jb("ant-collapse-no-arrow",!e.nzShowArrow)("ant-collapse-item-active",e.nzActive)("ant-collapse-item-disabled",e.nzDisabled)},inputs:{nzActive:"nzActive",nzDisabled:"nzDisabled",nzShowArrow:"nzShowArrow",nzExtra:"nzExtra",nzHeader:"nzHeader",nzExpandedIcon:"nzExpandedIcon"},outputs:{nzActiveChange:"nzActiveChange"},exportAs:["nzCollapsePanel"],ngContentSelectors:xY,decls:7,vars:8,consts:[["role","tab",1,"ant-collapse-header",3,"click"],[4,"ngIf"],[4,"nzStringTemplateOutlet"],["class","ant-collapse-extra",4,"ngIf"],[1,"ant-collapse-content"],[1,"ant-collapse-content-box"],["nz-icon","",1,"ant-collapse-arrow",3,"nzType","nzRotate"],[1,"ant-collapse-extra"]],template:function(t,e){1&t&&(r.pc(),r.Xb(0,"div",0),r.fc("click",function(){return e.clickHeader()}),r.Kc(1,kY,2,1,"ng-container",1),r.Kc(2,TY,2,1,"ng-container",2),r.Kc(3,IY,2,1,"div",3),r.Wb(),r.Xb(4,"div",4),r.Xb(5,"div",5),r.oc(6),r.Wb(),r.Wb()),2&t&&(r.Eb("aria-expanded",e.nzActive),r.Db(1),r.qc("ngIf",e.nzShowArrow),r.Db(1),r.qc("nzStringTemplateOutlet",e.nzHeader),r.Db(1),r.qc("ngIf",e.nzExtra),r.Db(1),r.Jb("ant-collapse-content-active",e.nzActive),r.qc("@.disabled",null==e.noAnimation?null:e.noAnimation.nzNoAnimation)("@collapseMotion",e.nzActive?"expanded":"hidden"))},directives:[i.n,ei,No],encapsulation:2,data:{animation:[rs]},changeDetection:0}),sr([Di(),ar("design:type",Object)],t.prototype,"nzActive",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzDisabled",void 0),sr([Mo(),Di(),ar("design:type",Boolean)],t.prototype,"nzShowArrow",void 0),t})(),RY=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,Vo,ii,Ic]]}),t})();function AY(t,e){1&t&&(r.Xb(0,"button",9),r.Sb(1,"i",10),r.Mc(2,"Cancelar"),r.Wb())}function PY(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div"),r.Xb(1,"div",13),r.Xb(2,"p",14),r.Mc(3),r.Wb(),r.Xb(4,"button",15),r.fc("click",function(){r.Cc(t);const n=e.$implicit;return r.jc(3).downloadFile(n.file)}),r.Sb(5,"i",16),r.Mc(6,"Descargar"),r.Wb(),r.Xb(7,"button",17),r.fc("click",function(){r.Cc(t);const n=e.$implicit;return r.jc(3).import(n)}),r.Sb(8,"i",18),r.Mc(9,"Importar"),r.Wb(),r.Xb(10,"button",19),r.Sb(11,"i",20),r.Mc(12,"Visualizar"),r.Wb(),r.Wb(),r.Wb()}if(2&t){const t=e.$implicit,n=r.jc(3);r.Db(3),r.Oc("",t.file,":"),r.Db(4),r.qc("nzLoading",n.isImporting)}}function LY(t,e){if(1&t&&(r.Xb(0,"nz-collapse-panel",11),r.Kc(1,PY,13,2,"div",12),r.Wb()),2&t){const t=e.$implicit;r.qc("nzHeader",t.name),r.Db(1),r.qc("ngForOf",t.outputs)}}function FY(t,e){if(1&t&&(r.Xb(0,"div",4),r.Xb(1,"h3"),r.Mc(2,"Ficheros:"),r.Wb(),r.Xb(3,"nz-collapse"),r.Kc(4,LY,2,2,"nz-collapse-panel",6),r.Wb(),r.Wb()),2&t){const t=r.jc();r.Db(4),r.qc("ngForOf",t.subprocesses)}}function jY(t,e){if(1&t&&(r.Xb(0,"nz-collapse-panel",11),r.Xb(1,"form",21),r.Sb(2,"formly-form",22),r.Wb(),r.Wb()),2&t){const t=e.$implicit,n=r.jc();r.qc("nzHeader",t.name),r.Db(1),r.qc("formGroup",n.form),r.Db(1),r.qc("model",t.formlyModel)("fields",t.schemaInputs)}}const NY=function(t,e,n){return{process:t,resource:e,jobInputs:n}};let VY=(()=>{class t{constructor(t,e,n,i){this.filesService=t,this.socketService=e,this.notificationService=n,this.msg=i,this.isImporting=!1}ngOnInit(){this.job=history.state.job,this.process=history.state.process,this.process.schema_inputs=JSON.parse(this.process.schema_inputs),this.resource=history.state.resource,this.subprocesses=[],this.form=new Yt({}),this.changeProgressStatus(this.job.status);const t=JSON.parse(JSON.parse(this.job.inputs));let e;for(const n of this.process.schema_inputs){for(const t of n.fieldGroup)t.templateOptions.disabled=!0;e=[];for(const t of JSON.parse(this.job.outputs)){const i=JSON.parse(t);i.subprocess===n.key&&e.push(i)}this.subprocesses.push({schemaInputs:[n],formlyModel:t.parameters,name:n.key,outputs:e})}this.processStatusChangeSubscription=this.socketService.processStatusChangeSubject.subscribe(t=>{this.job.id===t.id&&this.changeProgressStatus(t.status)})}changeProgressStatus(e){this.step_description=t.STEPS_DESC[e],"error"===e?(this.progressPercentage=100,this.progressStatus="exception"):"success"===e?(this.progressPercentage=100,this.progressStatus="success"):(this.progressPercentage=(t.STEPS.indexOf(e)+1)/t.STEPS.length*100,this.progressStatus="normal")}ngOnDestroy(){this.processStatusChangeSubscription.unsubscribe()}progressFormat(e){return 100===e?"Finished":Math.round(e/100*t.STEPS.length).toString()+" / "+t.STEPS.length}downloadFile(t){this.filesService.downloadJobResult(this.job.id,t)}import(t){this.isImporting=!0,this.filesService.importJobResult(this.job.id,t).subscribe(e=>{this.isImporting=!1,this.msg.info(`Importando ${t.file} como ${t.object_type.toString()}`)},e=>{this.isImporting=!1,this.msg.error(e.error.message+`\nError al importar ${t.file} como ${t.object_type.toString()}`),this.notificationService.createNotificationWithType("error","Error",`${t.file} not imported correctly`,"bottomRight")},()=>{this.isImporting=!1,this.msg.success(`${t.file} importado correctamente como ${t.object_type.toString()}`),this.notificationService.createNotificationWithType("success","Success",`${t.file} imported correctly`,"bottomRight")})}}return t.STEPS=["preparing_workspace","export","transfer_data_to_resource","submit","wait_until_execution_starts","wait_for_execution_end","transfer_data_from_resource","store_result_in_backend","cleanup","success"],t.STEPS_DESC={preparing_workspace:"Preparing remote server workspace",export:"Exporting data input from the database",transfer_data_to_resource:"Transferring data to remote server",submit:"Submit the process to the remote server",wait_until_execution_starts:"Wait for the server to execute the submitted process",wait_for_execution_end:"Wait for the server to finish the execution of the submitted process",transfer_data_from_resource:"Collecting results of the process from the remote server",store_result_in_backend:"Storing the results in the database",cleanup:"Cleaning up remote server workspace",success:"Success",error:"Error"},t.\u0275fac=function(e){return new(e||t)(r.Rb(SY),r.Rb(wL),r.Rb(_L),r.Rb(YP))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-process-detail"]],decls:23,vars:15,consts:[[3,"nzTitle"],["nz-button","","nzType","primary","nzSize","large","routerLink","../../processSetup",3,"state"],["nz-icon","","nzType","reload"],["nz-button","","nzType","primary","nzDanger","","nzSize","large",4,"ngIf"],[1,"section"],["class","section",4,"ngIf"],[3,"nzHeader",4,"ngFor","ngForOf"],[1,"progress","section"],["nzType","circle",3,"nzPercent","nzFormat","nzStatus"],["nz-button","","nzType","primary","nzDanger","","nzSize","large"],["nz-icon","","nzType","close-circle"],[3,"nzHeader"],[4,"ngFor","ngForOf"],[1,"output-file"],[1,"file-name"],["nz-button","","nzType","primary","nzSize","small",1,"button",3,"click"],["nz-icon","","nzType","download"],["nz-button","","nzType","primary","nzSize","small",1,"button",3,"nzLoading","click"],["nz-icon","","nzType","upload"],["nz-button","","nzType","primary","nzSize","small",1,"button"],["nz-icon","","nzType","eye"],[3,"formGroup"],[3,"model","fields"]],template:function(t,e){1&t&&(r.Xb(0,"nz-page-header",0),r.Xb(1,"nz-page-header-extra"),r.Xb(2,"button",1),r.Sb(3,"i",2),r.Mc(4,"Relanzar"),r.Wb(),r.Kc(5,AY,3,0,"button",3),r.Wb(),r.Wb(),r.Xb(6,"nz-card"),r.Xb(7,"div",4),r.Xb(8,"h3"),r.Mc(9,"Recurso - Tipo de recurso: "),r.Wb(),r.Xb(10,"p"),r.Mc(11),r.Wb(),r.Wb(),r.Kc(12,FY,5,1,"div",5),r.Xb(13,"div",4),r.Xb(14,"h3"),r.Mc(15,"Par\xe1metros de los subprocesos"),r.Wb(),r.Xb(16,"nz-collapse"),r.Kc(17,jY,3,4,"nz-collapse-panel",6),r.Wb(),r.Wb(),r.Xb(18,"div",7),r.Sb(19,"nz-progress",8),r.Wb(),r.Xb(20,"div"),r.Xb(21,"h3"),r.Mc(22),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.tc("nzTitle","Proceso ",e.job.id," - ",e.process.name,""),r.Db(2),r.qc("state",r.xc(11,NY,e.process.name,e.resource,e.job.inputs)),r.Db(3),r.qc("ngIf","success"!=e.progressStatus&&"error"!=e.progressStatus),r.Db(6),r.Nc(e.resource),r.Db(1),r.qc("ngIf","success"===e.progressStatus),r.Db(5),r.qc("ngForOf",e.subprocesses),r.Db(2),r.qc("nzPercent",e.progressPercentage)("nzFormat",e.progressFormat)("nzStatus",e.progressStatus),r.Db(3),r.Oc("Status: ",e.step_description,""))},directives:[Lj,Rj,HL,qL,Rf,dm.h,No,i.n,DX,DY,i.m,T$,MY,re,yt,le,Ge],styles:[".section[_ngcontent-%COMP%]{margin-bottom:1em}.section[_ngcontent-%COMP%]   .output-file[_ngcontent-%COMP%]{display:flex}.section[_ngcontent-%COMP%]   .output-file[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{flex:1;max-width:200px}.section[_ngcontent-%COMP%]   .output-file[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{margin-right:.5em;max-width:150px;flex:1}.progress[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:2em}"]}),t})();var WY=function(){function t(t){this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.propagationStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}(),qY=function(){function t(){this.disposed=!1}return t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}();function BY(t,e){return t>e?1:t<e?-1:0}function XY(t,e){return t.indexOf(e)>=0}function UY(t,e,n){var i=t.length;if(t[0]<=e)return 0;if(e<=t[i-1])return i-1;var r=void 0;if(n>0){for(r=1;r<i;++r)if(t[r]<e)return r-1}else if(n<0){for(r=1;r<i;++r)if(t[r]<=e)return r}else for(r=1;r<i;++r){if(t[r]==e)return r;if(t[r]<e)return t[r-1]-e<e-t[r]?r-1:r}return i-1}function $Y(t,e,n){for(;e<n;){var i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function HY(t,e){for(var n=Array.isArray(e)?e:[e],i=n.length,r=0;r<i;r++)t[t.length]=n[r]}function KY(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function GY(){return!0}function YY(){return!1}function QY(){}var JY="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1,r=arguments.length;i<r;++i){var o=arguments[i];if(null!=o)for(var s in o)o.hasOwnProperty(s)&&(n[s]=o[s])}return n};function ZY(t){for(var e in t)delete t[e]}var tQ="function"==typeof Object.values?Object.values:function(t){var e=[];for(var n in t)e.push(t[n]);return e};function eQ(t){var e;for(e in t)return!1;return!e}var nQ,iQ=(nQ=function(t,e){return(nQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}nQ(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),rQ=function(t){function e(e){var n=t.call(this)||this;return n.eventTarget_=e,n.pendingRemovals_=null,n.dispatching_=null,n.listeners_=null,n}return iQ(e,t),e.prototype.addEventListener=function(t,e){if(t&&e){var n=this.listeners_||(this.listeners_={}),i=n[t]||(n[t]=[]);-1===i.indexOf(e)&&i.push(e)}},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new WY(t):t,n=e.type;e.target||(e.target=this.eventTarget_||this);var i,r=this.listeners_&&this.listeners_[n];if(r){var o=this.dispatching_||(this.dispatching_={}),s=this.pendingRemovals_||(this.pendingRemovals_={});n in o||(o[n]=0,s[n]=0),++o[n];for(var a=0,c=r.length;a<c;++a)if(!1===(i="handleEvent"in r[a]?r[a].handleEvent(e):r[a].call(this,e))||e.propagationStopped){i=!1;break}if(--o[n],0===o[n]){var l=s[n];for(delete s[n];l--;)this.removeEventListener(n,QY);delete o[n]}return i}},e.prototype.disposeInternal=function(){this.listeners_&&ZY(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},e.prototype.hasListener=function(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)},e.prototype.removeEventListener=function(t,e){var n=this.listeners_&&this.listeners_[t];if(n){var i=n.indexOf(e);-1!==i&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[i]=QY,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t]))}},e}(qY);function oQ(t,e,n,i,r){if(i&&i!==t&&(n=n.bind(i)),r){var o=n;n=function(){t.removeEventListener(e,n),o.apply(this,arguments)}}var s={target:t,type:e,listener:n};return t.addEventListener(e,n),s}function sQ(t,e,n,i){return oQ(t,e,n,i,!0)}function aQ(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),ZY(t))}var cQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),lQ=function(t){function e(){var e=t.call(this)||this;return e.revision_=0,e}return cQ(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent("change")},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=oQ(this,t[r],e);return i}return oQ(this,t,e)},e.prototype.once=function(t,e){var n;if(Array.isArray(t)){var i=t.length;n=new Array(i);for(var r=0;r<i;++r)n[r]=sQ(this,t[r],e)}else n=sQ(this,t,e);return e.ol_key=n,n},e.prototype.un=function(t,e){var n=e.ol_key;if(n)!function(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)aQ(t[e]);else aQ(t)}(n);else if(Array.isArray(t))for(var i=0,r=t.length;i<r;++i)this.removeEventListener(t[i],e);else this.removeEventListener(t,e)},e}(rQ);function uQ(){return function(){throw new Error("Unimplemented abstract method.")}()}var hQ=0;function dQ(t){return t.ol_uid||(t.ol_uid=String(++hQ))}var pQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fQ=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.key=n,r.oldValue=i,r}return pQ(e,t),e}(WY),gQ=function(t){function e(e){var n=t.call(this)||this;return dQ(n),n.values_=null,void 0!==e&&n.setProperties(e),n}return pQ(e,t),e.prototype.get=function(t){var e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&JY({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(t,e){var n;n=bQ(t),this.dispatchEvent(new fQ(n,t,e)),this.dispatchEvent(new fQ(n="propertychange",t,e))},e.prototype.set=function(t,e,n){var i=this.values_||(this.values_={});if(n)i[t]=e;else{var r=i[t];i[t]=e,r!==e&&this.notify(t,r)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.applyProperties=function(t){t.values_&&JY(this.values_||(this.values_={}),t.values_)},e.prototype.unset=function(t,e){if(this.values_&&t in this.values_){var n=this.values_[t];delete this.values_[t],eQ(this.values_)&&(this.values_=null),e||this.notify(t,n)}},e}(lQ),mQ={};function bQ(t){return mQ.hasOwnProperty(t)?mQ[t]:mQ[t]="change:"+t}var yQ=gQ,vQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_Q=function(t){function e(e){var n=this,i="Assertion failed. See https://openlayers.org/en/v"+"6.5.0".split("-")[0]+"/doc/errors/#"+e+" for details.";return(n=t.call(this,i)||this).code=e,n.name="AssertionError",n.message=i,n}return vQ(e,t),e}(Error);function wQ(t,e){if(!t)throw new _Q(e)}function zQ(t,e,n){return Math.min(Math.max(t,e),n)}var CQ="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2},SQ="log2"in Math?Math.log2:function(t){return Math.log(t)*Math.LOG2E};function xQ(t,e,n,i,r,o){var s=r-n,a=o-i;if(0!==s||0!==a){var c=((t-n)*s+(e-i)*a)/(s*s+a*a);c>1?(n=r,i=o):c>0&&(n+=s*c,i+=a*c)}return OQ(t,e,n,i)}function OQ(t,e,n,i){var r=n-t,o=i-e;return r*r+o*o}function kQ(t){return t*Math.PI/180}function TQ(t,e){var n=t%e;return n*e<0?n+e:n}function EQ(t,e,n){return t+n*(e-t)}var IQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),DQ=function(t){function e(e){var n=t.call(this)||this,i=JY({},e);return i.opacity=void 0!==e.opacity?e.opacity:1,wQ("number"==typeof i.opacity,64),i.visible=void 0===e.visible||e.visible,i.zIndex=e.zIndex,i.maxResolution=void 0!==e.maxResolution?e.maxResolution:1/0,i.minResolution=void 0!==e.minResolution?e.minResolution:0,i.minZoom=void 0!==e.minZoom?e.minZoom:-1/0,i.maxZoom=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==i.className?e.className:"ol-layer",delete i.className,n.setProperties(i),n.state_=null,n}return IQ(e,t),e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=zQ(Math.round(100*this.getOpacity())/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n?n:!1===e.managed?1/0:0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},e.prototype.getLayersArray=function(t){return uQ()},e.prototype.getLayerStatesArray=function(t){return uQ()},e.prototype.getExtent=function(){return this.get("extent")},e.prototype.getMaxResolution=function(){return this.get("maxResolution")},e.prototype.getMinResolution=function(){return this.get("minResolution")},e.prototype.getMinZoom=function(){return this.get("minZoom")},e.prototype.getMaxZoom=function(){return this.get("maxZoom")},e.prototype.getOpacity=function(){return this.get("opacity")},e.prototype.getSourceState=function(){return uQ()},e.prototype.getVisible=function(){return this.get("visible")},e.prototype.getZIndex=function(){return this.get("zIndex")},e.prototype.setExtent=function(t){this.set("extent",t)},e.prototype.setMaxResolution=function(t){this.set("maxResolution",t)},e.prototype.setMinResolution=function(t){this.set("minResolution",t)},e.prototype.setMaxZoom=function(t){this.set("maxZoom",t)},e.prototype.setMinZoom=function(t){this.set("minZoom",t)},e.prototype.setOpacity=function(t){wQ("number"==typeof t,64),this.set("opacity",t)},e.prototype.setVisible=function(t){this.set("visible",t)},e.prototype.setZIndex=function(t){this.set("zIndex",t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},e}(yQ),MQ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function RQ(t,e){if(!t.visible)return!1;var n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;var i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}var AQ=function(t){function e(e){var n=this,i=JY({},e);return delete i.source,(n=t.call(this,i)||this).mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),n.addEventListener(bQ("source"),n.handleSourcePropertyChange_),n.setSource(e.source?e.source:null),n}return MQ(e,t),e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get("source")||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():"undefined"},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(aQ(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=oQ(t,"change",this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_.getFeatures(t)},e.prototype.render=function(t,e){var n=this.getRenderer();if(n.prepareFrame(t))return n.renderFrame(t,e)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(aQ(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(aQ(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=oQ(t,"precompose",function(t){var e=t.frameState.layerStatesArray,n=this.getLayerState(!1);wQ(!e.some(function(t){return t.layer===n.layer}),67),e.push(n)},this),this.mapRenderKey_=oQ(this,"change",t.render,t),this.changed())},e.prototype.setSource=function(t){this.set("source",t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.setSource(null),t.prototype.disposeInternal.call(this)},e}(DQ),PQ=n("JaUx"),LQ=n.n(PQ);function FQ(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]+2*e,n[1]=t[1]+2*e,n}function jQ(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function NQ(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}var VQ=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=NQ(t.scale),this.displacement_=t.displacement}return t.prototype.clone=function(){var e=this.getScale();return new t({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getAnchor=function(){return uQ()},t.prototype.getImage=function(t){return uQ()},t.prototype.getHitDetectionImage=function(){return uQ()},t.prototype.getPixelRatio=function(t){return 1},t.prototype.getImageState=function(){return uQ()},t.prototype.getImageSize=function(){return uQ()},t.prototype.getHitDetectionImageSize=function(){return uQ()},t.prototype.getOrigin=function(){return uQ()},t.prototype.getSize=function(){return uQ()},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=NQ(t)},t.prototype.listenImageChange=function(t){uQ()},t.prototype.load=function(){uQ()},t.prototype.unlistenImageChange=function(t){uQ()},t}(),WQ=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,qQ=/^([a-z]*)$|^hsla?\(.*\)$/i;function BQ(t){return"string"==typeof t?t:GQ(t)}var XQ,UQ,$Q=(XQ={},UQ=0,function(t){var e;if(XQ.hasOwnProperty(t))e=XQ[t];else{if(UQ>=1024){var n=0;for(var i in XQ)0==(3&n++)&&(delete XQ[i],--UQ)}e=function(t){var e,n,i,r,o;if(qQ.exec(t)&&(t=function(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}(t)),WQ.exec(t)){var s,a=t.length-1;s=a<=4?1:2;var c=4===a||8===a;e=parseInt(t.substr(1+0*s,s),16),n=parseInt(t.substr(1+1*s,s),16),i=parseInt(t.substr(1+2*s,s),16),r=c?parseInt(t.substr(1+3*s,s),16):255,1==s&&(e=(e<<4)+e,n=(n<<4)+n,i=(i<<4)+i,c&&(r=(r<<4)+r)),o=[e,n,i,r/255]}else 0==t.indexOf("rgba(")?KQ(o=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((o=t.slice(4,-1).split(",").map(Number)).push(1),KQ(o)):wQ(!1,14);return o}(t),XQ[t]=e,++UQ}return e});function HQ(t){return Array.isArray(t)?t:$Q(t)}function KQ(t){return t[0]=zQ(t[0]+.5|0,0,255),t[1]=zQ(t[1]+.5|0,0,255),t[2]=zQ(t[2]+.5|0,0,255),t[3]=zQ(t[3],0,1),t}function GQ(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var i=t[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+n+","+i+","+(void 0===t[3]?1:t[3])+")"}function YQ(t){return Array.isArray(t)?GQ(t):t}var QQ="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",JQ=-1!==QQ.indexOf("firefox"),ZQ=(-1!==QQ.indexOf("safari")&&QQ.indexOf("chrom"),-1!==QQ.indexOf("webkit")&&-1==QQ.indexOf("edge")),tJ=-1!==QQ.indexOf("macintosh"),eJ="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,nJ="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,iJ="undefined"!=typeof Image&&Image.prototype.decode,rJ=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(n){}return t}();function oJ(t,e,n){var i=n&&n.length?n.shift():nJ?new OffscreenCanvas(t||300,e||300):document.createElement("canvas");return t&&(i.width=t),e&&(i.height=e),i.getContext("2d")}function sJ(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+(parseInt(n.marginLeft,10)+parseInt(n.marginRight,10))}function aJ(t){var e=t.offsetHeight,n=getComputedStyle(t);return e+(parseInt(n.marginTop,10)+parseInt(n.marginBottom,10))}function cJ(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function lJ(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function uJ(t){for(;t.lastChild;)t.removeChild(t.lastChild)}var hJ=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),dJ=["style","variant","weight","size","lineHeight","family"],pJ=function(t){var e=t.match(hJ);if(!e)return null;for(var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},i=0,r=dJ.length;i<r;++i){var o=e[i+1];void 0!==o&&(n[dJ[i]]=o)}return n.families=n.family.split(/,\s?/),n};function fJ(t,e){var n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function gJ(t,e,n,i,r,o,s,a){var c=Math.sin(o),l=Math.cos(o);return t[0]=i*l,t[1]=r*c,t[2]=-i*c,t[3]=r*l,t[4]=s*i*l-a*i*c+e,t[5]=s*r*c+a*r*l+n,t}function mJ(t,e){var n,i=(n=e)[0]*n[3]-n[1]*n[2];wQ(0!==i,32);var r=e[0],o=e[1],s=e[2],a=e[3],c=e[4],l=e[5];return t[0]=a/i,t[1]=-o/i,t[2]=-s/i,t[3]=r/i,t[4]=(s*l-a*c)/i,t[5]=-(r*l-o*c)/i,t}function bJ(t){return"matrix("+t.join(", ")+")"}new Array(6);var yJ=[],vJ=[0,0,0,0],_J=new yQ;(new rQ).setSize=function(){console.warn("labelCache is deprecated.")};var wJ,zJ,CJ=null,SJ={},xJ=function(){var t,e,n=["monospace","serif"],i=n.length,r="wmytzilWMYTZIL@#/&?$%10\uf013";function o(t,o,s){for(var a=!0,c=0;c<i;++c){var l=n[c];if(e=kJ(t+" "+o+" 32px "+l,r),s!=l){var u=kJ(t+" "+o+" 32px "+s+","+l,r);a=a&&u!=e}}return!!a}function s(){for(var e=!0,n=_J.getKeys(),i=0,r=n.length;i<r;++i){var s=n[i];_J.get(s)<100&&(o.apply(this,s.split("\n"))?(ZY(SJ),CJ=null,wJ=void 0,_J.set(s,100)):(_J.set(s,_J.get(s)+1,!0),e=!1))}e&&(clearInterval(t),t=void 0)}return function(e){var n=pJ(e);if(n)for(var i=n.families,r=0,a=i.length;r<a;++r){var c=i[r],l=n.style+"\n"+n.weight+"\n"+c;void 0===_J.get(l)&&(_J.set(l,100,!0),o(n.style,n.weight,c)||(_J.set(l,0,!0),void 0===t&&(t=setInterval(s,32))))}}}();function OJ(t,e){return CJ||(CJ=oJ(1,1)),t!=wJ&&(CJ.font=t,wJ=CJ.font),CJ.measureText(e)}function kJ(t,e){return OJ(t,e).width}function TJ(t,e,n){if(e in n)return n[e];var i=kJ(t,e);return n[e]=i,i}function EJ(t,e,n,i){0!==e&&(t.translate(n,i),t.rotate(e),t.translate(-n,-i))}var IJ=null,DJ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),MJ=function(t){function e(e){var n=this;return(n=t.call(this,{opacity:1,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0]})||this).canvas_={},n.hitDetectionCanvas_=null,n.fill_=void 0!==e.fill?e.fill:null,n.origin_=[0,0],n.points_=e.points,n.radius_=void 0!==e.radius?e.radius:e.radius1,n.radius2_=e.radius2,n.angle_=void 0!==e.angle?e.angle:0,n.stroke_=void 0!==e.stroke?e.stroke:null,n.anchor_=null,n.size_=null,n.imageSize_=null,n.hitDetectionImageSize_=null,n.render(),n}return DJ(e,t),e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionCanvas_){var t=this.createRenderOptions();this.createHitDetectionCanvas_(t)}return this.hitDetectionCanvas_},e.prototype.getImage=function(t){if(!this.canvas_[t||1]){var e=this.createRenderOptions(),n=oJ(e.size*t||1,e.size*t||1);this.draw_(e,n,0,0,t||1),this.canvas_[t||1]=n.canvas}return this.canvas_[t||1]},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return 2},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.createRenderOptions=function(){var t,e="round",n="round",i=0,r=null,o=0,s=0;return this.stroke_&&(null===(t=this.stroke_.getColor())&&(t="#000"),t=YQ(t),void 0===(s=this.stroke_.getWidth())&&(s=1),r=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),void 0===(n=this.stroke_.getLineJoin())&&(n="round"),void 0===(e=this.stroke_.getLineCap())&&(e="round"),void 0===(i=this.stroke_.getMiterLimit())&&(i=10)),{strokeStyle:t,strokeWidth:s,size:2*(this.radius_+s)+1,lineCap:e,lineDash:r,lineDashOffset:o,lineJoin:n,miterLimit:i}},e.prototype.render=function(){var t=this.createRenderOptions(),e=oJ(t.size,t.size);this.draw_(t,e,0,0,1),this.canvas_={},this.canvas_[1]=e.canvas;var n=e.canvas.width,i=n,r=this.getDisplacement();this.hitDetectionImageSize_=[t.size,t.size],this.createHitDetectionCanvas_(t),this.anchor_=[n/2-r[0],n/2+r[1]],this.size_=[n,n],this.imageSize_=[i,i]},e.prototype.draw_=function(t,e,n,i,r){var o,s,a;e.setTransform(r,0,0,r,0,0),e.translate(n,i),e.beginPath();var c=this.points_;if(c===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var l=void 0!==this.radius2_?this.radius2_:this.radius_;for(l!==this.radius_&&(c*=2),o=0;o<=c;o++)s=2*o*Math.PI/c-Math.PI/2+this.angle_,e.lineTo(t.size/2+(a=o%2==0?this.radius_:l)*Math.cos(s),t.size/2+a*Math.sin(s))}if(this.fill_){var u=this.fill_.getColor();null===u&&(u="#000"),e.fillStyle=YQ(u),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionCanvas_=this.getImage(1),this.fill_){var e=this.fill_.getColor(),n=0;if("string"==typeof e&&(e=HQ(e)),null===e?n=1:Array.isArray(e)&&(n=4===e.length?e[3]:1),0===n){var i=oJ(t.size,t.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(t,i,0,0)}}},e.prototype.drawHitDetectionCanvas_=function(t,e,n,i){e.translate(n,i),e.beginPath();var r=this.points_;if(r===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var o=void 0!==this.radius2_?this.radius2_:this.radius_;o!==this.radius_&&(r*=2);var s=void 0,a=void 0,c=void 0;for(s=0;s<=r;s++)c=2*s*Math.PI/r-Math.PI/2+this.angle_,e.lineTo(t.size/2+(a=s%2==0?this.radius_:o)*Math.cos(c),t.size/2+a*Math.sin(c))}e.fillStyle="#000",e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e}(VQ),RJ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),AJ=function(t){function e(e){var n=e||{};return t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,scale:void 0!==n.scale?n.scale:1,rotation:void 0!==n.rotation?n.rotation:0,rotateWithView:void 0!==n.rotateWithView&&n.rotateWithView,displacement:void 0!==n.displacement?n.displacement:[0,0]})||this}return RJ(e,t),e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(MJ),PJ=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}(),LJ=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}(),FJ=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=WJ,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=WJ,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}(),jJ=null;function NJ(t,e){if(!jJ){var n=new PJ({color:"rgba(255,255,255,0.4)"}),i=new LJ({color:"#3399CC",width:1.25});jJ=[new FJ({image:new AJ({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return jJ}function VJ(){var t={},e=[255,255,255,1],n=[0,153,255,1];return t.Polygon=[new FJ({fill:new PJ({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new FJ({stroke:new LJ({color:e,width:5})}),new FJ({stroke:new LJ({color:n,width:3})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new FJ({image:new AJ({radius:6,fill:new PJ({color:n}),stroke:new LJ({color:e,width:1.5})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function WJ(t){return t.getGeometry()}var qJ=FJ,BJ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),XJ=function(t){function e(e){var n=this,i=e||{},r=JY({},i);return delete r.style,delete r.renderBuffer,delete r.updateWhileAnimating,delete r.updateWhileInteracting,(n=t.call(this,r)||this).declutter_=void 0!==i.declutter&&i.declutter,n.renderBuffer_=void 0!==i.renderBuffer?i.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(i.style),n.updateWhileAnimating_=void 0!==i.updateWhileAnimating&&i.updateWhileAnimating,n.updateWhileInteracting_=void 0!==i.updateWhileInteracting&&i.updateWhileInteracting,n}return BJ(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get("renderOrder")},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new LQ.a(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set("renderOrder",t)},e.prototype.setStyle=function(t){var e,n,i;this.style_=void 0!==t?t:NJ,this.styleFunction_=null===t?void 0:("function"==typeof(e=this.style_)?n=e:(Array.isArray(e)?i=e:(wQ("function"==typeof e.getZIndex,41),i=[e]),n=function(){return i}),n),this.changed()},e}(AQ),UJ={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},$J=[UJ.FILL],HJ=[UJ.STROKE],KJ=[UJ.BEGIN_PATH],GJ=[UJ.CLOSE_PATH],YJ=UJ,QJ=function(){function t(){}return t.prototype.drawCustom=function(t,e,n){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}();function JJ(t){for(var e=[1/0,1/0,-1/0,-1/0],n=0,i=t.length;n<i;++n)dZ(e,t[n]);return e}function ZJ(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function tZ(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function eZ(t,e,n){var i,r;return(i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*i+(r=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*r}function nZ(t,e){return rZ(t,e[0],e[1])}function iZ(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function rZ(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function oZ(t,e){var n=e[0],i=e[1],r=0;return n<t[0]?r|=16:n>t[2]&&(r|=4),i<t[1]?r|=8:i>t[3]&&(r|=2),0===r&&(r=1),r}function sZ(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]}function aZ(t){return sZ(1/0,1/0,-1/0,-1/0,t)}function cZ(t,e){var n=t[0],i=t[1];return sZ(n,i,n,i,e)}function lZ(t,e,n,i,r){return pZ(aZ(r),t,e,n,i)}function uZ(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function hZ(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function dZ(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function pZ(t,e,n,i,r){for(;n<i;n+=r)fZ(t,e[n],e[n+1]);return t}function fZ(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function gZ(t,e){var n;return(n=e(bZ(t)))||(n=e(yZ(t)))||(n=e(xZ(t)))?n:(n=e(SZ(t)))||!1}function mZ(t){var e=0;return TZ(t)||(e=OZ(t)*zZ(t)),e}function bZ(t){return[t[0],t[1]]}function yZ(t){return[t[2],t[1]]}function vZ(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function _Z(t,e){var n;return"bottom-left"===e?n=bZ(t):"bottom-right"===e?n=yZ(t):"top-left"===e?n=SZ(t):"top-right"===e?n=xZ(t):wQ(!1,13),n}function wZ(t,e,n,i,r){var o=e*i[0]/2,s=e*i[1]/2,a=Math.cos(n),c=Math.sin(n),l=o*a,u=o*c,h=s*a,d=s*c,p=t[0],f=t[1],g=p-l+d,m=p-l-d,b=p+l-d,y=p+l+d,v=f-u-h,_=f-u+h,w=f+u+h,z=f+u-h;return sZ(Math.min(g,m,b,y),Math.min(v,_,w,z),Math.max(g,m,b,y),Math.max(v,_,w,z),r)}function zZ(t){return t[3]-t[1]}function CZ(t,e,n){var i=n||[1/0,1/0,-1/0,-1/0];return kZ(t,e)?(i[0]=t[0]>e[0]?t[0]:e[0],i[1]=t[1]>e[1]?t[1]:e[1],i[2]=t[2]<e[2]?t[2]:e[2],i[3]=t[3]<e[3]?t[3]:e[3]):aZ(i),i}function SZ(t){return[t[0],t[3]]}function xZ(t){return[t[2],t[3]]}function OZ(t){return t[2]-t[0]}function kZ(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function TZ(t){return t[2]<t[0]||t[3]<t[1]}function EZ(t,e,n,i,r){for(var o=void 0!==r?r:[],s=0,a=e;a<n;a+=i)o[s++]=t.slice(a,a+i);return o.length=s,o}function IZ(t,e,n,i,r){for(var o=void 0!==r?r:[],s=0,a=0,c=n.length;a<c;++a){var l=n[a];o[s++]=EZ(t,e,l,i,o[s]),e=l}return o.length=s,o}function DZ(t,e,n,i,r){for(var o=void 0!==r?r:[],s=0,a=0,c=n.length;a<c;++a){var l=n[a];o[s++]=IZ(t,e,l,i,o[s]),e=l[l.length-1]}return o.length=s,o}var MZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),RZ=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.tolerance=e,o.maxExtent=n,o.pixelRatio=r,o.maxLineWidth=0,o.resolution=i,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return MZ(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},e.prototype.appendFlatPointCoordinates=function(t,e){for(var n=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,r=this.coordinates,o=r.length,s=0,a=t.length;s<a;s+=e)i[0]=t[s],i[1]=t[s+1],nZ(n,i)&&(r[o++]=i[0],r[o++]=i[1]);return o},e.prototype.appendFlatLineCoordinates=function(t,e,n,i,r,o){var s=this.coordinates,a=s.length,c=this.getBufferedMaxExtent();o&&(e+=i);var l,u,h,d=t[e],p=t[e+1],f=this.tmpCoordinate_,g=!0;for(l=e+i;l<n;l+=i)f[0]=t[l],f[1]=t[l+1],(h=oZ(c,f))!==u?(g&&(s[a++]=d,s[a++]=p,g=!1),s[a++]=f[0],s[a++]=f[1]):1===h?(s[a++]=f[0],s[a++]=f[1],g=!1):g=!0,d=f[0],p=f[1],u=h;return(r&&g||l===e+i)&&(s[a++]=d,s[a++]=p),a},e.prototype.drawCustomCoordinates_=function(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o],c=this.appendFlatLineCoordinates(t,e,a,i,!1,!1);r.push(c),e=a}return e},e.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var i,r,o,s,a,c=t.getType(),l=t.getStride(),u=this.coordinates.length;if("MultiPolygon"==c){i=t.getOrientedFlatCoordinates(),s=[];var h=t.getEndss();a=0;for(var d=0,p=h.length;d<p;++d){var f=[];a=this.drawCustomCoordinates_(i,a,h[d],l,f),s.push(f)}this.instructions.push([YJ.CUSTOM,u,s,t,n,DZ])}else"Polygon"==c||"MultiLineString"==c?(o=[],i="Polygon"==c?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),a=this.drawCustomCoordinates_(i,0,t.getEnds(),l,o),this.instructions.push([YJ.CUSTOM,u,o,t,n,IZ])):"LineString"==c||"Circle"==c?(i=t.getFlatCoordinates(),r=this.appendFlatLineCoordinates(i,0,i.length,l,!1,!1),this.instructions.push([YJ.CUSTOM,u,r,t,n,EZ])):"MultiPoint"==c?(i=t.getFlatCoordinates(),(r=this.appendFlatPointCoordinates(i,l))>u&&this.instructions.push([YJ.CUSTOM,u,r,t,n,EZ])):"Point"==c&&(i=t.getFlatCoordinates(),this.coordinates.push(i[0],i[1]),this.instructions.push([YJ.CUSTOM,u,r=this.coordinates.length,t,n]));this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[YJ.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[YJ.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,i,r=e.length,o=-1;for(t=0;t<r;++t)(i=(n=e[t])[0])==YJ.END_GEOMETRY?o=t:i==YJ.BEGIN_GEOMETRY&&(n[2]=t,$Y(this.hitDetectionInstructions,o,t),o=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var i=t.getColor();n.fillStyle=YQ(i||"#000")}else n.fillStyle=void 0;if(e){var r=e.getColor();n.strokeStyle=YQ(r||"#000");var o=e.getLineCap();n.lineCap=void 0!==o?o:"round";var s=e.getLineDash();n.lineDash=s?s.slice():yJ;var a=e.getLineDashOffset();n.lineDashOffset=a||0;var c=e.getLineJoin();n.lineJoin=void 0!==c?c:"round";var l=e.getWidth();n.lineWidth=void 0!==l?l:1;var u=e.getMiterLimit();n.miterLimit=void 0!==u?u:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,n=[YJ.SET_FILL_STYLE,e];return"string"!=typeof e&&n.push(!0),n},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[YJ.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var n=t.fillStyle;"string"==typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,i=t.lineCap,r=t.lineDash,o=t.lineDashOffset,s=t.lineJoin,a=t.lineWidth,c=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=i||r!=t.currentLineDash&&!KY(t.currentLineDash,r)||t.currentLineDashOffset!=o||t.currentLineJoin!=s||t.currentLineWidth!=a||t.currentMiterLimit!=c)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=i,t.currentLineDash=r,t.currentLineDashOffset=o,t.currentLineJoin=s,t.currentLineWidth=a,t.currentMiterLimit=c)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[YJ.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){return this.bufferedMaxExtent_||(this.bufferedMaxExtent_=tZ(this.maxExtent),this.maxLineWidth>0&&ZJ(this.bufferedMaxExtent_,this.resolution*(this.maxLineWidth+1)/2,this.bufferedMaxExtent_)),this.bufferedMaxExtent_},e}(QJ),AZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),PZ=function(t){function e(e,n,i,r){var o=t.call(this,e,n,i,r)||this;return o.hitDetectionImage_=null,o.image_=null,o.imagePixelRatio_=void 0,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o.declutterImageWithText_=void 0,o}return AZ(e,t),e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),r=this.coordinates.length,o=this.appendFlatPointCoordinates(n,i);this.instructions.push([YJ.DRAW_IMAGE,r,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([YJ.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),r=this.coordinates.length,o=this.appendFlatPointCoordinates(n,i);this.instructions.push([YJ.DRAW_IMAGE,r,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([YJ.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),i=t.getSize(),r=t.getHitDetectionImage(),o=t.getImage(this.pixelRatio),s=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=r,this.image_=o,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=i[0],this.declutterImageWithText_=e},e}(RZ),LZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),FZ=function(t){function e(e,n,i,r){return t.call(this,e,n,i,r)||this}return LZ(e,t),e.prototype.drawFlatCoordinates_=function(t,e,n,i){var r=this.coordinates.length,o=this.appendFlatLineCoordinates(t,e,n,i,!1,!1),s=[YJ.MOVE_TO_LINE_TO,r,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),n},e.prototype.drawLineString=function(t,e){var n=this.state;if(void 0!==n.strokeStyle&&void 0!==n.lineWidth){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([YJ.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],KJ);var i=t.getFlatCoordinates(),r=t.getStride();this.drawFlatCoordinates_(i,0,i.length,r),this.hitDetectionInstructions.push(HJ),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state;if(void 0!==n.strokeStyle&&void 0!==n.lineWidth){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([YJ.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],KJ);for(var i=t.getEnds(),r=t.getFlatCoordinates(),o=t.getStride(),s=0,a=0,c=i.length;a<c;++a)s=this.drawFlatCoordinates_(r,s,i[a],o);this.hitDetectionInstructions.push(HJ),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(HJ),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(HJ),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(KJ)},e}(RZ);function jZ(t,e,n,i,r,o,s){var a=(n-e)/i;if(a<3){for(;e<n;e+=i)o[s++]=t[e],o[s++]=t[e+1];return s}var c=new Array(a);c[0]=1,c[a-1]=1;for(var l=[e,n-i],u=0;l.length>0;){for(var h=l.pop(),d=l.pop(),p=0,f=t[d],g=t[d+1],m=t[h],b=t[h+1],y=d+i;y<h;y+=i){var v=xQ(t[y],t[y+1],f,g,m,b);v>p&&(u=y,p=v)}p>r&&(c[(u-e)/i]=1,d+i<u&&l.push(d,u),u+i<h&&l.push(u,h))}for(y=0;y<a;++y)c[y]&&(o[s++]=t[e+y*i],o[s++]=t[e+y*i+1]);return s}function NZ(t,e){return e*Math.round(t/e)}function VZ(t,e,n,i,r,o,s){if(e==n)return s;var a,c,l=NZ(t[e],r),u=NZ(t[e+1],r);e+=i,o[s++]=l,o[s++]=u;do{if(a=NZ(t[e],r),c=NZ(t[e+1],r),(e+=i)==n)return o[s++]=a,o[s++]=c,s}while(a==l&&c==u);for(;e<n;){var h=NZ(t[e],r),d=NZ(t[e+1],r);if(e+=i,h!=a||d!=c){var p=a-l,f=c-u,g=h-l,m=d-u;p*m==f*g&&(p<0&&g<p||p==g||p>0&&g>p)&&(f<0&&m<f||f==m||f>0&&m>f)?(a=h,c=d):(o[s++]=a,o[s++]=c,l=a,u=c,a=h,c=d)}}return o[s++]=a,o[s++]=c,s}function WZ(t,e,n,i,r,o,s,a){for(var c=0,l=n.length;c<l;++c){var u=n[c];s=VZ(t,e,u,i,r,o,s),a.push(s),e=u}return s}var qZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),BZ=function(t){function e(e,n,i,r){return t.call(this,e,n,i,r)||this}return qZ(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,n,i){var r=this.state,o=void 0!==r.fillStyle,s=void 0!==r.strokeStyle,a=n.length;this.instructions.push(KJ),this.hitDetectionInstructions.push(KJ);for(var c=0;c<a;++c){var l=n[c],u=this.coordinates.length,h=this.appendFlatLineCoordinates(t,e,l,i,!0,!s),d=[YJ.MOVE_TO_LINE_TO,u,h];this.instructions.push(d),this.hitDetectionInstructions.push(d),s&&(this.instructions.push(GJ),this.hitDetectionInstructions.push(GJ)),e=l}return o&&(this.instructions.push($J),this.hitDetectionInstructions.push($J)),s&&(this.instructions.push(HJ),this.hitDetectionInstructions.push(HJ)),e},e.prototype.drawCircle=function(t,e){var n=this.state;if(void 0!==n.fillStyle||void 0!==n.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([YJ.SET_FILL_STYLE,"#000"]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([YJ.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var i=t.getFlatCoordinates(),r=t.getStride(),o=this.coordinates.length;this.appendFlatLineCoordinates(i,0,i.length,r,!1,!1);var s=[YJ.CIRCLE,o];this.instructions.push(KJ,s),this.hitDetectionInstructions.push(KJ,s),void 0!==n.fillStyle&&(this.instructions.push($J),this.hitDetectionInstructions.push($J)),void 0!==n.strokeStyle&&(this.instructions.push(HJ),this.hitDetectionInstructions.push(HJ)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var n=this.state;if(void 0!==n.fillStyle||void 0!==n.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([YJ.SET_FILL_STYLE,"#000"]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([YJ.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var i=t.getEnds(),r=t.getOrientedFlatCoordinates(),o=t.getStride();this.drawFlatCoordinatess_(r,0,i,o),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state;if(void 0!==n.fillStyle||void 0!==n.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([YJ.SET_FILL_STYLE,"#000"]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([YJ.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var i=t.getEndss(),r=t.getOrientedFlatCoordinates(),o=t.getStride(),s=0,a=0,c=i.length;a<c;++a)s=this.drawFlatCoordinatess_(r,s,i[a],o);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var n=this.coordinates,i=0,r=n.length;i<r;++i)n[i]=NZ(n[i],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(RZ);function XZ(t,e,n,i,r){var o,s,a,c,l,u,h,d,p,f=n,g=n,m=0,b=0,y=n;for(o=n;o<i;o+=r){var v=e[o],_=e[o+1];void 0!==c&&(d=v-c,p=_-l,a=Math.sqrt(d*d+p*p),void 0!==u&&(b+=s,Math.acos((u*d+h*p)/(s*a))>t&&(b>m&&(m=b,f=y,g=o),b=0,y=o-r)),s=a,u=d,h=p),c=v,l=_}return(b+=a)>m?[y,o]:[f,g]}var UZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$Z={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},HZ={Circle:BZ,Default:RZ,Image:PZ,LineString:FZ,Polygon:BZ,Text:function(t){function e(e,n,i,r){var o=t.call(this,e,n,i,r)||this;return o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",o.declutterImageWithText_=void 0,o}return UZ(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var n=this.textState_;if(""!==this.text_&&n&&(this.textFillState_||this.textStrokeState_)){var i=this.coordinates,r=i.length,o=t.getType(),s=null,a=t.getStride();if("line"!==n.placement||"LineString"!=o&&"MultiLineString"!=o&&"Polygon"!=o&&"MultiPolygon"!=o){var c=n.overflow?null:[];switch(o){case"Point":case"MultiPoint":s=t.getFlatCoordinates();break;case"LineString":s=t.getFlatMidpoint();break;case"Circle":s=t.getCenter();break;case"MultiLineString":s=t.getFlatMidpoints(),a=2;break;case"Polygon":s=t.getFlatInteriorPoint(),n.overflow||c.push(s[2]/this.resolution),a=3;break;case"MultiPolygon":var l=t.getFlatInteriorPoints();for(s=[],v=0,_=l.length;v<_;v+=3)n.overflow||c.push(l[v+2]/this.resolution),s.push(l[v],l[v+1]);if(0===s.length)return;a=2}if((k=this.appendFlatPointCoordinates(s,a))===r)return;this.saveTextStates_(),(n.backgroundFill||n.backgroundStroke)&&(this.setFillStrokeStyle(n.backgroundFill,n.backgroundStroke),n.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),n.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var u=n.padding;if(u!=vJ&&(n.scale[0]<0||n.scale[1]<0)){var h=n.padding[0],d=n.padding[1],p=n.padding[2],f=n.padding[3];n.scale[0]<0&&(d=-d,f=-f),n.scale[1]<0&&(h=-h,p=-p),u=[h,d,p,f]}var g=this.pixelRatio;this.instructions.push([YJ.DRAW_IMAGE,r,k,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,u==vJ?vJ:u.map(function(t){return t*g}),!!n.backgroundFill,!!n.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]);var m=1/g;this.hitDetectionInstructions.push([YJ.DRAW_IMAGE,r,k,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[m,m],NaN,this.declutterImageWithText_,u,!!n.backgroundFill,!!n.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]),this.endGeometry(e)}else{if(!kZ(this.getBufferedMaxExtent(),t.getExtent()))return;var b=void 0;if(s=t.getFlatCoordinates(),"LineString"==o)b=[s.length];else if("MultiLineString"==o)b=t.getEnds();else if("Polygon"==o)b=t.getEnds().slice(0,1);else if("MultiPolygon"==o){var y=t.getEndss();b=[];for(var v=0,_=y.length;v<_;++v)b.push(y[v][0])}this.beginGeometry(t,e);for(var w=n.textAlign,z=0,C=void 0,S=0,x=b.length;S<x;++S){if(null==w){var O=XZ(n.maxAngle,s,z,b[S],a);z=O[0],C=O[1]}else C=b[S];for(v=z;v<C;v+=a)i.push(s[v],s[v+1]);var k;z=b[S],this.drawChars_(r,k=i.length),r=k}this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,i=this.strokeKey_;t&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var r=this.textKey_;r in this.textStates||(this.textStates[r]={font:e.font,textAlign:e.textAlign||"center",textBaseline:e.textBaseline||"middle",scale:e.scale});var o=this.fillKey_;n&&(o in this.fillStates||(this.fillStates[o]={fillStyle:n.fillStyle}))},e.prototype.drawChars_=function(t,e){var n=this.textStrokeState_,i=this.textState_,r=this.strokeKey_,o=this.textKey_,s=this.fillKey_;this.saveTextStates_();var a=this.pixelRatio,c=$Z[i.textBaseline],l=this.textOffsetY_*a,u=this.text_,h=n?n.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([YJ.DRAW_CHARS,t,e,c,i.overflow,s,i.maxAngle,a,l,r,h*a,u,o,1]),this.hitDetectionInstructions.push([YJ.DRAW_CHARS,t,e,c,i.overflow,s,i.maxAngle,1,l,r,h,u,o,1/a])},e.prototype.setTextStyle=function(t,e){var n,i,r;if(t){var o=t.getFill();o?((i=this.textFillState_)||(this.textFillState_=i={}),i.fillStyle=YQ(o.getColor()||"#000")):this.textFillState_=i=null;var s=t.getStroke();if(s){(r=this.textStrokeState_)||(this.textStrokeState_=r={});var a=s.getLineDash(),c=s.getLineDashOffset(),l=s.getWidth(),u=s.getMiterLimit();r.lineCap=s.getLineCap()||"round",r.lineDash=a?a.slice():yJ,r.lineDashOffset=void 0===c?0:c,r.lineJoin=s.getLineJoin()||"round",r.lineWidth=void 0===l?1:l,r.miterLimit=void 0===u?10:u,r.strokeStyle=YQ(s.getColor()||"#000")}else this.textStrokeState_=r=null;n=this.textState_;var h=t.getFont()||"10px sans-serif";xJ(h);var d=t.getScaleArray();n.overflow=t.getOverflow(),n.font=h,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||"middle",n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||vJ,n.scale=void 0===d?[1,1]:d;var p=t.getOffsetX(),f=t.getOffsetY(),g=t.getRotateWithView(),m=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===p?0:p,this.textOffsetY_=void 0===f?0:f,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0===m?0:m,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:dQ(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.textBaseline||"?"),this.fillKey_=i?"string"==typeof i.fillStyle?i.fillStyle:"|"+dQ(i.fillStyle):""}else this.text_="";this.declutterImageWithText_=e},e}(RZ)},KZ=function(){function t(t,e,n,i){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=i,this.resolution_=n,this.buildersByZIndex_={}}return t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var n=this.buildersByZIndex_[e];for(var i in n){var r=n[i].finish();t[e][i]=r}}return t},t.prototype.getBuilder=function(t,e){var n=void 0!==t?t.toString():"0",i=this.buildersByZIndex_[n];void 0===i&&(this.buildersByZIndex_[n]=i={});var r=i[e];return void 0===r&&(r=new(0,HZ[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[e]=r),r},t}(),GZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),YZ=function(t){function e(e){var n=t.call(this)||this;return n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=e,n.declutterExecutorGroup=null,n}return GZ(e,t),e.prototype.getFeatures=function(t){return uQ()},e.prototype.prepareFrame=function(t){return uQ()},e.prototype.renderFrame=function(t,e){return uQ()},e.prototype.loadedTileCallback=function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n},e.prototype.createLoadedTileFinder=function(t,e,n){return(function(i,r){var o=this.loadedTileCallback.bind(this,n,i);return t.forEachLoadedTile(e,i,r,o)}).bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r){},e.prototype.getDataAtPixel=function(t,e,n){return uQ()},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){2===t.target.getState()&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return 2!=e&&3!=e&&t.addEventListener("change",this.boundHandleImageChange_),0==e&&(t.load(),e=t.getState()),2==e},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&"ready"==t.getSourceState()&&t.changed()},e}(lQ),QZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),JZ=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o.inversePixelTransform=n,o.frameState=i,o.context=r,o}return QZ(e,t),e}(WY),ZZ=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),t1=function(t){function e(e){var n=t.call(this,e)||this;return n.container=null,n.tempTransform=[1,0,0,1,0,0],n.pixelTransform=[1,0,0,1,0,0],n.inversePixelTransform=[1,0,0,1,0,0],n.context=null,n.containerReused=!1,n}return ZZ(e,t),e.prototype.useContainer=function(t,e,n){var i,r,o=this.getLayer().getClassName();if(t&&""===t.style.opacity&&t.className===o&&(s=t.firstElementChild)instanceof HTMLCanvasElement&&(r=s.getContext("2d")),!r||0!==r.canvas.width&&r.canvas.style.transform!==e?this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1):(this.container=t,this.context=r,this.containerReused=!0),!this.container){(i=document.createElement("div")).className=o;var s,a=i.style;a.position="absolute",a.width="100%",a.height="100%",r=oJ(),i.appendChild(s=r.canvas),(a=s.style).position="absolute",a.left="0",a.transformOrigin="top left",this.container=i,this.context=r}},e.prototype.clip=function(t,e,n){var i=e.pixelRatio,r=e.size[0]*i/2,o=e.size[1]*i/2,s=e.viewState.rotation,a=SZ(n),c=xZ(n),l=yZ(n),u=bZ(n);fJ(e.coordinateToPixelTransform,a),fJ(e.coordinateToPixelTransform,c),fJ(e.coordinateToPixelTransform,l),fJ(e.coordinateToPixelTransform,u),t.save(),EJ(t,-s,r,o),t.beginPath(),t.moveTo(a[0]*i,a[1]*i),t.lineTo(c[0]*i,c[1]*i),t.lineTo(l[0]*i,l[1]*i),t.lineTo(u[0]*i,u[1]*i),t.clip(),EJ(t,s,r,o)},e.prototype.clipUnrotated=function(t,e,n){var i=SZ(n),r=xZ(n),o=yZ(n),s=bZ(n);fJ(e.coordinateToPixelTransform,i),fJ(e.coordinateToPixelTransform,r),fJ(e.coordinateToPixelTransform,o),fJ(e.coordinateToPixelTransform,s);var a=this.inversePixelTransform;fJ(a,i),fJ(a,r),fJ(a,o),fJ(a,s),t.save(),t.beginPath(),t.moveTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,n){var i=this.getLayer();if(i.hasListener(t)){var r=new JZ(t,this.inversePixelTransform,n,e);i.dispatchEvent(r)}},e.prototype.preRender=function(t,e){this.dispatchRenderEvent_("prerender",t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_("postrender",t,e)},e.prototype.getRenderTransform=function(t,e,n,i,r,o,s){var a=i/e;return gJ(this.tempTransform,r/2,o/2,a,-a,-n,-t[0]+s,-t[1])},e.prototype.getDataAtPixel=function(t,e,n){var i,r=fJ(this.inversePixelTransform,t.slice()),o=this.context,s=this.getLayer().getExtent();if(s&&!nZ(s,fJ(e.pixelToCoordinateTransform,t.slice())))return null;try{var a=Math.round(r[0]),c=Math.round(r[1]),l=document.createElement("canvas"),u=l.getContext("2d");l.width=1,l.height=1,u.clearRect(0,0,1,1),u.drawImage(o.canvas,a,c,1,1,0,0,1,1),i=u.getImageData(0,0,1,1).data}catch(h){return"SecurityError"===h.name?new Uint8Array:i}return 0===i[3]?null:i},e}(YZ);function e1(t,e,n,i,r,o){for(var s=o||[],a=0,c=e;c<n;c+=i){var l=t[c],u=t[c+1];s[a++]=r[0]*l+r[2]*u+r[4],s[a++]=r[1]*l+r[3]*u+r[5]}return o&&s.length!=a&&(s.length=a),s}function n1(t,e,n,i,r,o,s){for(var a=s||[],c=Math.cos(r),l=Math.sin(r),u=o[0],h=o[1],d=0,p=e;p<n;p+=i){var f=t[p]-u,g=t[p+1]-h;a[d++]=u+f*c-g*l,a[d++]=h+f*l+g*c;for(var m=p+2;m<p+i;++m)a[d++]=t[m]}return s&&a.length!=d&&(a.length=d),a}function i1(t,e,n,i,r,o,s){for(var a=s||[],c=0,l=e;l<n;l+=i){a[c++]=t[l]+r,a[c++]=t[l+1]+o;for(var u=l+2;u<l+i;++u)a[c++]=t[u]}return s&&a.length!=c&&(a.length=c),a}function r1(t,e,n,i,r,o,s,a,c,l,u,h){var d=t[e],p=t[e+1],f=0,g=0,m=0,b=0;function y(){f=d,g=p,d=t[e+=i],p=t[e+1],b+=m,m=Math.sqrt((d-f)*(d-f)+(p-g)*(p-g))}do{y()}while(e<n-i&&b+m<o);for(var v=(o-b)/m,_=EQ(f,d,v),w=EQ(g,p,v),z=e-i,C=b,S=o+a*c(l,r,u);e<n-i&&b+m<S;)y();var x,O=EQ(f,d,v=(S-b)/m),k=EQ(g,p,v);if(h){var T=[_,w,O,k];n1(T,0,4,2,h,T,T),x=T[0]>T[2]}else x=_>O;var E,I=Math.PI,D=[],M=z+i===e;if(m=0,b=C,d=t[e=z],p=t[e+1],M){y();var R=Math.atan2(p-g,d-f);return x&&(R+=R>0?-I:I),D[0]=[q=(O+_)/2,B=(k+w)/2,(S-o)/2,R,r],D}for(var A=0,P=r.length;A<P;){y();var L=Math.atan2(p-g,d-f);if(x&&(L+=L>0?-I:I),void 0!==E){var F=L-E;if(F+=F>I?-2*I:F<-I?2*I:0,Math.abs(F)>s)return null}E=L;for(var j=A,N=0;A<P;++A){var V=a*c(l,r[x?P-A-1:A],u);if(e+i<n&&b+m<o+N+V/2)break;N+=V}if(A!==j){var W=x?r.substring(P-j,P-A):r.substring(j,A),q=EQ(f,d,v=(o+N/2-b)/m),B=EQ(g,p,v);D.push([q,B,N/2,L,W]),o+=N}}return D}function o1(t,e,n,i){for(var r=t[e],o=t[e+1],s=0,a=e+i;a<n;a+=i){var c=t[a],l=t[a+1];s+=Math.sqrt((c-r)*(c-r)+(l-o)*(l-o)),r=c,o=l}return s}var s1=[1/0,1/0,-1/0,-1/0],a1=[],c1=[],l1=[],u1=[];function h1(t){return t[3].declutterBox}var d1=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function p1(t,e){return"start"!==e&&"end"!==e||d1.test(t)||(e="start"===e?"left":"right"),$Z[e]}var f1=function(){function t(t,e,n,i,r){this.overlaps=n,this.pixelRatio=e,this.resolution=t,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderBuffer_=r,this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(t,e,n,i){var r=t+e+n+i;if(this.labels_[r])return this.labels_[r];var o=i?this.strokeStates[i]:null,s=n?this.fillStates[n]:null,a=this.textStates[e],c=this.pixelRatio,l=[a.scale[0]*c,a.scale[1]*c],u=p1(t,a.textAlign||"center"),h=i&&o.lineWidth?o.lineWidth:0,d=t.split("\n"),p=d.length,f=[],g=function(t,e,n){for(var i=e.length,r=0,o=0;o<i;++o){var s=kJ(t,e[o]);r=Math.max(r,s),n.push(s)}return r}(a.font,d,f),m=function(t){var e=SJ[t];if(null==e){if(nJ){var n=pJ(t),i=OJ(t,"\u017dg");e=(isNaN(Number(n.lineHeight))?1.2:Number(n.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else zJ||((zJ=document.createElement("div")).innerHTML="M",zJ.style.margin="0 !important",zJ.style.padding="0 !important",zJ.style.position="absolute !important",zJ.style.left="-99999px !important"),zJ.style.font=t,document.body.appendChild(zJ),e=zJ.offsetHeight,document.body.removeChild(zJ);SJ[t]=e}return e}(a.font),b=g+h,y=[],v=(b+2)*l[0],_=(m*p+h)*l[1],w={width:v<0?Math.floor(v):Math.ceil(v),height:_<0?Math.floor(_):Math.ceil(_),contextInstructions:y};1==l[0]&&1==l[1]||y.push("scale",l),y.push("font",a.font),i&&(y.push("strokeStyle",o.strokeStyle),y.push("lineWidth",h),y.push("lineCap",o.lineCap),y.push("lineJoin",o.lineJoin),y.push("miterLimit",o.miterLimit),(nJ?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(y.push("setLineDash",[o.lineDash]),y.push("lineDashOffset",o.lineDashOffset))),n&&y.push("fillStyle",s.fillStyle),y.push("textBaseline","middle"),y.push("textAlign","center");var z,C=.5-u,S=u*b+C*h;if(i)for(z=0;z<p;++z)y.push("strokeText",[d[z],S+C*f[z],.5*(h+m)+z*m]);if(n)for(z=0;z<p;++z)y.push("fillText",[d[z],S+C*f[z],.5*(h+m)+z*m]);return this.labels_[r]=w,w},t.prototype.replayTextBackground_=function(t,e,n,i,r,o,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())},t.prototype.calculateImageOrLabelDimensions_=function(t,e,n,i,r,o,s,a,c,l,u,h,d,p,f,g){var m,b=n-(s*=h[0]),y=i-(a*=h[1]),v=r+c>t?t-c:r,_=o+l>e?e-l:o,w=p[3]+v*h[0]+p[1],z=p[0]+_*h[1]+p[2],C=b-p[3],S=y-p[0];return(f||0!==u)&&(a1[0]=C,u1[0]=C,a1[1]=S,c1[1]=S,c1[0]=C+w,l1[0]=c1[0],l1[1]=S+z,u1[1]=l1[1]),0!==u?(fJ(m=gJ([1,0,0,1,0,0],n,i,1,1,u,-n,-i),a1),fJ(m,c1),fJ(m,l1),fJ(m,u1),sZ(Math.min(a1[0],c1[0],l1[0],u1[0]),Math.min(a1[1],c1[1],l1[1],u1[1]),Math.max(a1[0],c1[0],l1[0],u1[0]),Math.max(a1[1],c1[1],l1[1],u1[1]),s1)):sZ(Math.min(C,C+w),Math.min(S,S+z),Math.max(C,C+w),Math.max(S,S+z),s1),d&&(b=Math.round(b),y=Math.round(y)),{drawImageX:b,drawImageY:y,drawImageW:v,drawImageH:_,originX:c,originY:l,declutterBox:{minX:s1[0],minY:s1[1],maxX:s1[2],maxY:s1[3],value:g},canvasTransform:m,scale:h}},t.prototype.replayImageOrLabel_=function(t,e,n,i,r,o,s){var a=i.declutterBox,c=t.canvas,l=s?s[2]*i.scale[0]/2:0;return a.minX-l<=c.width/e&&a.maxX+l>=0&&a.minY-l<=c.height/e&&a.maxY+l>=0&&(!(!o&&!s)&&this.replayTextBackground_(t,a1,c1,l1,u1,o,s),function(t,e,n,i,r,o,s,a,c,l,u){t.save(),1!==n&&(t.globalAlpha*=n),e&&t.setTransform.apply(t,e),i.contextInstructions?(t.translate(c,l),t.scale(u[0],u[1]),function(t,e){for(var n=t.contextInstructions,i=0,r=n.length;i<r;i+=2)Array.isArray(n[i+1])?e[n[i]].apply(e,n[i+1]):e[n[i]]=n[i+1]}(i,t)):u[0]<0||u[1]<0?(t.translate(c,l),t.scale(u[0],u[1]),t.drawImage(i,r,o,s,a,0,0,s,a)):t.drawImage(i,r,o,s,a,c,l,s*u[0],a*u[1]),t.restore()}(t,i.canvasTransform,r,n,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0},t.prototype.fill_=function(t){if(this.alignFill_){var e=fJ(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},t.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},t.prototype.drawLabelWithPointPlacement_=function(t,e,n,i){var r=this.textStates[e],o=this.createLabel(t,e,i,n),s=this.strokeStates[n],a=this.pixelRatio,c=p1(t,r.textAlign||"center"),l=$Z[r.textBaseline||"middle"],u=s&&s.lineWidth?s.lineWidth:0;return{label:o,anchorX:c*(o.width/a-2*r.scale[0])+2*(.5-c)*u,anchorY:l*o.height/a+2*(.5-l)*u}},t.prototype.execute_=function(t,e,n,i,r,o,s,a){var c,l,u;this.pixelCoordinates_&&KY(n,this.renderedTransform_)?c=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),c=e1(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),(l=this.renderedTransform_)[0]=(u=n)[0],l[1]=u[1],l[2]=u[2],l[3]=u[3],l[4]=u[4],l[5]=u[5]);for(var h,d,p,f,g,m,b,y,v,_,w,z,C,S,x,O,k=0,T=i.length,E=0,I=0,D=0,M=null,R=null,A=this.coordinateCache_,P=this.viewRotation_,L=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,F={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:P},j=this.instructions!=i||this.overlaps?0:200;k<T;){var N=i[k];switch(N[0]){case YJ.BEGIN_GEOMETRY:O=N[3],(C=N[1]).getGeometry()?void 0===s||kZ(s,O.getExtent())?++k:k=N[2]+1:k=N[2];break;case YJ.BEGIN_PATH:I>j&&(this.fill_(t),I=0),D>j&&(t.stroke(),D=0),I||D||(t.beginPath(),f=NaN,g=NaN),++k;break;case YJ.CIRCLE:var V=c[E=N[1]],W=c[E+1],q=c[E+2]-V,B=c[E+3]-W,X=Math.sqrt(q*q+B*B);t.moveTo(V+X,W),t.arc(V,W,X,0,2*Math.PI,!0),++k;break;case YJ.CLOSE_PATH:t.closePath(),++k;break;case YJ.CUSTOM:E=N[1],h=N[2];var U=N[4],$=6==N.length?N[5]:void 0;F.geometry=N[3],F.feature=C,k in A||(A[k]=[]);var H=A[k];$?$(c,E,h,2,H):(H[0]=c[E],H[1]=c[E+1],H.length=2),U(H,F),++k;break;case YJ.DRAW_IMAGE:E=N[1],h=N[2],d=N[4],p=N[5];var K=N[6],G=N[7],Y=N[8],Q=N[9],J=N[10],Z=N[11],tt=N[12],et=N[13],nt=N[14];if(!(y=N[3])&&N.length>=19){var it=this.drawLabelWithPointPlacement_(v=N[18],_=N[19],w=N[20],z=N[21]);N[3]=y=it.label,N[4]=d=(it.anchorX-N[22])*this.pixelRatio,N[5]=p=(it.anchorY-N[23])*this.pixelRatio,N[6]=K=y.height,N[13]=et=y.width}var rt=void 0;N.length>24&&(rt=N[24]);var ot=void 0,st=void 0,at=void 0;N.length>16?(ot=N[15],st=N[16],at=N[17]):(ot=vJ,st=!1,at=!1),J&&L?Z+=P:J||L||(Z-=P);for(var ct=0;E<h;E+=2)if(!(rt&&rt[ct++]<et/this.pixelRatio)){var lt=[t,e,y,Rt=this.calculateImageOrLabelDimensions_(y.width,y.height,c[E],c[E+1],et,K,d,p,Y,Q,Z,tt,r,ot,st||at,C),G,st?M:null,at?R:null],ut=void 0,ht=void 0;if(a&&nt){if(!nt[E]){nt[E]=lt;continue}if(ut=nt[E],delete nt[E],ht=h1(ut),a.collides(ht))continue}a&&a.collides(Rt.declutterBox)||(ut&&(a&&a.insert(ht),this.replayImageOrLabel_.apply(this,ut)),a&&a.insert(Rt.declutterBox),this.replayImageOrLabel_.apply(this,lt))}++k;break;case YJ.DRAW_CHARS:var dt=N[1],pt=N[2],ft=N[3],gt=N[4];z=N[5];var mt=N[6],bt=N[7],yt=N[8];w=N[9];var vt=N[10];v=N[11];var _t=[N[13],N[13]],wt=this.textStates[_=N[12]],zt=wt.font,Ct=[wt.scale[0]*bt,wt.scale[1]*bt],St=void 0;zt in this.widths_?St=this.widths_[zt]:this.widths_[zt]=St={};var xt=o1(c,dt,pt,2),Ot=Math.abs(Ct[0])*TJ(zt,v,St);if(gt||Ot<=xt){var kt=r1(c,dt,pt,2,v,(xt-Ot)*$Z[this.textStates[_].textAlign],mt,Math.abs(Ct[0]),TJ,zt,St,L?0:this.viewRotation_);t:if(kt){var Tt=[],Et=void 0,It=void 0,Dt=void 0,Mt=void 0;if(w)for(Et=0,It=kt.length;Et<It;++Et){Dt=this.createLabel((Mt=kt[Et])[4],_,"",w);var Rt=this.calculateImageOrLabelDimensions_(Dt.width,Dt.height,Mt[0],Mt[1],Dt.width,Dt.height,d=Mt[2]+(Ct[0]<0?-vt:vt),p=ft*Dt.height+2*(.5-ft)*vt*Ct[1]/Ct[0]-yt,0,0,Mt[3],_t,!1,vJ,!1,C);if(a&&a.collides(Rt.declutterBox))break t;Tt.push([t,e,Dt,Rt,1,null,null])}if(z)for(Et=0,It=kt.length;Et<It;++Et){if(Dt=this.createLabel((Mt=kt[Et])[4],_,z,""),Rt=this.calculateImageOrLabelDimensions_(Dt.width,Dt.height,Mt[0],Mt[1],Dt.width,Dt.height,d=Mt[2],p=ft*Dt.height-yt,0,0,Mt[3],_t,!1,vJ,!1,C),a&&a.collides(Rt.declutterBox))break t;Tt.push([t,e,Dt,Rt,1,null,null])}a&&a.load(Tt.map(h1));for(var At=0,Pt=Tt.length;At<Pt;++At)this.replayImageOrLabel_.apply(this,Tt[At])}}++k;break;case YJ.END_GEOMETRY:if(void 0!==o){var Lt=o(C=N[1],O);if(Lt)return Lt}++k;break;case YJ.FILL:j?I++:this.fill_(t),++k;break;case YJ.MOVE_TO_LINE_TO:for(h=N[2],b=(x=c[(E=N[1])+1])+.5|0,(m=(S=c[E])+.5|0)===f&&b===g||(t.moveTo(S,x),f=m,g=b),E+=2;E<h;E+=2)m=(S=c[E])+.5|0,b=(x=c[E+1])+.5|0,E!=h-2&&m===f&&b===g||(t.lineTo(S,x),f=m,g=b);++k;break;case YJ.SET_FILL_STYLE:M=N,this.alignFill_=N[2],I&&(this.fill_(t),I=0,D&&(t.stroke(),D=0)),t.fillStyle=N[1],++k;break;case YJ.SET_STROKE_STYLE:R=N,D&&(t.stroke(),D=0),this.setStrokeStyle_(t,N),++k;break;case YJ.STROKE:j?D++:t.stroke(),++k;break;default:++k}}I&&this.fill_(t),D&&t.stroke()},t.prototype.execute=function(t,e,n,i,r,o){this.viewRotation_=i,this.execute_(t,e,n,this.instructions,r,void 0,void 0,o)},t.prototype.executeHitDetection=function(t,e,n,i,r){return this.viewRotation_=n,this.execute_(t,1,e,this.hitDetectionInstructions,!0,i,r)},t}(),g1=["Polygon","Circle","LineString","Image","Text","Default"],m1=function(){function t(t,e,n,i,r,o){this.maxExtent_=t,this.overlaps_=i,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(r)}return t.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},t.prototype.createExecutors_=function(t){for(var e in t){var n=this.executorsByZIndex_[e];void 0===n&&(this.executorsByZIndex_[e]=n={});var i=t[e],r=[this.renderBuffer_||0,this.renderBuffer_||0];for(var o in i)n[o]=new f1(this.resolution_,this.pixelRatio_,this.overlaps_,i[o],r)}},t.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],i=0,r=t.length;i<r;++i)if(t[i]in n)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,o){var s=2*(i=Math.round(i))+1,a=gJ(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-n,-t[0],-t[1]),c=!this.hitDetectionContext_;c&&(this.hitDetectionContext_=oJ(s,s));var l,u=this.hitDetectionContext_;u.canvas.width!==s||u.canvas.height!==s?(u.canvas.width=s,u.canvas.height=s):c||u.clearRect(0,0,s,s),void 0!==this.renderBuffer_&&(dZ(l=[1/0,1/0,-1/0,-1/0],t),ZJ(l,e*(this.renderBuffer_+i),l));var h,d=function(t){if(void 0!==b1[t])return b1[t];for(var e=2*t+1,n=t*t,i=new Array(n+1),r=0;r<=t;++r)for(var o=0;o<=t;++o){var s=r*r+o*o;if(s>n)break;var a=i[s];a||(i[s]=a=[]),a.push(4*((t+r)*e+(t+o))+3),r>0&&a.push(4*((t-r)*e+(t+o))+3),o>0&&(a.push(4*((t+r)*e+(t-o))+3),r>0&&a.push(4*((t-r)*e+(t-o))+3))}for(var c=[],l=(r=0,i.length);r<l;++r)i[r]&&c.push.apply(c,i[r]);return b1[t]=c,c}(i);function p(t,e){for(var n=u.getImageData(0,0,s,s).data,a=0,c=d.length;a<c;a++)if(n[d[a]]>0){if(!o||"Image"!==h&&"Text"!==h||-1!==o.indexOf(t)){var l=(d[a]-3)/4,p=i-l%s,f=i-(l/s|0),g=r(t,e,p*p+f*f);if(g)return g}u.clearRect(0,0,s,s);break}}var f,g,m,b,y,v=Object.keys(this.executorsByZIndex_).map(Number);for(v.sort(BY),f=v.length-1;f>=0;--f){var _=v[f].toString();for(m=this.executorsByZIndex_[_],g=g1.length-1;g>=0;--g)if(void 0!==(b=m[h=g1[g]])&&(y=b.executeHitDetection(u,a,n,p,l)))return y}},t.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var n=e[0],i=e[1],r=e[2],o=e[3],s=[n,i,n,o,r,o,r,i];return e1(s,0,8,2,t,s),s},t.prototype.isEmpty=function(){return eQ(this.executorsByZIndex_)},t.prototype.execute=function(t,e,n,i,r,o,s){var a=Object.keys(this.executorsByZIndex_).map(Number);a.sort(BY),this.maxExtent_&&(t.save(),this.clip(t,n));var c,l,u,h,d,p,f=o||g1;for(s&&a.reverse(),c=0,l=a.length;c<l;++c){var g=a[c].toString();for(d=this.executorsByZIndex_[g],u=0,h=f.length;u<h;++u)void 0!==(p=d[f[u]])&&p.execute(t,e,n,i,r,s)}this.maxExtent_&&t.restore()},t}(),b1={},y1=m1,v1={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},_1={};_1[v1.DEGREES]=2*Math.PI*6370997/360,_1[v1.FEET]=.3048,_1[v1.METERS]=1,_1[v1.USFEET]=1200/3937;var w1,z1,C1,S1=v1,x1=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||_1[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}(),O1=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),k1=6378137*Math.PI,T1=[-k1,-k1,k1,k1],E1=[-180,-85,180,85],I1=6378137*Math.log(Math.tan(Math.PI/2)),D1=function(t){function e(e){return t.call(this,{code:e,units:S1.METERS,extent:T1,global:!0,worldExtent:E1,getPointResolution:function(t,e){return t/CQ(e[1]/6378137)}})||this}return O1(e,t),e}(x1),M1=[new D1("EPSG:3857"),new D1("EPSG:102100"),new D1("EPSG:102113"),new D1("EPSG:900913"),new D1("http://www.opengis.net/gml/srs/epsg.xml#3857")],R1=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),A1=[-180,-90,180,90],P1=6378137*Math.PI/180,L1=function(t){function e(e,n){return t.call(this,{code:e,units:S1.DEGREES,extent:A1,axisOrientation:n,global:!0,metersPerUnit:P1,worldExtent:A1})||this}return R1(e,t),e}(x1),F1=[new L1("CRS:84"),new L1("EPSG:4326","neu"),new L1("urn:ogc:def:crs:OGC:1.3:CRS84"),new L1("urn:ogc:def:crs:OGC:2:84"),new L1("http://www.opengis.net/gml/srs/epsg.xml#4326","neu")],j1={},N1={};function V1(t,e,n){var i=t.getCode(),r=e.getCode();i in N1||(N1[i]={}),N1[i][r]=n}function W1(t,e){var n;return t in N1&&e in N1[t]&&(n=N1[t][e]),n}function q1(t,e,n){var i=n||6371008.8,r=kQ(t[1]),o=kQ(e[1]),s=(o-r)/2,a=kQ(e[0]-t[0])/2,c=Math.sin(s)*Math.sin(s)+Math.sin(a)*Math.sin(a)*Math.cos(r)*Math.cos(o);return 2*i*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}function B1(t,e){var n,i,r=e[0],o=e[1],s=r[0],a=r[1],c=o[0],l=o[1],u=c-s,h=l-a,d=0===u&&0===h?0:(u*(t[0]-s)+h*(t[1]-a))/(u*u+h*h||0);return d<=0?(n=s,i=a):d>=1?(n=c,i=l):(n=s+d*u,i=a+d*h),[n,i]}function X1(t,e){for(var n=!0,i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function U1(t,e){var n=Math.cos(e),i=Math.sin(e),r=t[1]*n+t[0]*i;return t[0]=t[0]*n-t[1]*i,t[1]=r,t}function $1(t,e){var n=t[0]-e[0],i=t[1]-e[1];return n*n+i*i}function H1(t,e){return Math.sqrt($1(t,e))}function K1(t,e){return $1(t,B1(t,e))}function G1(t,e){if(e.canWrapX()){var n=OZ(e.getExtent()),i=Y1(t,e,n);i&&(t[0]-=i*n)}return t}function Y1(t,e,n){var i=e.getExtent(),r=0;if(e.canWrapX()&&(t[0]<i[0]||t[0]>i[2])){var o=n||OZ(i);r=Math.floor((t[0]-i[0])/o)}return r}function Q1(t,e,n){var i;if(void 0!==e){for(var r=0,o=t.length;r<o;++r)e[r]=t[r];i=e}else i=t.slice();return i}function J1(t,e,n){if(void 0!==e&&t!==e){for(var i=0,r=t.length;i<r;++i)e[i]=t[i];t=e}return t}function Z1(t){!function(t,e){j1[t]=e}(t.getCode(),t),V1(t,t,Q1)}function t0(t){return"string"==typeof t?j1[e=t]||j1[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var e}function e0(t,e,n,i){var r,o=(t=t0(t)).getPointResolutionFunc();if(o)r=o(e,n),i&&i!==t.getUnits()&&(a=t.getMetersPerUnit())&&(r=r*a/_1[i]);else{var s=t.getUnits();if(s==S1.DEGREES&&!i||i==S1.DEGREES)r=e;else{var a,c=a0(t,t0("EPSG:4326"));if(c===J1&&s!==S1.DEGREES)r=e*t.getMetersPerUnit();else{var l=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];r=(q1((l=c(l,l,2)).slice(0,2),l.slice(2,4))+q1(l.slice(4,6),l.slice(6,8)))/2}void 0!==(a=i?_1[i]:t.getMetersPerUnit())&&(r/=a)}}return r}function n0(t){!function(t){t.forEach(Z1)}(t),t.forEach(function(e){t.forEach(function(t){e!==t&&V1(e,t,Q1)})})}function i0(t,e){return t?"string"==typeof t?t0(t):t:t0(e)}function r0(t){return function(e,n,i){for(var r=e.length,o=void 0!==i?i:2,s=void 0!==n?n:new Array(r),a=0;a<r;a+=o){var c=t([e[a],e[a+1]]);s[a]=c[0],s[a+1]=c[1];for(var l=o-1;l>=2;--l)s[a+l]=e[a+l]}return s}}function o0(t,e){return l0(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function s0(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||a0(t,e)===Q1)&&n}function a0(t,e){var n=W1(t.getCode(),e.getCode());return n||(n=J1),n}function c0(t,e){return a0(t0(t),t0(e))}function l0(t,e,n){return c0(e,n)(t,void 0,t.length)}function u0(t,e){return t}function h0(t,e){return t}function d0(t,e){return t}function p0(t,e){return t}function f0(t,e,n){return function(i){var r,o,s=i[0],a=i[1];if(t.canWrapX()){var c=t.getExtent(),l=OZ(c);(o=Y1(i,t,l))&&(s-=o*l),s=zQ(s,c[0],c[2]),a=zQ(a,c[1],c[3]),r=n([s,a])}else r=n(i);return o&&e.canWrapX()&&(r[0]+=o*OZ(e.getExtent())),r}}n0(M1),n0(F1),w1=M1,z1=function(t,e,n){var i=t.length,r=n>1?n:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(i));for(var s=0;s<i;s+=r){o[s]=k1*t[s]/180;var a=6378137*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));a>I1?a=I1:a<-I1&&(a=-I1),o[s+1]=a}return o},C1=function(t,e,n){var i=t.length,r=n>1?n:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(i));for(var s=0;s<i;s+=r)o[s]=180*t[s]/k1,o[s+1]=360*Math.atan(Math.exp(t[s+1]/6378137))/Math.PI-90;return o},F1.forEach(function(t){w1.forEach(function(e){V1(t,e,z1),V1(e,t,C1)})});var g0=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),m0=[1,0,0,1,0,0],b0=function(t){function e(){var e,n,i,r,o,s=t.call(this)||this;return s.extent_=[1/0,1/0,-1/0,-1/0],s.extentRevision_=-1,s.simplifiedGeometryMaxMinSquaredTolerance=0,s.simplifiedGeometryRevision=0,s.simplifyTransformedInternal=(e=function(t,e,n){if(!n)return this.getSimplifiedGeometry(e);var i=this.clone();return i.applyTransform(n),i.getSimplifiedGeometry(e)},o=!1,function(){var t=Array.prototype.slice.call(arguments);return o&&this===r&&KY(t,i)||(o=!0,r=this,i=t,n=e.apply(this,arguments)),n}),s}return g0(e,t),e.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},e.prototype.clone=function(){return uQ()},e.prototype.closestPointXY=function(t,e,n,i){return uQ()},e.prototype.containsXY=function(t,e){var n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return uQ()},e.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&aZ(e),this.extentRevision_=this.getRevision()}return function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}(this.extent_,t)},e.prototype.rotate=function(t,e){uQ()},e.prototype.scale=function(t,e,n){uQ()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return uQ()},e.prototype.getType=function(){return uQ()},e.prototype.applyTransform=function(t){uQ()},e.prototype.intersectsExtent=function(t){return uQ()},e.prototype.translate=function(t,e){uQ()},e.prototype.transform=function(t,e){var n=t0(t),i=n.getUnits()==S1.TILE_PIXELS?function(t,i,r){var o=n.getExtent(),s=n.getWorldExtent(),a=zZ(s)/zZ(o);return gJ(m0,s[0],s[3],a,-a,0,0,0),e1(t,0,t.length,r,m0,i),c0(n,e)(t,i,r)}:c0(n,e);return this.applyTransform(i),this},e}(yQ),y0=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function v0(t){var e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}var _0=function(t){function e(){var e=t.call(this)||this;return e.layout="XY",e.stride=2,e.flatCoordinates=null,e}return y0(e,t),e.prototype.computeExtent=function(t){return lZ(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return uQ()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=v0(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){uQ()},e.prototype.setLayout=function(t,e,n){var i;if(t)i=v0(t);else{for(var r=0;r<n;++r){if(0===e.length)return this.layout="XY",void(this.stride=2);e=e[0]}t=function(t){var e;return 2==t?e="XY":3==t?e="XYZ":4==t&&(e="XYZM"),e}(i=e.length)}this.layout=t,this.stride=i},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();n1(n,0,n.length,i,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var i=e;void 0===i&&(i=t);var r=n;r||(r=vZ(this.getExtent()));var o=this.getFlatCoordinates();if(o){var s=this.getStride();!function(t,e,n,i,r,o,s,a){for(var c=a||[],l=s[0],u=s[1],h=0,d=0;d<n;d+=i){var p=t[d+1]-u;c[h++]=l+r*(t[d]-l),c[h++]=u+o*p;for(var f=d+2;f<d+i;++f)c[h++]=t[f]}a&&c.length!=h&&(c.length=h)}(o,0,o.length,s,t,i,r,o),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();i1(n,0,n.length,i,t,e,n),this.changed()}},e}(b0),w0=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),z0=function(t){function e(e,n,i,r,o,s,a){var c=t.call(this)||this;return c.context_=e,c.pixelRatio_=n,c.extent_=i,c.transform_=r,c.viewRotation_=o,c.squaredTolerance_=s,c.userTransform_=a,c.contextFillState_=null,c.contextStrokeState_=null,c.contextTextState_=null,c.fillState_=null,c.strokeState_=null,c.image_=null,c.imageAnchorX_=0,c.imageAnchorY_=0,c.imageHeight_=0,c.imageOpacity_=0,c.imageOriginX_=0,c.imageOriginY_=0,c.imageRotateWithView_=!1,c.imageRotation_=0,c.imageScale_=[0,0],c.imageWidth_=0,c.text_="",c.textOffsetX_=0,c.textOffsetY_=0,c.textRotateWithView_=!1,c.textRotation_=0,c.textScale_=[0,0],c.textFillState_=null,c.textStrokeState_=null,c.textState_=null,c.pixelCoordinates_=[],c.tmpLocalTransform_=[1,0,0,1,0,0],c}return w0(e,t),e.prototype.drawImages_=function(t,e,n,i){if(this.image_){var r=e1(t,e,n,2,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.tmpLocalTransform_,a=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=a*this.imageOpacity_);var c=this.imageRotation_;this.imageRotateWithView_&&(c+=this.viewRotation_);for(var l=0,u=r.length;l<u;l+=2){var h=r[l]-this.imageAnchorX_,d=r[l+1]-this.imageAnchorY_;if(0!==c||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var p=h+this.imageAnchorX_,f=d+this.imageAnchorY_;gJ(s,p,f,1,1,c,-p,-f),o.setTransform.apply(o,s),o.translate(p,f),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.setTransform(1,0,0,1,0,0)}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,d,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(o.globalAlpha=a)}},e.prototype.drawText_=function(t,e,n,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=e1(t,e,n,i,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.textRotation_;for(this.textRotateWithView_&&(s+=this.viewRotation_);e<n;e+=i){var a=r[e]+this.textOffsetX_,c=r[e+1]+this.textOffsetY_;if(0!==s||1!=this.textScale_[0]||1!=this.textScale_[1]){var l=gJ(this.tmpLocalTransform_,a,c,1,1,s,-a,-c);o.setTransform.apply(o,l),o.translate(a,c),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&o.strokeText(this.text_,a,c),this.textFillState_&&o.fillText(this.text_,a,c)}}},e.prototype.moveToLineTo_=function(t,e,n,i,r){var o=this.context_,s=e1(t,e,n,i,this.transform_,this.pixelCoordinates_);o.moveTo(s[0],s[1]);var a=s.length;r&&(a-=2);for(var c=2;c<a;c+=2)o.lineTo(s[c],s[c+1]);return r&&o.closePath(),n},e.prototype.drawRings_=function(t,e,n,i){for(var r=0,o=n.length;r<o;++r)e=this.moveToLineTo_(t,e,n[r],i,!0);return e},e.prototype.drawCircle=function(t){if(kZ(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=function(t,e,n){var i=t.getFlatCoordinates();if(i){var r=t.getStride();return e1(i,0,i.length,r,e,n)}return null}(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],i=e[3]-e[1],r=Math.sqrt(n*n+i*i),o=this.context_;o.beginPath(),o.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&kZ(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,i=e.length;n<i;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),kZ(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(kZ(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=t.getFlatCoordinates(),r=0,o=t.getEnds(),s=t.getStride();n.beginPath();for(var a=0,c=o.length;a<c;++a)r=this.moveToLineTo_(i,r,o[a],s,!1);n.stroke()}if(""!==this.text_){var l=t.getFlatMidpoints();this.drawText_(l,0,l.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),kZ(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),kZ(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),i=0,r=t.getEndss(),o=t.getStride();e.beginPath();for(var s=0,a=r.length;s<a;++s)i=this.drawRings_(n,i,r[s],o);this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var c=t.getFlatInteriorPoints();this.drawText_(c,0,c.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(KY(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,i=t.textAlign?t.textAlign:"center";n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=i&&(n.textAlign=i,e.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var n=t.getColor();this.fillState_={fillStyle:YQ(n||"#000")}}else this.fillState_=null;if(e){var i=e.getColor(),r=e.getLineCap(),o=e.getLineDash(),s=e.getLineDashOffset(),a=e.getLineJoin(),c=e.getWidth(),l=e.getMiterLimit();this.strokeState_={lineCap:void 0!==r?r:"round",lineDash:o||yJ,lineDashOffset:s||0,lineJoin:void 0!==a?a:"round",lineWidth:this.pixelRatio_*(void 0!==c?c:1),miterLimit:void 0!==l?l:10,strokeStyle:YQ(i||"#000")}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getSize();if(e){var n=t.getAnchor(),i=t.getImage(1),r=t.getOrigin(),o=t.getScaleArray();this.imageAnchorX_=n[0],this.imageAnchorY_=n[1],this.imageHeight_=e[1],this.image_=i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=[this.pixelRatio_*o[0],this.pixelRatio_*o[1]],this.imageWidth_=e[0]}else this.image_=null}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:YQ(n||"#000")}}else this.textFillState_=null;var i=t.getStroke();if(i){var r=i.getColor(),o=i.getLineCap(),s=i.getLineDash(),a=i.getLineDashOffset(),c=i.getLineJoin(),l=i.getWidth(),u=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==o?o:"round",lineDash:s||yJ,lineDashOffset:a||0,lineJoin:void 0!==c?c:"round",lineWidth:void 0!==l?l:1,miterLimit:void 0!==u?u:10,strokeStyle:YQ(r||"#000")}}else this.textStrokeState_=null;var h=t.getFont(),d=t.getOffsetX(),p=t.getOffsetY(),f=t.getRotateWithView(),g=t.getRotation(),m=t.getScaleArray(),b=t.getText(),y=t.getTextAlign(),v=t.getTextBaseline();this.textState_={font:void 0!==h?h:"10px sans-serif",textAlign:void 0!==y?y:"center",textBaseline:void 0!==v?v:"middle"},this.text_=void 0!==b?b:"",this.textOffsetX_=void 0!==d?this.pixelRatio_*d:0,this.textOffsetY_=void 0!==p?this.pixelRatio_*p:0,this.textRotateWithView_=void 0!==f&&f,this.textRotation_=void 0!==g?g:0,this.textScale_=[this.pixelRatio_*m[0],this.pixelRatio_*m[1]]}else this.text_=""},e}(QJ);function C0(t,e,n){return e+":"+t+":"+(n?BQ(n):"null")}var S0=new(function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_)0!=(3&t++)||this.cache_[e].hasListener()||(delete this.cache_[e],--this.cacheSize_)}},t.prototype.get=function(t,e,n){var i=C0(t,e,n);return i in this.cache_?this.cache_[i]:null},t.prototype.set=function(t,e,n,i){var r=C0(t,e,n);this.cache_[r]=i,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}()),x0=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),O0=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.extent=e,o.pixelRatio_=i,o.resolution=n,o.state=r,o}return x0(e,t),e.prototype.changed=function(){this.dispatchEvent("change")},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return uQ()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){uQ()},e}(rQ),k0=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function T0(t,e,n){var i=t;if(i.src&&iJ){var r=i.decode(),o=!0;return r.then(function(){o&&e()}).catch(function(t){o&&("EncodingError"===t.name&&"Invalid image type."===t.message?e():n())}),function(){o=!1}}var s=[sQ(i,"load",e),sQ(i,"error",n)];return function(){s.forEach(aQ)}}!function(t){function e(e,n,i,r,o,s){var a=t.call(this,e,n,i,0)||this;return a.src_=r,a.image_=new Image,null!==o&&(a.image_.crossOrigin=o),a.unlisten_=null,a.state=0,a.imageLoadFunction_=s,a}k0(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=3,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=zZ(this.extent)/this.image_.height),this.state=2,this.unlistenImage_(),this.changed()},e.prototype.load=function(){0!=this.state&&3!=this.state||(this.state=1,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=T0(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(O0);var E0=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),I0=null,D0=function(t){function e(e,n,i,r,o,s){var a=t.call(this)||this;return a.hitDetectionImage_=null,a.image_=e||new Image,null!==r&&(a.image_.crossOrigin=r),a.canvas_={},a.color_=s,a.unlisten_=null,a.imageState_=o,a.size_=i,a.src_=n,a}return E0(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&2===this.imageState_){I0||(I0=oJ(1,1)),I0.drawImage(this.image_,0,0);try{I0.getImageData(0,0,1,1),this.tainted_=!1}catch(UI){I0=null,this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent("change")},e.prototype.handleImageError_=function(){this.imageState_=3,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=2,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],n=oJ(t,e);n.fillRect(0,0,t,e),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(0==this.imageState_){this.imageState_=1;try{this.image_.src=this.src_}catch(UI){this.handleImageError_()}this.unlisten_=T0(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(this.color_&&!this.canvas_[t]){var e=document.createElement("canvas");this.canvas_[t]=e,e.width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var n=e.getContext("2d");if(n.scale(t,t),n.drawImage(this.image_,0,0),n.globalCompositeOperation="multiply","multiply"===n.globalCompositeOperation||this.isTainted_())n.fillStyle=BQ(this.color_),n.fillRect(0,0,e.width,e.height),n.globalCompositeOperation="destination-in",n.drawImage(this.image_,0,0);else{for(var i=n.getImageData(0,0,e.width,e.height),r=i.data,o=this.color_[0]/255,s=this.color_[1]/255,a=this.color_[2]/255,c=this.color_[3],l=0,u=r.length;l<u;l+=4)r[l]*=o,r[l+1]*=s,r[l+2]*=a,r[l+3]*=c;n.putImageData(i,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(rQ),M0=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),R0=function(t){function e(e){var n=this,i=e||{};(n=t.call(this,{opacity:void 0!==i.opacity?i.opacity:1,rotation:void 0!==i.rotation?i.rotation:0,scale:void 0!==i.scale?i.scale:1,displacement:void 0!==i.displacement?i.displacement:[0,0],rotateWithView:void 0!==i.rotateWithView&&i.rotateWithView})||this).anchor_=void 0!==i.anchor?i.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==i.anchorOrigin?i.anchorOrigin:"top-left",n.anchorXUnits_=void 0!==i.anchorXUnits?i.anchorXUnits:"fraction",n.anchorYUnits_=void 0!==i.anchorYUnits?i.anchorYUnits:"fraction",n.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null;var r=void 0!==i.img?i.img:null,o=void 0!==i.imgSize?i.imgSize:null,s=i.src;wQ(!(void 0!==s&&r),4),wQ(!r||r&&o,5),void 0!==s&&0!==s.length||!r||(s=r.src||dQ(r)),wQ(void 0!==s&&s.length>0,6);var a=void 0!==i.src?0:2;return n.color_=void 0!==i.color?HQ(i.color):null,n.iconImage_=function(t,e,n,i,r,o){var s=S0.get(e,i,o);return s||(s=new D0(t,e,n,i,r,o),S0.set(e,i,o,s)),s}(r,s,o,n.crossOrigin_,a,n.color_),n.offset_=void 0!==i.offset?i.offset:[0,0],n.offsetOrigin_=void 0!==i.offsetOrigin?i.offsetOrigin:"top-left",n.origin_=null,n.size_=void 0!==i.size?i.size:null,n}return M0(e,t),e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!e)return null;t=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(t[0]*=e[0]),"fraction"==this.anchorYUnits_&&(t[1]*=e[1])}if("top-left"!=this.anchorOrigin_){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[0]=-t[0]+e[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_,e=this.getDisplacement();if("top-left"!=this.offsetOrigin_){var n=this.getSize(),i=this.iconImage_.getSize();if(!n||!i)return null;t=t.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[0]=i[0]-n[0]-t[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[1]=i[1]-n[1]-t[1])}return t[0]+=e[0],t[1]+=e[1],this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener("change",t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener("change",t)},e}(VQ),A0={Point:function(t,e,n,i,r){var o,s=n.getImage(),a=n.getText();if(r&&(t=r,o=s&&a&&a.getText()?{}:void 0),s){if(2!=s.getImageState())return;var c=t.getBuilder(n.getZIndex(),"Image");c.setImageStyle(s,o),c.drawPoint(e,i)}if(a&&a.getText()){var l=t.getBuilder(n.getZIndex(),"Text");l.setTextStyle(a,o),l.drawText(e,i)}},LineString:function(t,e,n,i,r){var o=n.getStroke();if(o){var s=t.getBuilder(n.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawLineString(e,i)}var a=n.getText();if(a&&a.getText()){var c=(r||t).getBuilder(n.getZIndex(),"Text");c.setTextStyle(a),c.drawText(e,i)}},Polygon:function(t,e,n,i,r){var o=n.getFill(),s=n.getStroke();if(o||s){var a=t.getBuilder(n.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawPolygon(e,i)}var c=n.getText();if(c&&c.getText()){var l=(r||t).getBuilder(n.getZIndex(),"Text");l.setTextStyle(c),l.drawText(e,i)}},MultiPoint:function(t,e,n,i,r){var o,s=n.getImage(),a=n.getText();if(r&&(t=r,o=s&&a&&a.getText()?{}:void 0),s){if(2!=s.getImageState())return;var c=t.getBuilder(n.getZIndex(),"Image");c.setImageStyle(s,o),c.drawMultiPoint(e,i)}if(a&&a.getText()){var l=(r||t).getBuilder(n.getZIndex(),"Text");l.setTextStyle(a,o),l.drawText(e,i)}},MultiLineString:function(t,e,n,i,r){var o=n.getStroke();if(o){var s=t.getBuilder(n.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawMultiLineString(e,i)}var a=n.getText();if(a&&a.getText()){var c=(r||t).getBuilder(n.getZIndex(),"Text");c.setTextStyle(a),c.drawText(e,i)}},MultiPolygon:function(t,e,n,i,r){var o=n.getFill(),s=n.getStroke();if(s||o){var a=t.getBuilder(n.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawMultiPolygon(e,i)}var c=n.getText();if(c&&c.getText()){var l=(r||t).getBuilder(n.getZIndex(),"Text");l.setTextStyle(c),l.drawText(e,i)}},GeometryCollection:function(t,e,n,i,r){var o,s,a=e.getGeometriesArray();for(o=0,s=a.length;o<s;++o)(0,A0[a[o].getType()])(t,a[o],n,i,r)},Circle:function(t,e,n,i,r){var o=n.getFill(),s=n.getStroke();if(o||s){var a=t.getBuilder(n.getZIndex(),"Circle");a.setFillStrokeStyle(o,s),a.drawCircle(e,i)}var c=n.getText();if(c&&c.getText()){var l=(r||t).getBuilder(n.getZIndex(),"Text");l.setTextStyle(c),l.drawText(e,i)}}};function P0(t,e){return parseInt(dQ(t),10)-parseInt(dQ(e),10)}function L0(t,e){return.5*t/e}function F0(t,e,n,i,r,o,s){var a=!1,c=n.getImage();if(c){var l=c.getImageState();2==l||3==l?c.unlistenImageChange(r):(0==l&&c.load(),l=c.getImageState(),c.listenImageChange(r),a=!0)}return function(t,e,n,i,r,o){var s=n.getGeometryFunction()(e);if(s){var a=s.simplifyTransformed(i,r);n.getRenderer()?j0(t,a,n,e):(0,A0[a.getType()])(t,a,n,e,o)}}(t,e,n,i,o,s),a}function j0(t,e,n,i){if("GeometryCollection"!=e.getType())t.getBuilder(n.getZIndex(),"Default").drawCustom(e,i,n.getRenderer());else for(var r=e.getGeometries(),o=0,s=r.length;o<s;++o)j0(t,r[o],n,i)}var N0=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),V0=function(t){function e(e){var n=t.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.dirty_=!1,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=[1/0,1/0,-1/0,-1/0],n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n.declutterExecutorGroup=null,n.clipping=!0,n}return N0(e,t),e.prototype.useContainer=function(e,n,i){i<1&&(e=null),t.prototype.useContainer.call(this,e,n,i)},e.prototype.renderWorlds=function(t,e,n){var i=e.extent,r=e.viewState,o=r.center,s=r.resolution,a=r.projection,c=r.rotation,l=a.getExtent(),u=this.getLayer().getSource(),h=e.pixelRatio,d=e.viewHints,p=!(d[0]||d[1]),f=this.context,g=Math.round(e.size[0]*h),m=Math.round(e.size[1]*h),b=u.getWrapX()&&a.canWrapX(),y=b?OZ(l):null,v=b?Math.ceil((i[2]-l[2])/y)+1:1,_=b?Math.floor((i[0]-l[0])/y):0;do{var w=this.getRenderTransform(o,s,c,h,g,m,_*y);t.execute(f,1,w,c,p,void 0,n)}while(++_<v)},e.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},e.prototype.renderFrame=function(t,e){var n=t.pixelRatio,i=t.layerStatesArray[t.layerIndex];!function(t,e,n){!function(t,e,n,i,r,o,s){t[0]=e,t[1]=0,t[2]=0,t[3]=r,t[4]=0,t[5]=0}(t,e,0,0,n)}(this.pixelTransform,1/n,1/n),mJ(this.inversePixelTransform,this.pixelTransform);var r=bJ(this.pixelTransform);this.useContainer(e,r,i.opacity);var o=this.context,s=o.canvas,a=this.replayGroup_,c=this.declutterExecutorGroup;if((!a||a.isEmpty())&&(!c||c.isEmpty()))return!this.containerReused&&s.width>0&&(s.width=0),this.container;var l=Math.round(t.size[0]*n),u=Math.round(t.size[1]*n);s.width!=l||s.height!=u?(s.width=l,s.height=u,s.style.transform!==r&&(s.style.transform=r)):this.containerReused||o.clearRect(0,0,l,u),this.preRender(o,t);var h=t.viewState,d=!1;if(i.extent&&this.clipping){var p=p0(i.extent);(d=!iZ(p,t.extent)&&kZ(p,t.extent))&&this.clipUnrotated(o,t,p)}this.renderWorlds(a,t),d&&o.restore(),this.postRender(o,t);var f=i.opacity,g=this.container;return f!==parseFloat(g.style.opacity)&&(g.style.opacity=1===f?"":String(f)),this.renderedRotation_!==h.rotation&&(this.renderedRotation_=h.rotation,this.hitDetectionImageData_=null),this.container},e.prototype.getFeatures=function(t){return new Promise((function(e){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var n=[this.context.canvas.width,this.context.canvas.height];fJ(this.pixelTransform,n);var i=this.renderedCenter_,r=this.renderedResolution_,o=this.renderedRotation_,s=this.renderedProjection_,a=this.renderedExtent_,c=this.getLayer(),l=[],u=n[0]/2,h=n[1]/2;l.push(this.getRenderTransform(i,r,o,.5,u,h,0).slice());var d=c.getSource(),p=s.getExtent();if(d.getWrapX()&&s.canWrapX()&&!iZ(p,a)){for(var f=a[0],g=OZ(p),m=0;f<p[0];)--m,l.push(this.getRenderTransform(i,r,o,.5,u,h,g*m).slice()),f+=g;for(m=0,f=a[2];f>p[2];)++m,l.push(this.getRenderTransform(i,r,o,.5,u,h,g*m).slice()),f-=g}this.hitDetectionImageData_=function(t,e,n,i,r,o,s){var a=oJ(t[0]/2,t[1]/2);a.imageSmoothingEnabled=!1;for(var c=a.canvas,l=new z0(a,.5,r,null,s),u=n.length,h=Math.floor(16777215/u),d={},p=1;p<=u;++p){var f=n[p-1],g=f.getStyleFunction()||i;if(i){var m=g(f,o);if(m){Array.isArray(m)||(m=[m]);for(var b="#"+("000000"+(p*h).toString(16)).slice(-6),y=0,v=m.length;y<v;++y){var _=m[y],w=_.clone(),z=w.getFill();z&&z.setColor(b);var C=w.getStroke();C&&C.setColor(b),w.setText(void 0);var S=_.getImage();if(S){var x=S.getImageSize();if(!x)continue;var O=document.createElement("canvas");O.width=x[0],O.height=x[1];var k=O.getContext("2d",{alpha:!1});k.fillStyle=b;var T=k.canvas;k.fillRect(0,0,T.width,T.height),oJ(x?x[0]:T.width,x?x[1]:T.height).drawImage(T,0,0),w.setImage(new R0({img:T,imgSize:x,anchor:S.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:S.getOrigin(),size:S.getSize(),opacity:S.getOpacity(),scale:S.getScale(),rotation:S.getRotation(),rotateWithView:S.getRotateWithView()}))}var E=Number(w.getZIndex());(R=d[E])||(d[E]=R={},R.Polygon=[],R.Circle=[],R.LineString=[],R.Point=[]);var I=w.getGeometryFunction()(f);I&&kZ(r,I.getExtent())&&R[I.getType().replace("Multi","")].push(I,w)}}}}for(var D=Object.keys(d).map(Number).sort(BY),M=(p=0,D.length);p<M;++p){var R=d[D[p]];for(var A in R){var P=R[A];for(y=0,v=P.length;y<v;y+=2){l.setStyle(P[y+1]);for(var L=0,F=e.length;L<F;++L)l.setTransform(e[L]),l.drawGeometry(P[y])}}}return a.getImageData(0,0,c.width,c.height)}(n,l,this.renderedFeatures_,c.getStyleFunction(),a,r,o)}e(function(t,e,n){var i=[];if(n){var r=4*(Math.round(t[0]/2)+Math.round(t[1]/2)*n.width),o=n.data[r+2]+256*(n.data[r+1]+256*n.data[r]),s=Math.floor(16777215/e.length);o&&o%s==0&&i.push(e[o/s-1])}return i}(t,this.renderedFeatures_,this.hitDetectionImageData_))}).bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r){var o=this;if(this.replayGroup_){var s,a=e.viewState.resolution,c=e.viewState.rotation,l=this.getLayer(),u={},h=function(t,e,n){var o=dQ(t),s=u[o];if(s){if(!0!==s&&n<s.distanceSq){if(0===n)return u[o]=!0,r.splice(r.lastIndexOf(s),1),i(t,l,e);s.geometry=e,s.distanceSq=n}}else{if(0===n)return u[o]=!0,i(t,l,e);r.push(u[o]={feature:t,layer:l,geometry:e,distanceSq:n,callback:i})}},d=[this.replayGroup_];return this.declutterExecutorGroup&&d.push(this.declutterExecutorGroup),d.some(function(i){return s=i.forEachFeatureAtCoordinate(t,a,c,n,h,i===o.declutterExecutorGroup?e.declutterTree.all().map(function(t){return t.value}):null)}),s}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var e=this.getLayer(),n=e.getSource();if(!n)return!1;var i=t.viewHints[0],r=t.viewHints[1],o=e.getUpdateWhileAnimating(),s=e.getUpdateWhileInteracting();if(!this.dirty_&&!o&&i||!s&&r)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var a=t.extent,c=t.viewState,l=c.projection,u=c.resolution,h=t.pixelRatio,d=e.getRevision(),p=e.getRenderBuffer(),f=e.getRenderOrder();void 0===f&&(f=P0);var g=c.center.slice(),m=ZJ(a,p*u),b=[m.slice()],y=l.getExtent();if(n.getWrapX()&&l.canWrapX()&&!iZ(y,t.extent)){var v=OZ(y),_=Math.max(OZ(m)/2,v);m[0]=y[0]-_,m[2]=y[2]+_,G1(g,l);var w=function(t,e){var n=e.getExtent(),i=vZ(t);if(e.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){var r=OZ(n),o=Math.floor((i[0]-n[0])/r)*r;t[0]-=o,t[2]-=o}return t}(b[0],l);w[0]<y[0]&&w[2]<y[2]?b.push([w[0]+v,w[1],w[2]+v,w[3]]):w[0]>y[0]&&w[2]>y[2]&&b.push([w[0]-v,w[1],w[2]-v,w[3]])}if(!this.dirty_&&this.renderedResolution_==u&&this.renderedRevision_==d&&this.renderedRenderOrder_==f&&iZ(this.renderedExtent_,m))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var z,C,S,x=new KZ(L0(u,h),m,u,h);for(this.getLayer().getDeclutter()&&(z=new KZ(L0(u,h),m,u,h)),C=0,S=b.length;C<S;++C)n.loadFeatures(b[C],u,l);var O=function(t,e){var n=L0(t,e);return n*n}(u,h),k=(function(t){var n,i=t.getStyleFunction()||e.getStyleFunction();if(i&&(n=i(t,u)),n){var r=this.renderFeature(t,O,n,x,undefined,z);this.dirty_=this.dirty_||r}}).bind(this),T=d0(m),E=n.getFeaturesInExtent(T);for(f&&E.sort(f),C=0,S=E.length;C<S;++C)k(E[C]);this.renderedFeatures_=E;var I=x.finish(),D=new y1(m,u,h,n.getOverlaps(),I,e.getRenderBuffer());return z&&(this.declutterExecutorGroup=new y1(m,u,h,n.getOverlaps(),z.finish(),e.getRenderBuffer())),this.renderedResolution_=u,this.renderedRevision_=d,this.renderedRenderOrder_=f,this.renderedExtent_=m,this.renderedCenter_=g,this.renderedProjection_=l,this.replayGroup_=D,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,i,r,o){if(!n)return!1;var s=!1;if(Array.isArray(n))for(var a=0,c=n.length;a<c;++a)s=F0(i,t,n[a],e,this.boundHandleStyleImageChange_,r,o)||s;else s=F0(i,t,n,e,this.boundHandleStyleImageChange_,r,o);return s},e}(t1),W0=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),q0=function(t){function e(e){return t.call(this,e)||this}return W0(e,t),e.prototype.createRenderer=function(){return new V0(this)},e}(XJ),B0=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),X0=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.element=n,r.index=i,r}return B0(e,t),e}(WY),U0=function(t){function e(e,n){var i=t.call(this)||this;if(i.unique_=!!(n||{}).unique,i.array_=e||[],i.unique_)for(var r=0,o=i.array_.length;r<o;++r)i.assertUnique_(i.array_[r],r);return i.updateLength_(),i}return B0(e,t),e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get("length")},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new X0("add",e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new X0("remove",e,t)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var i=this.array_[t];this.array_[t]=e,this.dispatchEvent(new X0("remove",i,t)),this.dispatchEvent(new X0("add",e,t))}else{for(var r=n;r<t;++r)this.insertAt(r,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set("length",this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new _Q(58)},e}(yQ),$0=function(){function t(t){this.rbush_=new LQ.a(t),this.items_={}}return t.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[dQ(e)]=n},t.prototype.load=function(t,e){for(var n=new Array(e.length),i=0,r=e.length;i<r;i++){var o=t[i],s=e[i],a={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:s};n[i]=a,this.items_[dQ(s)]=a}this.rbush_.load(n)},t.prototype.remove=function(t){var e=dQ(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},t.prototype.update=function(t,e){var n=this.items_[dQ(e)];uZ([n.minX,n.minY,n.maxX,n.maxY],t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},t.prototype.getInExtent=function(t){return this.rbush_.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}).map(function(t){return t.value})},t.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},t.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},t.prototype.forEach_=function(t,e){for(var n,i=0,r=t.length;i<r;i++)if(n=e(t[i]))return n;return n},t.prototype.isEmpty=function(){return eQ(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return sZ(e.minX,e.minY,e.maxX,e.maxY,t)},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},t}(),H0=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function K0(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}var G0=function(t){function e(e){var n=t.call(this)||this;return n.projection_=t0(e.projection),n.attributions_=K0(e.attributions),n.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,n.loading=!1,n.state_=void 0!==e.state?e.state:"ready",n.wrapX_=void 0!==e.wrapX&&e.wrapX,n}return H0(e,t),e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return uQ()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.getContextOptions=function(){},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=K0(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(yQ);function Y0(t,e){return[[-1/0,-1/0,1/0,1/0]]}function Q0(t,e){return function(n,i,r,o,s){var a=this;!function(t,e,n,i,r,o,s){var a=new XMLHttpRequest;a.open("GET","function"==typeof t?t(n,i,r):t,!0),"arraybuffer"==e.getType()&&(a.responseType="arraybuffer"),a.withCredentials=!1,a.onload=function(t){if(!a.status||a.status>=200&&a.status<300){var i=e.getType(),c=void 0;"json"==i||"text"==i?c=a.responseText:"xml"==i?(c=a.responseXML)||(c=(new DOMParser).parseFromString(a.responseText,"application/xml")):"arraybuffer"==i&&(c=a.response),c?o(e.readFeatures(c,{extent:n,featureProjection:r}),e.readProjection(c)):s()}else s()},a.onerror=s,a.send()}(t,e,n,i,r,function(t,e){void 0!==o&&o(t),a.addFeatures(t)},s||QY)}}var J0=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Z0=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.feature=n,r.features=i,r}return J0(e,t),e}(WY),t2=function(t){function e(e){var n=this,i=e||{};(n=t.call(this,{attributions:i.attributions,projection:void 0,state:"ready",wrapX:void 0===i.wrapX||i.wrapX})||this).loader_=QY,n.format_=i.format,n.overlaps_=void 0===i.overlaps||i.overlaps,n.url_=i.url,void 0!==i.loader?n.loader_=i.loader:void 0!==n.url_&&(wQ(n.format_,7),n.loader_=Q0(n.url_,n.format_)),n.strategy_=void 0!==i.strategy?i.strategy:Y0;var r,o,s=void 0===i.useSpatialIndex||i.useSpatialIndex;return n.featuresRtree_=s?new $0:null,n.loadedExtentsRtree_=new $0,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(i.features)?o=i.features:i.features&&(o=(r=i.features).getArray()),s||void 0!==r||(r=new U0(o)),void 0!==o&&n.addFeaturesInternal(o),void 0!==r&&n.bindFeaturesCollection_(r),n}return J0(e,t),e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=dQ(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new Z0("addfeature",t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[oQ(e,"change",this.handleFeatureChange_,this),oQ(e,"propertychange",this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,i=e.getId();return void 0!==i&&(i.toString()in this.idIndex_?n=!1:this.idIndex_[i.toString()]=e),n&&(wQ(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],i=[],r=0,o=t.length;r<o;r++){var s=dQ(c=t[r]);this.addToIndex_(s,c)&&n.push(c)}r=0;for(var a=n.length;r<a;r++){var c;s=dQ(c=n[r]),this.setupChangeEvents_(s,c);var l=c.getGeometry();if(l){var u=l.getExtent();e.push(u),i.push(c)}else this.nullGeometryFeatures_[s]=c}this.featuresRtree_&&this.featuresRtree_.load(e,i),r=0;for(var h=n.length;r<h;r++)this.dispatchEvent(new Z0("addfeature",n[r]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener("addfeature",function(n){e||(e=!0,t.push(n.feature),e=!1)}),this.addEventListener("removefeature",function(n){e||(e=!0,t.remove(n.feature),e=!1)}),t.addEventListener("add",(function(t){e||(e=!0,this.addFeature(t.element),e=!1)}).bind(this)),t.addEventListener("remove",(function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}).bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(aQ);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var i=new Z0("clear");this.dispatchEvent(i),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){return this.forEachFeatureInExtent([t[0],t[1],t[0],t[1]],function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0})},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(n){if(n.getGeometry().intersectsExtent(t)){var i=e(n);if(i)return i}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),eQ(this.nullGeometryFeatures_)||HY(t,tQ(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray():[]},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],i=t[1],r=null,o=[NaN,NaN],s=1/0,a=[-1/0,-1/0,1/0,1/0],c=e||GY;return this.featuresRtree_.forEachInExtent(a,function(t){if(c(t)){var e=t.getGeometry(),l=s;if((s=e.closestPointXY(n,i,o,s))<l){r=t;var u=Math.sqrt(s);a[0]=n-u,a[1]=i-u,a[2]=n+u,a[3]=i+u}}}),r},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=dQ(e),i=e.getGeometry();if(i){var r=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(r,e)):this.featuresRtree_&&this.featuresRtree_.update(r,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var o=e.getId();if(void 0!==o){var s=o.toString();this.idIndex_[s]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[s]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new Z0("changefeature",e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:dQ(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&eQ(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,n){var i=this.loadedExtentsRtree_,r=this.strategy_(t,e);this.loading=!1;for(var o=function(t,o){var a=r[t];i.forEachInExtent(a,function(t){return iZ(t.extent,a)})||(s.dispatchEvent(new Z0("featuresloadstart")),s.loader_.call(s,a,e,n,(function(t){this.dispatchEvent(new Z0("featuresloadend",void 0,t))}).bind(s),(function(){this.dispatchEvent(new Z0("featuresloaderror"))}).bind(s)),i.insert(a,{extent:a.slice()}),s.loading=s.loader_!==QY)},s=this,a=0,c=r.length;a<c;++a)o(a)},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,function(n){if(uZ(n.extent,t))return e=n,!0}),e&&n.remove(e)},e.prototype.removeFeature=function(t){var e=dQ(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=dQ(t);this.featureChangeKeys_[e].forEach(aQ),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n&&delete this.idIndex_[n.toString()],delete this.uidIndex_[e],this.dispatchEvent(new Z0("removefeature",t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){wQ(this.format_,7),this.setLoader(Q0(t,this.format_))},e}(G0);function e2(t,e,n,i){for(var r=0,o=n.length;r<o;++r)t[e++]=n[r];return e}function n2(t,e,n,i){for(var r=0,o=n.length;r<o;++r)for(var s=n[r],a=0;a<i;++a)t[e++]=s[a];return e}function i2(t,e,n,i,r){for(var o=r||[],s=0,a=0,c=n.length;a<c;++a){var l=n2(t,e,n[a],i);o[s++]=l,e=l}return o.length=s,o}var r2=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o2=function(t){function e(e,n,i){var r=t.call(this)||this;return void 0!==i&&void 0===n?r.setFlatCoordinates(i,e):r.setCenterAndRadius(e,n||0,i),r}return r2(e,t),e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,i){var r=this.flatCoordinates,o=t-r[0],s=e-r[1],a=o*o+s*s;if(a<i){if(0===a)for(var c=0;c<this.stride;++c)n[c]=r[c];else{var l=this.getRadius()/Math.sqrt(a);for(n[0]=r[0]+l*o,n[1]=r[1]+l*s,c=2;c<this.stride;++c)n[c]=r[c]}return n.length=this.stride,a}return i},e.prototype.containsXY=function(t,e){var n=this.flatCoordinates,i=t-n[0],r=e-n[1];return i*i+r*r<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var e=this.flatCoordinates,n=e[this.stride]-e[0];return sZ(e[0]-n,e[1]-n,e[0]+n,e[1]+n,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},e.prototype.getType=function(){return"Circle"},e.prototype.intersectsExtent=function(t){if(kZ(t,this.getExtent())){var e=this.getCenter();return t[0]<=e[0]&&t[2]>=e[0]||t[1]<=e[1]&&t[3]>=e[1]||gZ(t,this.intersectsCoordinate.bind(this))}return!1},e.prototype.setCenter=function(t){var e=this.stride,n=this.flatCoordinates[e]-this.flatCoordinates[0],i=t.slice();i[e]=i[0]+n;for(var r=1;r<e;++r)i[e+r]=t[r];this.setFlatCoordinates(this.layout,i),this.changed()},e.prototype.setCenterAndRadius=function(t,e,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var i=this.flatCoordinates,r=e2(i,0,t);i[r++]=i[0]+e;for(var o=1,s=this.stride;o<s;++o)i[r++]=i[o];i.length=r,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,e){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e.prototype.rotate=function(t,e){var n=this.getCenter(),i=this.getStride();this.setCenter(n1(n,0,n.length,i,t,e,n)),this.changed()},e.prototype.translate=function(t,e){var n=this.getCenter(),i=this.getStride();this.setCenter(i1(n,0,n.length,i,t,e,n)),this.changed()},e}(_0),s2=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),a2=function(t){function e(e){var n=t.call(this)||this;return n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addEventListener(bQ(n.geometryName_),n.handleGeometryChanged_),e&&("function"==typeof e.getSimplifiedGeometry?n.setGeometry(e):n.setProperties(e)),n}return s2(e,t),e.prototype.clone=function(){var t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var i=this.getStyle();return i&&t.setStyle(i),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(aQ(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=oQ(t,"change",this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){var e,n;this.style_=t,this.styleFunction_=t?"function"==typeof(e=t)?e:(Array.isArray(e)?n=e:(wQ("function"==typeof e.getZIndex,41),n=[e]),function(){return n}):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeEventListener(bQ(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=t,this.addEventListener(bQ(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(yQ);function c2(t,e,n,i,r,o,s){var a,c=t[e],l=t[e+1],u=t[n]-c,h=t[n+1]-l;if(0===u&&0===h)a=e;else{var d=((r-c)*u+(o-l)*h)/(u*u+h*h);if(d>1)a=n;else{if(d>0){for(var p=0;p<i;++p)s[p]=EQ(t[e+p],t[n+p],d);return void(s.length=i)}a=e}}for(p=0;p<i;++p)s[p]=t[a+p];s.length=i}function l2(t,e,n,i,r){var o=t[e],s=t[e+1];for(e+=i;e<n;e+=i){var a=t[e],c=t[e+1],l=OQ(o,s,a,c);l>r&&(r=l),o=a,s=c}return r}function u2(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o];r=l2(t,e,a,i,r),e=a}return r}function h2(t,e,n,i,r,o,s,a,c,l,u){if(e==n)return l;var h,d;if(0===r){if((d=OQ(s,a,t[e],t[e+1]))<l){for(h=0;h<i;++h)c[h]=t[e+h];return c.length=i,d}return l}for(var p=u||[NaN,NaN],f=e+i;f<n;)if(c2(t,f-i,f,i,s,a,p),(d=OQ(s,a,p[0],p[1]))<l){for(l=d,h=0;h<i;++h)c[h]=p[h];c.length=i,f+=i}else f+=i*Math.max((Math.sqrt(d)-Math.sqrt(l))/r|0,1);if(o&&(c2(t,n-i,e,i,s,a,p),(d=OQ(s,a,p[0],p[1]))<l)){for(l=d,h=0;h<i;++h)c[h]=p[h];c.length=i}return l}function d2(t,e,n,i,r,o,s,a,c,l,u){for(var h=u||[NaN,NaN],d=0,p=n.length;d<p;++d){var f=n[d];l=h2(t,e,f,i,r,o,s,a,c,l,h),e=f}return l}function p2(t,e,n,i,r){for(var o,s=[t[e],t[e+1]],a=[];e+i<n;e+=i){if(a[0]=t[e+i],a[1]=t[e+i+1],o=r(s,a))return o;s[0]=a[0],s[1]=a[1]}return!1}function f2(t,e,n,i,r,o,s){var a,c,l=(n-e)/i;if(1===l)a=e;else if(2===l)a=e,c=r;else if(0!==l){for(var u=t[e],h=t[e+1],d=0,p=[0],f=e+i;f<n;f+=i){var g=t[f],m=t[f+1];d+=Math.sqrt((g-u)*(g-u)+(m-h)*(m-h)),p.push(d),u=g,h=m}var b=r*d,y=function(t,e,n){for(var i,r,o=BY,s=0,a=t.length,c=!1;s<a;)(r=+o(t[i=s+(a-s>>1)],e))<0?s=i+1:(a=i,c=!r);return c?s:~s}(p,b);y<0?(c=(b-p[-y-2])/(p[-y-1]-p[-y-2]),a=e+(-y-2)*i):a=e+y*i}var v=s>1?s:2,_=o||new Array(v);for(f=0;f<v;++f)_[f]=void 0===a?NaN:void 0===c?t[a+f]:EQ(t[a+f],t[a+i+f],c);return _}function g2(t,e,n,i,r,o){if(n==e)return null;var s;if(r<t[e+i-1])return o?((s=t.slice(e,e+i))[i-1]=r,s):null;if(t[n-1]<r)return o?((s=t.slice(n-i,n))[i-1]=r,s):null;if(r==t[e+i-1])return t.slice(e,e+i);for(var a=e/i,c=n/i;a<c;){var l=a+c>>1;r<t[(l+1)*i-1]?c=l:a=l+1}var u=t[a*i-1];if(r==u)return t.slice((a-1)*i,(a-1)*i+i);var h=(r-u)/(t[(a+1)*i-1]-u);s=[];for(var d=0;d<i-1;++d)s.push(EQ(t[(a-1)*i+d],t[a*i+d],h));return s.push(r),s}function m2(t,e,n,i,r){return!gZ(r,function(r){return!b2(t,e,n,i,r[0],r[1])})}function b2(t,e,n,i,r,o){for(var s=0,a=t[n-i],c=t[n-i+1];e<n;e+=i){var l=t[e],u=t[e+1];c<=o?u>o&&(l-a)*(o-c)-(r-a)*(u-c)>0&&s++:u<=o&&(l-a)*(o-c)-(r-a)*(u-c)<0&&s--,a=l,c=u}return 0!==s}function y2(t,e,n,i,r,o){if(0===n.length)return!1;if(!b2(t,e,n[0],i,r,o))return!1;for(var s=1,a=n.length;s<a;++s)if(b2(t,n[s-1],n[s],i,r,o))return!1;return!0}function v2(t,e,n,i,r){var o=pZ([1/0,1/0,-1/0,-1/0],t,e,n,i);return!!kZ(r,o)&&(!!iZ(r,o)||o[0]>=r[0]&&o[2]<=r[2]||o[1]>=r[1]&&o[3]<=r[3]||p2(t,e,n,i,function(t,e){return function(t,e,n){var i=!1,r=oZ(t,e),o=oZ(t,n);if(1===r||1===o)i=!0;else{var s=t[0],a=t[1],c=t[2],l=t[3],u=n[0],h=n[1],d=(h-e[1])/(u-e[0]),p=void 0,f=void 0;2&o&&!(2&r)&&(i=(p=u-(h-l)/d)>=s&&p<=c),i||!(4&o)||4&r||(i=(f=h-(u-c)*d)>=a&&f<=l),i||!(8&o)||8&r||(i=(p=u-(h-a)/d)>=s&&p<=c),i||!(16&o)||16&r||(i=(f=h-(u-s)*d)>=a&&f<=l)}return i}(r,t,e)}))}function _2(t,e,n,i,r){if(!function(t,e,n,i,r){return!!(v2(t,e,n,i,r)||b2(t,e,n,i,r[0],r[1])||b2(t,e,n,i,r[0],r[3])||b2(t,e,n,i,r[2],r[1])||b2(t,e,n,i,r[2],r[3]))}(t,e,n[0],i,r))return!1;if(1===n.length)return!0;for(var o=1,s=n.length;o<s;++o)if(m2(t,n[o-1],n[o],i,r)&&!v2(t,n[o-1],n[o],i,r))return!1;return!0}var w2=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),z2=function(t){function e(e,n){var i=t.call(this)||this;return i.flatMidpoint_=null,i.flatMidpointRevision_=-1,i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?i.setCoordinates(e,n):i.setFlatCoordinates(n,e),i}return w2(e,t),e.prototype.appendCoordinate=function(t){this.flatCoordinates?HY(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,i){return i<eZ(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(l2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),h2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,i))},e.prototype.forEachSegment=function(t){return p2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:g2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,void 0!==e&&e)},e.prototype.getCoordinates=function(){return EZ(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return f2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)},e.prototype.getLength=function(){return o1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=jZ(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,"XY")},e.prototype.getType=function(){return"LineString"},e.prototype.intersectsExtent=function(t){return v2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=n2(this.flatCoordinates,0,t,this.stride),this.changed()},e}(_0),C2=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),S2=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.map=n,r.frameState=void 0!==i?i:null,r}return C2(e,t),e}(WY),x2=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),O2=function(t){function e(e,n,i,r,o){var s=t.call(this,e,n,o)||this;return s.originalEvent=i,s.pixel_=null,s.coordinate_=null,s.dragging=void 0!==r&&r,s}return x2(e,t),Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(S2),k2={SINGLECLICK:"singleclick",CLICK:"click",DBLCLICK:"dblclick",POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},T2=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),E2=function(t){function e(e,n,i){var r=t.call(this)||this;if(r.ends_=[],r.maxDelta_=-1,r.maxDeltaRevision_=-1,Array.isArray(e[0]))r.setCoordinates(e,n);else if(void 0!==n&&i)r.setFlatCoordinates(n,e),r.ends_=i;else{for(var o=r.getLayout(),s=e,a=[],c=[],l=0,u=s.length;l<u;++l){var h=s[l];0===l&&(o=h.getLayout()),HY(a,h.getFlatCoordinates()),c.push(a.length)}r.setFlatCoordinates(o,a),r.ends_=c}return r}return T2(e,t),e.prototype.appendLineString=function(t){this.flatCoordinates?HY(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,i){return i<eZ(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(u2(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),d2(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,i))},e.prototype.getCoordinateAtM=function(t,e,n){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?null:function(t,e,n,i,r,o,s){if(s)return g2(t,e,n[n.length-1],i,r,o);var a;if(r<t[i-1])return o?((a=t.slice(0,i))[i-1]=r,a):null;if(t[t.length-1]<r)return o?((a=t.slice(t.length-i))[i-1]=r,a):null;for(var c=0,l=n.length;c<l;++c){var u=n[c];if(e!=u){if(r<t[e+i-1])return null;if(r<=t[u-1])return g2(t,e,u,i,r,!1);e=u}}return null}(this.flatCoordinates,0,this.ends_,this.stride,t,void 0!==e&&e,void 0!==n&&n)},e.prototype.getCoordinates=function(){return IZ(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new z2(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,n=this.layout,i=[],r=0,o=0,s=e.length;o<s;++o){var a=e[o],c=new z2(t.slice(r,a),n);i.push(c),r=a}return i},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,n=0,i=this.ends_,r=this.stride,o=0,s=i.length;o<s;++o){var a=i[o];HY(t,f2(e,n,a,r,.5)),n=a}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=function(t,e,n,i,r,o,s,a){for(var c=0,l=n.length;c<l;++c){var u=n[c];s=jZ(t,e,u,i,r,o,s),a.push(s),e=u}return s}(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,i),new e(n,"XY",i)},e.prototype.getType=function(){return"MultiLineString"},e.prototype.intersectsExtent=function(t){return function(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){if(v2(t,e,n[o],i,r))return!0;e=n[o]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=i2(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(_0),I2=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),D2=function(t){function e(e,n){var i=t.call(this)||this;return i.setCoordinates(e,n),i}return I2(e,t),e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,i){var r=this.flatCoordinates,o=OQ(t,e,r[0],r[1]);if(o<i){for(var s=this.stride,a=0;a<s;++a)n[a]=r[a];return n.length=s,o}return i},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return cZ(this.flatCoordinates,t)},e.prototype.getType=function(){return"Point"},e.prototype.intersectsExtent=function(t){return rZ(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=e2(this.flatCoordinates,0,t),this.changed()},e}(_0),M2=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),R2=function(t){function e(e,n){var i=t.call(this)||this;return n&&!Array.isArray(e[0])?i.setFlatCoordinates(n,e):i.setCoordinates(e,n),i}return M2(e,t),e.prototype.appendPoint=function(t){this.flatCoordinates?HY(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,i){if(i<eZ(this.getExtent(),t,e))return i;for(var r=this.flatCoordinates,o=this.stride,s=0,a=r.length;s<a;s+=o){var c=OQ(t,e,r[s],r[s+1]);if(c<i){i=c;for(var l=0;l<o;++l)n[l]=r[s+l];n.length=o}}return i},e.prototype.getCoordinates=function(){return EZ(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){return t<0||(this.flatCoordinates?this.flatCoordinates.length/this.stride:0)<=t?null:new D2(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,n=this.stride,i=[],r=0,o=t.length;r<o;r+=n){var s=new D2(t.slice(r,r+n),e);i.push(s)}return i},e.prototype.getType=function(){return"MultiPoint"},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,n=this.stride,i=0,r=e.length;i<r;i+=n)if(rZ(t,e[i],e[i+1]))return!0;return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=n2(this.flatCoordinates,0,t,this.stride),this.changed()},e}(_0);function A2(t,e,n,i){for(var r=0,o=t[n-i],s=t[n-i+1];e<n;e+=i){var a=t[e],c=t[e+1];r+=s*a-o*c,o=a,s=c}return r/2}function P2(t,e,n,i){for(var r=0,o=0,s=n.length;o<s;++o){var a=n[o];r+=A2(t,e,a,i),e=a}return r}var L2=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),F2=function(t){function e(e,n){var i=t.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?i.setCoordinates(e,n):i.setFlatCoordinates(n,e),i}return L2(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<eZ(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(l2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),h2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.getArea=function(){return A2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return EZ(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=jZ(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,"XY")},e.prototype.getType=function(){return"LinearRing"},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=n2(this.flatCoordinates,0,t,this.stride),this.changed()},e}(_0);function j2(t,e,n,i,r,o,s){for(var a,c,l,u,h,d,p,f=r[o+1],g=[],m=0,b=n.length;m<b;++m){var y=n[m];for(u=t[y-i],d=t[y-i+1],a=e;a<y;a+=i)h=t[a],p=t[a+1],(f<=d&&p<=f||d<=f&&f<=p)&&g.push(l=(f-d)/(p-d)*(h-u)+u),u=h,d=p}var v=NaN,_=-1/0;for(g.sort(BY),u=g[0],a=1,c=g.length;a<c;++a){h=g[a];var w=Math.abs(h-u);w>_&&y2(t,e,n,i,l=(u+h)/2,f)&&(v=l,_=w),u=h}return isNaN(v)&&(v=r[o]),s?(s.push(v,f,_),s):[v,f,_]}function N2(t,e,n,i){for(;e<n-i;){for(var r=0;r<i;++r){var o=t[e+r];t[e+r]=t[n-i+r],t[n-i+r]=o}e+=i,n-=i}}function V2(t,e,n,i){for(var r=0,o=t[n-i],s=t[n-i+1];e<n;e+=i){var a=t[e],c=t[e+1];r+=(a-o)*(c+s),o=a,s=c}return 0===r?void 0:r>0}function W2(t,e,n,i,r){for(var o=void 0!==r&&r,s=0,a=n.length;s<a;++s){var c=n[s],l=V2(t,e,c,i);if(0===s){if(o&&l||!o&&!l)return!1}else if(o&&!l||!o&&l)return!1;e=c}return!0}function q2(t,e,n,i,r){for(var o=void 0!==r&&r,s=0,a=n.length;s<a;++s){var c=n[s],l=V2(t,e,c,i);(0===s?o&&l||!o&&!l:o&&!l||!o&&l)&&N2(t,e,c,i),e=c}return e}function B2(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o)e=q2(t,e,n[o],i,r);return e}var X2=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),U2=function(t){function e(e,n,i){var r=t.call(this)||this;return r.ends_=[],r.flatInteriorPointRevision_=-1,r.flatInteriorPoint_=null,r.maxDelta_=-1,r.maxDeltaRevision_=-1,r.orientedRevision_=-1,r.orientedFlatCoordinates_=null,void 0!==n&&i?(r.setFlatCoordinates(n,e),r.ends_=i):r.setCoordinates(e,n),r}return X2(e,t),e.prototype.appendLinearRing=function(t){this.flatCoordinates?HY(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,i){return i<eZ(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(u2(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),d2(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.containsXY=function(t,e){return y2(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return P2(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?q2(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,IZ(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=vZ(this.getExtent());this.flatInteriorPoint_=j2(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new D2(this.getFlatInteriorPoint(),"XYM")},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new F2(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,i=[],r=0,o=0,s=n.length;o<s;++o){var a=n[o],c=new F2(e.slice(r,a),t);i.push(c),r=a}return i},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;W2(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=q2(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=WZ(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,i),new e(n,"XY",i)},e.prototype.getType=function(){return"Polygon"},e.prototype.intersectsExtent=function(t){return _2(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=i2(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(_0),$2=U2;function H2(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=[e,n,e,r,i,r,i,n,e,n];return new U2(o,"XY",[o.length])}var K2=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),G2=function(t){function e(e,n,i){var r=t.call(this)||this;if(r.endss_=[],r.flatInteriorPointsRevision_=-1,r.flatInteriorPoints_=null,r.maxDelta_=-1,r.maxDeltaRevision_=-1,r.orientedRevision_=-1,r.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){for(var o=r.getLayout(),s=e,a=[],c=[],l=0,u=s.length;l<u;++l){var h=s[l];0===l&&(o=h.getLayout());for(var d=a.length,p=h.getEnds(),f=0,g=p.length;f<g;++f)p[f]+=d;HY(a,h.getFlatCoordinates()),c.push(p)}n=o,e=a,i=c}return void 0!==n&&i?(r.setFlatCoordinates(n,e),r.endss_=i):r.setCoordinates(e,n),r}return K2(e,t),e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var n=this.flatCoordinates.length;HY(this.flatCoordinates,t.getFlatCoordinates());for(var i=0,r=(e=t.getEnds().slice()).length;i<r;++i)e[i]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,n=new Array(t),i=0;i<t;++i)n[i]=this.endss_[i].slice();var r=new e(this.flatCoordinates.slice(),this.layout,n);return r.applyProperties(this),r},e.prototype.closestPointXY=function(t,e,n,i){return i<eZ(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o];r=u2(t,e,a,i,r),e=a[a.length-1]}return r}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(t,e,n,i,r,o,s,a,c,l,u){for(var h=[NaN,NaN],d=0,p=n.length;d<p;++d){var f=n[d];l=d2(t,e,f,i,r,!0,s,a,c,l,h),e=f[f.length-1]}return l}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,0,t,e,n,i))},e.prototype.containsXY=function(t,e){return function(t,e,n,i,r,o){if(0===n.length)return!1;for(var s=0,a=n.length;s<a;++s){var c=n[s];if(y2(t,e,c,i,r,o))return!0;e=c[c.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return function(t,e,n,i){for(var r=0,o=0,s=n.length;o<s;++o){var a=n[o];r+=P2(t,e,a,i),e=a[a.length-1]}return r}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?B2(e=this.getOrientedFlatCoordinates().slice(),0,this.endss_,this.stride,t):e=this.flatCoordinates,DZ(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=function(t,e,n,i){for(var r=[],o=[1/0,1/0,-1/0,-1/0],s=0,a=n.length;s<a;++s){var c=n[s];o=lZ(t,e,c[0],i),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=c[c.length-1]}return r}(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=function(t,e,n,i,r){for(var o=[],s=0,a=n.length;s<a;++s){var c=n[s];o=j2(t,e,c,i,r,2*s,o),e=c[c.length-1]}return o}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new R2(this.getFlatInteriorPoints().slice(),"XYM")},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;!function(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o];if(!W2(t,e,a,i,void 0))return!1;a.length&&(e=a[a.length-1])}return!0}(t,0,this.endss_,this.stride)?(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=B2(this.orientedFlatCoordinates_,0,this.endss_,this.stride)):this.orientedFlatCoordinates_=t,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=function(t,e,n,i,r,o,s,a){for(var c=0,l=n.length;c<l;++c){var u=n[c],h=[];s=WZ(t,e,u,i,r,o,s,h),a.push(h),e=u[u.length-1]}return s}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,i),new e(n,"XY",i)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var n=this.endss_[t-1];e=n[n.length-1]}var i=this.endss_[t].slice(),r=i[i.length-1];if(0!==e)for(var o=0,s=i.length;o<s;++o)i[o]-=e;return new $2(this.flatCoordinates.slice(e,r),this.layout,i)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.endss_,i=[],r=0,o=0,s=n.length;o<s;++o){var a=n[o].slice(),c=a[a.length-1];if(0!==r)for(var l=0,u=a.length;l<u;++l)a[l]-=r;var h=new $2(e.slice(r,c),t,a);i.push(h),r=c}return i},e.prototype.getType=function(){return"MultiPolygon"},e.prototype.intersectsExtent=function(t){return function(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o];if(_2(t,e,a,i,r))return!0;e=a[a.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=function(t,e,n,i,r){for(var o=r||[],s=0,a=0,c=n.length;a<c;++a){var l=i2(t,e,n[a],i,o[s]);o[s++]=l,e=l[l.length-1]}return o.length=s,o}(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var i=n[n.length-1];this.flatCoordinates.length=0===i.length?0:i[i.length-1]}this.changed()},e}(_0);function Y2(t){return Math.pow(t,3)}function Q2(t){return 1-Y2(1-t)}function J2(t){return 3*t*t-2*t*t*t}function Z2(t){return t}var t3=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function e3(t,e,n,i){var r=t.getZoom();if(void 0!==r){var o=t.getConstrainedZoom(r+e),s=t.getResolutionForZoom(o);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:s,anchor:n,duration:void 0!==i?i:250,easing:Q2})}}var n3=function(t){function e(e){var n=t.call(this)||this;return e&&e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return t3(e,t),e.prototype.getActive=function(){return this.get("active")},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set("active",t)},e.prototype.setMap=function(t){this.map_=t},e}(yQ),i3=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function r3(t){for(var e=t.length,n=0,i=0,r=0;r<e;r++)n+=t[r].clientX,i+=t[r].clientY;return[n/e,i/e]}var o3=function(t){function e(e){var n=this,i=e||{};return n=t.call(this,i)||this,i.handleDownEvent&&(n.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(n.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(n.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(n.handleUpEvent=i.handleUpEvent),i.stopDown&&(n.stopDown=i.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return i3(e,t),e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==k2.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==k2.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==k2.POINTERDOWN){var i=this.handleDownEvent(t);this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==k2.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===k2.POINTERDOWN||e===k2.POINTERDRAG||e===k2.POINTERUP}(t)){var e=t.originalEvent,n=e.pointerId.toString();t.type==k2.POINTERUP?delete this.trackedPointers_[n]:(t.type==k2.POINTERDOWN||n in this.trackedPointers_)&&(this.trackedPointers_[n]=e),this.targetPointers=tQ(this.trackedPointers_)}},e}(n3);function s3(t){var e=arguments;return function(t){for(var n=!0,i=0,r=e.length;i<r&&(n=n&&e[i](t));++i);return n}}var a3=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},c3=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||function(t){return t.target.getTargetElement().contains(document.activeElement)}(t)},l3=GY,u3=function(t){return t.type==k2.CLICK},h3=function(t){var e=t.originalEvent;return 0==e.button&&!(ZQ&&tJ&&e.ctrlKey)},d3=YY,p3=function(t){return t.type==k2.SINGLECLICK},f3=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},g3=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},m3=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},b3=function(t){var e=t.originalEvent;return wQ(void 0!==e,56),"mouse"==e.pointerType},y3=function(t){var e=t.originalEvent;return wQ(void 0!==e,56),e.isPrimary&&0===e.button},v3=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_3=function(t){function e(e,n){var i=t.call(this,e)||this;return i.feature=n,i}return v3(e,t),e}(WY),w3=function(t){function e(e){var n,i,r=this,o=e;o.stopDown||(o.stopDown=YY),(r=t.call(this,o)||this).shouldHandle_=!1,r.downPx_=null,r.freehand_=!1,r.source_=e.source?e.source:null,r.features_=e.features?e.features:null,r.snapTolerance_=e.snapTolerance?e.snapTolerance:12,r.type_=e.type,r.mode_=("Point"===(n=r.type_)||"MultiPoint"===n?i="Point":"LineString"===n||"MultiLineString"===n?i="LineString":"Polygon"===n||"MultiPolygon"===n?i="Polygon":"Circle"===n&&(i="Circle"),i),r.stopClick_=!!e.stopClick,r.minPoints_=e.minPoints?e.minPoints:"Polygon"===r.mode_?3:2,r.maxPoints_="Circle"===r.mode_?2:e.maxPoints?e.maxPoints:1/0,r.finishCondition_=e.finishCondition?e.finishCondition:GY;var s,a=e.geometryFunction;if(!a){var c,l=r.mode_;"Circle"===l?a=function(t,e,n){var i=e||new o2([NaN,NaN]),r=h0(t[0]),o=$1(r,h0(t[t.length-1]));return i.setCenterAndRadius(r,Math.sqrt(o)),i}:("Point"===l?c=D2:"LineString"===l?c=z2:"Polygon"===l&&(c=$2),a=function(t,e,n){return e?e.setCoordinates("Polygon"===l?t[0].length?[t[0].concat([t[0][0]])]:[]:t):e=new c(t),e})}return r.geometryFunction_=a,r.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,r.finishCoordinate_=null,r.sketchFeature_=null,r.sketchPoint_=null,r.sketchCoords_=null,r.sketchLine_=null,r.sketchLineCoords_=null,r.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,r.overlay_=new q0({source:new t2({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:(s=VJ(),function(t,e){return s[t.getGeometry().getType()]}),updateWhileInteracting:!0}),r.geometryName_=e.geometryName,r.condition_=e.condition?e.condition:f3,r.freehandCondition_=e.freehand?l3:e.freehandCondition?e.freehandCondition:g3,r.addEventListener(bQ("active"),r.updateState_),r}return v3(e,t),e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),this.updateState_()},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleEvent=function(e){"contextmenu"===e.originalEvent.type&&e.originalEvent.preventDefault(),this.freehand_="Point"!==this.mode_&&this.freehandCondition_(e);var n=e.type===k2.POINTERMOVE,i=!0;return!this.freehand_&&this.lastDragTime_&&e.type===k2.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,n=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&e.type===k2.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e.coordinate),i=!1):this.freehand_&&e.type===k2.POINTERDOWN?i=!1:n&&this.getPointerCount()<2?(i=e.type===k2.POINTERMOVE)&&this.freehand_?(this.handlePointerMove_(e),this.shouldHandle_&&e.originalEvent.preventDefault()):("mouse"===e.originalEvent.pointerType||e.type===k2.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e):e.type===k2.DBLCLICK&&(i=!1),t.prototype.handleEvent.call(this,e)&&i},e.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t.coordinate),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout((function(){this.handlePointerMove_(new O2(k2.POINTERMOVE,t.map,t.originalEvent,!1,t.frameState))}).bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)},e.prototype.handleUpEvent=function(t){var e=!0;if(0===this.getPointerCount())if(this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t),this.shouldHandle_){switch(!0){case!this.finishCoordinate_:if(this.startDrawing_(t.coordinate),"Point"!==this.mode_)break;case this.freehand_||this.atFinish_(t.pixel)&&this.finishCondition_(t):this.finishDrawing();break;case!this.freehand_:this.addToDrawing_(t.coordinate)}e=!1}else this.freehand_&&this.abortDrawing();return!e&&this.stopClick_&&t.originalEvent.stopPropagation(),e},e.prototype.handlePointerMove_=function(t){if(this.pointerType_=t.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,n=t.pixel,i=e[0]-n[0],r=e[1]-n[1],o=i*i+r*r;if(this.shouldHandle_=this.freehand_?o>this.squaredClickTolerance_:o<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(t.coordinate):this.createOrUpdateSketchPoint_(t)},e.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var n=!1,i=[this.finishCoordinate_],r=this.mode_;if("Point"===r)e=!0;else if("Circle"===r)e=2===this.sketchCoords_.length;else if("LineString"===r)n=this.sketchCoords_.length>this.minPoints_;else if("Polygon"===r){var o=this.sketchCoords_;n=o[0].length>this.minPoints_,i=[o[0][0],o[0][o[0].length-2]]}if(n)for(var s=this.getMap(),a=0,c=i.length;a<c;a++){var l=i[a],u=s.getPixelFromCoordinate(l),h=t[0]-u[0],d=t[1]-u[1],p=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(h*h+d*d)<=p){this.finishCoordinate_=l;break}}}return e},e.prototype.createOrUpdateSketchPoint_=function(t){var e=t.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new a2(new D2(e)),this.updateSketchFeatures_())},e.prototype.createOrUpdateCustomSketchLine_=function(t){this.sketchLine_||(this.sketchLine_=new a2);var e=t.getLinearRing(0),n=this.sketchLine_.getGeometry();n?(n.setFlatCoordinates(e.getLayout(),e.getFlatCoordinates()),n.changed()):(n=new z2(e.getFlatCoordinates(),e.getLayout()),this.sketchLine_.setGeometry(n))},e.prototype.startDrawing_=function(t){var e=this.getMap().getView().getProjection();this.finishCoordinate_=t,"Point"===this.mode_?this.sketchCoords_=t.slice():"Polygon"===this.mode_?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new a2(new z2(this.sketchLineCoords_)));var n=this.geometryFunction_(this.sketchCoords_,void 0,e);this.sketchFeature_=new a2,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(n),this.updateSketchFeatures_(),this.dispatchEvent(new _3("drawstart",this.sketchFeature_))},e.prototype.modifyDrawing_=function(t){var e,n,i=this.getMap(),r=this.sketchFeature_.getGeometry(),o=i.getView().getProjection();"Point"===this.mode_?n=this.sketchCoords_:"Polygon"===this.mode_?(n=(e=this.sketchCoords_[0])[e.length-1],this.atFinish_(i.getPixelFromCoordinate(t))&&(t=this.finishCoordinate_.slice())):n=(e=this.sketchCoords_)[e.length-1],n[0]=t[0],n[1]=t[1],this.geometryFunction_(this.sketchCoords_,r,o),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(t),"Polygon"===r.getType()&&"Polygon"!==this.mode_?this.createOrUpdateCustomSketchLine_(r):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_),this.updateSketchFeatures_()},e.prototype.addToDrawing_=function(t){var e,n,i=this.sketchFeature_.getGeometry(),r=this.getMap().getView().getProjection(),o=this.mode_;"LineString"===o||"Circle"===o?(this.finishCoordinate_=t.slice(),(n=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?n.pop():e=!0),n.push(t.slice()),this.geometryFunction_(n,i,r)):"Polygon"===o&&((n=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?n.pop():e=!0),n.push(t.slice()),e&&(this.finishCoordinate_=n[0]),this.geometryFunction_(this.sketchCoords_,i,r)),this.updateSketchFeatures_(),e&&this.finishDrawing()},e.prototype.removeLastPoint=function(){if(this.sketchFeature_){var t,e=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection(),i=this.mode_;if("LineString"===i||"Circle"===i){if((t=this.sketchCoords_).splice(-2,1),t.length>=2){this.finishCoordinate_=t[t.length-2].slice();var r=this.finishCoordinate_.slice();t[t.length-1]=r,this.sketchPoint_.setGeometry(new D2(r))}this.geometryFunction_(t,e,n),"Polygon"===e.getType()&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(e)}else if("Polygon"===i){(t=this.sketchCoords_[0]).splice(-2,1);var o=this.sketchLine_.getGeometry();t.length>=2&&(r=t[t.length-2].slice(),t[t.length-1]=r,this.sketchPoint_.setGeometry(new D2(r))),o.setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e,n)}1===t.length&&this.abortDrawing(),this.updateSketchFeatures_()}},e.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(t){var e=this.sketchCoords_,n=t.getGeometry(),i=this.getMap().getView().getProjection();"LineString"===this.mode_?(e.pop(),this.geometryFunction_(e,n,i)):"Polygon"===this.mode_&&(e[0].pop(),this.geometryFunction_(e,n,i),e=n.getCoordinates()),"MultiPoint"===this.type_?t.setGeometry(new R2([e])):"MultiLineString"===this.type_?t.setGeometry(new E2([e])):"MultiPolygon"===this.type_&&t.setGeometry(new G2([e])),this.dispatchEvent(new _3("drawend",t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},e.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),t},e.prototype.abortDrawing=function(){var t=this.abortDrawing_();t&&this.dispatchEvent(new _3("drawabort",t))},e.prototype.appendCoordinates=function(t){var e,n=this.mode_,i=!this.sketchFeature_;if(i&&this.startDrawing_(t[0]),"LineString"===n||"Circle"===n)e=this.sketchCoords_;else{if("Polygon"!==n)return;e=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]}i&&e.shift(),e.pop();for(var r=0;r<t.length;r++)this.addToDrawing_(t[r]);var o=t[t.length-1];this.addToDrawing_(o),this.modifyDrawing_(o)},e.prototype.extend=function(t){var e=t.getGeometry();this.sketchFeature_=t,this.sketchCoords_=e.getCoordinates();var n=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=n.slice(),this.sketchCoords_.push(n.slice()),this.sketchPoint_=new a2(new D2(n)),this.updateSketchFeatures_(),this.dispatchEvent(new _3("drawstart",this.sketchFeature_))},e.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},e.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing(),this.overlay_.setMap(e?t:null)},e}(o3),z3=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),C3=[0,0,0,0],S3=[],x3=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.features=n,r.mapBrowserEvent=i,r}return z3(e,t),e}(WY);function O3(t,e){return t.index-e.index}function k3(t,e,n){var i=e.geometry;if("Circle"===i.getType()){var r=i;if(1===e.index){var o=$1(r.getCenter(),h0(t)),s=Math.sqrt(o)-r.getRadius();return s*s}}var a=h0(t);return S3[0]=h0(e.segment[0]),S3[1]=h0(e.segment[1]),K1(a,S3)}function T3(t,e,n){var i=e.geometry;if("Circle"===i.getType()&&1===e.index)return u0(i.getClosestPoint(h0(t)));var r=h0(t);return S3[0]=h0(e.segment[0]),S3[1]=h0(e.segment[1]),u0(B1(r,S3))}var E3=function(t){function e(e){var n,i,r=t.call(this,e)||this;if(r.boundHandleFeatureChange_=r.handleFeatureChange_.bind(r),r.condition_=e.condition?e.condition:y3,r.defaultDeleteCondition_=function(t){return function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey}(t)&&p3(t)},r.deleteCondition_=e.deleteCondition?e.deleteCondition:r.defaultDeleteCondition_,r.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:l3,r.vertexFeature_=null,r.vertexSegments_=null,r.lastPixel_=[0,0],r.ignoreNextSingleClick_=!1,r.featuresBeingModified_=null,r.rBush_=new $0,r.pixelTolerance_=void 0!==e.pixelTolerance?e.pixelTolerance:10,r.snappedToVertex_=!1,r.changingFeature_=!1,r.dragSegments_=[],r.overlay_=new q0({source:new t2({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:(n=VJ(),function(t,e){return n.Point}),updateWhileAnimating:!0,updateWhileInteracting:!0}),r.SEGMENT_WRITERS_={Point:r.writePointGeometry_.bind(r),LineString:r.writeLineStringGeometry_.bind(r),LinearRing:r.writeLineStringGeometry_.bind(r),Polygon:r.writePolygonGeometry_.bind(r),MultiPoint:r.writeMultiPointGeometry_.bind(r),MultiLineString:r.writeMultiLineStringGeometry_.bind(r),MultiPolygon:r.writeMultiPolygonGeometry_.bind(r),Circle:r.writeCircleGeometry_.bind(r),GeometryCollection:r.writeGeometryCollectionGeometry_.bind(r)},r.source_=null,r.hitDetection_=null,e.features?i=e.features:e.source&&(r.source_=e.source,i=new U0(r.source_.getFeatures()),r.source_.addEventListener("addfeature",r.handleSourceAdd_.bind(r)),r.source_.addEventListener("removefeature",r.handleSourceRemove_.bind(r))),!i)throw new Error("The modify interaction requires features, a source or a layer");return e.hitDetection&&(r.hitDetection_=e.hitDetection),r.features_=i,r.features_.forEach(r.addFeature_.bind(r)),r.features_.addEventListener("add",r.handleFeatureAdd_.bind(r)),r.features_.addEventListener("remove",r.handleFeatureRemove_.bind(r)),r.lastPointerEvent_=null,r.delta_=[0,0],r}return z3(e,t),e.prototype.addFeature_=function(t){var e=t.getGeometry();if(e){var n=this.SEGMENT_WRITERS_[e.getType()];n&&n(t,e)}var i=this.getMap();i&&i.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,i),t.addEventListener("change",this.boundHandleFeatureChange_)},e.prototype.willModifyFeatures_=function(t,e){if(!this.featuresBeingModified_){this.featuresBeingModified_=new U0;for(var n=this.featuresBeingModified_.getArray(),i=0,r=e.length;i<r;++i){var o=e[i][0].feature;-1===n.indexOf(o)&&this.featuresBeingModified_.push(o)}this.dispatchEvent(new x3("modifystart",this.featuresBeingModified_,t))}},e.prototype.removeFeature_=function(t){this.removeFeatureSegmentData_(t),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.removeEventListener("change",this.boundHandleFeatureChange_)},e.prototype.removeFeatureSegmentData_=function(t){var e=this.rBush_,n=[];e.forEach(function(e){t===e.feature&&n.push(e)});for(var i=n.length-1;i>=0;--i){for(var r=n[i],o=this.dragSegments_.length-1;o>=0;--o)this.dragSegments_[o][0]===r&&this.dragSegments_.splice(o,1);e.remove(r)}},e.prototype.setActive=function(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.prototype.setActive.call(this,e)},e.prototype.setMap=function(e){this.overlay_.setMap(e),t.prototype.setMap.call(this,e)},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleSourceAdd_=function(t){t.feature&&this.features_.push(t.feature)},e.prototype.handleSourceRemove_=function(t){t.feature&&this.features_.remove(t.feature)},e.prototype.handleFeatureAdd_=function(t){this.addFeature_(t.element)},e.prototype.handleFeatureChange_=function(t){if(!this.changingFeature_){var e=t.target;this.removeFeature_(e),this.addFeature_(e)}},e.prototype.handleFeatureRemove_=function(t){this.removeFeature_(t.element)},e.prototype.writePointGeometry_=function(t,e){var n=e.getCoordinates(),i={feature:t,geometry:e,segment:[n,n]};this.rBush_.insert(e.getExtent(),i)},e.prototype.writeMultiPointGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,r=n.length;i<r;++i){var o=n[i],s={feature:t,geometry:e,depth:[i],index:i,segment:[o,o]};this.rBush_.insert(e.getExtent(),s)}},e.prototype.writeLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,r=n.length-1;i<r;++i){var o=n.slice(i,i+2),s={feature:t,geometry:e,index:i,segment:o};this.rBush_.insert(JJ(o),s)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,r=n.length;i<r;++i)for(var o=n[i],s=0,a=o.length-1;s<a;++s){var c=o.slice(s,s+2),l={feature:t,geometry:e,depth:[i],index:s,segment:c};this.rBush_.insert(JJ(c),l)}},e.prototype.writePolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,r=n.length;i<r;++i)for(var o=n[i],s=0,a=o.length-1;s<a;++s){var c=o.slice(s,s+2),l={feature:t,geometry:e,depth:[i],index:s,segment:c};this.rBush_.insert(JJ(c),l)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,r=n.length;i<r;++i)for(var o=n[i],s=0,a=o.length;s<a;++s)for(var c=o[s],l=0,u=c.length-1;l<u;++l){var h=c.slice(l,l+2),d={feature:t,geometry:e,depth:[s,i],index:l,segment:h};this.rBush_.insert(JJ(h),d)}},e.prototype.writeCircleGeometry_=function(t,e){var n=e.getCenter(),i={feature:t,geometry:e,index:0,segment:[n,n]},r={feature:t,geometry:e,index:1,segment:[n,n]},o=[i,r];i.featureSegments=o,r.featureSegments=o,this.rBush_.insert(cZ(n),i),this.rBush_.insert(e.getExtent(),r)},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var n=e.getGeometriesArray(),i=0;i<n.length;++i){var r=n[i];(0,this.SEGMENT_WRITERS_[r.getType()])(t,r)}},e.prototype.createOrUpdateVertexFeature_=function(t,e,n){var i=this.vertexFeature_;return i?i.getGeometry().setCoordinates(t):(i=new a2(new D2(t)),this.vertexFeature_=i,this.overlay_.getSource().addFeature(i)),i.set("features",e),i.set("geometries",n),i},e.prototype.handleEvent=function(e){return!e.originalEvent||(this.lastPointerEvent_=e,e.map.getView().getInteracting()||e.type!=k2.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(n=!(e.type!=k2.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),e.type==k2.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),t.prototype.handleEvent.call(this,e)&&!n);var n},e.prototype.handleDragEvent=function(t){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(t,this.dragSegments_);for(var e=[t.coordinate[0]+this.delta_[0],t.coordinate[1]+this.delta_[1]],n=[],i=[],r=0,o=this.dragSegments_.length;r<o;++r){var s=this.dragSegments_[r],a=s[0],c=a.feature;-1===n.indexOf(c)&&n.push(c);var l=a.geometry;-1===i.indexOf(l)&&i.push(l);for(var u=a.depth,h=void 0,d=a.segment,p=s[1];e.length<l.getStride();)e.push(d[p][e.length]);switch(l.getType()){case"Point":h=e,d[0]=e,d[1]=e;break;case"MultiPoint":(h=l.getCoordinates())[a.index]=e,d[0]=e,d[1]=e;break;case"LineString":(h=l.getCoordinates())[a.index+p]=e,d[p]=e;break;case"MultiLineString":case"Polygon":(h=l.getCoordinates())[u[0]][a.index+p]=e,d[p]=e;break;case"MultiPolygon":(h=l.getCoordinates())[u[1]][u[0]][a.index+p]=e,d[p]=e;break;case"Circle":if(d[0]=e,d[1]=e,0===a.index)this.changingFeature_=!0,l.setCenter(e),this.changingFeature_=!1;else{this.changingFeature_=!0,t.map.getView().getProjection();var f=H1(h0(l.getCenter()),h0(e));l.setRadius(f),this.changingFeature_=!1}}h&&this.setGeometryCoordinates_(l,h)}this.createOrUpdateVertexFeature_(e,n,i)},e.prototype.handleDownEvent=function(t){if(!this.condition_(t))return!1;var e=t.coordinate;this.handlePointerAtPixel_(t.pixel,t.map,e),this.dragSegments_.length=0,this.featuresBeingModified_=null;var n=this.vertexFeature_;if(n){t.map.getView().getProjection();var i=[],r=n.getGeometry().getCoordinates(),o=JJ([r]),s=this.rBush_.getInExtent(o),a={};s.sort(O3);for(var c=0,l=s.length;c<l;++c){var u=s[c],h=u.segment,d=dQ(u.geometry),p=u.depth;if(p&&(d+="-"+p.join("-")),a[d]||(a[d]=new Array(2)),"Circle"!==u.geometry.getType()||1!==u.index)if(!X1(h[0],r)||a[d][0])if(!X1(h[1],r)||a[d][1])dQ(h)in this.vertexSegments_&&!a[d][0]&&!a[d][1]&&this.insertVertexCondition_(t)&&i.push(u);else{if(("LineString"===u.geometry.getType()||"MultiLineString"===u.geometry.getType())&&a[d][0]&&0===a[d][0].index)continue;this.dragSegments_.push([u,1]),a[d][1]=u}else this.dragSegments_.push([u,0]),a[d][0]=u;else X1(T3(e,u),r)&&!a[d][0]&&(this.dragSegments_.push([u,0]),a[d][0]=u)}i.length&&this.willModifyFeatures_(t,[i]);for(var f=i.length-1;f>=0;--f)this.insertVertex_(i[f],r)}return!!this.vertexFeature_},e.prototype.handleUpEvent=function(t){for(var e=this.dragSegments_.length-1;e>=0;--e){var n=this.dragSegments_[e][0],i=n.geometry;if("Circle"===i.getType()){var r=i.getCenter(),o=n.featureSegments[0],s=n.featureSegments[1];o.segment[0]=r,o.segment[1]=r,s.segment[0]=r,s.segment[1]=r,this.rBush_.update(cZ(r),o),this.rBush_.update(i.getExtent(),s)}else this.rBush_.update(JJ(n.segment),n)}return this.featuresBeingModified_&&(this.dispatchEvent(new x3("modifyend",this.featuresBeingModified_,t)),this.featuresBeingModified_=null),!1},e.prototype.handlePointerMove_=function(t){this.lastPixel_=t.pixel,this.handlePointerAtPixel_(t.pixel,t.map,t.coordinate)},e.prototype.handlePointerAtPixel_=function(t,e,n){var i,r,o=this,s=n||e.getCoordinateFromPixel(t);if(e.getView().getProjection(),this.hitDetection_&&e.forEachFeatureAtPixel(t,function(t,e,n){if("Point"===(n=n||t.getGeometry()).getType()){r=n;var o=n.getCoordinates();i=[{feature:t,geometry:n,segment:[o,o]}]}return!0},{layerFilter:"object"==typeof this.hitDetection_?function(t){return t===o.hitDetection_}:void 0}),!i){var a=d0(ZJ(p0(cZ(s,C3)),e.getView().getResolution()*this.pixelTolerance_,C3));i=this.rBush_.getInExtent(a)}if(i&&i.length>0){var c=i.sort(function(t,e){return k3(s,t)-k3(s,e)})[0],l=c.segment,u=T3(s,c),h=e.getPixelFromCoordinate(u),d=H1(t,h);if(r||d<=this.pixelTolerance_){var p={};if(p[dQ(l)]=!0,this.delta_[0]=u[0]-s[0],this.delta_[1]=u[1]-s[1],"Circle"===c.geometry.getType()&&1===c.index)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(u,[c.feature],[c.geometry]);else{var f=e.getPixelFromCoordinate(l[0]),g=e.getPixelFromCoordinate(l[1]),m=$1(h,f),b=$1(h,g);d=Math.sqrt(Math.min(m,b)),this.snappedToVertex_=d<=this.pixelTolerance_,this.snappedToVertex_&&(u=m>b?l[1]:l[0]),this.createOrUpdateVertexFeature_(u,[c.feature],[c.geometry]);var y={};y[dQ(c.geometry)]=!0;for(var v=1,_=i.length;v<_;++v){var w=i[v].segment;if(!(X1(l[0],w[0])&&X1(l[1],w[1])||X1(l[0],w[1])&&X1(l[1],w[0])))break;var z=dQ(i[v].geometry);z in y||(y[z]=!0,p[dQ(w)]=!0)}}return void(this.vertexSegments_=p)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},e.prototype.insertVertex_=function(t,e){for(var n,i=t.segment,r=t.feature,o=t.geometry,s=t.depth,a=t.index;e.length<o.getStride();)e.push(0);switch(o.getType()){case"MultiLineString":case"Polygon":(n=o.getCoordinates())[s[0]].splice(a+1,0,e);break;case"MultiPolygon":(n=o.getCoordinates())[s[1]][s[0]].splice(a+1,0,e);break;case"LineString":(n=o.getCoordinates()).splice(a+1,0,e);break;default:return}this.setGeometryCoordinates_(o,n);var c=this.rBush_;c.remove(t),this.updateSegmentIndices_(o,a,s,1);var l={segment:[i[0],e],feature:r,geometry:o,depth:s,index:a};c.insert(JJ(l.segment),l),this.dragSegments_.push([l,1]);var u={segment:[e,i[1]],feature:r,geometry:o,depth:s,index:a+1};c.insert(JJ(u.segment),u),this.dragSegments_.push([u,0]),this.ignoreNextSingleClick_=!0},e.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=k2.POINTERDRAG){var t=this.lastPointerEvent_;this.willModifyFeatures_(t,this.dragSegments_);var e=this.removeVertex_();return this.dispatchEvent(new x3("modifyend",this.featuresBeingModified_,t)),this.featuresBeingModified_=null,e}return!1},e.prototype.removeVertex_=function(){var t,e,n,i,r,o,s,a,c,l,u,h=this.dragSegments_,d={},p=!1;for(r=h.length-1;r>=0;--r)u=dQ((l=(n=h[r])[0]).feature),l.depth&&(u+="-"+l.depth.join("-")),u in d||(d[u]={}),0===n[1]?(d[u].right=l,d[u].index=l.index):1==n[1]&&(d[u].left=l,d[u].index=l.index+1);for(u in d){switch(c=d[u].right,(a=(o=d[u].index)-1)<0&&(a=0),t=e=(i=(l=void 0!==(s=d[u].left)?s:c).geometry).getCoordinates(),p=!1,i.getType()){case"MultiLineString":e[l.depth[0]].length>2&&(e[l.depth[0]].splice(o,1),p=!0);break;case"LineString":e.length>2&&(e.splice(o,1),p=!0);break;case"MultiPolygon":t=t[l.depth[1]];case"Polygon":(t=t[l.depth[0]]).length>4&&(o==t.length-1&&(o=0),t.splice(o,1),p=!0,0===o&&(t.pop(),t.push(t[0]),a=t.length-1))}if(p){this.setGeometryCoordinates_(i,e);var f=[];if(void 0!==s&&(this.rBush_.remove(s),f.push(s.segment[0])),void 0!==c&&(this.rBush_.remove(c),f.push(c.segment[1])),void 0!==s&&void 0!==c){var g={depth:l.depth,feature:l.feature,geometry:l.geometry,index:a,segment:f};this.rBush_.insert(JJ(g.segment),g)}this.updateSegmentIndices_(i,o,l.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),h.length=0}}return p},e.prototype.setGeometryCoordinates_=function(t,e){this.changingFeature_=!0,t.setCoordinates(e),this.changingFeature_=!1},e.prototype.updateSegmentIndices_=function(t,e,n,i){this.rBush_.forEachInExtent(t.getExtent(),function(r){r.geometry===t&&(void 0===n||void 0===r.depth||KY(r.depth,n))&&r.index>e&&(r.index+=i)})},e}(o3),I3=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function D3(t){return t.feature?t.feature:t.element?t.element:void 0}var M3=[],R3=function(t){function e(e){var n=this,i=e||{},r=i;return r.handleDownEvent||(r.handleDownEvent=GY),r.stopDown||(r.stopDown=YY),(n=t.call(this,r)||this).source_=i.source?i.source:null,n.vertex_=void 0===i.vertex||i.vertex,n.edge_=void 0===i.edge||i.edge,n.features_=i.features?i.features:null,n.featuresListenerKeys_=[],n.featureChangeListenerKeys_={},n.indexedFeaturesExtents_={},n.pendingFeatures_={},n.pixelTolerance_=void 0!==i.pixelTolerance?i.pixelTolerance:10,n.rBush_=new $0,n.SEGMENT_WRITERS_={Point:n.writePointGeometry_.bind(n),LineString:n.writeLineStringGeometry_.bind(n),LinearRing:n.writeLineStringGeometry_.bind(n),Polygon:n.writePolygonGeometry_.bind(n),MultiPoint:n.writeMultiPointGeometry_.bind(n),MultiLineString:n.writeMultiLineStringGeometry_.bind(n),MultiPolygon:n.writeMultiPolygonGeometry_.bind(n),GeometryCollection:n.writeGeometryCollectionGeometry_.bind(n),Circle:n.writeCircleGeometry_.bind(n)},n}return I3(e,t),e.prototype.addFeature=function(t,e){var n=void 0===e||e,i=dQ(t),r=t.getGeometry();if(r){var o=this.SEGMENT_WRITERS_[r.getType()];o&&(this.indexedFeaturesExtents_[i]=r.getExtent([1/0,1/0,-1/0,-1/0]),o(t,r))}n&&(this.featureChangeListenerKeys_[i]=oQ(t,"change",this.handleFeatureChange_,this))},e.prototype.forEachFeatureAdd_=function(t){this.addFeature(t)},e.prototype.forEachFeatureRemove_=function(t){this.removeFeature(t)},e.prototype.getFeatures_=function(){var t;return this.features_?t=this.features_:this.source_&&(t=this.source_.getFeatures()),t},e.prototype.handleEvent=function(e){var n=this.snapTo(e.pixel,e.coordinate,e.map);return n.snapped&&(e.coordinate=n.vertex.slice(0,2),e.pixel=n.vertexPixel),t.prototype.handleEvent.call(this,e)},e.prototype.handleFeatureAdd_=function(t){var e=D3(t);this.addFeature(e)},e.prototype.handleFeatureRemove_=function(t){var e=D3(t);this.removeFeature(e)},e.prototype.handleFeatureChange_=function(t){var e=t.target;if(this.handlingDownUpSequence){var n=dQ(e);n in this.pendingFeatures_||(this.pendingFeatures_[n]=e)}else this.updateFeature_(e)},e.prototype.handleUpEvent=function(t){var e=tQ(this.pendingFeatures_);return e.length&&(e.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},e.prototype.removeFeature=function(t,e){var n=void 0===e||e,i=dQ(t),r=this.indexedFeaturesExtents_[i];if(r){var o=this.rBush_,s=[];o.forEachInExtent(r,function(e){t===e.feature&&s.push(e)});for(var a=s.length-1;a>=0;--a)o.remove(s[a])}n&&(aQ(this.featureChangeListenerKeys_[i]),delete this.featureChangeListenerKeys_[i])},e.prototype.setMap=function(e){var n=this.getMap(),i=this.featuresListenerKeys_,r=this.getFeatures_();n&&(i.forEach(aQ),i.length=0,r.forEach(this.forEachFeatureRemove_.bind(this))),t.prototype.setMap.call(this,e),e&&(this.features_?i.push(oQ(this.features_,"add",this.handleFeatureAdd_,this),oQ(this.features_,"remove",this.handleFeatureRemove_,this)):this.source_&&i.push(oQ(this.source_,"addfeature",this.handleFeatureAdd_,this),oQ(this.source_,"removefeature",this.handleFeatureRemove_,this)),r.forEach(this.forEachFeatureAdd_.bind(this)))},e.prototype.snapTo=function(t,e,n){var i=JJ([n.getCoordinateFromPixel([t[0]-this.pixelTolerance_,t[1]+this.pixelTolerance_]),n.getCoordinateFromPixel([t[0]+this.pixelTolerance_,t[1]-this.pixelTolerance_])]),r=this.rBush_.getInExtent(i);this.vertex_&&!this.edge_&&(r=r.filter(function(t){return"Circle"!==t.feature.getGeometry().getType()}));var o=!1,s=null,a=null;if(0===r.length)return{snapped:o,vertex:s,vertexPixel:a};n.getView().getProjection();for(var c,l=h0(e),u=1/0,h=0;h<r.length;++h){var d=r[h];M3[0]=h0(d.segment[0]),M3[1]=h0(d.segment[1]);var p=K1(l,M3);p<u&&(c=d,u=p)}var f=c.segment;if(this.vertex_&&!this.edge_){var g=n.getPixelFromCoordinate(f[0]),m=n.getPixelFromCoordinate(f[1]),b=$1(t,g),y=$1(t,m);Math.sqrt(Math.min(b,y))<=this.pixelTolerance_&&(o=!0,a=n.getPixelFromCoordinate(s=b>y?f[1]:f[0]))}else if(this.edge_){var v="Circle"===c.feature.getGeometry().getType();if(v)s=u0(function(t,e){var n=e.getRadius(),i=e.getCenter(),r=i[0],o=i[1],s=t[0]-r,a=t[1]-o;0===s&&0===a&&(s=1);var c=Math.sqrt(s*s+a*a);return[r+n*s/c,o+n*a/c]}(l,c.feature.getGeometry()));else M3[0]=h0(f[0]),M3[1]=h0(f[1]),s=u0(B1(l,M3));H1(t,a=n.getPixelFromCoordinate(s))<=this.pixelTolerance_&&(o=!0,this.vertex_&&!v)&&(g=n.getPixelFromCoordinate(f[0]),m=n.getPixelFromCoordinate(f[1]),b=$1(a,g),y=$1(a,m),Math.sqrt(Math.min(b,y))<=this.pixelTolerance_&&(a=n.getPixelFromCoordinate(s=b>y?f[1]:f[0])))}return o&&(a=[Math.round(a[0]),Math.round(a[1])]),{snapped:o,vertex:s,vertexPixel:a}},e.prototype.updateFeature_=function(t){this.removeFeature(t,!1),this.addFeature(t,!1)},e.prototype.writeCircleGeometry_=function(t,e){this.getMap().getView().getProjection();for(var n=function(t,e,n){for(var i=e||32,r=t.getStride(),o=t.getLayout(),s=t.getCenter(),a=r*(i+1),c=new Array(a),l=0;l<a;l+=r){c[l]=0,c[l+1]=0;for(var u=2;u<r;u++)c[l+u]=s[u]}var h=new U2(c,o,[c.length]);return function(t,e,n,i){for(var r=t.getFlatCoordinates(),o=t.getStride(),s=r.length/o-1,a=i||0,c=0;c<=s;++c){var l=c*o,u=a+2*TQ(c,s)*Math.PI/s;r[l]=e[0]+n*Math.cos(u),r[l+1]=e[1]+n*Math.sin(u)}t.changed()}(h,s,t.getRadius(),n),h}(e).getCoordinates()[0],i=0,r=n.length-1;i<r;++i){var o=n.slice(i,i+2),s={feature:t,segment:o};this.rBush_.insert(JJ(o),s)}},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var n=e.getGeometriesArray(),i=0;i<n.length;++i){var r=this.SEGMENT_WRITERS_[n[i].getType()];r&&r(t,n[i])}},e.prototype.writeLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,r=n.length-1;i<r;++i){var o=n.slice(i,i+2),s={feature:t,segment:o};this.rBush_.insert(JJ(o),s)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,r=n.length;i<r;++i)for(var o=n[i],s=0,a=o.length-1;s<a;++s){var c=o.slice(s,s+2),l={feature:t,segment:c};this.rBush_.insert(JJ(c),l)}},e.prototype.writeMultiPointGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,r=n.length;i<r;++i){var o=n[i],s={feature:t,segment:[o,o]};this.rBush_.insert(e.getExtent(),s)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,r=n.length;i<r;++i)for(var o=n[i],s=0,a=o.length;s<a;++s)for(var c=o[s],l=0,u=c.length-1;l<u;++l){var h=c.slice(l,l+2),d={feature:t,segment:h};this.rBush_.insert(JJ(h),d)}},e.prototype.writePointGeometry_=function(t,e){var n=e.getCoordinates(),i={feature:t,segment:[n,n]};this.rBush_.insert(e.getExtent(),i)},e.prototype.writePolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,r=n.length;i<r;++i)for(var o=n[i],s=0,a=o.length-1;s<a;++s){var c=o.slice(s,s+2),l={feature:t,segment:c};this.rBush_.insert(JJ(c),l)}},e}(o3),A3=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),P3=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o.selected=n,o.deselected=i,o.mapBrowserEvent=r,o}return A3(e,t),e}(WY),L3={},F3=function(t){function e(e){var n,i,r=t.call(this)||this,o=e||{};if(r.boundAddFeature_=r.addFeature_.bind(r),r.boundRemoveFeature_=r.removeFeature_.bind(r),r.condition_=o.condition?o.condition:p3,r.addCondition_=o.addCondition?o.addCondition:d3,r.removeCondition_=o.removeCondition?o.removeCondition:d3,r.toggleCondition_=o.toggleCondition?o.toggleCondition:g3,r.multi_=!!o.multi&&o.multi,r.filter_=o.filter?o.filter:GY,r.hitTolerance_=o.hitTolerance?o.hitTolerance:0,r.style_=void 0!==o.style?o.style:(HY((n=VJ()).Polygon,n.LineString),HY(n.GeometryCollection,n.LineString),function(t){return t.getGeometry()?n[t.getGeometry().getType()]:null}),r.features_=o.features||new U0,o.layers)if("function"==typeof o.layers)i=o.layers;else{var s=o.layers;i=function(t){return XY(s,t)}}else i=GY;return r.layerFilter_=i,r.featureLayerAssociation_={},r}return A3(e,t),e.prototype.addFeatureLayerAssociation_=function(t,e){this.featureLayerAssociation_[dQ(t)]=e},e.prototype.getFeatures=function(){return this.features_},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.getLayer=function(t){return this.featureLayerAssociation_[dQ(t)]},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),t.prototype.setMap.call(this,e),e?(this.features_.addEventListener("add",this.boundAddFeature_),this.features_.addEventListener("remove",this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener("add",this.boundAddFeature_),this.features_.removeEventListener("remove",this.boundRemoveFeature_))},e.prototype.addFeature_=function(t){this.style_&&this.applySelectedStyle_(t.element)},e.prototype.removeFeature_=function(t){this.style_&&this.restorePreviousStyle_(t.element)},e.prototype.getStyle=function(){return this.style_},e.prototype.applySelectedStyle_=function(t){var e=dQ(t);e in L3||(L3[e]=t.getStyle()),t.setStyle(this.style_)},e.prototype.restorePreviousStyle_=function(t){for(var n=this.getMap().getInteractions().getArray(),i=n.length-1;i>=0;--i){var r=n[i];if(r!==this&&r instanceof e&&r.getStyle()&&-1!==r.getFeatures().getArray().lastIndexOf(t))return void t.setStyle(r.getStyle())}var o=dQ(t);t.setStyle(L3[o]),delete L3[o]},e.prototype.removeFeatureLayerAssociation_=function(t){delete this.featureLayerAssociation_[dQ(t)]},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=this.addCondition_(t),n=this.removeCondition_(t),i=this.toggleCondition_(t),r=!e&&!n&&!i,o=t.map,s=this.getFeatures(),a=[],c=[];if(r){ZY(this.featureLayerAssociation_),o.forEachFeatureAtPixel(t.pixel,(function(t,e){if(this.filter_(t,e))return c.push(t),this.addFeatureLayerAssociation_(t,e),!this.multi_}).bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var l=s.getLength()-1;l>=0;--l){var u=s.item(l),h=c.indexOf(u);h>-1?c.splice(h,1):(s.remove(u),a.push(u))}0!==c.length&&s.extend(c)}else{o.forEachFeatureAtPixel(t.pixel,(function(t,r){if(this.filter_(t,r))return!e&&!i||XY(s.getArray(),t)?(n||i)&&XY(s.getArray(),t)&&(a.push(t),this.removeFeatureLayerAssociation_(t)):(c.push(t),this.addFeatureLayerAssociation_(t,r)),!this.multi_}).bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var d=a.length-1;d>=0;--d)s.remove(a[d]);s.extend(c)}return(c.length>0||a.length>0)&&this.dispatchEvent(new P3("select",c,a,t)),!0},e}(n3),j3=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function N3(t){for(var e=[],n=0,i=t.length;n<i;++n)e.push(t[n].clone());return e}var V3=function(t){function e(e){var n=t.call(this)||this;return n.geometries_=e||null,n.changeEventsKeys_=[],n.listenGeometriesChange_(),n}return j3(e,t),e.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(aQ),this.changeEventsKeys_.length=0},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)this.changeEventsKeys_.push(oQ(this.geometries_[t],"change",this.changed,this))},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,i){if(i<eZ(this.getExtent(),t,e))return i;for(var r=this.geometries_,o=0,s=r.length;o<s;++o)i=r[o].closestPointXY(t,e,n,i);return i},e.prototype.containsXY=function(t,e){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)if(n[i].containsXY(t,e))return!0;return!1},e.prototype.computeExtent=function(t){aZ(t);for(var e=this.geometries_,n=0,i=e.length;n<i;++n)hZ(t,e[n].getExtent());return t},e.prototype.getGeometries=function(){return N3(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getGeometriesArrayRecursive=function(){for(var t=[],e=this.geometries_,n=0,i=e.length;n<i;++n)e[n].getType()===this.getType()?t=t.concat(e[n].getGeometriesArrayRecursive()):t.push(e[n]);return t},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var n=[],i=this.geometries_,r=!1,o=0,s=i.length;o<s;++o){var a=i[o],c=a.getSimplifiedGeometry(t);n.push(c),c!==a&&(r=!0)}if(r){var l=new e(null);return l.setGeometriesArray(n),l}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return"GeometryCollection"},e.prototype.intersectsExtent=function(t){for(var e=this.geometries_,n=0,i=e.length;n<i;++n)if(e[n].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return 0===this.geometries_.length},e.prototype.rotate=function(t,e){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)n[i].rotate(t,e);this.changed()},e.prototype.scale=function(t,e,n){var i=n;i||(i=vZ(this.getExtent()));for(var r=this.geometries_,o=0,s=r.length;o<s;++o)r[o].scale(t,e,i);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(N3(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var e=this.geometries_,n=0,i=e.length;n<i;++n)e[n].applyTransform(t);this.changed()},e.prototype.translate=function(t,e){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)n[i].translate(t,e);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},e}(b0),W3=function(){function t(){this.dataProjection=null,this.defaultFeatureProjection=null}return t.prototype.getReadOptions=function(t,e){var n;if(e){var i=e.dataProjection?t0(e.dataProjection):this.readProjection(t);e.extent&&i&&i.getUnits()===S1.TILE_PIXELS&&(i=t0(i)).setWorldExtent(e.extent),n={dataProjection:i,featureProjection:e.featureProjection}}return this.adaptOptions(n)},t.prototype.adaptOptions=function(t){return JY({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},t.prototype.getType=function(){return uQ()},t.prototype.readFeature=function(t,e){return uQ()},t.prototype.readFeatures=function(t,e){return uQ()},t.prototype.readGeometry=function(t,e){return uQ()},t.prototype.readProjection=function(t){return uQ()},t.prototype.writeFeature=function(t,e){return uQ()},t.prototype.writeFeatures=function(t,e){return uQ()},t.prototype.writeGeometry=function(t,e){return uQ()},t}();function q3(t,e,n){var i,r=n?t0(n.featureProjection):null,o=n?t0(n.dataProjection):null;if(i=r&&o&&!s0(r,o)?(e?t.clone():t).transform(e?r:o,e?o:r):t,e&&n&&void 0!==n.decimals){var s=Math.pow(10,n.decimals);i===t&&(i=t.clone()),i.applyTransform(function(t){for(var e=0,n=t.length;e<n;++e)t[e]=Math.round(t[e]*s)/s;return t})}return i}var B3=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function X3(t){return"string"==typeof t?JSON.parse(t)||null:null!==t?t:null}var U3=function(t){function e(){return t.call(this)||this}return B3(e,t),e.prototype.getType=function(){return"json"},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject(X3(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(X3(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(t,e){return uQ()},e.prototype.readFeaturesFromObject=function(t,e){return uQ()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(X3(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(t,e){return uQ()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(X3(t))},e.prototype.readProjectionFromObject=function(t){return uQ()},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(t,e){return uQ()},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(t,e){return uQ()},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(t,e){return uQ()},e}(W3),$3=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function H3(t,e){if(!t)return null;var n;switch(t.type){case"Point":n=function(t){return new D2(t.coordinates)}(t);break;case"LineString":n=function(t){return new z2(t.coordinates)}(t);break;case"Polygon":n=function(t){return new $2(t.coordinates)}(t);break;case"MultiPoint":n=function(t){return new R2(t.coordinates)}(t);break;case"MultiLineString":n=function(t){return new E2(t.coordinates)}(t);break;case"MultiPolygon":n=function(t){return new G2(t.coordinates)}(t);break;case"GeometryCollection":n=function(t,e){var n=t.geometries.map(function(t){return H3(t,void 0)});return new V3(n)}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return q3(n,!1,e)}function K3(t,e){var n,i=(t=q3(t,!0,e)).getType();switch(i){case"Point":n=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case"LineString":n=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case"Polygon":n=function(t,e){var n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}(t,e);break;case"MultiPoint":n=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case"MultiLineString":n=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case"MultiPolygon":n=function(t,e){var n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}(t,e);break;case"GeometryCollection":n=function(t,e){return{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(t){var n=JY({},e);return delete n.featureProjection,K3(t,n)})}}(t,e);break;case"Circle":n={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+i)}return n}var G3=function(t){function e(e){var n=this,i=e||{};return(n=t.call(this)||this).dataProjection=t0(i.dataProjection?i.dataProjection:"EPSG:4326"),i.featureProjection&&(n.defaultFeatureProjection=t0(i.featureProjection)),n.geometryName_=i.geometryName,n.extractGeometryName_=i.extractGeometryName,n}return $3(e,t),e.prototype.readFeatureFromObject=function(t,e){var n,i=H3((n="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null}).geometry,e),r=new a2;return this.geometryName_?r.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in n!==void 0&&r.setGeometryName(n.geometry_name),r.setGeometry(i),"id"in n&&r.setId(n.id),n.properties&&r.setProperties(n.properties,!0),r},e.prototype.readFeaturesFromObject=function(t,e){var n=null;if("FeatureCollection"===t.type){n=[];for(var i=t.features,r=0,o=i.length;r<o;++r)n.push(this.readFeatureFromObject(i[r],e))}else n=[this.readFeatureFromObject(t,e)];return n},e.prototype.readGeometryFromObject=function(t,e){return H3(t,e)},e.prototype.readProjectionFromObject=function(t){var e,n=t.crs;return n?"name"==n.type?e=t0(n.properties.name):"EPSG"===n.type?e=t0("EPSG:"+n.properties.code):wQ(!1,36):e=this.dataProjection,e},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var n={type:"Feature",geometry:null,properties:null},i=t.getId();if(void 0!==i&&(n.id=i),!t.hasProperties())return n;var r=t.getProperties(),o=t.getGeometry();return o&&(n.geometry=K3(o,e),delete r[t.getGeometryName()]),eQ(r)||(n.properties=r),n},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var n=[],i=0,r=t.length;i<r;++i)n.push(this.writeFeatureObject(t[i],e));return{type:"FeatureCollection",features:n}},e.prototype.writeGeometryObject=function(t,e){return K3(t,this.adaptOptions(e))},e}(U3),Y3=function(t){return t[t.ActiveModeDrawing=0]="ActiveModeDrawing",t[t.AbortModeDrawing=1]="AbortModeDrawing",t}({});class Q3{constructor(t){this.map=t,this.isActiveDrawingMode=!1,this.regions=new Map,this.nextIdModeDrawRegions=1,this.selectedIdCustomRegions=null,this.isActiveModeDrawRegions=!1,this.isActiveDrawFeatureInRegions=!1,this.needResolveChangesRegion=!1,this.selectedFeatureInDraw=null,this.selectedFeatureInDrawStyle=null,this.events=new xe.a,this.initDrawBoxArea(),this.initDrawPolygonArea(),this.initDrawNewRegion()}initDrawBoxArea(){this.sourceDrawBoxArea=new t2({wrapX:!1}),this.vectorDrawBoxArea=new q0({source:this.sourceDrawBoxArea,zIndex:10}),this.drawBoxArea=new w3({source:this.sourceDrawBoxArea,type:"Circle",geometryFunction:function(t,e,n){var i=JJ([t[0],t[t.length-1]].map(function(t){return h0(t)})),r=[[bZ(i),yZ(i),xZ(i),SZ(i),bZ(i)]],o=e;return o?o.setCoordinates(r):o=new $2(r),o},condition:t=>"pointerdown"==t.type&&1===t.originalEvent.buttons}),this.drawBoxArea.setActive(!1),this.drawBoxArea.on("drawstart",(t=>{console.log(t),this.removeAllFeaturesDrawArea()}).bind(this)),this.drawBoxArea.on("drawend",(t=>{this.removeAllFeaturesDrawArea(),t.feature.setStyle(new qJ({stroke:new LJ({color:"rgba(0, 0, 255, 1)",width:0}),fill:new PJ({color:"rgba(255, 255, 255, 0.6)"})})),this.abortModeDrawing()}).bind(this)),this.drawBoxArea.on("drawabort",(t=>{this.abortModeDrawing()}).bind(this)),this.map.addLayer(this.vectorDrawBoxArea)}initDrawPolygonArea(){this.sourcePolygonArea=new t2({wrapX:!1}),this.vectorPolygonArea=new q0({source:this.sourcePolygonArea,zIndex:10}),this.drawPolygonArea=new w3({source:this.sourcePolygonArea,type:"Polygon",condition:t=>"pointerdown"==t.type&&1===t.originalEvent.buttons}),this.drawPolygonArea.setActive(!1),this.drawPolygonArea.on("drawstart",(t=>{this.removeAllFeaturesDrawArea()}).bind(this)),this.drawPolygonArea.on("drawend",(t=>{this.removeAllFeaturesDrawArea(),t.feature.setStyle(new qJ({stroke:new LJ({color:"rgba(0, 0, 255, 1)",width:0}),fill:new PJ({color:"rgba(255, 255, 255, 0.6)"})})),this.abortModeDrawing()}).bind(this)),this.drawPolygonArea.on("drawabort",(t=>{this.abortModeDrawing()}).bind(this)),this.map.addLayer(this.vectorPolygonArea)}initDrawNewRegion(){this.newRegion={};const t=new t2({wrapX:!1});this.newRegion.layer=new q0({source:t,zIndex:10}),this.map.addLayer(this.newRegion.layer),this.newRegion.draw=new w3({source:t,type:"Polygon",condition:t=>"pointerdown"==t.type&&1===t.originalEvent.buttons}),this.newRegion.draw.setActive(!1),this.newRegion.draw.on("drawstart",(t=>{console.log(t)}).bind(this)),this.newRegion.draw.on("drawend",(t=>{const e=t.feature;this.needResolveChangesRegion=!0,this.updateStyleFeature(this.newRegion.style,e)}).bind(this)),this.newRegion.draw.on("drawabort",(t=>{console.log(t)}).bind(this)),this.newRegion.modify=new E3({source:t}),this.newRegion.modify.on("modifyend",t=>{this.needResolveChangesRegion=!0}),this.newRegion.modify.setActive(!1),this.newRegion.snap=new R3({source:t}),this.newRegion.snap.setActive(!1),this.map.addInteraction(this.newRegion.draw),this.map.addInteraction(this.newRegion.modify),this.map.addInteraction(this.newRegion.snap)}initCustomRegion(t){const e=this.regions.get(t);if(e){const t=new t2({wrapX:!1});e.layer=new q0({source:t,zIndex:10}),this.map.addLayer(e.layer),e.draw=new w3({source:t,type:"Polygon",condition:t=>"pointerdown"==t.type&&1===t.originalEvent.buttons}),e.draw.setActive(!1),e.draw.on("drawstart",(t=>{console.log(t)}).bind(this)),e.draw.on("drawend",(t=>{const e=t.feature;if(this.needResolveChangesRegion=!0,this.selectedIdCustomRegions){const t=this.regions.get(this.getSelectedIdCustomRegions());this.updateStyleFeature(t.style,e)}}).bind(this)),e.draw.on("drawabort",(t=>{console.log(t)}).bind(this)),e.modify=new E3({source:t}),e.modify.on("modifyend",t=>{this.needResolveChangesRegion=!0}),e.modify.setActive(!1),e.snap=new R3({source:t}),e.snap.setActive(!1),e.select=new F3({condition:u3,layers:[e.layer],style:null}),e.select.setActive(!1),e.select.on("select",t=>{if(this.selectedFeatureInDraw&&this.selectedFeatureInDrawStyle&&(this.selectedFeatureInDraw.setStyle(this.selectedFeatureInDrawStyle),this.selectedFeatureInDrawStyle=null,this.selectedFeatureInDraw=null),1==t.selected.length){const e=t.selected[0];this.selectedFeatureInDrawStyle=e.getStyle().clone();const n=e.getStyle(),i=n.getStroke();i.setWidth(i.getWidth()+2),n.setStroke(i),e.setStyle(n),this.selectedFeatureInDraw=e}}),this.map.addInteraction(e.draw),this.map.addInteraction(e.modify),this.map.addInteraction(e.snap),this.map.addInteraction(e.select)}}activeModeDrawing(){this.overlayOpenLayerClick.setPosition(void 0),this.overlayOpenLayerRightClick.setPosition(void 0),this.events.next({type:Y3.ActiveModeDrawing}),this.isActiveDrawingMode=!0}activeSelectDrawingBoxArea(){this.abortModeDrawing(),this.activeModeDrawing(),this.drawBoxArea.setActive(!0)}removeAllFeaturesDrawBoxArea(){this.sourceDrawBoxArea.getFeatures().forEach((t=>{this.sourceDrawBoxArea.removeFeature(t)}).bind(this))}activeSelectDrawingPolygonArea(){this.abortModeDrawing(),this.activeModeDrawing(),this.drawPolygonArea.setActive(!0)}removeAllFeaturesDrawPolygonArea(){this.sourcePolygonArea.getFeatures().forEach((t=>{this.sourcePolygonArea.removeFeature(t)}).bind(this))}activeModeDrawRegion(){this.abortModeDrawing(),this.activeModeDrawing(),this.selectedIdCustomRegions&&this.changeStateSelectRegion(this.selectedIdCustomRegions,!0),this.isActiveModeDrawRegions=!0}changeStateInteractionRegion(t,e){const n=this.regions.get(t);n&&(n.draw.setActive(e),n.snap.setActive(e),n.modify.setActive(e))}changeStateSelectRegion(t,e){const n=this.regions.get(t);n&&(n.select.setActive(e),e||n.select.getFeatures().clear())}changeStateInteractionNewRegion(t){this.newRegion.draw.setActive(t),this.newRegion.snap.setActive(t),this.newRegion.modify.setActive(t)}activeDrawFeatureInDrawRegion(){this.selectedIdCustomRegions?(this.changeStateInteractionRegion(this.selectedIdCustomRegions,!0),this.changeStateSelectRegion(this.selectedIdCustomRegions,!1)):this.changeStateInteractionNewRegion(!0),this.isActiveDrawFeatureInRegions=!0}disableDrawFeatureInDrawRegion(){this.isActiveDrawFeatureInRegions=!1,this.changeStateInteractionRegion(this.selectedIdCustomRegions,!1),this.changeStateSelectRegion(this.selectedIdCustomRegions,!0),this.changeStateInteractionNewRegion(!1)}abortModeDrawing(){this.events.next({type:Y3.AbortModeDrawing}),this.isActiveDrawingMode=!1,this.drawBoxArea.setActive(!1),this.drawBoxArea.abortDrawing(),this.drawPolygonArea.setActive(!1),this.drawPolygonArea.abortDrawing(),this.isActiveModeDrawRegions=!1,this.isActiveDrawFeatureInRegions=!1,this.regions.forEach(t=>{t.snap.setActive(!1),t.modify.setActive(!1),t.draw.setActive(!1),t.select.setActive(!1),t.select.getFeatures().clear(),t.draw.abortDrawing()}),this.selectedFeatureInDraw&&this.selectedFeatureInDrawStyle&&(this.selectedFeatureInDraw.setStyle(this.selectedFeatureInDrawStyle),this.selectedFeatureInDrawStyle=null,this.selectedFeatureInDraw=null),this.newRegion.modify.setActive(!1),this.newRegion.snap.setActive(!1),this.newRegion.draw.setActive(!1),this.newRegion.draw.abortDrawing()}updateStyleFeature(t,e){const n=t.opacity.toString(16);e.setStyle(new qJ({fill:new PJ({color:t.fill.color+n}),stroke:new LJ({color:t.stroke.color,width:2})}))}setOverlay(t,e){this.overlayOpenLayerClick=t,this.overlayOpenLayerRightClick=e}addInterationsToMap(t){t.addInteraction(this.drawBoxArea),t.addInteraction(this.drawPolygonArea)}drawSelectBoxArea(){this.activeSelectDrawingBoxArea()}drawSelectPolygonArea(){this.activeSelectDrawingPolygonArea()}removeAllFeaturesDrawArea(){this.removeAllFeaturesDrawBoxArea(),this.removeAllFeaturesDrawPolygonArea()}startModeDrawRegions(){this.activeModeDrawRegion()}finishModeDrawRegions(){this.needResolveChangesRegion=!1,this.abortModeDrawing()}drawFeatureModeRegions(){this.activeDrawFeatureInDrawRegion()}disableDrawFeatureModeRegions(){this.disableDrawFeatureInDrawRegion()}getStateModeDrawRegions(){return this.isActiveModeDrawRegions}getStateDrawFeatureRegions(){return this.isActiveDrawFeatureInRegions}getCustomRegions(){return this.regions}getSelectedIdCustomRegions(){return this.selectedIdCustomRegions}selectIdCustomRegions(t){this.selectedIdCustomRegions&&this.changeStateInteractionRegion(this.selectedIdCustomRegions,!1),this.selectedIdCustomRegions=t,t?this.changeVisibilityRegion(!0,t):(this.newRegion.attributes={},this.newRegion.name="",this.newRegion.style={fill:{color:"#0099ff"},stroke:{color:"#606060"},opacity:120})}addCustomRegions(t,e,n){this.regions.set(t,{name:n.name?n.name:`Regi\xf3n ${this.nextIdModeDrawRegions}`,visible:!!n.visible,style:{fill:{color:n.fillColor?n.fillColor:"#0099ff"},stroke:{color:n.strokeColor?n.strokeColor:"#606060"},opacity:n.opacity?n.opacity:120}}),this.initCustomRegion(t),e&&this.regions.get(t).layer.getSource().addFeatures(e),this.nextIdModeDrawRegions++}modifyCustomRegion(t,e){const n=this.regions.get(t);e.name&&(n.name=e.name),e.fillColor&&(n.style.fill.color=e.fillColor),e.opacity&&(n.style.opacity=e.opacity);for(const i of n.layer.getSource().getFeatures())this.updateStyleFeature(n.style,i)}removeCustomRegion(t){const e=this.regions.get(t);this.selectedIdCustomRegions==t&&(this.selectedIdCustomRegions=null,this.finishModeDrawRegions()),this.map.getLayers().getArray().includes(e.layer)&&this.map.removeLayer(e.layer),this.regions.delete(t)}removeSelectedFeatureRegion(){if(!this.selectedFeatureInDraw)return;const t=this.regions.get(this.selectedIdCustomRegions);if(t){t.select.getFeatures().clear();const e=t.layer.getSource();e.hasFeature(this.selectedFeatureInDraw)&&e.removeFeature(this.selectedFeatureInDraw),this.selectedFeatureInDraw=null,this.selectedFeatureInDrawStyle=null,this.needResolveChangesRegion=!0}}removeFeaturesNewDrawRegions(){this.newRegion.layer.getSource().clear()}changeVisibilityRegion(t,e){const n=this.regions.get(e);t||this.selectedIdCustomRegions==e&&(this.selectedIdCustomRegions=null,this.finishModeDrawRegions()),n.layer.setVisible(t),n.visible=t}updateRegionFromBackend(t){const e=this.regions.get(t.id);e.attributes=t.attributes,e.name=t.name,e.style=t.style;const n=(new G3).readFeatures(t.geometry);for(const i of n)i.setId(void 0),this.updateStyleFeature(e.style,i);e.layer.getSource().clear(),e.layer.getSource().addFeatures(n),this.changeVisibilityRegion(e.visible,t.id)}resetRegions(t){const e=[],n=this.map.getLayers().getArray();this.regions.forEach((t,i)=>{n.includes(t.layer)&&this.map.removeLayer(t.layer),this.map.removeInteraction(t.draw),this.map.removeInteraction(t.snap),this.map.removeInteraction(t.modify),t.visible&&e.push(i)}),this.regions.clear();for(const i of t){const t=e.includes(i.id),n=(new G3).readFeatures(i.geometry);this.regions.set(i.id,{attributes:i.attributes,name:i.name,style:i.style,visible:t}),this.initCustomRegion(i.id);const r=this.regions.get(i.id);for(const e of n)e.setId(void 0),this.updateStyleFeature(i.style,e);r.layer.getSource().addFeatures(n),this.changeVisibilityRegion(t,i.id)}console.log(this.regions)}}var J3=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Z3(t,e){S0.expire()}var t4=function(t){function e(e){var n=t.call(this)||this;return n.map_=e,n}return J3(e,t),e.prototype.dispatchRenderEvent=function(t,e){uQ()},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;gJ(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),mJ(i,n)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,o,s,a){var c,l=e.viewState;function u(t,e,n,i){return r.call(o,e,t?n:null,i)}var h=l.projection,d=G1(t.slice(),h),p=[[0,0]];if(h.canWrapX()&&i){var f=OZ(h.getExtent());p.push([-f,0],[f,0])}for(var g=e.layerStatesArray,m=g.length,b=[],y=[],v=0;v<p.length;v++)for(var _=m-1;_>=0;--_){var w=g[_],z=w.layer;if(z.hasRenderer()&&RQ(w,l)&&s.call(a,z)){var C=z.getRenderer(),S=z.getSource();if(C&&S){var x=S.getWrapX()?d:t,O=u.bind(null,w.managed);y[0]=x[0]+p[v][0],y[1]=x[1]+p[v][1],c=C.forEachFeatureAtCoordinate(y,e,n,O,b)}if(c)return c}}if(0!==b.length){var k=1/b.length;return b.forEach(function(t,e){return t.distanceSq+=e*k}),b.sort(function(t,e){return t.distanceSq-e.distanceSq}),b.some(function(t){return c=t.callback(t.feature,t.layer,t.geometry)}),c}},e.prototype.forEachLayerAtPixel=function(t,e,n,i,r){return uQ()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,i,r,o){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,i,GY,this,r,o)},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){uQ()},e.prototype.scheduleExpireIconCache=function(t){S0.canExpireCache()&&t.postRenderFunctions.push(Z3)},e}(qY),e4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),n4=function(t){function e(e){var n=t.call(this,e)||this;n.fontChangeListenerKey_=oQ(_J,"propertychange",e.redrawText.bind(e)),n.element_=document.createElement("div");var i=n.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",n.element_.className="ol-unselectable ol-layers";var r=e.getViewport();return r.insertBefore(n.element_,r.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return e4(e,t),e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap();if(n.hasListener(t)){var i=new JZ(t,void 0,e);n.dispatchEvent(i)}},e.prototype.disposeInternal=function(){aQ(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),t.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(t){if(t){this.calculateMatrices2D(t),this.dispatchRenderEvent("precompose",t);var e=t.layerStatesArray.sort(function(t,e){return t.zIndex-e.zIndex}),n=t.viewState;this.children_.length=0;for(var i=[],r=null,o=0,s=e.length;o<s;++o){var a=e[o];if(t.layerIndex=o,RQ(a,n)&&("ready"==a.sourceState||"undefined"==a.sourceState)){var c=a.layer,l=c.render(t,r);l&&(l!==r&&(this.children_.push(l),r=l),"getDeclutter"in c&&i.push(c))}}for(o=i.length-1;o>=0;--o)i[o].renderDeclutter(t);!function(t,e){for(var n=t.childNodes,i=0;;++i){var r=n[i],o=e[i];if(!r&&!o)break;r!==o&&(r?o?t.insertBefore(o,r):(t.removeChild(r),--i):t.appendChild(o))}}(this.element_,this.children_),this.dispatchRenderEvent("postcompose",t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,i,r){for(var o=e.viewState,s=e.layerStatesArray,a=s.length-1;a>=0;--a){var c=s[a],l=c.layer;if(l.hasRenderer()&&RQ(c,o)&&r(l)){var u=l.getRenderer().getDataAtPixel(t,e,n);if(u){var h=i(l,u);if(h)return h}}}},e}(t4),i4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r4=function(t){function e(e){var n=this,i=e||{},r=JY({},i);delete r.layers;var o=i.layers;return(n=t.call(this,r)||this).layersListenerKeys_=[],n.listenerKeys_={},n.addEventListener(bQ("layers"),n.handleLayersChanged_),o?Array.isArray(o)?o=new U0(o.slice(),{unique:!0}):wQ("function"==typeof o.getArray,43):o=new U0(void 0,{unique:!0}),n.setLayers(o),n}return i4(e,t),e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(aQ),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(oQ(t,"add",this.handleLayersAdd_,this),oQ(t,"remove",this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(aQ);ZY(this.listenerKeys_);for(var n=t.getArray(),i=0,r=n.length;i<r;i++){var o=n[i];this.listenerKeys_[dQ(o)]=[oQ(o,"propertychange",this.handleLayerChange_,this),oQ(o,"change",this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[dQ(e)]=[oQ(e,"propertychange",this.handleLayerChange_,this),oQ(e,"change",this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=dQ(t.element);this.listenerKeys_[e].forEach(aQ),delete this.listenerKeys_[e],this.changed()},e.prototype.getLayers=function(){return this.get("layers")},e.prototype.setLayers=function(t){this.set("layers",t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach(function(t){t.getLayersArray(e)}),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});for(var i=this.getLayerState(),r=n,o=e.length;r<o;r++){var s=e[r];s.opacity*=i.opacity,s.visible=s.visible&&i.visible,s.maxResolution=Math.min(s.maxResolution,i.maxResolution),s.minResolution=Math.max(s.minResolution,i.minResolution),s.minZoom=Math.max(s.minZoom,i.minZoom),s.maxZoom=Math.min(s.maxZoom,i.maxZoom),void 0!==i.extent&&(s.extent=void 0!==s.extent?CZ(s.extent,i.extent):i.extent)}return e},e.prototype.getSourceState=function(){return"ready"},e}(DQ),o4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),s4=function(t){function e(e,n){var i=t.call(this,e)||this;i.map_=e,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=n?n*eJ:eJ,i.down_=null;var r=i.map_.getViewport();return i.activePointers_=0,i.trackedTouches_={},i.element_=r,i.pointerdownListenerKey_=oQ(r,"pointerdown",i.handlePointerDown_,i),i.relayedListenerKey_=oQ(r,"pointermove",i.relayEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener("touchmove",i.boundHandleTouchMove_,!!rJ&&{passive:!1}),i}return o4(e,t),e.prototype.emulateClick_=function(t){var e=new O2(k2.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new O2(k2.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout((function(){this.clickTimeoutId_=void 0;var e=new O2(k2.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}).bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==k2.POINTERUP||e.type==k2.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==k2.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new O2(k2.POINTERUP,this.map_,t);this.dispatchEvent(e),this.emulateClicks_&&!e.propagationStopped&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(aQ),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.emulateClicks_=0===this.activePointers_,this.updateActivePointers_(t);var e=new O2(k2.POINTERDOWN,this.map_,t);if(this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length){var n=this.map_.getOwnerDocument();this.dragListenerKeys_.push(oQ(n,k2.POINTERMOVE,this.handlePointerMove_,this),oQ(n,k2.POINTERUP,this.handlePointerUp_,this),oQ(this.element_,k2.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==n&&this.dragListenerKeys_.push(oQ(this.element_.getRootNode(),k2.POINTERUP,this.handlePointerUp_,this))}},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new O2(k2.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},e.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new O2(t.type,this.map_,t,e))},e.prototype.handleTouchMove_=function(t){this.originalPointerMoveEvent_&&!this.originalPointerMoveEvent_.defaultPrevented||t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(aQ(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener("touchmove",this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(aQ(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(aQ),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},e}(rQ),a4=1/0,c4=function(){function t(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,ZY(this.queuedElements_)},t.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n},t.prototype.enqueue=function(t){wQ(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=a4&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(t){return 2*t+1},t.prototype.getRightChildIndex_=function(t){return 2*t+2},t.prototype.getParentIndex_=function(t){return t-1>>1},t.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(t){return t in this.queuedElements_},t.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},t.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,i=e.length,r=e[t],o=n[t],s=t;t<i>>1;){var a=this.getLeftChildIndex_(t),c=this.getRightChildIndex_(t),l=c<i&&n[c]<n[a]?c:a;e[t]=e[l],n[t]=n[l],t=l}e[t]=r,n[t]=o,this.siftDown_(s,t)},t.prototype.siftDown_=function(t,e){for(var n=this.elements_,i=this.priorities_,r=n[e],o=i[e];e>t;){var s=this.getParentIndex_(e);if(!(i[s]>o))break;n[e]=n[s],i[e]=i[s],e=s}n[e]=r,i[e]=o},t.prototype.reprioritize=function(){var t,e,n,i=this.priorityFunction_,r=this.elements_,o=this.priorities_,s=0,a=r.length;for(e=0;e<a;++e)(n=i(t=r[e]))==a4?delete this.queuedElements_[this.keyFunction_(t)]:(o[s]=n,r[s++]=t);r.length=s,o.length=s,this.heapify_()},t}(),l4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),u4=function(t){function e(e,n){var i=t.call(this,function(t){return e.apply(null,t)},function(t){return t[0].getKey()})||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=n,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return l4(e,t),e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);return n&&e[0].addEventListener("change",this.boundHandleTileChange_),n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(e.hifi&&2===n||3===n||4===n){e.removeEventListener("change",this.boundHandleTileChange_);var i=e.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,i,r=0;this.tilesLoading_<t&&r<e&&this.getCount()>0;)i=(n=this.dequeue()[0]).getKey(),0!==n.getState()||i in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[i]=!0,++this.tilesLoading_,++r,n.load())},e}(c4);function h4(t,e,n){return function(i,r,o,s,a){if(i){var c=e?0:o[0]*r,l=e?0:o[1]*r,u=a?a[0]:0,h=a?a[1]:0,d=t[0]+c/2+u,p=t[2]-c/2+u,f=t[1]+l/2+h,g=t[3]-l/2+h;d>p&&(p=d=(p+d)/2),f>g&&(g=f=(g+f)/2);var m=zQ(i[0],d,p),b=zQ(i[1],f,g),y=30*r;return s&&n&&(m+=-y*Math.log(1+Math.max(0,d-i[0])/y)+y*Math.log(1+Math.max(0,i[0]-p)/y),b+=-y*Math.log(1+Math.max(0,f-i[1])/y)+y*Math.log(1+Math.max(0,i[1]-g)/y)),[m,b]}}}function d4(t){return t}function p4(t,e,n,i){var r=OZ(e)/n[0],o=zZ(e)/n[1];return i?Math.min(t,Math.max(r,o)):Math.min(t,Math.min(r,o))}function f4(t,e,n){var i=Math.min(t,e);return i*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(i=Math.max(i,n),i/=Math.log(1+50*Math.max(0,n/t-1))/50+1),zQ(i,n/2,2*e)}function g4(t,e,n,i,r){return function(o,s,a,c){if(void 0!==o){var l=i?p4(t,i,a,r):t;return(void 0===n||n)&&c?f4(o,l,e):zQ(o,e,l)}}}function m4(t){return void 0!==t?0:void 0}function b4(t){return void 0!==t?t:void 0}var y4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function v4(t,e){setTimeout(function(){t(e)},0)}function _4(t){return!(t.sourceCenter&&t.targetCenter&&!X1(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}function w4(t,e,n,i,r){var o=Math.cos(-r),s=Math.sin(-r),a=t[0]*o-t[1]*s,c=t[1]*o+t[0]*s;return[(a+=(e[0]/2-n[0])*i)*o-(c+=(n[1]-e[1]/2)*i)*(s=-s),c*o+a*s]}var z4=function(t){function e(e){var n=t.call(this)||this,i=JY({},e);return n.hints_=[0,0],n.animations_=[],n.projection_=i0(i.projection,"EPSG:3857"),n.viewportSize_=[100,100],n.targetCenter_=null,n.cancelAnchor_=void 0,i.center&&(i.center=h0(i.center)),i.extent&&(i.extent=p0(i.extent)),n.applyOptions_(i),n}return y4(e,t),e.prototype.applyOptions_=function(t){var e=function(t){var e,n,i,r=void 0!==t.minZoom?t.minZoom:0,o=void 0!==t.maxZoom?t.maxZoom:28,s=void 0!==t.zoomFactor?t.zoomFactor:2,a=void 0!==t.multiWorld&&t.multiWorld,c=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,l=void 0!==t.showFullExtent&&t.showFullExtent,u=i0(t.projection,"EPSG:3857"),h=u.getExtent(),d=t.constrainOnlyCenter,p=t.extent;if(a||p||!u.isGlobal()||(d=!1,p=h),void 0!==t.resolutions){var f=t.resolutions;n=f[r],i=void 0!==f[o]?f[o]:f[f.length-1],e=t.constrainResolution?function(t,e,n,i){return function(r,o,s,a){if(void 0!==r){var c=t[0],l=t[t.length-1],u=n?p4(c,n,s,i):c;if(a)return void 0===e||e?f4(r,u,l):zQ(r,l,u);var h=Math.min(u,r),d=Math.floor(UY(t,h,o));return t[d]>u&&d<t.length-1?t[d+1]:t[d]}}}(f,c,!d&&p,l):g4(n,i,c,!d&&p,l)}else{var g=(h?Math.max(OZ(h),zZ(h)):360*_1[S1.DEGREES]/u.getMetersPerUnit())/256/Math.pow(2,0),m=g/Math.pow(2,28);void 0!==(n=t.maxResolution)?r=0:n=g/Math.pow(s,r),void 0===(i=t.minResolution)&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(s,o):g/Math.pow(s,o):m),o=r+Math.floor(Math.log(n/i)/Math.log(s)),i=n/Math.pow(s,o-r),e=t.constrainResolution?function(t,e,n,i,r,o){return function(s,a,c,l){if(void 0!==s){var u=r?p4(e,r,c,o):e,h=void 0!==n?n:0;if(l)return void 0===i||i?f4(s,u,h):zQ(s,h,u);var d=Math.ceil(Math.log(e/u)/Math.log(t)-1e-9),p=-a*(.5-1e-9)+.5,f=Math.min(u,s),g=Math.floor(Math.log(e/f)/Math.log(t)+p),m=Math.max(d,g);return zQ(e/Math.pow(t,m),h,u)}}}(s,n,i,c,!d&&p,l):g4(n,i,c,!d&&p,l)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:r,zoomFactor:s}}(t);this.maxResolution_=e.maxResolution,this.minResolution_=e.minResolution,this.zoomFactor_=e.zoomFactor,this.resolutions_=t.resolutions,this.padding=t.padding,this.minZoom_=e.minZoom;var n=function(t){if(void 0!==t.extent)return h4(t.extent,t.constrainOnlyCenter,void 0===t.smoothExtentConstraint||t.smoothExtentConstraint);var e=i0(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){var n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,h4(n,!1,!1)}return d4}(t),i=e.constraint,r=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(i=kQ(5),function(t,e){return e?t:void 0!==t?Math.abs(t)<=i?0:t:void 0}):!1===e?b4:"number"==typeof e?(n=2*Math.PI/e,function(t,e){return e?t:void 0!==t?t=Math.floor(t/n+.5)*n:void 0}):b4}return m4;var n,i}(t);this.constraints_={center:n,resolution:i,rotation:r},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom),this.setProperties({}),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=JY({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),JY({},e,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),n=0;n<e.length;++n){var i=arguments[n];i.center&&((i=JY({},i)).center=h0(i.center,this.getProjection())),i.anchor&&((i=JY({},i)).anchor=h0(i.anchor,this.getProjection())),e[n]=i}this.animateInternal.apply(this,e)},e.prototype.animateInternal=function(t){var e,n=arguments.length;if(n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n),!this.isDef()){var i=arguments[n-1];return i.center&&this.setCenterInternal(i.center),void 0!==i.zoom&&this.setZoom(i.zoom),void 0!==i.rotation&&this.setRotation(i.rotation),void(e&&v4(e,!0))}for(var r=Date.now(),o=this.targetCenter_.slice(),s=this.targetResolution_,a=this.targetRotation_,c=[],l=0;l<n;++l){var u=arguments[l],h={start:r,complete:!1,anchor:u.anchor,duration:void 0!==u.duration?u.duration:1e3,easing:u.easing||J2,callback:e};if(u.center&&(h.sourceCenter=o,h.targetCenter=u.center.slice(),o=h.targetCenter),void 0!==u.zoom?(h.sourceResolution=s,h.targetResolution=this.getResolutionForZoom(u.zoom),s=h.targetResolution):u.resolution&&(h.sourceResolution=s,h.targetResolution=u.resolution,s=h.targetResolution),void 0!==u.rotation){h.sourceRotation=a;var d=TQ(u.rotation-a+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=a+d,a=h.targetRotation}_4(h)?h.complete=!0:r+=h.duration,c.push(h)}this.animations_.push(c),this.setHint(0,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[0]>0},e.prototype.getInteracting=function(){return this.hints_[1]>0},e.prototype.cancelAnimations=function(){var t;this.setHint(0,-this.hints_[0]);for(var e=0,n=this.animations_.length;e<n;++e){var i=this.animations_[e];if(i[0].callback&&v4(i[0].callback,!1),!t)for(var r=0,o=i.length;r<o;++r){var s=i[r];if(!s.complete){t=s.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var i=this.animations_[n],r=!0,o=0,s=i.length;o<s;++o){var a=i[o];if(!a.complete){var c=a.duration>0?(t-a.start)/a.duration:1;c>=1?(a.complete=!0,c=1):r=!1;var l=a.easing(c);if(a.sourceCenter){var u=a.sourceCenter[0],h=a.sourceCenter[1];this.targetCenter_=[u+l*(a.targetCenter[0]-u),h+l*(a.targetCenter[1]-h)]}if(a.sourceResolution&&a.targetResolution){var d=1===l?a.targetResolution:a.sourceResolution+l*(a.targetResolution-a.sourceResolution);if(a.anchor){var p=this.getViewportSize_(this.getRotation()),f=this.constraints_.resolution(d,0,p,!0);this.targetCenter_=this.calculateCenterZoom(f,a.anchor)}this.targetResolution_=d,this.applyTargetState_(!0)}if(void 0!==a.sourceRotation&&void 0!==a.targetRotation){var g=1===l?TQ(a.targetRotation+Math.PI,2*Math.PI)-Math.PI:a.sourceRotation+l*(a.targetRotation-a.sourceRotation);if(a.anchor){var m=this.constraints_.rotation(g,!0);this.targetCenter_=this.calculateCenterRotate(m,a.anchor)}this.targetRotation_=g}if(this.applyTargetState_(!0),e=!0,!a.complete)break}}if(r){this.animations_[n]=null,this.setHint(0,-1);var b=i[0].callback;b&&v4(b,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,e){var n,i,r,o=this.getCenterInternal();return void 0!==o&&(U1(n=[o[0]-e[0],o[1]-e[1]],t-this.getRotation()),(i=n)[0]+=+(r=e)[0],i[1]+=+r[1]),n},e.prototype.calculateCenterZoom=function(t,e){var n,i=this.getCenterInternal(),r=this.getResolution();return void 0!==i&&void 0!==r&&(n=[e[0]-t*(e[0]-i[0])/r,e[1]-t*(e[1]-i[1])/r]),n},e.prototype.getViewportSize_=function(t){var e=this.viewportSize_;if(t){var n=e[0],i=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(i*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(i*Math.cos(t))]}return e},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t?u0(t,this.getProjection()):t},e.prototype.getCenterInternal=function(){return this.get("center")},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getConstrainResolution=function(){return this.options_.constrainResolution},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){return d0(this.calculateExtentInternal(t),this.getProjection())},e.prototype.calculateExtentInternal=function(t){var e=t||this.getViewportSize_(),n=this.getCenterInternal();wQ(n,1);var i=this.getResolution();wQ(void 0!==i,2);var r=this.getRotation();return wQ(void 0!==r,3),wZ(n,i,r,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get("resolution")},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal(p0(t,this.getProjection()),e)},e.prototype.getResolutionForExtentInternal=function(t,e){var n=e||this.getViewportSize_(),i=OZ(t)/n[0],r=zZ(t)/n[1];return Math.max(i,r)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.getConstrainedResolution(this.maxResolution_),i=Math.log(n/this.minResolution_)/Math.log(e);return function(t){return n/Math.pow(e,t*i)}},e.prototype.getRotation=function(){return this.get("rotation")},e.prototype.getValueForResolutionFunction=function(t){var e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),i=Math.log(n/this.minResolution_)/e;return function(t){return Math.log(n/t)/e/i}},e.prototype.getViewportSizeMinusPadding_=function(t){var e=this.getViewportSize_(t),n=this.padding;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e},e.prototype.getState=function(){var t=this.getProjection(),e=this.getResolution(),n=this.getRotation(),i=this.getCenterInternal(),r=this.padding;if(r){var o=this.getViewportSizeMinusPadding_();i=w4(i,this.getViewportSize_(),[o[0]/2+r[3],o[1]/2+r[0]],e,n)}return{center:i.slice(0),projection:void 0!==t?t:null,resolution:e,rotation:n,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,i=this.minZoom_||0;if(this.resolutions_){var r=UY(this.resolutions_,t,1);i=r,e=this.resolutions_[r],n=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=zQ(Math.floor(t),0,this.resolutions_.length-2);return this.resolutions_[e]/Math.pow(this.resolutions_[e]/this.resolutions_[e+1],zQ(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,e){var n;if(wQ(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t))wQ(!TZ(t),25),n=H2(i=p0(t,this.getProjection()));else if("Circle"===t.getType()){var i;(n=H2(i=p0(t.getExtent(),this.getProjection()))).rotate(this.getRotation(),vZ(i))}else n=t;this.fitInternal(n,e)},e.prototype.fitInternal=function(t,e){var n=e||{},i=n.size;i||(i=this.getViewportSizeMinusPadding_());var r,o=void 0!==n.padding?n.padding:[0,0,0,0],s=void 0!==n.nearest&&n.nearest;r=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;for(var a=t.getFlatCoordinates(),c=this.getRotation(),l=Math.cos(-c),u=Math.sin(-c),h=1/0,d=1/0,p=-1/0,f=-1/0,g=t.getStride(),m=0,b=a.length;m<b;m+=g){var y=a[m]*l-a[m+1]*u,v=a[m]*u+a[m+1]*l;h=Math.min(h,y),d=Math.min(d,v),p=Math.max(p,y),f=Math.max(f,v)}var _=this.getResolutionForExtentInternal([h,d,p,f],[i[0]-o[1]-o[3],i[1]-o[0]-o[2]]);_=isNaN(_)?r:Math.max(_,r),_=this.getConstrainedResolution(_,s?0:1);var w=(h+p)/2,z=(d+f)/2,C=this.getConstrainedCenter([(w+=(o[1]-o[3])/2*_)*l-(z+=(o[0]-o[2])/2*_)*(u=-u),z*l+w*u],_),S=n.callback?n.callback:QY;void 0!==n.duration?this.animateInternal({resolution:_,center:C,duration:n.duration,easing:n.easing},S):(this.targetResolution_=_,this.targetCenter_=C,this.applyTargetState_(!1,!0),v4(S,!0))},e.prototype.centerOn=function(t,e,n){this.centerOnInternal(h0(t,this.getProjection()),e,n)},e.prototype.centerOnInternal=function(t,e,n){this.setCenterInternal(w4(t,e,n,this.getResolution(),this.getRotation()))},e.prototype.calculateCenterShift=function(t,e,n,i){var r,o=this.padding;if(o&&t){var s=this.getViewportSizeMinusPadding_(-n),a=w4(t,i,[s[0]/2+o[3],s[1]/2+o[0]],e,n);r=[t[0]-a[0],t[1]-a[1]]}return r},e.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},e.prototype.adjustCenter=function(t){var e=u0(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustResolution=function(t,e){var n=e&&h0(e,this.getProjection());this.adjustResolutionInternal(t,n)},e.prototype.adjustResolutionInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*t,0,i,n);e&&(this.targetCenter_=this.calculateCenterZoom(r,e)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},e.prototype.adjustRotation=function(t,e){e&&(e=h0(e,this.getProjection())),this.adjustRotationInternal(t,e)},e.prototype.adjustRotationInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(i,e)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(h0(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,e){var n=this.getAnimating()||this.getInteracting()||e,i=this.constraints_.rotation(this.targetRotation_,n),r=this.getViewportSize_(i),o=this.constraints_.resolution(this.targetResolution_,0,r,n),s=this.constraints_.center(this.targetCenter_,o,r,n,this.calculateCenterShift(this.targetCenter_,o,i,r));this.get("rotation")!==i&&this.set("rotation",i),this.get("resolution")!==o&&this.set("resolution",o),this.get("center")&&X1(this.get("center"),s)||this.set("center",s),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,e,n){var i=void 0!==t?t:200,r=e||0,o=this.constraints_.rotation(this.targetRotation_),s=this.getViewportSize_(o),a=this.constraints_.resolution(this.targetResolution_,r,s),c=this.constraints_.center(this.targetCenter_,a,s,!1,this.calculateCenterShift(this.targetCenter_,a,o,s));if(0===i&&!this.cancelAnchor_)return this.targetResolution_=a,this.targetRotation_=o,this.targetCenter_=c,void this.applyTargetState_();var l=n||(0===i?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===a&&this.getRotation()===o&&this.getCenterInternal()&&X1(this.getCenterInternal(),c)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:c,resolution:a,duration:i,easing:Q2,anchor:l}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(1,1)},e.prototype.endInteraction=function(t,e,n){var i=n&&h0(n,this.getProjection());this.endInteractionInternal(t,e,i)},e.prototype.endInteractionInternal=function(t,e,n){this.setHint(1,-1),this.resolveConstraints(t,e,n)},e.prototype.getConstrainedCenter=function(t,e){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)},e.prototype.getConstrainedZoom=function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))},e.prototype.getConstrainedResolution=function(t,e){var n=e||0,i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,i)},e}(yQ),C4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),S4=function(t){function e(e){var n=t.call(this)||this,i=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,i,r,o={},s=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new r4({layers:t.layers});return o.layergroup=s,o.target=t.target,o.view=void 0!==t.view?t.view:new z4,void 0!==t.controls&&(Array.isArray(t.controls)?n=new U0(t.controls.slice()):(wQ("function"==typeof t.controls.getArray,47),n=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?i=new U0(t.interactions.slice()):(wQ("function"==typeof t.interactions.getArray,48),i=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?r=new U0(t.overlays.slice()):(wQ("function"==typeof t.overlays.getArray,49),r=t.overlays):r=new U0,{controls:n,interactions:i,keyboardEventTarget:e,overlays:r,values:o}}(e);return n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:eJ,n.animationDelay_=(function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}).bind(n),n.coordinateToPixelTransform_=[1,0,0,1,0,0],n.pixelToCoordinateTransform_=[1,0,0,1,0,0],n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.style.pointerEvents="none",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.style.pointerEvents="none",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=null,n.moveTolerance_=e.moveTolerance,n.keyboardEventTarget_=i.keyboardEventTarget,n.keyHandlerKeys_=null,n.controls=i.controls||new U0,n.interactions=i.interactions||new U0,n.overlays_=i.overlays,n.overlayIdIndex_={},n.renderer_=null,n.postRenderFunctions_=[],n.tileQueue_=new u4(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addEventListener(bQ("layergroup"),n.handleLayerGroupChanged_),n.addEventListener(bQ("view"),n.handleViewChanged_),n.addEventListener(bQ("size"),n.handleSizeChanged_),n.addEventListener(bQ("target"),n.handleTargetChanged_),n.setProperties(i.values),n.controls.forEach((function(t){t.setMap(this)}).bind(n)),n.controls.addEventListener("add",(function(t){t.element.setMap(this)}).bind(n)),n.controls.addEventListener("remove",(function(t){t.element.setMap(null)}).bind(n)),n.interactions.forEach((function(t){t.setMap(this)}).bind(n)),n.interactions.addEventListener("add",(function(t){t.element.setMap(this)}).bind(n)),n.interactions.addEventListener("remove",(function(t){t.element.setMap(null)}).bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n.overlays_.addEventListener("add",(function(t){this.addOverlayInternal_(t.element)}).bind(n)),n.overlays_.addEventListener("remove",(function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}).bind(n)),n}return C4(e,t),e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var i=this.getCoordinateFromPixelInternal(t);return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,!1!==n.checkWrapped,e,null,void 0!==n.layerFilter?n.layerFilter:GY,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=[];return this.forEachFeatureAtPixel(t,function(t){n.push(t)},e),n},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var i=n||{};return this.renderer_.forEachLayerAtPixel(t,this.frameState_,void 0!==i.hitTolerance?i.hitTolerance:0,e,i.layerFilter||GY)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixelInternal(t);return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,void 0!==(e=void 0!==e?e:{}).hitTolerance?e.hitTolerance:0,!1!==e.checkWrapped,void 0!==e.layerFilter?e.layerFilter:GY,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get("target")},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return u0(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?fJ(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get("layergroup")},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var i=t[e].layer.getSource();if(i&&i.loading)return!0}return!1},e.prototype.getPixelFromCoordinate=function(t){var e=h0(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},e.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?fJ(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get("size")},e.prototype.getView=function(){return this.get("view")},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getOwnerDocument=function(){return this.getTargetElement()?this.getTargetElement().ownerDocument:document},e.prototype.getTilePriority=function(t,e,n,i){return function(t,e,n,i,r){if(!t||!(n in t.wantedTiles))return a4;if(!t.wantedTiles[n][e.getKey()])return a4;var o=t.viewState.center,s=i[0]-o[0],a=i[1]-o[1];return 65536*Math.log(r)+Math.sqrt(s*s+a*a)/r}(this.frameState_,t,e,n,i)},e.prototype.handleBrowserEvent=function(t,e){var n=new O2(e||t.type,this,t);this.handleMapBrowserEvent(n)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){var e=t.originalEvent,n=e.type;if("pointerdown"===n||"wheel"===n||"keydown"===n){var i=this.getOwnerDocument(),r=this.viewport_.getRootNode?this.viewport_.getRootNode():i,o="host"in r?r.elementFromPoint(e.clientX,e.clientY):e.target;if(this.overlayContainerStopEvent_.contains(o)||!(r===i?i.documentElement:r).contains(o))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t))for(var s=this.getInteractions().getArray().slice(),a=s.length-1;a>=0;a--){var c=s[a];if(c.getMap()===this&&c.getActive()&&this.getTargetElement()&&(!c.handleEvent(t)||t.propagationStopped))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,i=n;if(t){var r=t.viewHints;if(r[0]||r[1]){var o=!iJ&&Date.now()-t.time>8;n=o?0:8,i=o?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}!t||!this.hasListener("rendercomplete")||t.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent("rendercomplete",t);for(var s=this.postRenderFunctions_,a=0,c=s.length;a<c;++a)s[a](this,t);s.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.mapBrowserEventHandler_){for(var e=0,n=this.keyHandlerKeys_.length;e<n;++e)aQ(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null,this.viewport_.removeEventListener("contextmenu",this.boundHandleBrowserEvent_),this.viewport_.removeEventListener("wheel",this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener("resize",this.handleResize_,!1),this.handleResize_=void 0),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,lJ(this.viewport_)}if(t){for(var i in t.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new s4(this,this.moveTolerance_),k2)this.mapBrowserEventHandler_.addEventListener(k2[i],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener("contextmenu",this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener("wheel",this.boundHandleBrowserEvent_,!!rJ&&{passive:!1});var r=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[oQ(r,"keydown",this.handleBrowserEvent,this),oQ(r,"keypress",this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener("resize",this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(aQ(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(aQ(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=oQ(t,"propertychange",this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=oQ(t,"change",this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(aQ),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[oQ(t,"propertychange",this.render,this),oQ(t,"change",this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var i=t[e].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e=this,n=this.getSize(),i=this.getView(),r=this.frameState_,o=null;if(void 0!==n&&function(t){return t[0]>0&&t[1]>0}(n)&&i&&i.isDef()){var s=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=i.getState();o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:wZ(a.center,a.resolution,a.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:a,viewHints:s,wantedTiles:{}}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),r&&(!this.previousExtent_||!TZ(this.previousExtent_)&&!uZ(o.extent,this.previousExtent_))&&(this.dispatchEvent(new S2("movestart",this,r)),this.previousExtent_=aZ(this.previousExtent_)),this.previousExtent_&&!o.viewHints[0]&&!o.viewHints[1]&&!uZ(o.extent,this.previousExtent_)&&(this.dispatchEvent(new S2("moveend",this,o)),tZ(o.extent,this.previousExtent_))),this.dispatchEvent(new S2("postrender",this,o)),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){e.postRenderTimeoutHandle_=void 0,e.handlePostRender()},0))},e.prototype.setLayerGroup=function(t){this.set("layergroup",t)},e.prototype.setSize=function(t){this.set("size",t)},e.prototype.setTarget=function(t){this.set("target",t)},e.prototype.setView=function(t){this.set("view",t)},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0);this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var e=void 0,n=getComputedStyle(this.viewport_);n.width&&n.height&&(e=[parseInt(n.width,10),parseInt(n.height,10)]),t.setViewportSize(e)}},e}(yQ),x4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),O4=function(t){function e(e){var n=t.call(this)||this,i=e.element;return!i||e.target||i.style.pointerEvents||(i.style.pointerEvents="auto"),n.element=i||null,n.target_=null,n.map_=null,n.listenerKeys=[],e.render&&(n.render=e.render),e.target&&n.setTarget(e.target),n}return x4(e,t),e.prototype.disposeInternal=function(){lJ(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&lJ(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)aQ(this.listenerKeys[e]);this.listenerKeys.length=0,this.map_=t,this.map_&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==QY&&this.listenerKeys.push(oQ(t,"postrender",this.render,this)),t.render())},e.prototype.render=function(t){},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(yQ),k4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),T4=function(t){function e(e){var n=this,i=e||{};(n=t.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this).ulElement_=document.createElement("ul"),n.collapsed_=void 0===i.collapsed||i.collapsed,n.userCollapsed_=n.collapsed_,n.overrideCollapsible_=void 0!==i.collapsible,n.collapsible_=void 0===i.collapsible||i.collapsible,n.collapsible_||(n.collapsed_=!1);var r=void 0!==i.className?i.className:"ol-attribution",o=void 0!==i.tipLabel?i.tipLabel:"Attributions",s=void 0!==i.expandClassName?i.expandClassName:r+"-expand",a=void 0!==i.collapseLabel?i.collapseLabel:"\xbb",c=void 0!==i.collapseClassName?i.collapseClassName:r+"-collpase";"string"==typeof a?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=a,n.collapseLabel_.className=c):n.collapseLabel_=a;var l=void 0!==i.label?i.label:"i";"string"==typeof l?(n.label_=document.createElement("span"),n.label_.textContent=l,n.label_.className=s):n.label_=l;var u=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_,h=document.createElement("button");h.setAttribute("type","button"),h.title=o,h.appendChild(u),h.addEventListener("click",n.handleClick_.bind(n),!1);var d=n.element;return d.className=r+" ol-unselectable ol-control"+(n.collapsed_&&n.collapsible_?" ol-collapsed":"")+(n.collapsible_?"":" ol-uncollapsible"),d.appendChild(n.ulElement_),d.appendChild(h),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return k4(e,t),e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],i=!0,r=t.layerStatesArray,o=0,s=r.length;o<s;++o){var a=r[o];if(RQ(a,t.viewState)){var c=a.layer.getSource();if(c){var l=c.getAttributions();if(l){var u=l(t);if(u)if(i=i&&!1!==c.getAttributionsCollapsible(),Array.isArray(u))for(var h=0,d=u.length;h<d;++h)u[h]in e||(n.push(u[h]),e[u[h]]=!0);else u in e||(n.push(u),e[u]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(i),n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!KY(e,this.renderedAttributions_)){uJ(this.ulElement_);for(var i=0,r=e.length;i<r;++i){var o=document.createElement("li");o.innerHTML=e[i],this.ulElement_.appendChild(o)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},e.prototype.handleToggle_=function(){this.element.classList.toggle("ol-collapsed"),this.collapsed_?cJ(this.collapseLabel_,this.label_):cJ(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.render=function(t){this.updateElement_(t.frameState)},e}(O4),E4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),I4=function(t){function e(e){var n=this,i=e||{};n=t.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this;var r=void 0!==i.className?i.className:"ol-rotate",o=void 0!==i.label?i.label:"\u21e7",s=void 0!==i.compassClassName?i.compassClassName:"ol-compass";n.label_=null,"string"==typeof o?(n.label_=document.createElement("span"),n.label_.className=s,n.label_.textContent=o):(n.label_=o,n.label_.classList.add(s));var a=i.tipLabel?i.tipLabel:"Reset rotation",c=document.createElement("button");c.className=r+"-reset",c.setAttribute("type","button"),c.title=a,c.appendChild(n.label_),c.addEventListener("click",n.handleClick_.bind(n),!1);var l=n.element;return l.className=r+" ol-unselectable ol-control",l.appendChild(c),n.callResetNorth_=i.resetNorth?i.resetNorth:void 0,n.duration_=void 0!==i.duration?i.duration:250,n.autoHide_=void 0===i.autoHide||i.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add("ol-hidden"),n}return E4(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();if(t){var e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:Q2}):t.setRotation(0))}},e.prototype.render=function(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var i="rotate("+n+"rad)";if(this.autoHide_){var r=this.element.classList.contains("ol-hidden");r||0!==n?r&&0!==n&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.label_.style.transform=i}this.rotation_=n}},e}(O4),D4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),M4=function(t){function e(e){var n=this,i=e||{};n=t.call(this,{element:document.createElement("div"),target:i.target})||this;var r=void 0!==i.className?i.className:"ol-zoom",o=void 0!==i.delta?i.delta:1,s=void 0!==i.zoomInClassName?i.zoomInClassName:r+"-in",a=void 0!==i.zoomOutClassName?i.zoomOutClassName:r+"-out",c=void 0!==i.zoomInLabel?i.zoomInLabel:"+",l=void 0!==i.zoomOutLabel?i.zoomOutLabel:"\u2212",u=void 0!==i.zoomInTipLabel?i.zoomInTipLabel:"Zoom in",h=void 0!==i.zoomOutTipLabel?i.zoomOutTipLabel:"Zoom out",d=document.createElement("button");d.className=s,d.setAttribute("type","button"),d.title=u,d.appendChild("string"==typeof c?document.createTextNode(c):c),d.addEventListener("click",n.handleClick_.bind(n,o),!1);var p=document.createElement("button");p.className=a,p.setAttribute("type","button"),p.title=h,p.appendChild("string"==typeof l?document.createTextNode(l):l),p.addEventListener("click",n.handleClick_.bind(n,-o),!1);var f=n.element;return f.className=r+" ol-unselectable ol-control",f.appendChild(d),f.appendChild(p),n.duration_=void 0!==i.duration?i.duration:250,n}return D4(e,t),e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getZoom();if(void 0!==n){var i=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:i,duration:this.duration_,easing:Q2})):e.setZoom(i)}}},e}(O4);function R4(t){var e=t||{},n=new U0;return(void 0===e.zoom||e.zoom)&&n.push(new M4(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new I4(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new T4(e.attributionOptions)),n}var A4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),P4=function(t){function e(e){var n=t.call(this)||this,i=e||{};return n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:250,n}return A4(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==k2.DBLCLICK){var n=t.originalEvent,i=t.coordinate,r=n.shiftKey?-this.delta_:this.delta_;e3(t.map.getView(),r,i,this.duration_),n.preventDefault(),e=!0}return!e},e}(n3),L4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),F4=function(t){function e(e){var n=t.call(this,{stopDown:YY})||this,i=e||{};n.kinetic_=i.kinetic,n.lastCentroid=null,n.panning_=!1;var r=i.condition?i.condition:s3(f3,y3);return n.condition_=i.onFocusOnly?s3(c3,r):r,n.noKinetic_=!1,n}return L4(e,t),e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e,n,i=this.targetPointers,r=r3(i);if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){var o=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],s=t.map.getView();e=o,n=s.getResolution(),e[0]*=n,e[1]*=n,U1(o,s.getRotation()),s.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=i.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),o=n.getCenterInternal(),s=e.getPixelFromCoordinateInternal(o),a=e.getCoordinateFromPixelInternal([s[0]-i*Math.cos(r),s[1]-i*Math.sin(r)]);n.animateInternal({center:n.getConstrainedCenter(a),duration:500,easing:Q2})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(o3),j4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),N4=function(t){function e(e){var n=this,i=e||{};return(n=t.call(this,{stopDown:YY})||this).condition_=i.condition?i.condition:a3,n.lastAngle_=void 0,n.duration_=void 0!==i.duration?i.duration:250,n}return j4(e,t),e.prototype.handleDragEvent=function(t){if(b3(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==m4){var i=e.getSize(),r=t.pixel,o=Math.atan2(i[1]/2-r[1],r[0]-i[0]/2);void 0!==this.lastAngle_&&n.adjustRotationInternal(-(o-this.lastAngle_)),this.lastAngle_=o}}},e.prototype.handleUpEvent=function(t){return!b3(t)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){return!(!b3(t)||!h3(t)||!this.condition_(t)||(t.map.getView().beginInteraction(),this.lastAngle_=void 0,0))},e}(o3),V4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),W4=function(t){function e(e){var n=t.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.style.pointerEvents="auto",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return V4(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n=this.element_.style;n.left=Math.min(t[0],e[0])+"px",n.top=Math.min(t[1],e[1])+"px",n.width=Math.abs(e[0]-t[0])+"px",n.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new $2([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(qY),q4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),B4=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.coordinate=n,r.mapBrowserEvent=i,r}return q4(e,t),e}(WY),X4=function(t){function e(e){var n=t.call(this)||this,i=e||{};return n.box_=new W4(i.className||"ol-dragbox"),n.minArea_=void 0!==i.minArea?i.minArea:64,i.onBoxEnd&&(n.onBoxEnd=i.onBoxEnd),n.startPixel_=null,n.condition_=i.condition?i.condition:h3,n.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:n.defaultBoxEndCondition,n}return q4(e,t),e.prototype.defaultBoxEndCondition=function(t,e,n){var i=n[0]-e[0],r=n[1]-e[1];return i*i+r*r>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new B4("boxdrag",t.coordinate,t))},e.prototype.handleUpEvent=function(t){this.box_.setMap(null);var e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new B4(e?"boxend":"boxcancel",t.coordinate,t)),!1},e.prototype.handleDownEvent=function(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new B4("boxstart",t.coordinate,t)),!0)},e.prototype.onBoxEnd=function(t){},e}(o3),U4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$4=function(t){function e(e){var n=this,i=e||{};return(n=t.call(this,{condition:i.condition?i.condition:g3,className:i.className||"ol-dragzoom",minArea:i.minArea})||this).duration_=void 0!==i.duration?i.duration:200,n.out_=void 0!==i.out&&i.out,n}return U4(e,t),e.prototype.onBoxEnd=function(t){var e,n=this.getMap(),i=n.getView(),r=n.getSize(),o=this.getGeometry().getExtent();if(this.out_){var s=i.calculateExtentInternal(r),a=(e=[n.getPixelFromCoordinateInternal(bZ(o)),n.getPixelFromCoordinateInternal(xZ(o))],function(t,e){for(var n=0,i=e.length;n<i;++n)dZ(t,e[n]);return t}(aZ(void 0),e));!function(t,e){var n=(t[2]-t[0])/2*(e-1),i=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=i,t[3]+=i}(s,1/i.getResolutionForExtentInternal(a,r)),o=s}var c=i.getConstrainedResolution(i.getResolutionForExtentInternal(o,r)),l=i.getConstrainedCenter(vZ(o),c);i.animateInternal({resolution:c,center:l,duration:this.duration_,easing:Q2})},e}(X4),H4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),K4=function(t){function e(e){var n=t.call(this)||this,i=e||{};return n.defaultCondition_=function(t){return f3(t)&&m3(t)},n.condition_=void 0!==i.condition?i.condition:n.defaultCondition_,n.duration_=void 0!==i.duration?i.duration:100,n.pixelDelta_=void 0!==i.pixelDelta?i.pixelDelta:128,n}return H4(e,t),e.prototype.handleEvent=function(t){var e=!1;if("keydown"==t.type){var n=t.originalEvent,i=n.keyCode;if(this.condition_(t)&&(40==i||37==i||39==i||38==i)){var r=t.map.getView(),o=r.getResolution()*this.pixelDelta_,s=0,a=0;40==i?a=-o:37==i?s=-o:39==i?s=o:a=o;var c=[s,a];U1(c,r.getRotation()),function(t,e,n){var i=t.getCenterInternal();i&&t.animateInternal({duration:void 0!==n?n:250,easing:Z2,center:t.getConstrainedCenter([i[0]+e[0],i[1]+e[1]])})}(r,c,this.duration_),n.preventDefault(),e=!0}}return!e},e}(n3),G4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Y4=function(t){function e(e){var n=t.call(this)||this,i=e||{};return n.condition_=i.condition?i.condition:m3,n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:100,n}return G4(e,t),e.prototype.handleEvent=function(t){var e=!1;if("keydown"==t.type||"keypress"==t.type){var n=t.originalEvent,i=n.charCode;if(this.condition_(t)&&(i=="+".charCodeAt(0)||i=="-".charCodeAt(0))){var r=t.map,o=i=="+".charCodeAt(0)?this.delta_:-this.delta_;e3(r.getView(),o,void 0,this.duration_),n.preventDefault(),e=!0}}return!e},e}(n3),Q4=function(){function t(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;var r=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,r),this.initialVelocity_=Math.sqrt(r*r+o*o)/i,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}(),J4=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Z4=function(t){function e(e){var n=this,i=e||{};(n=t.call(this,i)||this).totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==i.maxDelta?i.maxDelta:1,n.duration_=void 0!==i.duration?i.duration:250,n.timeout_=void 0!==i.timeout?i.timeout:80,n.useAnchor_=void 0===i.useAnchor||i.useAnchor,n.constrainResolution_=void 0!==i.constrainResolution&&i.constrainResolution;var r=i.condition?i.condition:l3;return n.condition_=i.onFocusOnly?s3(c3,r):r,n.lastAnchor_=null,n.startTime_=void 0,n.mode_=void 0,n.trackpadEventGap_=400,n.deltaPerZoom_=300,n}return J4(e,t),e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;if("wheel"!==t.type)return!0;var e,n=t.map,i=t.originalEvent;if(i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),"wheel"==t.type&&(e=i.deltaY,JQ&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=eJ),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)),0===e)return!1;this.lastDelta_=e;var r=Date.now();void 0===this.startTime_&&(this.startTime_=r),(!this.mode_||r-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(e)<4?"trackpad":"wheel");var o=n.getView();if("trackpad"===this.mode_&&!o.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(o.getAnimating()&&o.cancelAnimations(),o.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),o.adjustZoom(-e/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=r,!1;this.totalDelta_+=e;var s=Math.max(this.timeout_-(r-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),s),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=-zQ(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),e3(e,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(n3),t6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),e6=function(t){function e(e){var n=this,i=e||{},r=i;return r.stopDown||(r.stopDown=YY),(n=t.call(this,r)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==i.threshold?i.threshold:.3,n.duration_=void 0!==i.duration?i.duration:250,n}return t6(e,t),e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],i=this.targetPointers[1],r=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){var o=r-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=o}this.lastAngle_=r;var s=t.map,a=s.getView();if(a.getConstraints().rotation!==m4){var c=s.getViewport().getBoundingClientRect(),l=r3(this.targetPointers);l[0]-=c.left,l[1]-=c.top,this.anchor_=s.getCoordinateFromPixelInternal(l),this.rotating_&&(s.render(),a.adjustRotationInternal(e,this.anchor_))}},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2&&(t.map.getView().endInteraction(this.duration_),1))},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(o3),n6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),i6=function(t){function e(e){var n=this,i=e||{},r=i;return r.stopDown||(r.stopDown=YY),(n=t.call(this,r)||this).anchor_=null,n.duration_=void 0!==i.duration?i.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return n6(e,t),e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],i=this.targetPointers[1],r=n.clientX-i.clientX,o=n.clientY-i.clientY,s=Math.sqrt(r*r+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/s),this.lastDistance_=s;var a=t.map,c=a.getView();1!=e&&(this.lastScaleDelta_=e);var l=a.getViewport().getBoundingClientRect(),u=r3(this.targetPointers);u[0]-=l.left,u[1]-=l.top,this.anchor_=a.getCoordinateFromPixelInternal(u),a.render(),c.adjustResolutionInternal(e,this.anchor_)},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2&&(t.map.getView().endInteraction(this.duration_,this.lastScaleDelta_>1?1:-1),1))},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(o3);function r6(t){var e=t||{},n=new U0,i=new Q4(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new N4),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new P4({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new F4({onFocusOnly:e.onFocusOnly,kinetic:i})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new e6),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new i6({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new K4),n.push(new Y4({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new Z4({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new $4({duration:e.zoomDuration})),n}var o6,s6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),a6=function(t){function e(e){return(e=JY({},e)).controls||(e.controls=R4()),e.interactions||(e.interactions=r6({onFocusOnly:!0})),t.call(this,e)||this}return s6(e,t),e.prototype.createRenderer=function(){return new n4(this)},e}(S4),c6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),l6=function(t){function e(e,n,i){var r=t.call(this)||this,o=i||{};return r.tileCoord=e,r.state=n,r.interimTile=null,r.hifi=!0,r.key="",r.transition_=void 0===o.transition?250:o.transition,r.transitionStarts_={},r}return c6(e,t),e.prototype.changed=function(){this.dispatchEvent("change")},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(2==t.getState())return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(2==t.getState()){t.interimTile=null;break}1==t.getState()?e=t:0==t.getState()?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(3!==this.state&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){uQ()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else this.transitionStarts_[t]=n=e;var i=e-n+1e3/60;return i>=this.transition_?1:Y2(i/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(rQ),u6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),h6=function(t){function e(e,n,i,r,o,s){var a=t.call(this,e,n,s)||this;return a.crossOrigin_=r,a.src_=i,a.key=i,a.image_=new Image,null!==r&&(a.image_.crossOrigin=r),a.unlisten_=null,a.tileLoadFunction_=o,a}return u6(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){var t;this.state=3,this.unlistenImage_(),this.image_=((t=oJ(1,1)).fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;this.state=t.naturalWidth&&t.naturalHeight?2:4,this.unlistenImage_(),this.changed()},e.prototype.load=function(){3==this.state&&(this.state=0,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),0==this.state&&(this.state=1,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=T0(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(l6),d6=function(){function t(t,e,n,i,r,o){this.sourceProj_=t,this.targetProj_=e;var s={},a=c0(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return s[e]||(s[e]=a(t)),s[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&OZ(i)==OZ(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?OZ(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?OZ(this.targetProj_.getExtent()):null;var c=SZ(n),l=xZ(n),u=yZ(n),h=bZ(n),d=this.transformInv_(c),p=this.transformInv_(l),f=this.transformInv_(u),g=this.transformInv_(h),m=10+(o?Math.max(0,Math.ceil(SQ(mZ(n)/(o*o*256*256)))):0);if(this.addQuad_(c,l,u,h,d,p,f,g,m),this.wrapsXInSource_){var b=1/0;this.triangles_.forEach(function(t,e,n){b=Math.min(b,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach((function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-b>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-b>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-b>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-b>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}).bind(this))}s={}}return t.prototype.addTriangle_=function(t,e,n,i,r,o){this.triangles_.push({source:[i,r,o],target:[t,e,n]})},t.prototype.addQuad_=function(t,e,n,i,r,o,s,a,c){var l=JJ([r,o,s,a]),u=this.sourceWorldWidth_?OZ(l)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&u>.5&&u<1,p=!1;if(c>0&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(p=OZ(JJ([t,e,n,i]))/this.targetWorldWidth_>.25||p),!d&&this.sourceProj_.isGlobal()&&u&&(p=u>.25||p)),!(!p&&this.maxSourceExtent_&&isFinite(l[0])&&isFinite(l[1])&&isFinite(l[2])&&isFinite(l[3]))||kZ(l,this.maxSourceExtent_)){var f=0;if(!(p||isFinite(r[0])&&isFinite(r[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])))if(c>0)p=!0;else if(1!=(f=(isFinite(r[0])&&isFinite(r[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(s[0])&&isFinite(s[1])?0:2)+(isFinite(a[0])&&isFinite(a[1])?0:1))&&2!=f&&4!=f&&8!=f)return;if(c>0){if(!p){var g,m=this.transformInv_([(t[0]+n[0])/2,(t[1]+n[1])/2]);g=d?(TQ(r[0],h)+TQ(s[0],h))/2-TQ(m[0],h):(r[0]+s[0])/2-m[0];var b=(r[1]+s[1])/2-m[1];p=g*g+b*b>this.errorThresholdSquared_}if(p){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var y=[(e[0]+n[0])/2,(e[1]+n[1])/2],v=this.transformInv_(y),_=[(i[0]+t[0])/2,(i[1]+t[1])/2],w=this.transformInv_(_);this.addQuad_(t,e,y,_,r,o,v,w,c-1),this.addQuad_(_,y,n,i,w,v,s,a,c-1)}else{var z=[(t[0]+e[0])/2,(t[1]+e[1])/2],C=this.transformInv_(z),S=[(n[0]+i[0])/2,(n[1]+i[1])/2],x=this.transformInv_(S);this.addQuad_(t,z,S,i,r,C,x,a,c-1),this.addQuad_(z,e,n,S,C,o,s,x,c-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&f)&&this.addTriangle_(t,n,i,r,s,a),0==(14&f)&&this.addTriangle_(t,n,e,r,s,o),f&&(0==(13&f)&&this.addTriangle_(e,i,t,o,a,r),0==(7&f)&&this.addTriangle_(e,i,n,o,a,s))}},t.prototype.calculateSourceExtent=function(){var t=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(e,n,i){var r=e.source;dZ(t,r[0]),dZ(t,r[1]),dZ(t,r[2])}),t},t.prototype.getTriangles=function(){return this.triangles_},t}(),p6={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1};function f6(t,e,n,i,r){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(i,r),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,i)+1,Math.max(n,r)),t.restore()}function g6(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function m6(t,e,n,i){var r=l0(n,e,t),o=e0(e,i,n),s=e.getMetersPerUnit();void 0!==s&&(o*=s);var a=t.getMetersPerUnit();void 0!==a&&(o/=a);var c=t.getExtent();if(!c||nZ(c,r)){var l=e0(t,o,r)/o;isFinite(l)&&l>0&&(o/=l)}return o}var b6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),y6=function(t){function e(e,n,i,r,o,s,a,c,l,u,h,d){var p=t.call(this,o,0)||this;p.renderEdges_=void 0!==h&&h,p.contextOptions_=d,p.pixelRatio_=a,p.gutter_=c,p.canvas_=null,p.sourceTileGrid_=n,p.targetTileGrid_=r,p.wrappedTileCoord_=s||o,p.sourceTiles_=[],p.sourcesListenerKeys_=null,p.sourceZ_=0;var f=r.getTileCoordExtent(p.wrappedTileCoord_),g=p.targetTileGrid_.getExtent(),m=p.sourceTileGrid_.getExtent(),b=g?CZ(f,g):f;if(0===mZ(b))return p.state=4,p;var y=e.getExtent();y&&(m=m?CZ(m,y):y);var v=r.getResolution(p.wrappedTileCoord_[0]),_=function(t,e,n,i){var r=vZ(n),o=m6(t,e,r,i);return(!isFinite(o)||o<=0)&&gZ(n,function(n){return o=m6(t,e,n,i),isFinite(o)&&o>0}),o}(e,i,b,v);if(!isFinite(_)||_<=0)return p.state=4,p;if(p.triangulation_=new d6(e,i,b,m,_*(void 0!==u?u:.5),v),0===p.triangulation_.getTriangles().length)return p.state=4,p;p.sourceZ_=n.getZForResolution(_);var w=p.triangulation_.calculateSourceExtent();if(m&&(e.canWrapX()?(w[1]=zQ(w[1],m[1],m[3]),w[3]=zQ(w[3],m[1],m[3])):w=CZ(w,m)),mZ(w)){for(var z=n.getTileRangeForExtentAndZ(w,p.sourceZ_),C=z.minX;C<=z.maxX;C++)for(var S=z.minY;S<=z.maxY;S++){var x=l(p.sourceZ_,C,S,a);x&&p.sourceTiles_.push(x)}0===p.sourceTiles_.length&&(p.state=4)}else p.state=4;return p}return b6(e,t),e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach((function(e,n,i){e&&2==e.getState()&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}).bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=3;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),i="number"==typeof n?n:n[0],r="number"==typeof n?n:n[1],o=this.targetTileGrid_.getResolution(e),s=this.sourceTileGrid_.getResolution(this.sourceZ_),a=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function(t,e,n,i,r,o,s,a,c,l,u,h){var d=oJ(Math.round(n*t),Math.round(n*e));if(JY(d,h),0===c.length)return d.canvas;function p(t){return Math.round(t*n)/n}d.scale(n,n),d.globalCompositeOperation="lighter";var f=[1/0,1/0,-1/0,-1/0];c.forEach(function(t,e,n){hZ(f,t.extent)});var g=OZ(f),m=zZ(f),b=oJ(Math.round(n*g/i),Math.round(n*m/i));JY(b,h);var y=n/i;c.forEach(function(t,e,n){var i=t.extent[0]-f[0],r=-(t.extent[3]-f[3]),o=OZ(t.extent),s=zZ(t.extent);t.image.width>0&&t.image.height>0&&b.drawImage(t.image,l,l,t.image.width-2*l,t.image.height-2*l,i*y,r*y,o*y,s*y)});var v=SZ(s);return a.getTriangles().forEach(function(t,e,r){var s=t.source,a=t.target,c=s[0][0],l=s[0][1],u=s[1][0],g=s[1][1],m=s[2][0],y=s[2][1],_=p((a[0][0]-v[0])/o),w=p(-(a[0][1]-v[1])/o),z=p((a[1][0]-v[0])/o),C=p(-(a[1][1]-v[1])/o),S=p((a[2][0]-v[0])/o),x=p(-(a[2][1]-v[1])/o),O=c,k=l;c=0,l=0;var T=function(t){for(var e=t.length,n=0;n<e;n++){for(var i=n,r=Math.abs(t[n][n]),o=n+1;o<e;o++){var s=Math.abs(t[o][n]);s>r&&(r=s,i=o)}if(0===r)return null;var a=t[i];t[i]=t[n],t[n]=a;for(var c=n+1;c<e;c++)for(var l=-t[c][n]/t[n][n],u=n;u<e+1;u++)n==u?t[c][u]=0:t[c][u]+=l*t[n][u]}for(var h=new Array(e),d=e-1;d>=0;d--){h[d]=t[d][e]/t[d][d];for(var p=d-1;p>=0;p--)t[p][e]-=t[p][d]*h[d]}return h}([[u-=O,g-=k,0,0,z-_],[m-=O,y-=k,0,0,S-_],[0,0,u,g,C-w],[0,0,m,y,x-w]]);if(T){if(d.save(),d.beginPath(),function(){if(void 0===o6){var t=document.createElement("canvas").getContext("2d");t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",f6(t,4,5,4,0),f6(t,4,5,0,5);var e=t.getImageData(0,0,3,3).data;o6=g6(e,0)||g6(e,4)||g6(e,8)}return o6}()||h===p6){d.moveTo(z,C);for(var E=_-z,I=w-C,D=0;D<4;D++)d.lineTo(z+p((D+1)*E/4),C+p(D*I/3)),3!=D&&d.lineTo(z+p((D+1)*E/4),C+p((D+1)*I/3));d.lineTo(S,x)}else d.moveTo(z,C),d.lineTo(_,w),d.lineTo(S,x);d.clip(),d.transform(T[0],T[2],T[1],T[3],_,w),d.translate(f[0]-O,f[3]-k),d.scale(i/n,-i/n),d.drawImage(b.canvas,0,0),d.restore()}}),u&&(d.save(),d.globalCompositeOperation="source-over",d.strokeStyle="black",d.lineWidth=1,a.getTriangles().forEach(function(t,e,n){var i=t.target,r=(i[0][0]-v[0])/o,s=-(i[0][1]-v[1])/o,a=(i[1][0]-v[0])/o,c=-(i[1][1]-v[1])/o,l=(i[2][0]-v[0])/o,u=-(i[2][1]-v[1])/o;d.beginPath(),d.moveTo(a,c),d.lineTo(r,s),d.lineTo(l,u),d.closePath(),d.stroke()}),d.restore()),d.canvas}(i,r,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),o,a,this.triangulation_,t,this.gutter_,this.renderEdges_,this.contextOptions_),this.state=2}this.changed()},e.prototype.load=function(){if(0==this.state){this.state=1,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((function(e,n,i){var r=e.getState();if(0==r||1==r){t++;var o=oQ(e,"change",function(n){var i=e.getState();2!=i&&3!=i&&4!=i||(aQ(o),0==--t&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(o)}}).bind(this)),this.sourceTiles_.forEach(function(t,e,n){0==t.getState()&&t.load()}),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(aQ),this.sourcesListenerKeys_=null},e}(l6),v6=function(){function t(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},t.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},t.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},t.prototype.get=function(t,e){var n=this.entries_[t];return wQ(void 0!==n,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_},t.prototype.remove=function(t){var e=this.entries_[t];return wQ(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},t.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},t.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},t.prototype.set=function(t,e){wQ(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},t.prototype.setSize=function(t){this.highWaterMark=t},t}();function _6(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function w6(t,e,n){return t+"/"+e+"/"+n}function z6(t){return w6(t[0],t[1],t[2])}function C6(t){return(t[1]<<t[0])+t[2]}var S6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),x6=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return S6(e,t),e.prototype.expireCache=function(t){for(;this.canExpireCache()&&!(this.peekLast().getKey()in t);)this.pop().release()},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=(e=this.peekFirstKey(),e.split("/").map(Number))[0];this.forEach((function(e){e.tileCoord[0]!==t&&(this.remove(z6(e.tileCoord)),e.release())}).bind(this))}var e},e}(v6),O6=function(){function t(t,e,n,i){this.minX=t,this.maxX=e,this.minY=n,this.maxY=i}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();function k6(t,e,n,i,r){return void 0!==r?(r.minX=t,r.maxX=e,r.minY=n,r.maxY=i,r):new O6(t,e,n,i)}var T6=O6,E6=[0,0,0],I6=function(){function t(t){var e,n,i;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,wQ((n=function(t,e){return e-t}||BY,(e=this.resolutions_).every(function(t,i){if(0===i)return!0;var r=n(e[i-1],t);return!(r>0||0===r)})),17),!t.origins)for(var r=0,o=this.resolutions_.length-1;r<o;++r)if(i){if(this.resolutions_[r]/this.resolutions_[r+1]!==i){i=void 0;break}}else i=this.resolutions_[r]/this.resolutions_[r+1];this.zoomFactor_=i,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,wQ(this.origins_.length==this.resolutions_.length,20));var s=t.extent;void 0===s||this.origin_||this.origins_||(this.origin_=SZ(s)),wQ(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,wQ(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:256,wQ(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==s?s:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){var n=new T6(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(s){var i=this.getTileRangeForExtentAndZ(s,e);n.minX=Math.max(i.minX,n.minX),n.maxX=Math.min(i.maxX,n.maxX),n.minY=Math.max(i.minY,n.minY),n.maxY=Math.min(i.maxY,n.maxY)}return n},this):s&&this.calculateTileRanges_(s)}return t.prototype.forEachTileCoord=function(t,e,n){for(var i=this.getTileRangeForExtentAndZ(t,e),r=i.minX,o=i.maxX;r<=o;++r)for(var s=i.minY,a=i.maxY;s<=a;++s)n([e,r,s])},t.prototype.forEachTileCoordParentTileRange=function(t,e,n,i){var r,o,s=null,a=t[0]-1;for(2===this.zoomFactor_?(r=t[1],o=t[2]):s=this.getTileCoordExtent(t,i);a>=this.minZoom;){if(e(a,2===this.zoomFactor_?k6(r=Math.floor(r/2),r,o=Math.floor(o/2),o,n):this.getTileRangeForExtentAndZ(s,a,n)))return!0;--a}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*t[1],r=2*t[2];return k6(i,i+1,r,r+1,e)}var o=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null},t.prototype.getTileRangeExtent=function(t,e,n){var i=this.getOrigin(t),r=this.getResolution(t),o=NQ(this.getTileSize(t),this.tmpSize_);return sZ(i[0]+e.minX*o[0]*r,i[1]+e.minY*o[1]*r,i[0]+(e.maxX+1)*o[0]*r,i[1]+(e.maxY+1)*o[1]*r,n)},t.prototype.getTileRangeForExtentAndZ=function(t,e,n){var i=E6;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,i);var r=i[1],o=i[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,i),k6(r,i[1],o,i[2],n)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=NQ(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*n,e[1]-(t[2]+.5)*i[1]*n]},t.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=NQ(this.getTileSize(t[0]),this.tmpSize_),o=n[0]+t[1]*r[0]*i,s=n[1]-(t[2]+1)*r[1]*i;return sZ(o,s,o+r[0]*i,s+r[1]*i,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,n,i,r){var o=this.getZForResolution(n),s=n/this.getResolution(o),a=this.getOrigin(o),c=NQ(this.getTileSize(o),this.tmpSize_),l=i?.5:0,u=Math.floor((t-a[0])/n+(i?.5:0)),h=Math.floor((a[1]-e)/n+l),d=s*u/c[0],p=s*h/c[1];return i?(d=Math.ceil(d)-1,p=Math.ceil(p)-1):(d=Math.floor(d),p=Math.floor(p)),_6(o,d,p,r)},t.prototype.getTileCoordForXYAndZ_=function(t,e,n,i,r){var o=this.getOrigin(n),s=this.getResolution(n),a=NQ(this.getTileSize(n),this.tmpSize_),c=i?.5:0,l=Math.floor((t-o[0])/s+(i?.5:0)),u=Math.floor((o[1]-e)/s+c),h=l/a[0],d=u/a[1];return i?(h=Math.ceil(h)-1,d=Math.ceil(d)-1):(h=Math.floor(h),d=Math.floor(d)),_6(n,h,d,r)},t.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},t.prototype.getZForResolution=function(t,e){return zQ(UY(this.resolutions_,t,e||0),this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n},t}();function D6(t){var e=t.getDefaultTileGrid();return e||(e=function(t,e,n,i){return o=M6(r=R6(t),void 0,void 0),new I6({extent:r,origin:_Z(r,"top-left"),resolutions:o,tileSize:void 0});var r,o}(t),t.setDefaultTileGrid(e)),e}function M6(t,e,n,i){for(var r=void 0!==e?e:42,o=zZ(t),s=OZ(t),a=NQ(void 0!==n?n:256),c=i>0?i:Math.max(s/a[0],o/a[1]),l=r+1,u=new Array(l),h=0;h<l;++h)u[h]=c/Math.pow(2,h);return u}function R6(t){var e=(t=t0(t)).getExtent();if(!e){var n=180*_1[S1.DEGREES]/t.getMetersPerUnit();e=sZ(-n,-n,n,n)}return e}var A6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),P6=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX})||this;n.opaque_=void 0!==e.opaque&&e.opaque,n.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,n.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var i=e.tileGrid;return i&&NQ(i.getTileSize(i.getMinZoom()),[256,256]),n.tileCache=new x6(e.cacheSize||0),n.tmpSize=[0,0],n.key_=e.key||"",n.tileOptions={transition:e.transition},n.zDirection=e.zDirection?e.zDirection:0,n}return A6(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,i){var r=this.getTileCacheForProjection(t);if(!r)return!1;for(var o,s,a,c=!0,l=n.minX;l<=n.maxX;++l)for(var u=n.minY;u<=n.maxY;++u)s=w6(e,l,u),a=!1,r.containsKey(s)&&(a=2===(o=r.get(s)).getState())&&(a=!1!==i(o)),a||(c=!1);return c},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,i,r){return uQ()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:D6(t)},e.prototype.getTileCacheForProjection=function(t){return wQ(s0(this.getProjection(),t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var i=this.getTileGridForProjection(n),r=this.getTilePixelRatio(e),o=NQ(i.getTileSize(t),this.tmpSize);return 1==r?o:jQ(o,r,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=function(t,e,n){var i=e[0],r=t.getTileCoordCenter(e),o=R6(n);if(nZ(o,r))return e;var s=OZ(o),a=Math.ceil((o[0]-r[0])/s);return r[0]+=s*a,t.getTileCoordForCoordAndZ(r,i)}(i,t,n)),function(t,e){var n=t[0],i=t[1],r=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var o=e.getFullTileRange(n);return!o||o.containsXY(i,r)}(t,i)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,e){var n=this.getTileCacheForProjection(e);t>n.highWaterMark&&(n.highWaterMark=t)},e.prototype.useTile=function(t,e,n,i){},e}(G0),L6=function(t){function e(e,n){var i=t.call(this,e)||this;return i.tile=n,i}return A6(e,t),e}(WY),F6=P6;function j6(t,e){var n=/\{z\}/g,i=/\{x\}/g,r=/\{y\}/g,o=/\{-y\}/g;return function(s,a,c){return s?t.replace(n,s[0].toString()).replace(i,s[1].toString()).replace(r,s[2].toString()).replace(o,function(){var t=e.getFullTileRange(s[0]);return wQ(t,55),(t.getHeight()-s[2]-1).toString()}):void 0}}var N6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),V6=function(t){function e(n){var i=t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,opaque:n.opaque,projection:n.projection,state:n.state,tileGrid:n.tileGrid,tilePixelRatio:n.tilePixelRatio,wrapX:n.wrapX,transition:n.transition,key:n.key,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this;return i.generateTileUrlFunction_=i.tileUrlFunction===e.prototype.tileUrlFunction,i.tileLoadFunction=n.tileLoadFunction,n.tileUrlFunction&&(i.tileUrlFunction=n.tileUrlFunction),i.urls=null,n.urls?i.setUrls(n.urls):n.url&&i.setUrl(n.url),i.tileLoadingKeys_={},i}return N6(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,i=dQ(n),r=n.getState();1==r?(this.tileLoadingKeys_[i]=!0,e="tileloadstart"):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],e=3==r?"tileloaderror":2==r?"tileloadend":void 0),null!=e&&this.dispatchEvent(new L6(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=function(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var i=n[1].charCodeAt(0),r=n[2].charCodeAt(0),o=void 0;for(o=i;o<=r;++o)e.push(t.replace(n[0],String.fromCharCode(o)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t)){for(var s=parseInt(n[2],10),a=parseInt(n[1],10);a<=s;a++)e.push(t.replace(n[0],a.toString()));return e}return e.push(t),e}(t);this.urls=e,this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function(t,e){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=j6(t[r],e);return function(t){return 1===t.length?t[0]:function(e,n,i){if(e){var r=TQ(C6(e),t.length);return t[r](e,n,i)}}}(i)}(t,this.tileGrid),e):this.setKey(e)},e.prototype.tileUrlFunction=function(t,e,n){},e.prototype.useTile=function(t,e,n){var i=w6(t,e,n);this.tileCache.containsKey(i)&&this.tileCache.get(i)},e}(F6),W6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function q6(t,e){t.getImage().src=e}var B6=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:q6,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,n.tileClass=void 0!==e.tileClass?e.tileClass:h6,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,n.contextOptions_=!1===e.imageSmoothing?p6:void 0,n.renderReprojectionEdges_=!1,n}return W6(e,t),e.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);for(var i in this.tileCache.expireCache(this.tileCache==n?e:{}),this.tileCacheForProjection){var r=this.tileCacheForProjection[i];r.expireCache(r==n?e:{})}},e.prototype.getContextOptions=function(){return this.contextOptions_},e.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!s0(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getKey=function(){return t.prototype.getKey.call(this)+(this.contextOptions_?"\n"+JSON.stringify(this.contextOptions_):"")},e.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!s0(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(!this.tileGrid||e&&!s0(e,t)){var n=dQ(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=D6(t)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||s0(e,t))return this.tileCache;var n=dQ(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new x6(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,n,i,r,o){var s=[t,e,n],a=this.getTileCoordForTileUrlFunction(s,r),c=a?this.tileUrlFunction(a,i,r):void 0,l=new this.tileClass(s,void 0!==c?0:4,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return l.key=o,l.addEventListener("change",this.handleTileChange.bind(this)),l},e.prototype.getTile=function(t,e,n,i,r){var o=this.getProjection();if(o&&r&&!s0(o,r)){var s=this.getTileCacheForProjection(r),a=[t,e,n],c=void 0,l=z6(a);s.containsKey(l)&&(c=s.get(l));var u=this.getKey();if(c&&c.key==u)return c;var h=this.getTileGridForProjection(o),d=this.getTileGridForProjection(r),p=this.getTileCoordForTileUrlFunction(a,r),f=new y6(o,h,r,d,a,p,this.getTilePixelRatio(i),this.getGutter(),(function(t,e,n,i){return this.getTileInternal(t,e,n,i,o)}).bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.contextOptions_);return f.key=u,c?(f.interimTile=c,f.refreshInterimChain(),s.replace(l,f)):s.set(l,f),f}return this.getTileInternal(t,e,n,i,o||r)},e.prototype.getTileInternal=function(t,e,n,i,r){var o=null,s=w6(t,e,n),a=this.getKey();if(this.tileCache.containsKey(s)){if((o=this.tileCache.get(s)).key!=a){var c=o;(o=this.createTile_(t,e,n,i,r,a)).interimTile=0==c.getState()?c.interimTile:c,o.refreshInterimChain(),this.tileCache.replace(s,o)}}else o=this.createTile_(t,e,n,i,r,a),this.tileCache.set(s,o);return o},e.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){var n=t0(t);if(n){var i=dQ(n);i in this.tileGridForProjection||(this.tileGridForProjection[i]=e)}},e}(V6),X6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),U6=function(t){function e(e){var n=e||{},i=void 0!==n.projection?n.projection:"EPSG:3857",r=void 0!==n.tileGrid?n.tileGrid:function(t){var e=t||{},n=e.extent||t0("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:M6(n,e.maxZoom,e.tileSize,e.maxResolution)};return new I6(i)}({extent:R6(i),maxResolution:n.maxResolution,maxZoom:n.maxZoom,minZoom:n.minZoom,tileSize:n.tileSize});return t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,imageSmoothing:n.imageSmoothing,opaque:n.opaque,projection:i,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:n.tileLoadFunction,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this}return X6(e,t),e}(B6),$6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),H6=function(t){function e(e){var n=e||{};return t.call(this,{attributions:void 0!==n.attributions?n.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'],attributionsCollapsible:!1,cacheSize:n.cacheSize,crossOrigin:void 0!==n.crossOrigin?n.crossOrigin:"anonymous",imageSmoothing:n.imageSmoothing,maxZoom:void 0!==n.maxZoom?n.maxZoom:19,opaque:void 0===n.opaque||n.opaque,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileLoadFunction:n.tileLoadFunction,transition:n.transition,url:void 0!==n.url?n.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:n.wrapX})||this}return $6(e,t),e}(U6),K6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),G6=function(t){function e(e){var n=this,i=e||{},r=JY({},i);return delete r.preload,delete r.useInterimTilesOnError,(n=t.call(this,r)||this).setPreload(void 0!==i.preload?i.preload:0),n.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),n}return K6(e,t),e.prototype.getPreload=function(){return this.get("preload")},e.prototype.setPreload=function(t){this.set("preload",t)},e.prototype.getUseInterimTilesOnError=function(){return this.get("useInterimTilesOnError")},e.prototype.setUseInterimTilesOnError=function(t){this.set("useInterimTilesOnError",t)},e}(AQ),Y6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Q6=function(t){function e(e){var n=t.call(this,e)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedProjection=null,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=[1/0,1/0,-1/0,-1/0],n.tmpTileRange_=new T6(0,0,0,0),n}return Y6(e,t),e.prototype.isDrawableTile=function(t){var e=this.getLayer(),n=t.getState(),i=e.getUseInterimTilesOnError();return 2==n||4==n||3==n&&!i},e.prototype.getTile=function(t,e,n,i){var r=i.pixelRatio,o=i.viewState.projection,s=this.getLayer(),a=s.getSource().getTile(t,e,n,r,o);return 3==a.getState()&&(s.getUseInterimTilesOnError()?s.getPreload()>0&&(this.newTiles_=!0):a.setState(2)),this.isDrawableTile(a)||(a=a.getInterimTile()),a},e.prototype.loadedTileCallback=function(e,n,i){return!!this.isDrawableTile(i)&&t.prototype.loadedTileCallback.call(this,e,n,i)},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,e){var n=t.layerStatesArray[t.layerIndex],i=t.viewState,r=i.projection,o=i.resolution,s=i.center,a=i.rotation,c=t.pixelRatio,l=this.getLayer(),u=l.getSource(),h=u.getRevision(),d=u.getTileGridForProjection(r),p=d.getZForResolution(o,u.zDirection),f=d.getResolution(p),g=t.extent,m=n.extent&&p0(n.extent);m&&(g=CZ(g,p0(n.extent)));var b=u.getTilePixelRatio(c),y=Math.round(t.size[0]*b),v=Math.round(t.size[1]*b);if(a){var _=Math.round(Math.sqrt(y*y+v*v));y=_,v=_}var w=f*y/2/b,z=f*v/2/b,C=[s[0]-w,s[1]-z,s[0]+w,s[1]+z],S=d.getTileRangeForExtentAndZ(g,p),x={};x[p]={};var O=this.createLoadedTileFinder(u,r,x),k=this.tmpExtent,T=this.tmpTileRange_;this.newTiles_=!1;for(var E=S.minX;E<=S.maxX;++E)for(var I=S.minY;I<=S.maxY;++I){var D=this.getTile(p,E,I,t);if(this.isDrawableTile(D)){var M=dQ(this);if(2==D.getState()){x[p][D.tileCoord.toString()]=D;var R=D.inTransition(M);this.newTiles_||!R&&-1!==this.renderedTiles.indexOf(D)||(this.newTiles_=!0)}if(1===D.getAlpha(M,t.time))continue}var A=d.getTileCoordChildTileRange(D.tileCoord,T,k),P=!1;A&&(P=O(p+1,A)),P||d.forEachTileCoordParentTileRange(D.tileCoord,O,T,k)}var L=f/o;gJ(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/b,1/b,a,-y/2,-v/2);var F,j=(F=this.pixelTransform,nJ?bJ(F):(IJ||(IJ=oJ(1,1).canvas),IJ.style.transform=bJ(F),IJ.style.transform));this.useContainer(e,j,n.opacity);var N=this.context,V=N.canvas;mJ(this.inversePixelTransform,this.pixelTransform),gJ(this.tempTransform,y/2,v/2,L,L,0,-y/2,-v/2),V.width!=y||V.height!=v?(V.width=y,V.height=v):this.containerReused||N.clearRect(0,0,y,v),m&&this.clipUnrotated(N,t,m),JY(N,u.getContextOptions()),this.preRender(N,t),this.renderedTiles.length=0;var W,q,B,X=Object.keys(x).map(Number);X.sort(BY),1!==n.opacity||this.containerReused&&!u.getOpaque(t.viewState.projection)?(W=[],q=[]):X=X.reverse();for(var U=X.length-1;U>=0;--U){var $=X[U],H=u.getTilePixelSize($,c,r),K=d.getResolution($)/f,G=H[0]*K*L,Y=H[1]*K*L,Q=d.getTileCoordForCoordAndZ(SZ(C),$),J=d.getTileCoordExtent(Q),Z=fJ(this.tempTransform,[b*(J[0]-C[0])/f,b*(C[3]-J[3])/f]),tt=b*u.getGutterForProjection(r),et=x[$];for(var nt in et){var it=(D=et[nt]).tileCoord,rt=Z[0]-(Q[1]-it[1])*G,ot=Math.round(rt+G),st=Z[1]-(Q[2]-it[2])*Y,at=Math.round(st+Y),ct=ot-(E=Math.round(rt)),lt=at-(I=Math.round(st)),ut=p===$;if(!(R=ut&&1!==D.getAlpha(dQ(this),t.time)))if(W){N.save(),B=[E,I,E+ct,I,E+ct,I+lt,E,I+lt];for(var ht=0,dt=W.length;ht<dt;++ht)if(p!==$&&$<q[ht]){var pt=W[ht];N.beginPath(),N.moveTo(B[0],B[1]),N.lineTo(B[2],B[3]),N.lineTo(B[4],B[5]),N.lineTo(B[6],B[7]),N.moveTo(pt[6],pt[7]),N.lineTo(pt[4],pt[5]),N.lineTo(pt[2],pt[3]),N.lineTo(pt[0],pt[1]),N.clip()}W.push(B),q.push($)}else N.clearRect(E,I,ct,lt);this.drawTileImage(D,t,E,I,ct,lt,tt,ut,n.opacity),W&&!R&&N.restore(),this.renderedTiles.push(D),this.updateUsedTiles(t.usedTiles,u,D)}}return this.renderedRevision=h,this.renderedResolution=f,this.extentChanged=!this.renderedExtent_||!uZ(this.renderedExtent_,C),this.renderedExtent_=C,this.renderedPixelRatio=c,this.renderedProjection=r,this.manageTilePyramid(t,u,d,c,r,g,p,l.getPreload()),this.scheduleExpireCache(t,u),this.postRender(N,t),n.extent&&N.restore(),j!==V.style.transform&&(V.style.transform=j),this.container},e.prototype.drawTileImage=function(t,e,n,i,r,o,s,a,c){var l=this.getTileImage(t);if(l){var u=dQ(this),h=a?t.getAlpha(u,e.time):1,d=c*h,p=d!==this.context.globalAlpha;p&&(this.context.save(),this.context.globalAlpha=d),this.context.drawImage(l,s,s,l.width-2*s,l.height-2*s,n,i,r,o),p&&this.context.restore(),1!==h?e.animate=!0:a&&t.endTransition(u)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=(function(t,e,n){var i=dQ(t);i in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[i])}).bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n){var i=dQ(e);i in t||(t[i]={}),t[i][n.getKey()]=!0},e.prototype.manageTilePyramid=function(t,e,n,i,r,o,s,a,c){var l=dQ(e);l in t.wantedTiles||(t.wantedTiles[l]={});var u,h,d,p,f,g,m=t.wantedTiles[l],b=t.tileQueue,y=0;for(g=n.getMinZoom();g<=s;++g)for(h=n.getTileRangeForExtentAndZ(o,g,h),d=n.getResolution(g),p=h.minX;p<=h.maxX;++p)for(f=h.minY;f<=h.maxY;++f)s-g<=a?(++y,0==(u=e.getTile(g,p,f,i,r)).getState()&&(m[u.getKey()]=!0,b.isKeyQueued(u.getKey())||b.enqueue([u,l,n.getTileCoordCenter(u.tileCoord),d])),void 0!==c&&c(u)):e.useTile(g,p,f,r);e.updateCacheSize(y,r)},e}(t1),J6=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Z6=function(t){function e(e){return t.call(this,e)||this}return J6(e,t),e.prototype.createRenderer=function(){return new Q6(this)},e}(G6),t5=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),e5=function(t){function e(e){var n=t.call(this)||this;n.options=e,n.id=e.id,n.insertFirst=void 0===e.insertFirst||e.insertFirst,n.stopEvent=void 0===e.stopEvent||e.stopEvent,n.element=document.createElement("div"),n.element.className=void 0!==e.className?e.className:"ol-overlay-container ol-selectable",n.element.style.position="absolute",n.element.style.pointerEvents="auto";var i=e.autoPan;return i&&"object"!=typeof i&&(i={animation:e.autoPanAnimation,margin:e.autoPanMargin}),n.autoPan=i||!1,n.rendered={transform_:"",visible:!0},n.mapPostrenderListenerKey=null,n.addEventListener(bQ("element"),n.handleElementChanged),n.addEventListener(bQ("map"),n.handleMapChanged),n.addEventListener(bQ("offset"),n.handleOffsetChanged),n.addEventListener(bQ("position"),n.handlePositionChanged),n.addEventListener(bQ("positioning"),n.handlePositioningChanged),void 0!==e.element&&n.setElement(e.element),n.setOffset(void 0!==e.offset?e.offset:[0,0]),n.setPositioning(void 0!==e.positioning?e.positioning:"top-left"),void 0!==e.position&&n.setPosition(e.position),n}return t5(e,t),e.prototype.getElement=function(){return this.get("element")},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get("map")},e.prototype.getOffset=function(){return this.get("offset")},e.prototype.getPosition=function(){return this.get("position")},e.prototype.getPositioning=function(){return this.get("positioning")},e.prototype.handleElementChanged=function(){uJ(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(lJ(this.element),aQ(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=oQ(t,"postrender",this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan()}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set("element",t)},e.prototype.setMap=function(t){this.set("map",t)},e.prototype.setOffset=function(t){this.set("offset",t)},e.prototype.setPosition=function(t){this.set("position",t)},e.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},e.prototype.panIntoView=function(t){var e=this.getMap();if(e&&e.getTargetElement()&&this.get("position")){var n=this.getRect(e.getTargetElement(),e.getSize()),i=this.getElement(),r=this.getRect(i,[sJ(i),aJ(i)]),o=t||{},s=void 0===o.margin?20:o.margin;if(!iZ(n,r)){var a=r[0]-n[0],c=n[2]-r[2],l=r[1]-n[1],u=n[3]-r[3],h=[0,0];if(a<0?h[0]=a-s:c<0&&(h[0]=Math.abs(c)+s),l<0?h[1]=l-s:u<0&&(h[1]=Math.abs(u)+s),0!==h[0]||0!==h[1]){var d=e.getView().getCenterInternal(),p=e.getPixelFromCoordinateInternal(d);if(!p)return;var f=[p[0]+h[0],p[1]+h[1]],g=o.animation||{};e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(f),duration:g.duration,easing:g.easing})}}}},e.prototype.getRect=function(t,e){var n=t.getBoundingClientRect(),i=n.left+window.pageXOffset,r=n.top+window.pageYOffset;return[i,r,i+e[0],r+e[1]]},e.prototype.setPositioning=function(t){this.set("positioning",t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var n=t.getPixelFromCoordinate(e),i=t.getSize();this.updateRenderedPosition(n,i)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var n=this.element.style,i=this.getOffset(),r=this.getPositioning();this.setVisible(!0);var o="0%",s="0%";"bottom-right"==r||"center-right"==r||"top-right"==r?o="-100%":"bottom-center"!=r&&"center-center"!=r&&"top-center"!=r||(o="-50%"),"bottom-left"==r||"bottom-center"==r||"bottom-right"==r?s="-100%":"center-left"!=r&&"center-center"!=r&&"center-right"!=r||(s="-50%");var a="translate("+o+", "+s+") translate("+Math.round(t[0]+i[0])+"px, "+Math.round(t[1]+i[1])+"px)";this.rendered.transform_!=a&&(this.rendered.transform_=a,n.transform=a,n.msTransform=a)},e.prototype.getOptions=function(){return this.options},e}(yQ),n5=484813681109536e-20,i5=Math.PI/2,r5=.017453292519943295,o5=57.29577951308232,s5=Math.PI/4,a5=2*Math.PI,c5=3.14159265359,l5={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},u5={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},h5=/[\s_\-\/\(\)]/g;function d5(t,e){if(t[e])return t[e];for(var n,i=Object.keys(t),r=e.toLowerCase().replace(h5,""),o=-1;++o<i.length;)if((n=i[o]).toLowerCase().replace(h5,"")===r)return t[n]}var p5=function(t){var e,n,i,r={},o=t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var n=e.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t},{}),s={proj:"projName",datum:"datumCode",rf:function(t){r.rf=parseFloat(t)},lat_0:function(t){r.lat0=t*r5},lat_1:function(t){r.lat1=t*r5},lat_2:function(t){r.lat2=t*r5},lat_ts:function(t){r.lat_ts=t*r5},lon_0:function(t){r.long0=t*r5},lon_1:function(t){r.long1=t*r5},lon_2:function(t){r.long2=t*r5},alpha:function(t){r.alpha=parseFloat(t)*r5},gamma:function(t){r.rectified_grid_angle=parseFloat(t)},lonc:function(t){r.longc=t*r5},x_0:function(t){r.x0=parseFloat(t)},y_0:function(t){r.y0=parseFloat(t)},k_0:function(t){r.k0=parseFloat(t)},k:function(t){r.k0=parseFloat(t)},a:function(t){r.a=parseFloat(t)},b:function(t){r.b=parseFloat(t)},r_a:function(){r.R_A=!0},zone:function(t){r.zone=parseInt(t,10)},south:function(){r.utmSouth=!0},towgs84:function(t){r.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){r.to_meter=parseFloat(t)},units:function(t){r.units=t;var e=d5(u5,t);e&&(r.to_meter=e.to_meter)},from_greenwich:function(t){r.from_greenwich=t*r5},pm:function(t){var e=d5(l5,t);r.from_greenwich=(e||parseFloat(t))*r5},nadgrids:function(t){"@null"===t?r.datumCode="none":r.nadgrids=t},axis:function(t){3===t.length&&-1!=="ewnsud".indexOf(t.substr(0,1))&&-1!=="ewnsud".indexOf(t.substr(1,1))&&-1!=="ewnsud".indexOf(t.substr(2,1))&&(r.axis=t)},approx:function(){r.approx=!0}};for(e in o)n=o[e],e in s?"function"==typeof(i=s[e])?i(n):r[i]=n:r[e]=n;return"string"==typeof r.datumCode&&"WGS84"!==r.datumCode&&(r.datumCode=r.datumCode.toLowerCase()),r},f5=/\s/,g5=/[A-Za-z]/,m5=/[A-Za-z84]/,b5=/[,\]]/,y5=/[\d\.E\-\+]/;function v5(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=1}function _5(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var i=n.reduce(function(t,e){return w5(e,t),t},e?{}:t);e&&(t[e]=i)}function w5(t,e){if(Array.isArray(t)){var n=t.shift();if("PARAMETER"===n&&(n=t.shift()),1===t.length)return Array.isArray(t[0])?(e[n]={},void w5(t[0],e[n])):void(e[n]=t[0]);if(t.length)if("TOWGS84"!==n){if("AXIS"===n)return n in e||(e[n]=[]),void e[n].push(t);var i;switch(Array.isArray(n)||(e[n]={}),n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[n]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&w5(t[2],e[n]));case"SPHEROID":case"ELLIPSOID":return e[n]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&w5(t[3],e[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void _5(e,n,t);default:for(i=-1;++i<t.length;)if(!Array.isArray(t[i]))return w5(t,e[n]);return _5(e,n,t)}}else e[n]=t;else e[n]=!0}else e[t]=!0}function z5(t){return.017453292519943295*t}v5.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;f5.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case 1:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},v5.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(b5.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},v5.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=1)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=1,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},v5.prototype.number=function(t){if(!y5.test(t)){if(b5.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},v5.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},v5.prototype.keyword=function(t){if(m5.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=1)}if(!b5.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},v5.prototype.neutral=function(t){if(g5.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(y5.test(t))return this.word=t,void(this.state=3);if(!b5.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},v5.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var C5=function(t){var e=new v5(t).output(),n=e.shift(),i=e.shift();e.unshift(["name",i]),e.unshift(["type",n]);var r={};return w5(e,r),function(t){if("GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):t.projName="object"==typeof t.PROJECTION?Object.keys(t.PROJECTION)[0]:t.PROJECTION,t.AXIS){for(var e="",n=0,i=t.AXIS.length;n<i;++n){var r=t.AXIS[n][0].toLowerCase();-1!==r.indexOf("north")?e+="n":-1!==r.indexOf("south")?e+="s":-1!==r.indexOf("east")?e+="e":-1!==r.indexOf("west")&&(e+="w")}2===e.length&&(e+="u"),3===e.length&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var o=t.GEOGCS;function s(e){return e*(t.to_meter||1)}"GEOGCS"===t.type&&(o=t),o&&(t.datumCode=o.DATUM?o.DATUM.name.toLowerCase():o.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"!==t.datumCode&&"world_geodetic_system_1984"!==t.datumCode||("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),o.DATUM&&o.DATUM.SPHEROID&&(t.ellps=o.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=o.DATUM.SPHEROID.a,t.rf=parseFloat(o.DATUM.SPHEROID.rf,10)),o.DATUM&&o.DATUM.TOWGS84&&(t.datum_params=o.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",z5],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",z5],["x0","false_easting",s],["y0","false_northing",s],["long0","central_meridian",z5],["lat0","latitude_of_origin",z5],["lat0","standard_parallel_1",z5],["lat1","standard_parallel_1",z5],["lat2","standard_parallel_2",z5],["azimuth","Azimuth"],["alpha","azimuth",z5],["srsCode","name"]].forEach(function(e){return o=(i=e)[1],void(!((r=i[0])in(n=t))&&o in n&&(n[r]=n[o],3===i.length&&(n[r]=i[2](n[r]))));var n,i,r,o}),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=z5(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(r),r};function S5(t){var e=this;if(2===arguments.length){var n=arguments[1];S5[t]="string"==typeof n?"+"===n.charAt(0)?p5(arguments[1]):C5(arguments[1]):n}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?S5.apply(e,t):S5(t)});if("string"==typeof t){if(t in S5)return S5[t]}else"EPSG"in t?S5["EPSG:"+t.EPSG]=t:"ESRI"in t?S5["ESRI:"+t.ESRI]=t:"IAU2000"in t?S5["IAU2000:"+t.IAU2000]=t:console.log(t);return}}!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(S5);var x5=S5,O5=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],k5=["3857","900913","3785","102113"],T5=function(t,e){var n,i;if(t=t||{},!e)return t;for(i in e)void 0!==(n=e[i])&&(t[i]=n);return t},E5=function(t,e,n){var i=t*e;return n/Math.sqrt(1-i*i)},I5=function(t){return t<0?-1:1},D5=function(t){return Math.abs(t)<=c5?t:t-I5(t)*a5},M5=function(t,e,n){var i=t*n;return i=Math.pow((1-i)/(1+i),.5*t),Math.tan(.5*(i5-e))/i},R5=function(t,e){for(var n,i,r=.5*t,o=i5-2*Math.atan(e),s=0;s<=15;s++)if(n=t*Math.sin(o),o+=i=i5-2*Math.atan(e*Math.pow((1-n)/(1+n),r))-o,Math.abs(i)<=1e-10)return o;return-9999};function A5(t){return t}var P5=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.k0=this.sphere?Math.cos(this.lat_ts):E5(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k0=this.k?this.k:1)},forward:function(t){var e,n,i=t.x,r=t.y;if(r*o5>90&&r*o5<-90&&i*o5>180&&i*o5<-180)return null;if(Math.abs(Math.abs(r)-i5)<=1e-10)return null;if(this.sphere)e=this.x0+this.a*this.k0*D5(i-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(s5+.5*r));else{var o=Math.sin(r),s=M5(this.e,r,o);e=this.x0+this.a*this.k0*D5(i-this.long0),n=this.y0-this.a*this.k0*Math.log(s)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,i=t.x-this.x0,r=t.y-this.y0;if(this.sphere)n=i5-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var o=Math.exp(-r/(this.a*this.k0));if(-9999===(n=R5(this.e,o)))return null}return e=D5(this.long0+i/(this.a*this.k0)),t.x=e,t.y=n,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:A5,inverse:A5,names:["longlat","identity"]}],L5={},F5=[];function j5(t,e){var n=F5.length;return t.names?(F5[n]=t,t.names.forEach(function(t){L5[t.toLowerCase()]=n}),this):(console.log(e),!0)}var N5={start:function(){P5.forEach(j5)},add:j5,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==L5[e]&&F5[L5[e]]?F5[L5[e]]:void 0}},V5={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},W5=V5.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};V5.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var q5={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},B5={};function X5(t){if(0===t.length)return null;var e="@"===t[0];return e&&(t=t.slice(1)),"null"===t?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:B5[t]||null,isNull:!1}}function U5(t){return t/3600*Math.PI/180}function $5(t,e,n){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,n)))}function H5(t){return t.map(function(t){return[U5(t.longitudeShift),U5(t.latitudeShift)]})}function K5(t,e,n){return{name:$5(t,e+8,e+16).trim(),parent:$5(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,n),upperLatitude:t.getFloat64(e+88,n),lowerLongitude:t.getFloat64(e+104,n),upperLongitude:t.getFloat64(e+120,n),latitudeInterval:t.getFloat64(e+136,n),longitudeInterval:t.getFloat64(e+152,n),gridNodeCount:t.getInt32(e+168,n)}}function G5(t,e,n,i){for(var r=e+176,o=[],s=0;s<n.gridNodeCount;s++){var a={latitudeShift:t.getFloat32(r+16*s,i),longitudeShift:t.getFloat32(r+16*s+4,i),latitudeAccuracy:t.getFloat32(r+16*s+8,i),longitudeAccuracy:t.getFloat32(r+16*s+12,i)};o.push(a)}return o}function Y5(t,e){if(!(this instanceof Y5))return new Y5(t);e=e||function(t){if(t)throw t};var n=function(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in x5}(t))return x5[t];if(function(t){return O5.some(function(e){return t.indexOf(e)>-1})}(t)){var e=C5(t);if(function(t){var e=d5(t,"authority");if(e){var n=d5(e,"epsg");return n&&k5.indexOf(n)>-1}}(e))return x5["EPSG:3857"];var n=function(t){var e=d5(t,"extension");if(e)return d5(e,"proj4")}(e);return n?p5(n):e}return function(t){return"+"===t[0]}(t)?p5(t):void 0}(t);if("object"==typeof n){var i=Y5.projections.get(n.projName);if(i){if(n.datumCode&&"none"!==n.datumCode){var r=d5(q5,n.datumCode);r&&(n.datum_params=n.datum_params||(r.towgs84?r.towgs84.split(","):null),n.ellps=r.ellipse,n.datumName=r.datumName?r.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var o=function(t,e,n,i,r){if(!t){var o=d5(V5,i);o||(o=W5),t=o.a,e=o.b,n=o.rf}return n&&!e&&(e=(1-1/n)*t),(0===n||Math.abs(t-e)<1e-10)&&(r=!0,e=t),{a:t,b:e,rf:n,sphere:r}}(n.a,n.b,n.rf,n.ellps,n.sphere),s=function(t,e,n,i){var r=t*t,o=e*e,s=(r-o)/r,a=0;return i?(r=(t*=1-s*(.16666666666666666+s*(.04722222222222222+.022156084656084655*s)))*t,s=0):a=Math.sqrt(s),{es:s,e:a,ep2:(r-o)/o}}(o.a,o.b,0,n.R_A),a=function(t){return void 0===t?null:t.split(",").map(X5)}(n.nadgrids),c=n.datum||function(t,e,n,i,r,o,s){var a={};return a.datum_type=void 0===t||"none"===t?5:4,e&&(a.datum_params=e.map(parseFloat),0===a.datum_params[0]&&0===a.datum_params[1]&&0===a.datum_params[2]||(a.datum_type=1),a.datum_params.length>3&&(0===a.datum_params[3]&&0===a.datum_params[4]&&0===a.datum_params[5]&&0===a.datum_params[6]||(a.datum_type=2,a.datum_params[3]*=n5,a.datum_params[4]*=n5,a.datum_params[5]*=n5,a.datum_params[6]=a.datum_params[6]/1e6+1))),s&&(a.datum_type=3,a.grids=s),a.a=n,a.b=i,a.es=r,a.ep2=o,a}(n.datumCode,n.datum_params,o.a,o.b,s.es,s.ep2,a);T5(this,n),T5(this,i),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=c,this.init(),e(null,this)}else e(t)}else e(t)}(Y5.projections=N5).start();var Q5=Y5;function J5(t,e,n){var i,r,o,s=t.x,a=t.y,c=t.z?t.z:0;if(a<-i5&&a>-1.001*i5)a=-i5;else if(a>i5&&a<1.001*i5)a=i5;else{if(a<-i5)return{x:-1/0,y:-1/0,z:t.z};if(a>i5)return{x:1/0,y:1/0,z:t.z}}return s>Math.PI&&(s-=2*Math.PI),r=Math.sin(a),o=Math.cos(a),{x:((i=n/Math.sqrt(1-e*(r*r)))+c)*o*Math.cos(s),y:(i+c)*o*Math.sin(s),z:(i*(1-e)+c)*r}}function Z5(t,e,n,i){var r,o,s,a,c,l,u,h,d,p,f,g,m,b,y,v=t.x,_=t.y,w=t.z?t.z:0;if(r=Math.sqrt(v*v+_*_),o=Math.sqrt(v*v+_*_+w*w),r/n<1e-12){if(b=0,o/n<1e-12)return y=-i,{x:t.x,y:t.y,z:t.z}}else b=Math.atan2(_,v);s=w/o,h=(a=r/o)*(1-e)*(c=1/Math.sqrt(1-e*(2-e)*a*a)),d=s*c,m=0;do{m++,l=e*(u=n/Math.sqrt(1-e*d*d))/(u+(y=r*h+w*d-u*(1-e*d*d))),g=(f=s*(c=1/Math.sqrt(1-l*(2-l)*a*a)))*h-(p=a*(1-l)*c)*d,h=p,d=f}while(g*g>1e-24&&m<30);return{x:b,y:Math.atan(f/Math.abs(p)),z:y}}function t8(t){return 1===t||2===t}function e8(t,e,n){if(null===t.grids||0===t.grids.length)return console.log("Grid shift grids not found"),-1;for(var i={x:-n.x,y:n.y},r={x:Number.NaN,y:Number.NaN},o=[],s=0;s<t.grids.length;s++){var a=t.grids[s];if(o.push(a.name),a.isNull){r=i;break}if(null!==a.grid){var c=a.grid.subgrids[0],l=(Math.abs(c.del[1])+Math.abs(c.del[0]))/1e4;if(!(c.ll[1]-l>i.y||c.ll[0]-l>i.x||c.ll[1]+(c.lim[1]-1)*c.del[1]+l<i.y||c.ll[0]+(c.lim[0]-1)*c.del[0]+l<i.x||(r=n8(i,e,c),isNaN(r.x))))break}else if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1}return isNaN(r.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*o5+" "+i.y*o5+" tried: '"+o+"'"),-1):(n.x=-r.x,n.y=r.y,0)}function n8(t,e,n){var i={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return i;var r={x:t.x,y:t.y};r.x-=n.ll[0],r.y-=n.ll[1],r.x=D5(r.x-Math.PI)+Math.PI;var o=i8(r,n);if(e){if(isNaN(o.x))return i;o.x=r.x-o.x,o.y=r.y-o.y;var s,a,c=9;do{if(a=i8(o,n),isNaN(a.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}o.x+=(s={x:r.x-(a.x+o.x),y:r.y-(a.y+o.y)}).x,o.y+=s.y}while(c--&&Math.abs(s.x)>1e-12&&Math.abs(s.y)>1e-12);if(c<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=D5(o.x+n.ll[0]),i.y=o.y+n.ll[1]}else isNaN(o.x)||(i.x=t.x+o.x,i.y=t.y+o.y);return i}function i8(t,e){var n,i={x:t.x/e.del[0],y:t.y/e.del[1]},r=Math.floor(i.x),o=Math.floor(i.y),s=i.x-1*r,a=i.y-1*o,c={x:Number.NaN,y:Number.NaN};if(r<0||r>=e.lim[0])return c;if(o<0||o>=e.lim[1])return c;var l=e.cvs[n=o*e.lim[0]+r][0],u=e.cvs[n][1];n++;var h=e.cvs[n][0],d=e.cvs[n][1],p=e.cvs[n+=e.lim[0]][0],f=e.cvs[n][1];n--;var g=e.cvs[n][1],m=s*a,b=s*(1-a),y=(1-s)*(1-a),v=(1-s)*a;return c.x=y*l+b*h+v*e.cvs[n][0]+m*p,c.y=y*u+b*d+v*g+m*f,c}var r8=function(t,e,n){var i,r,o,s=n.x,a=n.y,c=n.z||0,l={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==n.z)switch(0===o?(i=s,r=-1!=="ew".indexOf(t.axis[o])?"x":"y"):1===o?(i=a,r=-1!=="ns".indexOf(t.axis[o])?"y":"x"):(i=c,r="z"),t.axis[o]){case"e":l[r]=i;break;case"w":l[r]=-i;break;case"n":l[r]=i;break;case"s":l[r]=-i;break;case"u":void 0!==n[r]&&(l.z=i);break;case"d":void 0!==n[r]&&(l.z=-i);break;default:return null}return l},o8=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e};function s8(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function a8(t,e,n){var i;if(Array.isArray(n)&&(n=o8(n)),function(t){s8(t.x),s8(t.y)}(n),t.datum&&e.datum&&function(t,e){return(1===t.datum.datum_type||2===t.datum.datum_type)&&"WGS84"!==e.datumCode||(1===e.datum.datum_type||2===e.datum.datum_type)&&"WGS84"!==t.datumCode}(t,e)&&(n=a8(t,i=new Q5("WGS84"),n),t=i),"enu"!==t.axis&&(n=r8(t,!1,n)),"longlat"===t.projName)n={x:n.x*r5,y:n.y*r5,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),!(n=t.inverse(n)))return;if(t.from_greenwich&&(n.x+=t.from_greenwich),n=function(t,e,n){if(function(t,e){return t.datum_type===e.datum_type&&!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(1===t.datum_type?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:2!==t.datum_type||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])}(t,e))return n;if(5===t.datum_type||5===e.datum_type)return n;var i=t.a,r=t.es;if(3===t.datum_type){if(0!==e8(t,!1,n))return;i=6378137,r=.0066943799901413165}var o=e.a,s=e.b,a=e.es;return 3===e.datum_type&&(o=6378137,s=6356752.314,a=.0066943799901413165),r!==a||i!==o||t8(t.datum_type)||t8(e.datum_type)?(n=J5(n,r,i),t8(t.datum_type)&&(n=function(t,e,n){if(1===e)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(2===e){var i=n[3],r=n[4],o=n[5],s=n[6];return{x:s*(t.x-o*t.y+r*t.z)+n[0],y:s*(o*t.x+t.y-i*t.z)+n[1],z:s*(-r*t.x+i*t.y+t.z)+n[2]}}}(n,t.datum_type,t.datum_params)),t8(e.datum_type)&&(n=function(t,e,n){if(1===e)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(2===e){var i=n[3],r=n[4],o=n[5],s=n[6],a=(t.x-n[0])/s,c=(t.y-n[1])/s,l=(t.z-n[2])/s;return{x:a+o*c-r*l,y:-o*a+c+i*l,z:r*a-i*c+l}}}(n,e.datum_type,e.datum_params)),n=Z5(n,a,o,s),3!==e.datum_type||0===e8(e,!0,n)?n:void 0):n}(t.datum,e.datum,n))return e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),"longlat"===e.projName?n={x:n.x*o5,y:n.y*o5,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),"enu"!==e.axis?r8(e,!0,n):n}var c8=Q5("WGS84");function l8(t,e,n){var i,r,o;return Array.isArray(n)?(i=a8(t,e,n)||{x:NaN,y:NaN},n.length>2?void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name?"number"==typeof i.z?[i.x,i.y,i.z].concat(n.splice(3)):[i.x,i.y,n[2]].concat(n.splice(3)):[i.x,i.y].concat(n.splice(2)):[i.x,i.y]):(r=a8(t,e,n),2===(o=Object.keys(n)).length||o.forEach(function(i){if(void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name){if("x"===i||"y"===i||"z"===i)return}else if("x"===i||"y"===i)return;r[i]=n[i]}),r)}function u8(t){return t instanceof Q5?t:t.oProj?t.oProj:Q5(t)}var h8=function(t,e,n){t=u8(t);var i,r=!1;return void 0===e?(e=t,t=c8,r=!0):(void 0!==e.x||Array.isArray(e))&&(n=e,e=t,t=c8,r=!0),e=u8(e),n?l8(t,e,n):(i={forward:function(n){return l8(t,e,n)},inverse:function(n){return l8(e,t,n)}},r&&(i.oProj=e),i)},d8={forward:p8,inverse:function(t){var e=b8(v8(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},toPoint:f8};function p8(t,e){return e=e||5,function(t,e){var n,i,r,o,s,a,c,l,u,h,d,p="00000"+t.easting,f="00000"+t.northing;return t.zoneNumber+t.zoneLetter+(u=t.easting,h=t.northing,d=y8(t.zoneNumber),n=Math.floor(u/1e5),i=Math.floor(h/1e5)%20,l=!1,(a=(o="AJSAJS".charCodeAt(r=d-1))+n-1)>90&&(a=a-90+65-1,l=!0),(73===a||o<73&&a>73||(a>73||o<73)&&l)&&a++,(79===a||o<79&&a>79||(a>79||o<79)&&l)&&73==++a&&a++,a>90&&(a=a-90+65-1),(c=(s="AFAFAF".charCodeAt(r))+i)>86?(c=c-86+65-1,l=!0):l=!1,(73===c||s<73&&c>73||(c>73||s<73)&&l)&&c++,(79===c||s<79&&c>79||(c>79||s<79)&&l)&&73==++c&&c++,c>86&&(c=c-86+65-1),String.fromCharCode(a)+String.fromCharCode(c))+p.substr(p.length-5,e)+f.substr(f.length-5,e)}(function(t){var e,n,i,r,o,s,a=t.lat,c=t.lon,l=6378137,u=g8(a),h=g8(c);s=Math.floor((c+180)/6)+1,180===c&&(s=60),a>=56&&a<64&&c>=3&&c<12&&(s=32),a>=72&&a<84&&(c>=0&&c<9?s=31:c>=9&&c<21?s=33:c>=21&&c<33?s=35:c>=33&&c<42&&(s=37)),o=g8(6*(s-1)-180+3),e=l/Math.sqrt(1-.00669438*Math.sin(u)*Math.sin(u)),n=Math.tan(u)*Math.tan(u),i=.006739496752268451*Math.cos(u)*Math.cos(u);var d,p,f=.9996*e*((r=Math.cos(u)*(h-o))+(1-n+i)*r*r*r/6+(5-18*n+n*n+72*i-.39089081163157013)*r*r*r*r*r/120)+5e5,g=.9996*(l*(.9983242984503243*u-.002514607064228144*Math.sin(2*u)+2639046602129982e-21*Math.sin(4*u)-3.418046101696858e-9*Math.sin(6*u))+e*Math.tan(u)*(r*r/2+(5-n+9*i+4*i*i)*r*r*r*r/24+(61-58*n+n*n+600*i-2.2240339282485886)*r*r*r*r*r*r/720));return a<0&&(g+=1e7),{northing:Math.round(g),easting:Math.round(f),zoneNumber:s,zoneLetter:(d=a,p="Z",84>=d&&d>=72?p="X":72>d&&d>=64?p="W":64>d&&d>=56?p="V":56>d&&d>=48?p="U":48>d&&d>=40?p="T":40>d&&d>=32?p="S":32>d&&d>=24?p="R":24>d&&d>=16?p="Q":16>d&&d>=8?p="P":8>d&&d>=0?p="N":0>d&&d>=-8?p="M":-8>d&&d>=-16?p="L":-16>d&&d>=-24?p="K":-24>d&&d>=-32?p="J":-32>d&&d>=-40?p="H":-40>d&&d>=-48?p="G":-48>d&&d>=-56?p="F":-56>d&&d>=-64?p="E":-64>d&&d>=-72?p="D":-72>d&&d>=-80&&(p="C"),p)}}({lat:t[1],lon:t[0]}),e)}function f8(t){var e=b8(v8(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function g8(t){return t*(Math.PI/180)}function m8(t){return t/Math.PI*180}function b8(t){var e=t.northing,n=t.easting,i=t.zoneLetter,r=t.zoneNumber;if(r<0||r>60)return null;var o,s,a,c,l,u,h,d,p=6378137,f=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),g=n-5e5,m=e;i<"N"&&(m-=1e7),u=6*(r-1)-180+3,d=(h=m/.9996/6367449.145945056)+(3*f/2-27*f*f*f/32)*Math.sin(2*h)+(21*f*f/16-55*f*f*f*f/32)*Math.sin(4*h)+151*f*f*f/96*Math.sin(6*h),o=p/Math.sqrt(1-.00669438*Math.sin(d)*Math.sin(d)),s=Math.tan(d)*Math.tan(d),a=.006739496752268451*Math.cos(d)*Math.cos(d),c=.99330562*p/Math.pow(1-.00669438*Math.sin(d)*Math.sin(d),1.5),l=g/(.9996*o);var b=d-o*Math.tan(d)/c*(l*l/2-(5+3*s+10*a-4*a*a-.06065547077041606)*l*l*l*l/24+(61+90*s+298*a+45*s*s-1.6983531815716497-3*a*a)*l*l*l*l*l*l/720);b=m8(b);var y,v=(l-(1+2*s+a)*l*l*l/6+(5-2*a+28*s-3*a*a+.05391597401814761+24*s*s)*l*l*l*l*l/120)/Math.cos(d);if(v=u+m8(v),t.accuracy){var _=b8({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});y={top:_.lat,right:_.lon,bottom:b,left:v}}else y={lat:b,lon:v};return y}function y8(t){var e=t%6;return 0===e&&(e=6),e}function v8(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,i=null,r="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;r+=e,o++}var s=parseInt(r,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(o++);if(a<="A"||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;i=t.substring(o,o+=2);for(var c=y8(s),l=function(t,e){for(var n="AJSAJS".charCodeAt(e-1),i=1e5,r=!1;n!==t.charCodeAt(0);){if(73==++n&&n++,79===n&&n++,n>90){if(r)throw"Bad character: "+t;n=65,r=!0}i+=1e5}return i}(i.charAt(0),c),u=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n="AFAFAF".charCodeAt(e-1),i=0,r=!1;n!==t.charCodeAt(0);){if(73==++n&&n++,79===n&&n++,n>86){if(r)throw"Bad character: "+t;n=65,r=!0}i+=1e5}return i}(i.charAt(1),c);u<_8(a);)u+=2e6;var h=n-o;if(h%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var d,p,f,g=h/2,m=0,b=0;return g>0&&(d=1e5/Math.pow(10,g),p=t.substring(o,o+g),m=parseFloat(p)*d,f=t.substring(o+g),b=parseFloat(f)*d),{easting:m+l,northing:b+u,zoneLetter:a,zoneNumber:s,accuracy:d}}function _8(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function w8(t,e,n){if(!(this instanceof w8))return new w8(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var i=t.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}w8.fromMGRS=function(t){return new w8(f8(t))},w8.prototype.toMGRS=function(t){return p8([this.x,this.y],t)};var z8=w8,C8=.01068115234375,S8=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+t*C8))),e[1]=t*(.75-t*(.046875+t*(.01953125+t*C8)));var n=t*t;return e[2]=n*(.46875-t*(.013020833333333334+.007120768229166667*t)),e[3]=(n*=t)*(.3645833333333333-.005696614583333333*t),e[4]=n*t*.3076171875,e},x8=function(t,e,n,i){return i[0]*t-(n*=e)*(i[1]+(e*=e)*(i[2]+e*(i[3]+e*i[4])))},O8=function(t,e,n){for(var i=1/(1-e),r=t,o=20;o;--o){var s=Math.sin(r),a=1-e*s*s;if(r-=a=(x8(r,s,Math.cos(r),n)-t)*(a*Math.sqrt(a))*i,Math.abs(a)<1e-10)return r}return r},k8={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=S8(this.es),this.ml0=x8(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,n,i,r=t.y,o=D5(t.x-this.long0),s=Math.sin(r),a=Math.cos(r);if(this.es){var c=a*o,l=Math.pow(c,2),u=this.ep2*Math.pow(a,2),h=Math.pow(u,2),d=Math.abs(a)>1e-10?Math.tan(r):0,p=Math.pow(d,2),f=Math.pow(p,2);e=1-this.es*Math.pow(s,2),c/=Math.sqrt(e);var g=x8(r,s,a,this.en);n=this.a*(this.k0*c*(1+l/6*(1-p+u+l/20*(5-18*p+f+14*u-58*p*u+l/42*(61+179*f-f*p-479*p)))))+this.x0,i=this.a*(this.k0*(g-this.ml0+s*o*c/2*(1+l/12*(5-p+9*u+4*h+l/30*(61+f-58*p+270*u-330*p*u+l/56*(1385+543*f-f*p-3111*p))))))+this.y0}else{var m=a*Math.sin(o);if(Math.abs(Math.abs(m)-1)<1e-10)return 93;if(n=.5*this.a*this.k0*Math.log((1+m)/(1-m))+this.x0,i=a*Math.cos(o)/Math.sqrt(1-Math.pow(m,2)),(m=Math.abs(i))>=1){if(m-1>1e-10)return 93;i=0}else i=Math.acos(i);r<0&&(i=-i),i=this.a*this.k0*(i-this.lat0)+this.y0}return t.x=n,t.y=i,t},inverse:function(t){var e,n,i,r,o=1/this.a*(t.x-this.x0),s=1/this.a*(t.y-this.y0);if(this.es)if(n=O8(e=this.ml0+s/this.k0,this.es,this.en),Math.abs(n)<i5){var a=Math.sin(n),c=Math.cos(n),l=Math.abs(c)>1e-10?Math.tan(n):0,u=this.ep2*Math.pow(c,2),h=Math.pow(u,2),d=Math.pow(l,2),p=Math.pow(d,2);e=1-this.es*Math.pow(a,2);var f=o*Math.sqrt(e)/this.k0,g=Math.pow(f,2);i=n-(e*=l)*g/(1-this.es)*.5*(1-g/12*(5+3*d-9*u*d+u-4*h-g/30*(61+90*d-252*u*d+45*p+46*u-g/56*(1385+3633*d+4095*p+1574*p*d)))),r=D5(this.long0+f*(1-g/6*(1+2*d+u-g/20*(5+28*d+24*p+8*u*d+6*u-g/42*(61+662*d+1320*p+720*p*d))))/c)}else i=i5*I5(s),r=0;else{var m=Math.exp(o/this.k0),b=.5*(m-1/m),y=Math.cos(this.lat0+s/this.k0);e=Math.sqrt((1-Math.pow(y,2))/(1+Math.pow(b,2))),i=Math.asin(e),s<0&&(i=-i),r=0===b&&0===y?0:D5(Math.atan2(b,y)+this.long0)}return t.x=r,t.y=i,t},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]},T8=function(t){var e=Math.exp(t);return(e-1/e)/2},E8=function(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),i=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(i,2))},I8=function(t,e){for(var n,i=2*Math.cos(2*e),r=t.length-1,o=t[r],s=0;--r>=0;)n=i*o-s+t[r],s=o,o=n;return e+n*Math.sin(2*e)},D8=function(t,e,n){for(var i,r,o=Math.sin(e),s=Math.cos(e),a=T8(n),c=function(t){var e=Math.exp(t);return(e+1/e)/2}(n),l=2*s*c,u=-2*o*a,h=t.length-1,d=t[h],p=0,f=0,g=0;--h>=0;)i=f,r=p,d=l*(f=d)-i-u*(p=g)+t[h],g=u*f-r+l*p;return[(l=o*c)*d-(u=s*a)*g,l*g+u*d]},M8={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(k8.init.apply(this),this.forward=k8.forward,this.inverse=k8.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),this.cgb[1]=(n*=e)*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),this.cgb[2]=(n*=e)*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),this.cgb[3]=(n*=e)*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(e*(-24832/14175)-2.4)),this.cgb[4]=(n*=e)*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),this.cgb[5]=(n*=e)*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),this.utg[2]=(n*=e)*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),this.utg[3]=(n*=e)*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),this.utg[4]=(n*=e)*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),this.utg[5]=(n*=e)*(-20648693/638668800),this.gtu[5]=.6650675310896665*n;var i=I8(this.cbg,this.lat0);this.Zb=-this.Qn*(i+function(t,e){for(var n,i=2*Math.cos(e),r=t.length-1,o=t[r],s=0;--r>=0;)n=i*o-s+t[r],s=o,o=n;return Math.sin(e)*n}(this.gtu,2*i))},forward:function(t){var e=D5(t.x-this.long0),n=t.y;n=I8(this.cbg,n);var i=Math.sin(n),r=Math.cos(n),o=Math.sin(e),s=Math.cos(e);n=Math.atan2(i,s*r),e=Math.atan2(o*r,E8(i,r*s)),e=function(t){var e=Math.abs(t);return e=function(t){var e=1+t,n=e-1;return 0===n?t:t*Math.log(e)/n}(e*(1+e/(E8(1,e)+1))),t<0?-e:e}(Math.tan(e));var a,c,l=D8(this.gtu,2*n,2*e);return n+=l[0],e+=l[1],Math.abs(e)<=2.623395162778?(a=this.a*(this.Qn*e)+this.x0,c=this.a*(this.Qn*n+this.Zb)+this.y0):(a=1/0,c=1/0),t.x=a,t.y=c,t},inverse:function(t){var e,n,i=1/this.a*(t.x-this.x0),r=1/this.a*(t.y-this.y0);if(r=(r-this.Zb)/this.Qn,i/=this.Qn,Math.abs(i)<=2.623395162778){var o=D8(this.utg,2*r,2*i);r+=o[0],i+=o[1],i=Math.atan(T8(i));var s=Math.sin(r),a=Math.cos(r),c=Math.sin(i),l=Math.cos(i);r=Math.atan2(s*l,E8(c,l*a)),i=Math.atan2(c,l*a),e=D5(i+this.long0),n=I8(this.cgb,r)}else e=1/0,n=1/0;return t.x=e,t.y=n,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"]},R8={init:function(){var t=function(t,e){if(void 0===t){if((t=Math.floor(30*(D5(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*r5,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,M8.init.apply(this),this.forward=M8.forward,this.inverse=M8.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},A8=function(t,e){return Math.pow((1-t)/(1+t),e)},P8={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+s5)/(Math.pow(Math.tan(.5*this.lat0+s5),this.C)*A8(this.e*t,this.ratexp))},forward:function(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+s5),this.C)*A8(this.e*Math.sin(n),this.ratexp))-i5,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,n=t.y,i=Math.pow(Math.tan(.5*n+s5)/this.K,1/this.C),r=20;r>0&&(n=2*Math.atan(i*A8(this.e*Math.sin(t.y),-.5*this.e))-i5,!(Math.abs(n-t.y)<1e-14));--r)t.y=n;return r?(t.x=e,t.y=n,t):null},names:["gauss"]},L8={init:function(){P8.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,n,i,r;return t.x=D5(t.x-this.long0),P8.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),i=Math.cos(t.x),t.x=(r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*i))*n*Math.sin(t.x),t.y=r*(this.cosc0*e-this.sinc0*n*i),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,n,i,r,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=Math.sqrt(t.x*t.x+t.y*t.y)){var s=2*Math.atan2(o,this.R2);e=Math.sin(s),n=Math.cos(s),r=Math.asin(n*this.sinc0+t.y*e*this.cosc0/o),i=Math.atan2(t.x*e,o*this.cosc0*n-t.y*this.sinc0*e)}else r=this.phic0,i=0;return t.x=i,t.y=r,P8.inverse.apply(this,[t]),t.x=D5(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]},F8={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=1e-10&&(this.k0=.5*(1+I5(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=1e-10&&(this.con=this.lat0>0?1:-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=1e-10&&(this.k0=.5*this.cons*E5(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/M5(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=E5(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-i5,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,n,i,r,o,s,a=t.x,c=t.y,l=Math.sin(c),u=Math.cos(c),h=D5(a-this.long0);return Math.abs(Math.abs(a-this.long0)-Math.PI)<=1e-10&&Math.abs(c+this.lat0)<=1e-10?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*l+this.coslat0*u*Math.cos(h)),t.x=this.a*e*u*Math.sin(h)+this.x0,t.y=this.a*e*(this.coslat0*l-this.sinlat0*u*Math.cos(h))+this.y0,t):(n=2*Math.atan(this.ssfn_(c,l,this.e))-i5,r=Math.cos(n),i=Math.sin(n),Math.abs(this.coslat0)<=1e-10?(o=M5(this.e,c*this.con,this.con*l),t.x=this.x0+(s=2*this.a*this.k0*o/this.cons)*Math.sin(a-this.long0),t.y=this.y0-this.con*s*Math.cos(a-this.long0),t):(Math.abs(this.sinlat0)<1e-10?(e=2*this.a*this.k0/(1+r*Math.cos(h)),t.y=e*i):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*i+this.cosX0*r*Math.cos(h))),t.y=e*(this.cosX0*i-this.sinX0*r*Math.cos(h))+this.y0),t.x=e*r*Math.sin(h)+this.x0,t))},inverse:function(t){var e,n,i,r;t.x-=this.x0,t.y-=this.y0;var o=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var s=2*Math.atan(o/(2*this.a*this.k0));return e=this.long0,n=this.lat0,o<=1e-10?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(s)*this.sinlat0+t.y*Math.sin(s)*this.coslat0/o),e=Math.abs(this.coslat0)<1e-10?D5(this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y)):D5(this.long0+Math.atan2(t.x*Math.sin(s),o*this.coslat0*Math.cos(s)-t.y*this.sinlat0*Math.sin(s))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=1e-10){if(o<=1e-10)return n=this.lat0,t.x=e=this.long0,t.y=n,t;t.x*=this.con,t.y*=this.con,n=this.con*R5(this.e,o*this.cons/(2*this.a*this.k0)),e=this.con*D5(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else i=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,o<=1e-10?r=this.X0:(r=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/o),e=D5(this.long0+Math.atan2(t.x*Math.sin(i),o*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)))),n=-1*R5(this.e,Math.tan(.5*(i5+r)));return t.x=e,t.y=n,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,n){return e*=n,Math.tan(.5*(i5+t))*Math.pow((1-e)/(1+e),.5*n)}},j8={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,i=1/this.rf,r=2*i-Math.pow(i,2),o=this.e=Math.sqrt(r);this.R=this.k0*n*Math.sqrt(1-r)/(1-r*Math.pow(e,2)),this.alpha=Math.sqrt(1+r/(1-r)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),a=Math.log(Math.tan(Math.PI/4+t/2)),c=Math.log((1+o*e)/(1-o*e));this.K=s-this.alpha*a+this.alpha*o/2*c},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=2*(Math.atan(Math.exp(-this.alpha*(e+n)+this.K))-Math.PI/4),r=this.alpha*(t.x-this.lambda0),o=Math.atan(Math.sin(r)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(r))),s=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(r));return t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,t.x=this.R*o+this.x0,t},inverse:function(t){for(var e=(t.x-this.x0)/this.R,n=2*(Math.atan(Math.exp((t.y-this.y0)/this.R))-Math.PI/4),i=Math.asin(Math.cos(this.b0)*Math.sin(n)+Math.sin(this.b0)*Math.cos(n)*Math.cos(e)),r=Math.atan(Math.sin(e)/(Math.cos(this.b0)*Math.cos(e)-Math.sin(this.b0)*Math.tan(n))),o=this.lambda0+r/this.alpha,s=0,a=i,c=-1e3,l=0;Math.abs(a-c)>1e-7;){if(++l>20)return;s=1/this.alpha*(Math.log(Math.tan(Math.PI/4+i/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(a))/2)),c=a,a=2*Math.atan(Math.exp(s))-Math.PI/2}return t.x=o,t.y=a,t},names:["somerc"]},N8={init:function(){var t,e,n,i,r,o,s,a,c,l,u,h,d,p=0,f=0,g=0,m=0,b=0,y=0,v=0;this.no_off=(d="object"==typeof(h=this).PROJECTION?Object.keys(h.PROJECTION)[0]:h.PROJECTION,"no_uoff"in h||"no_off"in h||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(d)),this.no_rot="no_rot"in this;var _=!1;"alpha"in this&&(_=!0);var w=!1;if("rectified_grid_angle"in this&&(w=!0),_&&(v=this.alpha),w&&(p=this.rectified_grid_angle*r5),_||w)f=this.longc;else if(g=this.long1,b=this.lat1,m=this.long2,y=this.lat2,Math.abs(b-y)<=1e-7||(t=Math.abs(b))<=1e-7||Math.abs(t-i5)<=1e-7||Math.abs(Math.abs(this.lat0)-i5)<=1e-7||Math.abs(Math.abs(y)-i5)<=1e-7)throw new Error;var z=1-this.es;e=Math.sqrt(z),Math.abs(this.lat0)>1e-10?(a=Math.sin(this.lat0),n=Math.cos(this.lat0),t=1-this.es*a*a,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/z),this.A=this.B*this.k0*e/t,(r=(i=this.B*e/(n*Math.sqrt(t)))*i-1)<=0?r=0:(r=Math.sqrt(r),this.lat0<0&&(r=-r)),this.E=r+=i,this.E*=Math.pow(M5(this.e,this.lat0,a),this.B)):(this.B=1/e,this.A=this.k0,this.E=i=r=1),_||w?(_?(u=Math.asin(Math.sin(v)/i),w||(p=v)):(u=p,v=Math.asin(i*Math.sin(u))),this.lam0=f-Math.asin(.5*(r-1/r)*Math.tan(u))/this.B):(o=Math.pow(M5(this.e,b,Math.sin(b)),this.B),s=Math.pow(M5(this.e,y,Math.sin(y)),this.B),r=this.E/o,c=(s-o)/(s+o),l=((l=this.E*this.E)-s*o)/(l+s*o),(t=g-m)<-Math.pi?m-=a5:t>Math.pi&&(m+=a5),this.lam0=D5(.5*(g+m)-Math.atan(l*Math.tan(.5*this.B*(g-m))/c)/this.B),u=Math.atan(2*Math.sin(this.B*D5(g-this.lam0))/(r-1/r)),p=v=Math.asin(i*Math.sin(u))),this.singam=Math.sin(u),this.cosgam=Math.cos(u),this.sinrot=Math.sin(p),this.cosrot=Math.cos(p),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(i*i-1)/Math.cos(v))),this.lat0<0&&(this.u_0=-this.u_0)),r=.5*u,this.v_pole_n=this.ArB*Math.log(Math.tan(s5-r)),this.v_pole_s=this.ArB*Math.log(Math.tan(s5+r))},forward:function(t){var e,n,i,r,o,s,a,c,l={};if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-i5)>1e-10){if(e=.5*((o=this.E/Math.pow(M5(this.e,t.y,Math.sin(t.y)),this.B))-(s=1/o)),n=.5*(o+s),r=Math.sin(this.B*t.x),i=(e*this.singam-r*this.cosgam)/n,Math.abs(Math.abs(i)-1)<1e-10)throw new Error;c=.5*this.ArB*Math.log((1-i)/(1+i)),s=Math.cos(this.B*t.x),a=Math.abs(s)<1e-7?this.A*t.x:this.ArB*Math.atan2(e*this.cosgam+r*this.singam,s)}else c=t.y>0?this.v_pole_n:this.v_pole_s,a=this.ArB*t.y;return this.no_rot?(l.x=a,l.y=c):(l.x=c*this.cosrot+(a-=this.u_0)*this.sinrot,l.y=a*this.cosrot-c*this.sinrot),l.x=this.a*l.x+this.x0,l.y=this.a*l.y+this.y0,l},inverse:function(t){var e,n,i,r,o,s,a,c={};if(t.x=1/this.a*(t.x-this.x0),t.y=1/this.a*(t.y-this.y0),this.no_rot?(n=t.y,e=t.x):(n=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),r=.5*((i=Math.exp(-this.BrA*n))-1/i),o=.5*(i+1/i),a=((s=Math.sin(this.BrA*e))*this.cosgam+r*this.singam)/o,Math.abs(Math.abs(a)-1)<1e-10)c.x=0,c.y=a<0?-i5:i5;else{if(c.y=this.E/Math.sqrt((1+a)/(1-a)),c.y=R5(this.e,Math.pow(c.y,1/this.B)),c.y===1/0)throw new Error;c.x=-this.rB*Math.atan2(r*this.cosgam-s*this.singam,Math.cos(this.BrA*e))}return c.x+=this.lam0,c},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]},V8={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<1e-10)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),i=E5(this.e,e,n),r=M5(this.e,this.lat1,e),o=Math.sin(this.lat2),s=Math.cos(this.lat2),a=E5(this.e,o,s),c=M5(this.e,this.lat2,o),l=M5(this.e,this.lat0,Math.sin(this.lat0));this.ns=Math.abs(this.lat1-this.lat2)>1e-10?Math.log(i/a)/Math.log(r/c):e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(l,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=1e-10&&(n=I5(n)*(i5-2e-10));var i,r,o=Math.abs(Math.abs(n)-i5);if(o>1e-10)i=M5(this.e,n,Math.sin(n)),r=this.a*this.f0*Math.pow(i,this.ns);else{if((o=n*this.ns)<=0)return null;r=0}var s=this.ns*D5(e-this.long0);return t.x=this.k0*(r*Math.sin(s))+this.x0,t.y=this.k0*(this.rh-r*Math.cos(s))+this.y0,t},inverse:function(t){var e,n,i,r,o,s=(t.x-this.x0)/this.k0,a=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+a*a),n=1):(e=-Math.sqrt(s*s+a*a),n=-1);var c=0;if(0!==e&&(c=Math.atan2(n*s,n*a)),0!==e||this.ns>0){if(n=1/this.ns,i=Math.pow(e/(this.a*this.f0),n),-9999===(r=R5(this.e,i)))return null}else r=-i5;return o=D5(c/this.ns+this.long0),t.x=o,t.y=r,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc"]},W8={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,n,i,r,o,s,a,c=t.y,l=D5(t.x-this.long0);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),i=-l*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),o=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(r)),s=this.n*o,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),t.y=a*Math.cos(s)/1,t.x=a*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,n,i,r,o,s,a,c=t.x;t.x=t.y,t.y=c,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),r=Math.atan2(t.y,t.x)/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),n=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(e)),t.x=this.long0-n/this.alfa,s=e,a=0;var l=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(a=1),s=t.y,l+=1}while(0===a&&l<15);return l>=15?null:t},names:["Krovak","krovak"]},q8=function(t,e,n,i,r){return t*r-e*Math.sin(2*r)+n*Math.sin(4*r)-i*Math.sin(6*r)},B8=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))},X8=function(t){return.375*t*(1+.25*t*(1+.46875*t))},U8=function(t){return.05859375*t*t*(1+.75*t)},$8=function(t){return t*t*t*(35/3072)},H8=function(t,e,n){var i=e*n;return t/Math.sqrt(1-i*i)},K8=function(t){return Math.abs(t)<i5?t:t-I5(t)*Math.PI},G8=function(t,e,n,i,r){var o,s;o=t/e;for(var a=0;a<15;a++)if(o+=s=(t-(e*o-n*Math.sin(2*o)+i*Math.sin(4*o)-r*Math.sin(6*o)))/(e-2*n*Math.cos(2*o)+4*i*Math.cos(4*o)-6*r*Math.cos(6*o)),Math.abs(s)<=1e-10)return o;return NaN},Y8={init:function(){this.sphere||(this.e0=B8(this.es),this.e1=X8(this.es),this.e2=U8(this.es),this.e3=$8(this.es),this.ml0=this.a*q8(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,n,i=t.x,r=t.y;if(i=D5(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(i)),n=this.a*(Math.atan2(Math.tan(r),Math.cos(i))-this.lat0);else{var o=Math.sin(r),s=Math.cos(r),a=H8(this.a,this.e,o),c=Math.tan(r)*Math.tan(r),l=i*Math.cos(r),u=l*l,h=this.es*s*s/(1-this.es);e=a*l*(1-u*c*(1/6-(8-c+8*h)*u/120)),n=this.a*q8(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+a*o/s*u*(.5+(5-c+6*h)*u/24)}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i=t.x/this.a,r=t.y/this.a;if(this.sphere){var o=r+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(i)),n=Math.atan2(Math.tan(i),Math.cos(o))}else{var s=G8(this.ml0/this.a+r,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-i5)<=1e-10)return t.x=this.long0,t.y=i5,r<0&&(t.y*=-1),t;var a=H8(this.a,this.e,Math.sin(s)),c=a*a*a/this.a/this.a*(1-this.es),l=Math.pow(Math.tan(s),2),u=i*this.a/a,h=u*u;e=s-a*Math.tan(s)/c*u*u*(.5-(1+3*l)*u*u/24),n=u*(1-h*(l/3+(1+3*l)*l*h/15))/Math.cos(s)}return t.x=D5(n+this.long0),t.y=K8(e),t},names:["Cassini","Cassini_Soldner","cass"]},Q8=function(t,e){var n;return t>1e-7?(1-t*t)*(e/(1-(n=t*e)*n)-.5/t*Math.log((1-n)/(1+n))):2*e},J8={init:function(){var t,e=Math.abs(this.lat0);if(this.mode=Math.abs(e-i5)<1e-10?this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<1e-10?this.EQUIT:this.OBLIQ,this.es>0)switch(this.qp=Q8(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,n=[];return n[0]=.3333333333333333*t,n[0]+=.17222222222222222*(e=t*t),n[1]=.06388888888888888*e,n[0]+=.10257936507936508*(e*=t),n[1]+=.0664021164021164*e,n[2]=.016415012942191543*e,n}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=Q8(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,n,i,r,o,s,a,c,l,u,h=t.x,d=t.y;if(h=D5(h-this.long0),this.sphere){if(o=Math.sin(d),u=Math.cos(d),i=Math.cos(h),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+u*i:1+this.sinph0*o+this.cosph0*u*i)<=1e-10)return null;e=(n=Math.sqrt(2/n))*u*Math.sin(h),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*u*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(d+this.lat0)<1e-10)return null;n=s5-.5*d,e=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(h),n*=i}}else{switch(a=0,c=0,l=0,i=Math.cos(h),r=Math.sin(h),o=Math.sin(d),s=Q8(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(a=s/this.qp,c=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:l=1+this.sinb1*a+this.cosb1*c*i;break;case this.EQUIT:l=1+c*i;break;case this.N_POLE:l=i5+d,s=this.qp-s;break;case this.S_POLE:l=d-i5,s=this.qp+s}if(Math.abs(l)<1e-10)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:l=Math.sqrt(2/l),n=this.mode===this.OBLIQ?this.ymf*l*(this.cosb1*a-this.sinb1*c*i):(l=Math.sqrt(2/(1+c*i)))*a*this.ymf,e=this.xmf*l*c*r;break;case this.N_POLE:case this.S_POLE:s>=0?(e=(l=Math.sqrt(s))*r,n=i*(this.mode===this.S_POLE?l:-l)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,r,o,s,a,c,l,u,h=t.x/this.a,d=t.y/this.a;if(this.sphere){var p,f=0,g=0;if((n=.5*(p=Math.sqrt(h*h+d*d)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(g=Math.sin(n),f=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(p)<=1e-10?0:Math.asin(d*g/p),h*=g,d=f*p;break;case this.OBLIQ:n=Math.abs(p)<=1e-10?this.lat0:Math.asin(f*this.sinph0+d*g*this.cosph0/p),h*=g*this.cosph0,d=(f-Math.sin(n)*this.sinph0)*p;break;case this.N_POLE:d=-d,n=i5-n;break;case this.S_POLE:n-=i5}e=0!==d||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(h,d):0}else{if(a=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(h/=this.dd,d*=this.dd,(s=Math.sqrt(h*h+d*d))<1e-10)return t.x=this.long0,t.y=this.lat0,t;r=2*Math.asin(.5*s/this.rq),i=Math.cos(r),h*=r=Math.sin(r),this.mode===this.OBLIQ?(o=this.qp*(a=i*this.sinb1+d*r*this.cosb1/s),d=s*this.cosb1*i-d*this.sinb1*r):(o=this.qp*(a=d*r/s),d=s*i)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(d=-d),!(o=h*h+d*d))return t.x=this.long0,t.y=this.lat0,t;a=1-o/this.qp,this.mode===this.S_POLE&&(a=-a)}e=Math.atan2(h,d),u=(c=Math.asin(a))+c,n=c+(l=this.apa)[0]*Math.sin(u)+l[1]*Math.sin(u+u)+l[2]*Math.sin(u+u+u)}return t.x=D5(this.long0+e),t.y=n,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},Z8=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)},t7={init:function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=E5(this.e3,this.sin_po,this.cos_po),this.qs1=Q8(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=E5(this.e3,this.sin_po,this.cos_po),this.qs2=Q8(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Q8(this.e3,this.sin_po),this.ns0=Math.abs(this.lat1-this.lat2)>1e-10?(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=Q8(this.e3,this.sin_phi),r=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,o=this.ns0*D5(e-this.long0),s=r*Math.sin(o)+this.x0,a=this.rh-r*Math.cos(o)+this.y0;return t.x=s,t.y=a,t},inverse:function(t){var e,n,i,r,o;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),i=0,0!==e&&(i=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,o=this.sphere?Math.asin((this.c-n*n)/(2*this.ns0)):this.phi1z(this.e3,(this.c-n*n)/this.ns0),r=D5(i/this.ns0+this.long0),t.x=r,t.y=o,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var n,i,r,o,s=Z8(.5*e);if(t<1e-10)return s;for(var a=t*t,c=1;c<=25;c++)if(s+=o=.5*(r=1-(i=t*(n=Math.sin(s)))*i)*r/Math.cos(s)*(e/(1-a)-n/r+.5/t*Math.log((1-i)/(1+i))),Math.abs(o)<=1e-7)return s;return null}},e7={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,n,i,r,o,s,a,c=t.y;return i=D5(t.x-this.long0),e=Math.sin(c),n=Math.cos(c),r=Math.cos(i),(o=this.sin_p14*e+this.cos_p14*n*r)>0||Math.abs(o)<=1e-10?(s=this.x0+1*this.a*n*Math.sin(i)/o,a=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*r)/o):(s=this.x0+this.infinity_dist*n*Math.sin(i),a=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*r)),t.x=s,t.y=a,t},inverse:function(t){var e,n,i,r,o,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(r=Math.atan2(e,this.rc),n=Math.sin(r),i=Math.cos(r),s=Z8(i*this.sin_p14+t.y*n*this.cos_p14/e),o=Math.atan2(t.x*n,e*this.cos_p14*i-t.y*this.sin_p14*n),o=D5(this.long0+o)):(s=this.phic0,o=0),t.x=o,t.y=s,t},names:["gnom"]},n7={init:function(){this.sphere||(this.k0=E5(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,n,i=t.y,r=D5(t.x-this.long0);if(this.sphere)e=this.x0+this.a*r*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var o=Q8(this.e,Math.sin(i));e=this.x0+this.a*this.k0*r,n=this.y0+this.a*o*.5/this.k0}return t.x=e,t.y=n,t},inverse:function(t){var e,n;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=D5(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=function(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*i5:i5;for(var i,r,o,s,a=Math.asin(.5*e),c=0;c<30;c++)if(r=Math.sin(a),o=Math.cos(a),s=t*r,a+=i=Math.pow(1-s*s,2)/(2*o)*(e/(1-t*t)-r/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),Math.abs(i)<=1e-10)return a;return NaN}(this.e,2*t.y*this.k0/this.a),e=D5(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t},names:["cea"]},i7={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.y,n=D5(t.x-this.long0),i=K8(e-this.lat0);return t.x=this.x0+this.a*n*this.rc,t.y=this.y0+this.a*i,t},inverse:function(t){var e=t.y;return t.x=D5(this.long0+(t.x-this.x0)/(this.a*this.rc)),t.y=K8(this.lat0+(e-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},r7={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=B8(this.es),this.e1=X8(this.es),this.e2=U8(this.es),this.e3=$8(this.es),this.ml0=this.a*q8(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,n,i,r=t.y,o=D5(t.x-this.long0);if(i=o*Math.sin(r),this.sphere)Math.abs(r)<=1e-10?(e=this.a*o,n=-1*this.a*this.lat0):(e=this.a*Math.sin(i)/Math.tan(r),n=this.a*(K8(r-this.lat0)+(1-Math.cos(i))/Math.tan(r)));else if(Math.abs(r)<=1e-10)e=this.a*o,n=-1*this.ml0;else{var s=H8(this.a,this.e,Math.sin(r))/Math.tan(r);e=s*Math.sin(i),n=this.a*q8(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+s*(1-Math.cos(i))}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){var e,n,i,r,o,s,a,c,l;if(i=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=1e-10)e=D5(i/this.a+this.long0),n=0;else{var u;for(a=i*i/this.a/this.a+(s=this.lat0+r/this.a)*s,c=s,o=20;o;--o)if(c+=l=-1*(s*(c*(u=Math.tan(c))+1)-c-.5*(c*c+a)*u)/((c-s)/u-1),Math.abs(l)<=1e-10){n=c;break}e=D5(this.long0+Math.asin(i*Math.tan(c)/this.a)/Math.sin(n))}else if(Math.abs(r+this.ml0)<=1e-10)n=0,e=D5(this.long0+i/this.a);else{var h,d,p,f,g;for(a=i*i/this.a/this.a+(s=(this.ml0+r)/this.a)*s,c=s,o=20;o;--o)if(g=this.e*Math.sin(c),h=Math.sqrt(1-g*g)*Math.tan(c),d=this.a*q8(this.e0,this.e1,this.e2,this.e3,c),p=this.e0-2*this.e1*Math.cos(2*c)+4*this.e2*Math.cos(4*c)-6*this.e3*Math.cos(6*c),c-=l=(s*(h*(f=d/this.a)+1)-f-.5*h*(f*f+a))/(this.es*Math.sin(2*c)*(f*f+a-2*s*f)/(4*h)+(s-f)*(h*p-2/Math.sin(2*c))-p),Math.abs(l)<=1e-10){n=c;break}h=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=D5(this.long0+Math.asin(i*h/this.a)/Math.sin(n))}return t.x=e,t.y=n,t},names:["Polyconic","poly"]},o7={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,n=(t.y-this.lat0)/n5*1e-5,i=t.x-this.long0,r=1,o=0;for(e=1;e<=10;e++)o+=this.A[e]*(r*=n);var s,a=o,c=i,l=1,u=0,h=0,d=0;for(e=1;e<=6;e++)s=u*a+l*c,h=h+this.B_re[e]*(l=l*a-u*c)-this.B_im[e]*(u=s),d=d+this.B_im[e]*l+this.B_re[e]*u;return t.x=d*this.a+this.x0,t.y=h*this.a+this.y0,t},inverse:function(t){var e,n,i=(t.y-this.y0)/this.a,r=(t.x-this.x0)/this.a,o=1,s=0,a=0,c=0;for(e=1;e<=6;e++)n=s*i+o*r,a=a+this.C_re[e]*(o=o*i-s*r)-this.C_im[e]*(s=n),c=c+this.C_im[e]*o+this.C_re[e]*s;for(var l=0;l<this.iterations;l++){var u,h=a,d=c,p=i,f=r;for(e=2;e<=6;e++)u=d*a+h*c,p+=(e-1)*(this.B_re[e]*(h=h*a-d*c)-this.B_im[e]*(d=u)),f+=(e-1)*(this.B_im[e]*h+this.B_re[e]*d);h=1,d=0;var g=this.B_re[1],m=this.B_im[1];for(e=2;e<=6;e++)u=d*a+h*c,g+=e*(this.B_re[e]*(h=h*a-d*c)-this.B_im[e]*(d=u)),m+=e*(this.B_im[e]*h+this.B_re[e]*d);var b=g*g+m*m;a=(p*g+f*m)/b,c=(f*g-p*m)/b}var y=a,v=c,_=1,w=0;for(e=1;e<=9;e++)w+=this.D[e]*(_*=y);var z=this.lat0+w*n5*1e5;return t.x=this.long0+v,t.y=z,t},names:["New_Zealand_Map_Grid","nzmg"]},s7={init:function(){},forward:function(t){var e=t.y,n=D5(t.x-this.long0),i=this.x0+this.a*n,r=this.y0+this.a*Math.log(Math.tan(Math.PI/4+e/2.5))*1.25;return t.x=i,t.y=r,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=D5(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t},names:["Miller_Cylindrical","mill"]},a7={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=S8(this.es)},forward:function(t){var e,n,i=t.x,r=t.y;if(i=D5(i-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(r),s=20;s;--s){var a=(this.m*r+Math.sin(r)-o)/(this.m+Math.cos(r));if(r-=a,Math.abs(a)<1e-10)break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;e=this.a*this.C_x*i*(this.m+Math.cos(r)),n=this.a*this.C_y*r}else{var c=Math.sin(r),l=Math.cos(r);n=this.a*x8(r,c,l,this.en),e=this.a*i*l/Math.sqrt(1-this.es*c*c)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,i,r;return t.x-=this.x0,i=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,i/=this.C_x*(this.m+Math.cos(e)),this.m?e=Z8((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=Z8(Math.sin(e)/this.n)),i=D5(i+this.long0),e=K8(e)):(e=O8(t.y/this.a,this.es,this.en),(r=Math.abs(e))<i5?(r=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)),i=D5(n)):r-1e-10<i5&&(i=this.long0)),t.x=i,t.y=e,t},names:["Sinusoidal","sinu"]},c7={init:function(){},forward:function(t){for(var e=t.y,n=D5(t.x-this.long0),i=e,r=Math.PI*Math.sin(e);;){var o=-(i+Math.sin(i)-r)/(1+Math.cos(i));if(i+=o,Math.abs(o)<1e-10)break}i/=2,Math.PI/2-Math.abs(e)<1e-10&&(n=0);var s=.900316316158*this.a*n*Math.cos(i)+this.x0,a=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=s,t.y=a,t},inverse:function(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var i=D5(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var r=Math.asin(n);return t.x=i,t.y=r,t},names:["Mollweide","moll"]},l7={init:function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=B8(this.es),this.e1=X8(this.es),this.e2=U8(this.es),this.e3=$8(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=E5(this.e,this.sinphi,this.cosphi),this.ml1=q8(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<1e-10?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=E5(this.e,this.sinphi,this.cosphi),this.ml2=q8(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=q8(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,n=t.x,i=t.y;if(this.sphere)e=this.a*(this.g-i);else{var r=q8(this.e0,this.e1,this.e2,this.e3,i);e=this.a*(this.g-r)}var o=this.ns*D5(n-this.long0),s=this.x0+e*Math.sin(o),a=this.y0+this.rh-e*Math.cos(o);return t.x=s,t.y=a,t},inverse:function(t){var e,n,i,r;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;return 0!==n&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere?(r=D5(this.long0+o/this.ns),i=K8(this.g-n/this.a),t.x=r,t.y=i,t):(i=G8(this.g-n/this.a,this.e0,this.e1,this.e2,this.e3),r=D5(this.long0+o/this.ns),t.x=r,t.y=i,t)},names:["Equidistant_Conic","eqdc"]},u7={init:function(){this.R=this.a},forward:function(t){var e,n,i=t.y,r=D5(t.x-this.long0);Math.abs(i)<=1e-10&&(e=this.x0+this.R*r,n=this.y0);var o=Z8(2*Math.abs(i/Math.PI));(Math.abs(r)<=1e-10||Math.abs(Math.abs(i)-i5)<=1e-10)&&(e=this.x0,n=i>=0?this.y0+Math.PI*this.R*Math.tan(.5*o):this.y0+Math.PI*this.R*-Math.tan(.5*o));var s=.5*Math.abs(Math.PI/r-r/Math.PI),a=s*s,c=Math.sin(o),l=Math.cos(o),u=l/(c+l-1),h=u*(2/c-1),d=h*h,p=Math.PI*this.R*(s*(u-d)+Math.sqrt(a*(u-d)*(u-d)-(d+a)*(u*u-d)))/(d+a);r<0&&(p=-p),e=this.x0+p;var f=a+u;return p=Math.PI*this.R*(h*f-s*Math.sqrt((d+a)*(a+1)-f*f))/(d+a),n=i>=0?this.y0+p:this.y0-p,t.x=e,t.y=n,t},inverse:function(t){var e,n,i,r,o,s,a,c,l,u,h,d;return t.x-=this.x0,t.y-=this.y0,h=Math.PI*this.R,o=(i=t.x/h)*i+(r=t.y/h)*r,h=3*(r*r/(c=-2*(s=-Math.abs(r)*(1+o))+1+2*r*r+o*o)+(2*(a=s-2*r*r+i*i)*a*a/c/c/c-9*s*a/c/c)/27)/(l=(s-a*a/3/c)/c)/(u=2*Math.sqrt(-l/3)),Math.abs(h)>1&&(h=h>=0?1:-1),d=Math.acos(h)/3,n=t.y>=0?(-u*Math.cos(d+Math.PI/3)-a/3/c)*Math.PI:-(-u*Math.cos(d+Math.PI/3)-a/3/c)*Math.PI,e=Math.abs(i)<1e-10?this.long0:D5(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(i*i-r*r)+o*o))/2/i),t.x=e,t.y=n,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},h7={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,n,i,r,o,s,a,c,l,u,h,d,p,f,g,m,b,y,v,_,w,z,C=t.x,S=t.y,x=Math.sin(t.y),O=Math.cos(t.y),k=D5(C-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=1e-10?(t.x=this.x0+this.a*(i5-S)*Math.sin(k),t.y=this.y0-this.a*(i5-S)*Math.cos(k),t):Math.abs(this.sin_p12+1)<=1e-10?(t.x=this.x0+this.a*(i5+S)*Math.sin(k),t.y=this.y0+this.a*(i5+S)*Math.cos(k),t):(y=this.sin_p12*x+this.cos_p12*O*Math.cos(k),b=(m=Math.acos(y))?m/Math.sin(m):1,t.x=this.x0+this.a*b*O*Math.sin(k),t.y=this.y0+this.a*b*(this.cos_p12*x-this.sin_p12*O*Math.cos(k)),t):(e=B8(this.es),n=X8(this.es),i=U8(this.es),r=$8(this.es),Math.abs(this.sin_p12-1)<=1e-10?(o=this.a*q8(e,n,i,r,i5),s=this.a*q8(e,n,i,r,S),t.x=this.x0+(o-s)*Math.sin(k),t.y=this.y0-(o-s)*Math.cos(k),t):Math.abs(this.sin_p12+1)<=1e-10?(o=this.a*q8(e,n,i,r,i5),s=this.a*q8(e,n,i,r,S),t.x=this.x0+(o+s)*Math.sin(k),t.y=this.y0+(o+s)*Math.cos(k),t):(a=x/O,c=H8(this.a,this.e,this.sin_p12),l=H8(this.a,this.e,x),u=Math.atan((1-this.es)*a+this.es*c*this.sin_p12/(l*O)),v=0===(h=Math.atan2(Math.sin(k),this.cos_p12*Math.tan(u)-this.sin_p12*Math.cos(k)))?Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.abs(Math.abs(h)-Math.PI)<=1e-10?-Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.asin(Math.sin(k)*Math.cos(u)/Math.sin(h)),d=this.e*this.sin_p12/Math.sqrt(1-this.es),p=this.e*this.cos_p12*Math.cos(h)/Math.sqrt(1-this.es),t.x=this.x0+(m=c*v*(1-(_=v*v)*(g=p*p)*(1-g)/6+(w=_*v)/8*(f=d*p)*(1-2*g)+(z=w*v)/120*(g*(4-7*g)-3*d*d*(1-7*g))-z*v/48*f))*Math.sin(h),t.y=this.y0+m*Math.cos(h),t))},inverse:function(t){var e,n,i,r,o,s,a,c,l,u,h,d,p,f,g,m,b,y,v,_,w,z,C;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*i5*this.a)return;return n=e/this.a,i=Math.sin(n),r=Math.cos(n),o=this.long0,Math.abs(e)<=1e-10?s=this.lat0:(s=Z8(r*this.sin_p12+t.y*i*this.cos_p12/e),a=Math.abs(this.lat0)-i5,o=Math.abs(a)<=1e-10?D5(this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y)):D5(this.long0+Math.atan2(t.x*i,e*this.cos_p12*r-t.y*this.sin_p12*i))),t.x=o,t.y=s,t}return c=B8(this.es),l=X8(this.es),u=U8(this.es),h=$8(this.es),Math.abs(this.sin_p12-1)<=1e-10?(d=this.a*q8(c,l,u,h,i5),e=Math.sqrt(t.x*t.x+t.y*t.y),s=G8((d-e)/this.a,c,l,u,h),o=D5(this.long0+Math.atan2(t.x,-1*t.y)),t.x=o,t.y=s,t):Math.abs(this.sin_p12+1)<=1e-10?(d=this.a*q8(c,l,u,h,i5),e=Math.sqrt(t.x*t.x+t.y*t.y),s=G8((e-d)/this.a,c,l,u,h),o=D5(this.long0+Math.atan2(t.x,t.y)),t.x=o,t.y=s,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),g=Math.atan2(t.x,t.y),p=H8(this.a,this.e,this.sin_p12),m=Math.cos(g),v=3*this.es*(1-(y=-(b=this.e*this.cos_p12*m)*b/(1-this.es)))*this.sin_p12*this.cos_p12*m/(1-this.es),z=1-y*(w=(_=e/p)-y*(1+y)*Math.pow(_,3)/6-v*(1+3*y)*Math.pow(_,4)/24)*w/2-_*w*w*w/6,f=Math.asin(this.sin_p12*Math.cos(w)+this.cos_p12*Math.sin(w)*m),o=D5(this.long0+Math.asin(Math.sin(g)*Math.sin(w)/Math.cos(f))),C=Math.sin(f),s=Math.atan2((C-this.es*z*this.sin_p12)*Math.tan(f),C*(1-this.es)),t.x=o,t.y=s,t)},names:["Azimuthal_Equidistant","aeqd"]},d7={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,n,i,r,o,s,a,c=t.y;return i=D5(t.x-this.long0),e=Math.sin(c),n=Math.cos(c),r=Math.cos(i),((o=this.sin_p14*e+this.cos_p14*n*r)>0||Math.abs(o)<=1e-10)&&(s=1*this.a*n*Math.sin(i),a=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*r)),t.x=s,t.y=a,t},inverse:function(t){var e,n,i,r,o,s,a;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=Z8(e/this.a),i=Math.sin(n),r=Math.cos(n),s=this.long0,Math.abs(e)<=1e-10?(a=this.lat0,t.x=s,t.y=a,t):(a=Z8(r*this.sin_p14+t.y*i*this.cos_p14/e),o=Math.abs(this.lat0)-i5,Math.abs(o)<=1e-10?(s=D5(this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y)),t.x=s,t.y=a,t):(s=D5(this.long0+Math.atan2(t.x*i,e*this.cos_p14*r-t.y*this.sin_p14*i)),t.x=s,t.y=a,t))},names:["ortho"]};function p7(t,e,n,i){var r;return t<1e-10?(i.value=1,r=0):(r=Math.atan2(e,n),Math.abs(r)<=s5?i.value=1:r>s5&&r<=i5+s5?(i.value=2,r-=i5):r>i5+s5||r<=-(i5+s5)?(i.value=3,r=r>=0?r-c5:r+c5):(i.value=4,r+=i5)),r}function f7(t,e){var n=t+e;return n<-c5?n+=a5:n>+c5&&(n-=a5),n}var g7,m7={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.face=this.lat0>=i5-s5/2?5:this.lat0<=-(i5-s5/2)?6:Math.abs(this.long0)<=s5?1:Math.abs(this.long0)<=i5+s5?this.long0>0?2:4:3,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,n,i,r,o,s,a={x:0,y:0},c={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,n=t.x,5===this.face)r=i5-e,n>=s5&&n<=i5+s5?(c.value=1,i=n-i5):n>i5+s5||n<=-(i5+s5)?(c.value=2,i=n>0?n-c5:n+c5):n>-(i5+s5)&&n<=-s5?(c.value=3,i=n+i5):(c.value=4,i=n);else if(6===this.face)r=i5+e,n>=s5&&n<=i5+s5?(c.value=1,i=-n+i5):n<s5&&n>=-s5?(c.value=2,i=-n):n<-s5&&n>=-(i5+s5)?(c.value=3,i=-n-i5):(c.value=4,i=n>0?-n+c5:-n-c5);else{var l,u,h,d,p,f;2===this.face?n=f7(n,+i5):3===this.face?n=f7(n,+c5):4===this.face&&(n=f7(n,-i5)),d=Math.sin(e),p=Math.cos(e),f=Math.sin(n),l=p*Math.cos(n),u=p*f,h=d,1===this.face?i=p7(r=Math.acos(l),h,u,c):2===this.face?i=p7(r=Math.acos(u),h,-l,c):3===this.face?i=p7(r=Math.acos(-l),h,-u,c):4===this.face?i=p7(r=Math.acos(-u),h,l,c):(r=i=0,c.value=1)}return s=Math.atan(12/c5*(i+Math.acos(Math.sin(i)*Math.cos(s5))-i5)),o=Math.sqrt((1-Math.cos(r))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(i))))),2===c.value?s+=i5:3===c.value?s+=c5:4===c.value&&(s+=1.5*c5),a.x=o*Math.cos(s),a.y=o*Math.sin(s),a.x=a.x*this.a+this.x0,a.y=a.y*this.a+this.y0,t.x=a.x,t.y=a.y,t},inverse:function(t){var e,n,i,r,o,s,a,c,l,u,h,d,p={lam:0,phi:0},f={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?f.value=1:t.y>=0&&t.y>=Math.abs(t.x)?(f.value=2,e-=i5):t.x<0&&-t.x>=Math.abs(t.y)?(f.value=3,e=e<0?e+c5:e-c5):(f.value=4,e+=i5),l=c5/12*Math.tan(e),o=Math.sin(l)/(Math.cos(l)-1/Math.sqrt(2)),s=Math.atan(o),(a=1-(i=Math.cos(e))*i*(r=Math.tan(n))*r*(1-Math.cos(Math.atan(1/Math.cos(s)))))<-1?a=-1:a>1&&(a=1),5===this.face)c=Math.acos(a),p.phi=i5-c,p.lam=1===f.value?s+i5:2===f.value?s<0?s+c5:s-c5:3===f.value?s-i5:s;else if(6===this.face)c=Math.acos(a),p.phi=c-i5,p.lam=1===f.value?-s+i5:2===f.value?-s:3===f.value?-s-i5:s<0?-s-c5:-s+c5;else{var g,m,b;l=(g=a)*g,m=(l+=(b=l>=1?0:Math.sqrt(1-l)*Math.sin(s))*b)>=1?0:Math.sqrt(1-l),2===f.value?(l=m,m=-b,b=l):3===f.value?(m=-m,b=-b):4===f.value&&(l=m,m=b,b=-l),2===this.face?(l=g,g=-m,m=l):3===this.face?(g=-g,m=-m):4===this.face&&(l=g,g=m,m=-l),p.phi=Math.acos(-b)-i5,p.lam=Math.atan2(m,g),2===this.face?p.lam=f7(p.lam,-i5):3===this.face?p.lam=f7(p.lam,-c5):4===this.face&&(p.lam=f7(p.lam,+i5))}return 0!==this.es&&(u=p.phi<0?1:0,h=Math.tan(p.phi),d=this.b/Math.sqrt(h*h+this.one_minus_f_squared),p.phi=Math.atan(Math.sqrt(this.a*this.a-d*d)/(this.one_minus_f*d)),u&&(p.phi=-p.phi)),p.lam+=this.long0,t.x=p.lam,t.y=p.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},b7=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],y7=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],v7=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},_7={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=D5(t.x-this.long0),n=Math.abs(t.y),i=Math.floor(11.459155902616464*n);i<0?i=0:i>=18&&(i=17);var r={x:v7(b7[i],n=o5*(n-.08726646259971647*i))*e,y:v7(y7[i],n)};return t.y<0&&(r.y=-r.y),r.x=r.x*this.a*.8487+this.x0,r.y=r.y*this.a*1.3523+this.y0,r},inverse:function(t){var e={x:(t.x-this.x0)/(.8487*this.a),y:Math.abs(t.y-this.y0)/(1.3523*this.a)};if(e.y>=1)e.x/=b7[18][0],e.y=t.y<0?-i5:i5;else{var n=Math.floor(18*e.y);for(n<0?n=0:n>=18&&(n=17);;)if(y7[n][0]>e.y)--n;else{if(!(y7[n+1][0]<=e.y))break;++n}var i=y7[n],r=5*(e.y-i[0])/(y7[n+1][0]-i[0]);r=function(t,e,n,i){for(var r=e;i;--i){var o=t(r);if(r-=o,Math.abs(o)<1e-10)break}return r}(function(t){return(v7(i,t)-e.y)/function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])}(i,t)},r,0,100),e.x/=v7(b7[n],r),e.y=(5*n+r)*r5,t.y<0&&(e.y=-e.y)}return e.x=D5(e.x+this.long0),e},names:["Robinson","robin"]},w7={init:function(){this.name="geocent"},forward:function(t){return J5(t,this.es,this.a)},inverse:function(t){return Z5(t,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]},z7={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}},C7={init:function(){if(Object.keys(z7).forEach((function(t){if(void 0===this[t])this[t]=z7[t].def;else{if(z7[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);z7[t].num&&(this[t]=parseFloat(this[t]))}z7[t].degrees&&(this[t]=this[t]*r5)}).bind(this)),Math.abs(Math.abs(this.lat0)-i5)<1e-10?this.mode=this.lat0<0?1:0:Math.abs(this.lat0)<1e-10?this.mode=2:(this.mode=3,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)},forward:function(t){t.x-=this.long0;var e,n,i,r,o=Math.sin(t.y),s=Math.cos(t.y),a=Math.cos(t.x);switch(this.mode){case 3:n=this.sinph0*o+this.cosph0*s*a;break;case 2:n=s*a;break;case 1:n=-o;break;case 0:n=o}switch(e=(n=this.pn1/(this.p-n))*s*Math.sin(t.x),this.mode){case 3:n*=this.cosph0*o-this.sinph0*s*a;break;case 2:n*=o;break;case 0:n*=-s*a;break;case 1:n*=s*a}return e=(e*this.cg-n*this.sg)*this.cw*(r=1/((i=n*this.cg+e*this.sg)*this.sw*this.h1+this.cw)),n=i*r,t.x=e*this.a,t.y=n*this.a,t},inverse:function(t){t.x/=this.a,t.y/=this.a;var e,n,i,r={x:t.x,y:t.y};t.x=(e=this.pn1*t.x*(i=1/(this.pn1-t.y*this.sw)))*this.cg+(n=this.pn1*t.y*this.cw*i)*this.sg,t.y=n*this.cg-e*this.sg;var o=E8(t.x,t.y);if(Math.abs(o)<1e-10)r.x=0,r.y=t.y;else{var s,a;switch(a=1-o*o*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/o+o/this.pn1),s=Math.sqrt(1-a*a),this.mode){case 3:r.y=Math.asin(s*this.sinph0+t.y*a*this.cosph0/o),t.y=(s-this.sinph0*Math.sin(r.y))*o,t.x*=a*this.cosph0;break;case 2:r.y=Math.asin(t.y*a/o),t.y=s*o,t.x*=a;break;case 0:r.y=Math.asin(s),t.y=-t.y;break;case 1:r.y=-Math.asin(s)}r.x=Math.atan2(t.x,t.y)}return t.x=r.x+this.long0,t.y=r.y,t},names:["Tilted_Perspective","tpers"]};h8.defaultDatum="WGS84",h8.Proj=Q5,h8.WGS84=new h8.Proj("WGS84"),h8.Point=z8,h8.toPoint=o8,h8.defs=x5,h8.nadgrid=function(t,e){var n=new DataView(e),i=function(t){var e=t.getInt32(8,!1);return 11!==e&&(11!==(e=t.getInt32(8,!0))&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}(n),r=function(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:$5(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}(n,i);r.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var o={header:r,subgrids:function(t,e,n){for(var i=[],r=0;r<e.nSubgrids;r++){var o=K5(t,176,n),s=G5(t,176,o,n),a=Math.round(1+(o.upperLongitude-o.lowerLongitude)/o.longitudeInterval),c=Math.round(1+(o.upperLatitude-o.lowerLatitude)/o.latitudeInterval);i.push({ll:[U5(o.lowerLongitude),U5(o.lowerLatitude)],del:[U5(o.longitudeInterval),U5(o.latitudeInterval)],lim:[a,c],count:o.gridNodeCount,cvs:H5(s)})}return i}(n,r,i)};return B5[t]=o,o},h8.transform=a8,h8.mgrs=d8,h8.version="__VERSION__",(g7=h8).Proj.projections.add(k8),g7.Proj.projections.add(M8),g7.Proj.projections.add(R8),g7.Proj.projections.add(L8),g7.Proj.projections.add(F8),g7.Proj.projections.add(j8),g7.Proj.projections.add(N8),g7.Proj.projections.add(V8),g7.Proj.projections.add(W8),g7.Proj.projections.add(Y8),g7.Proj.projections.add(J8),g7.Proj.projections.add(t7),g7.Proj.projections.add(e7),g7.Proj.projections.add(n7),g7.Proj.projections.add(i7),g7.Proj.projections.add(r7),g7.Proj.projections.add(o7),g7.Proj.projections.add(s7),g7.Proj.projections.add(a7),g7.Proj.projections.add(c7),g7.Proj.projections.add(l7),g7.Proj.projections.add(u7),g7.Proj.projections.add(h7),g7.Proj.projections.add(d7),g7.Proj.projections.add(m7),g7.Proj.projections.add(_7),g7.Proj.projections.add(w7),g7.Proj.projections.add(C7);var S7=h8;function x7(t,e){var n=[];Object.keys(e).forEach(function(t){null!=e[t]&&n.push(t+"="+encodeURIComponent(e[t]))});var i=n.join("&");return(t=-1===(t=t.replace(/[?&]$/,"")).indexOf("?")?t+"?":t+"&")+i}var O7=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),k7=function(t){function e(e){var n=this,i=e||{},r=i.params||{};return(n=t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,imageSmoothing:i.imageSmoothing,opaque:!(!("TRANSPARENT"in r)||r.TRANSPARENT),projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileClass:i.tileClass,tileGrid:i.tileGrid,tileLoadFunction:i.tileLoadFunction,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition})||this).gutter_=void 0!==i.gutter?i.gutter:0,n.params_=r,n.v13_=!0,n.serverType_=i.serverType,n.hidpi_=void 0===i.hidpi||i.hidpi,n.tmpExtent_=[1/0,1/0,-1/0,-1/0],n.updateV13_(),n.setKey(n.getKeyForParams_()),n}return O7(e,t),e.prototype.getFeatureInfoUrl=function(t,e,n,i){var r=t0(n),o=this.getProjection(),s=this.getTileGrid();s||(s=this.getTileGridForProjection(r));var a,c=s.getZForResolution(e,this.zDirection),l=s.getTileCoordForCoordAndZ(t,c);if(!(s.getResolutions().length<=l[0])){var u=s.getResolution(l[0]),h=s.getTileCoordExtent(l,this.tmpExtent_),d=NQ(s.getTileSize(l[0]),this.tmpSize),p=this.gutter_;0!==p&&(d=FQ(d,p,this.tmpSize),h=ZJ(h,u*p,h)),o&&o!==r&&(u=m6(o,r,t,u),h=function(t,e,n,i){var r=[];if(i>1)for(var o=t[2]-t[0],s=t[3]-t[1],a=0;a<i;++a)r.push(t[0]+o*a/i,t[1],t[2],t[1]+s*a/i,t[2]-o*a/i,t[3],t[0],t[3]-s*a/i);else r=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(r,r,2);for(var c=[],l=[],u=(a=0,r.length);a<u;a+=2)c.push(r[a]),l.push(r[a+1]);return function(t,e,n){return sZ(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),void 0)}(c,l)}(h,c0(r,o),0,a),t=l0(t,r,o));var f={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};JY(f,this.params_,i);var g=Math.floor((t[0]-h[0])/u),m=Math.floor((h[3]-t[1])/u);return f[this.v13_?"I":"X"]=g,f[this.v13_?"J":"Y"]=m,this.getRequestUrl_(l,d,h,1,o||r,f)}},e.prototype.getLegendUrl=function(t,e){if(void 0!==this.urls[0]){var n={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===e||void 0===e.LAYER){var i=this.params_.LAYERS;if(Array.isArray(i)&&1!==i.length)return;n.LAYER=i}if(void 0!==t){var r=this.getProjection()?this.getProjection().getMetersPerUnit():1;n.SCALE=t*r/28e-5}return JY(n,e),x7(this.urls[0],n)}},e.prototype.getGutter=function(){return this.gutter_},e.prototype.getParams=function(){return this.params_},e.prototype.getRequestUrl_=function(t,e,n,i,r,o){var s=this.urls;if(s){if(o.WIDTH=e[0],o.HEIGHT=e[1],o[this.v13_?"CRS":"SRS"]=r.getCode(),"STYLES"in this.params_||(o.STYLES=""),1!=i)switch(this.serverType_){case"geoserver":var a=90*i+.5|0;"FORMAT_OPTIONS"in o?o.FORMAT_OPTIONS+=";dpi:"+a:o.FORMAT_OPTIONS="dpi:"+a;break;case"mapserver":o.MAP_RESOLUTION=90*i;break;case"carmentaserver":case"qgis":o.DPI=90*i;break;default:wQ(!1,52)}var c=r.getAxisOrientation(),l=n;if(this.v13_&&"ne"==c.substr(0,2)){var u=void 0;u=n[0],l[0]=n[1],l[1]=u,u=n[2],l[2]=n[3],l[3]=u}return o.BBOX=l.join(","),x7(1==s.length?s[0]:s[TQ(C6(t),s.length)],o)}},e.prototype.getTilePixelRatio=function(t){return this.hidpi_&&void 0!==this.serverType_?t:1},e.prototype.getKeyForParams_=function(){var t=0,e=[];for(var n in this.params_)e[t++]=n+"-"+this.params_[n];return e.join("/")},e.prototype.updateParams=function(t){JY(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())},e.prototype.updateV13_=function(){this.v13_=function(t,e){for(var n=(""+t).split("."),i="1.3".split("."),r=0;r<Math.max(n.length,i.length);r++){var o=parseInt(n[r]||"0",10),s=parseInt(i[r]||"0",10);if(o>s)return 1;if(s>o)return-1}return 0}(this.params_.VERSION||"1.3.0")>=0},e.prototype.tileUrlFunction=function(t,e,n){var i=this.getTileGrid();if(i||(i=this.getTileGridForProjection(n)),!(i.getResolutions().length<=t[0])){1==e||this.hidpi_&&void 0!==this.serverType_||(e=1);var r=i.getResolution(t[0]),o=i.getTileCoordExtent(t,this.tmpExtent_),s=NQ(i.getTileSize(t[0]),this.tmpSize),a=this.gutter_;0!==a&&(s=FQ(s,a,this.tmpSize),o=ZJ(o,r*a,o)),1!=e&&(s=jQ(s,e,this.tmpSize));var c={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return JY(c,this.params_),this.getRequestUrl_(t,s,o,e,n,c)}},e}(B6);class T7{constructor(t,e,n,i,r,o){this.geoViewerElementRef=t,this.overlayOpenLayerClickElement=e,this.overlayOpenLayerRightClickElement=n,this.state=i,this.backendService=r,this.mapControllerEvents=o,this.projectionView="EPSG:32628",this.isActiveShowInfoPointerStop=!1,this.activeLayers=new Map,this.initProjections(),this.initMap(this.overlayOpenLayerClickElement,this.overlayOpenLayerRightClickElement),this.initDraw()}initProjections(){S7.defs("EPSG:32628","+proj=utm +zone=28 +ellps=WGS84 +datum=WGS84 +units=m +no_defs  "),function(t){var e,n,i,r,o,s,a,c,l=Object.keys(t.defs),u=l.length;for(e=0;e<u;++e){var h=l[e];if(!t0(h)){var d=t.defs(h),p=d.units;p||"longlat"!==d.projName||(p=S1.DEGREES),Z1(new x1({code:h,axisOrientation:d.axis,metersPerUnit:d.to_meter,units:p}))}}for(e=0;e<u;++e){var f=l[e],g=t0(f);for(n=0;n<u;++n){var m=l[n],b=t0(m);if(!W1(f,m)){var y=t.defs(f),v=t.defs(m);if(y===v)n0([g,b]);else{var _=t(JY({},y,{axis:void 0}),JY({},v,{axis:void 0}));i=g,r=b,o=f0(g,b,_.forward),s=f0(b,g,_.inverse),V1(a=t0(i),c=t0(r),r0(o)),V1(c,a,r0(s))}}}}}(S7)}initMap(t,e){this.map=new a6({target:this.geoViewerElementRef.nativeElement,layers:[new Z6({zIndex:1,source:new H6})],view:new z4({center:o0([-15.583784,27.940711],"EPSG:32628"),extent:[o0([-18.767743622960964,26.427757052572193],this.projectionView)[0],o0([-18.767743622960964,26.427757052572193],this.projectionView)[1],o0([-13.169936891377967,29.549652704174207],this.projectionView)[0],o0([-13.169936891377967,29.549652704174207],this.projectionView)[1]],zoom:10,projection:this.projectionView,smoothExtentConstraint:!1}),controls:R4({zoom:!1,attribution:!1,rotate:!1}),interactions:r6({doubleClickZoom:!1})}),this.overlayOpenLayerClick=new e5({element:t.nativeElement}),this.overlayOpenLayerRightClick=new e5({element:e.nativeElement}),this.map.addOverlay(this.overlayOpenLayerClick),this.map.addOverlay(this.overlayOpenLayerRightClick),this.activeOnClickMapEvent(),this.activeOnRightClickMapEvent(),this.map.on("movestart",this.onMoveStartMap.bind(this)),this.map.getViewport().addEventListener("pointerleave",this.onPointerLeaveMap.bind(this)),this.overlayOpenLayerClick.getElement().addEventListener("pointerenter",(()=>{this.desactiveOnPointerMoveMap()}).bind(this)),this.overlayOpenLayerClick.getElement().addEventListener("pointerleave",(()=>{this.activeOnPointerMoveMap()}).bind(this)),this.activeOnPointerMoveMap(),this.map.updateSize()}initDraw(){this.drawController=new Q3(this.map),this.drawController.setOverlay(this.overlayOpenLayerClick,this.overlayOpenLayerRightClick),this.drawController.events.subscribe(t=>{switch(t.type){case Y3.ActiveModeDrawing:this.desactiveOnRightClickMapEvent(),this.desactiveOnClickMapEvent();break;case Y3.AbortModeDrawing:this.activeOnClickMapEvent(),this.activeOnRightClickMapEvent()}})}activeOnClickMapEvent(){this.onClickMapListener&&this.desactiveOnClickMapEvent();const t=this.map.on("click",this.onClickMap.bind(this));this.onClickMapListener=t.listener}desactiveOnClickMapEvent(){this.map.un("click",this.onClickMapListener),this.onClickMapListener=null}getInfoByCoordinate(t){return Object(D_.b)(this,void 0,void 0,function*(){let e=null;const n={};for(const i of this.activeLayers.keys()){const e=this.activeLayers.get(i),r=this.map.getView(),o=e.getSource();o instanceof k7&&(n[i]=o.getFeatureInfoUrl(t,r.getResolution(),r.getProjection(),{INFO_FORMAT:"application/json",FEATURE_COUNT:500}))}if(0!=Object.keys(n).length&&n.constructor===Object){for(const e of Object.keys(n))n[e]=this.backendService.createHttpGet(n[e]);const t=yield q(n).toPromise();for(const n of Object.keys(t)){const i=t[n];let r=!0;for(const t of i.features)e||(e={}),r&&(e[n]=[],r=!1),e[n].push(t.properties)}}return e})}onClickMap(t){return Object(D_.b)(this,void 0,void 0,function*(){if(this.disableOverlaysMap(),!this.drawController.isActiveDrawingMode){const e=t.coordinate;this.mapControllerEvents.next({type:"getInfoClickMap",value:{status:"start",coordinate:e}}),this.mapControllerEvents.next({type:"getInfoClickMap",value:{status:"end",coordinate:e,info:yield this.getInfoByCoordinate(e)}})}})}desactiveOnRightClickMapEvent(){this.map.getViewport().removeEventListener("contextmenu",this.onRightClickMapListener),this.onRightClickMapListener=null}activeOnRightClickMapEvent(){this.onClickMapListener&&this.desactiveOnRightClickMapEvent(),this.onRightClickMapListener=this.onRightClickMap.bind(this),this.map.getViewport().addEventListener("contextmenu",this.onRightClickMapListener)}onRightClickMap(t){t.preventDefault(),this.setTimeoutFuncPointerMove&&clearTimeout(this.setTimeoutFuncPointerMove),this.disableOverlaysMap(),this.overlayOpenLayerClick.setPosition(void 0),this.coordinateRightClick=this.map.getEventCoordinate(t),this.overlayOpenLayerRightClick.setPosition(this.coordinateRightClick),this.overlayOpenLayerRightClick.setOffset([5,0])}desactiveOnPointerMoveMap(){this.setTimeoutFuncPointerMove&&(clearTimeout(this.setTimeoutFuncPointerMove),this.setTimeoutFuncPointerMove=null),this.map.un("pointermove",this.onPointerMoveMapListener),this.onPointerMoveMapListener=null}activeOnPointerMoveMap(){this.onPointerMoveMapListener&&this.desactiveOnPointerMoveMap(),this.onPointerMoveMapListener=this.onPointerMoveMap.bind(this),this.map.on("pointermove",this.onPointerMoveMapListener)}onPointerLeaveMap(){this.setTimeoutFuncPointerMove&&(clearTimeout(this.setTimeoutFuncPointerMove),this.setTimeoutFuncPointerMove=null)}onMoveStartMap(t){}onPointerMoveMap(t){this.setTimeoutFuncPointerMove&&clearTimeout(this.setTimeoutFuncPointerMove),this.drawController.isActiveDrawingMode||this.overlayOpenLayerRightClick.getPosition()||!this.isActiveShowInfoPointerStop||(this.setTimeoutFuncPointerMove=setTimeout((()=>{this.drawController.isActiveDrawingMode=!1,this.overlayOpenLayerClick.setPosition(t.coordinate),this.overlayOpenLayerClick.setOffset([-this.overlayOpenLayerClick.getElement().clientWidth/2,-this.overlayOpenLayerClick.getElement().clientHeight])}).bind(this),1e3))}isLayerActive(t){return this.activeLayers.has(t)}getUrlLegendLayerImage(t,e){const n=this.activeLayers.get(t),i=this.map.getView().getResolution();return n.getSource().getLegendUrl(i,{STYLE:e})}getLegendLayerJson(t,e){return Object(D_.b)(this,void 0,void 0,function*(){const n=this.activeLayers.get(t),i=this.map.getView().getResolution(),r=n.getSource().getLegendUrl(i,{FORMAT:"application/json",STYLE:e});return yield this.backendService.createHttpGet(r).toPromise()})}addLayerGeoserver(t){let e=null;t.cql_filter&&""!=t.cql_filter&&(e=t.cql_filter);const n=new Z6({zIndex:t.zIndex+1,opacity:t.opacity/100,source:new k7({url:t.wms_url,params:{LAYERS:`${t.wks}:${t.geoserver_name}`,TILED:!0,FORMAT_OPTIONS:"antialias:none",STYLES:t.style,cql_filter:e},serverType:"geoserver",transition:0})});this.map.addLayer(n),this.activeLayers.set(t.key,n)}removeLayerGeoserver(t){const e=this.activeLayers.get(t.key);this.map.removeLayer(e),this.activeLayers.delete(t.key)}disableOverlaysMap(){this.overlayOpenLayerRightClick.setPosition(void 0),this.overlayOpenLayerClick.setPosition(void 0)}centerMap(){this.map.getView().setCenter(this.coordinateRightClick),this.map.render()}incrementZoomMap(t){this.map.getView().animate({zoom:this.map.getView().getZoom()+t,duration:250})}rotationMap(t){this.map.getView().animate({rotation:t,duration:250})}incrementRotationMap(t){this.map.getView().animate({rotation:this.map.getView().getRotation()+t,duration:250})}getStateShowInfoPointerStop(){return this.isActiveShowInfoPointerStop}setStateShowInfoPointerStop(t){t||this.setTimeoutFuncPointerMove&&clearTimeout(this.setTimeoutFuncPointerMove),this.isActiveShowInfoPointerStop=t}formatFeatures2GeoJSON(t){return(new G3).writeFeaturesObject(t)}getMap(){return this.map}}const E7=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,I7=/([^\#-~ |!])/g;let D7=(()=>{class t{constructor(){this.UNIQUE_WRAPPERS=["##==-open_tag-==##","##==-close_tag-==##"]}transform(t,e,n,i){if(!e)return t;const r=new RegExp(e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$&"),n);return function(t){return t.replace(/&/g,"&amp;").replace(E7,t=>`&#${1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536};`).replace(I7,t=>`&#${t.charCodeAt(0)};`).replace(/</g,"&lt;").replace(/>/g,"&gt;")}(t.replace(r,`${this.UNIQUE_WRAPPERS[0]}$&${this.UNIQUE_WRAPPERS[1]}`)).replace(new RegExp(this.UNIQUE_WRAPPERS[0],"g"),i?`<span class="${i}">`:"<span>").replace(new RegExp(this.UNIQUE_WRAPPERS[1],"g"),"</span>")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Qb({name:"nzHighlight",type:t,pure:!0}),t})(),M7=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})();class R7{constructor(t,e=null,n=null){if(this._title="",this.level=0,this.parentNode=null,this._icon="",this._children=[],this._isLeaf=!1,this._isChecked=!1,this._isSelectable=!1,this._isDisabled=!1,this._isDisableCheckbox=!1,this._isExpanded=!1,this._isHalfChecked=!1,this._isSelected=!1,this._isLoading=!1,this.canHide=!1,this.isMatched=!1,this.service=null,t instanceof R7)return t;this.service=n||null,this.origin=t,this.key=t.key,this.parentNode=e,this._title=t.title||"---",this._icon=t.icon||"",this._isLeaf=t.isLeaf||!1,this._children=[],this._isChecked=t.checked||!1,this._isSelectable=t.disabled||!1!==t.selectable,this._isDisabled=t.disabled||!1,this._isDisableCheckbox=t.disableCheckbox||!1,this._isExpanded=!t.isLeaf&&(t.expanded||!1),this._isHalfChecked=!1,this._isSelected=!t.disabled&&t.selected||!1,this._isLoading=!1,this.isMatched=!1,this.level=e?e.level+1:0,null!=t.children&&t.children.forEach(e=>{const n=this.treeService;!n||n.isCheckStrictly||!t.checked||t.disabled||e.disabled||e.disableCheckbox||(e.checked=t.checked),this._children.push(new R7(e,this))})}get treeService(){return this.service||this.parentNode&&this.parentNode.treeService}get title(){return this._title}set title(t){this._title=t,this.update()}get icon(){return this._icon}set icon(t){this._icon=t,this.update()}get children(){return this._children}set children(t){this._children=t,this.update()}get isLeaf(){return this._isLeaf}set isLeaf(t){this._isLeaf=t,this.update()}get isChecked(){return this._isChecked}set isChecked(t){this._isChecked=t,this.origin.checked=t,this.afterValueChange("isChecked")}get isHalfChecked(){return this._isHalfChecked}set isHalfChecked(t){this._isHalfChecked=t,this.afterValueChange("isHalfChecked")}get isSelectable(){return this._isSelectable}set isSelectable(t){this._isSelectable=t,this.update()}get isDisabled(){return this._isDisabled}set isDisabled(t){this._isDisabled=t,this.update()}get isDisableCheckbox(){return this._isDisableCheckbox}set isDisableCheckbox(t){this._isDisableCheckbox=t,this.update()}get isExpanded(){return this._isExpanded}set isExpanded(t){this._isExpanded=t,this.origin.expanded=t,this.afterValueChange("isExpanded"),this.afterValueChange("reRender")}get isSelected(){return this._isSelected}set isSelected(t){this._isSelected=t,this.origin.selected=t,this.afterValueChange("isSelected")}get isLoading(){return this._isLoading}set isLoading(t){this._isLoading=t,this.update()}setSyncChecked(t=!1,e=!1){this.setChecked(t,e),this.treeService&&!this.treeService.isCheckStrictly&&this.treeService.conduct(this)}setChecked(t=!1,e=!1){this.origin.checked=t,this.isChecked=t,this.isHalfChecked=e}setExpanded(t){this._isExpanded=t,this.origin.expanded=t,this.afterValueChange("isExpanded")}getParentNode(){return this.parentNode}getChildren(){return this.children}addChildren(t,e=-1){this.isLeaf||(t.forEach(t=>{const n=t=>{t.getChildren().forEach(t=>{t.level=t.getParentNode().level+1,t.origin.level=t.level,n(t)})};let i=t;i instanceof R7?i.parentNode=this:i=new R7(t,this),i.level=this.level+1,i.origin.level=i.level,n(i);try{-1===e?this.children.push(i):this.children.splice(e,0,i)}catch(UI){}}),this.origin.children=this.getChildren().map(t=>t.origin),this.isLoading=!1),this.afterValueChange("addChildren"),this.afterValueChange("reRender")}clearChildren(){this.afterValueChange("clearChildren"),this.children=[],this.origin.children=[],this.afterValueChange("reRender")}remove(){const t=this.getParentNode();t&&(t.children=t.getChildren().filter(t=>t.key!==this.key),t.origin.children=t.origin.children.filter(t=>t.key!==this.key),this.afterValueChange("remove"),this.afterValueChange("reRender"))}afterValueChange(t){if(this.treeService)switch(t){case"isChecked":this.treeService.setCheckedNodeList(this);break;case"isHalfChecked":this.treeService.setHalfCheckedNodeList(this);break;case"isExpanded":this.treeService.setExpandedNodeList(this);break;case"isSelected":this.treeService.setNodeActive(this);break;case"clearChildren":this.treeService.afterRemove(this.getChildren());break;case"remove":this.treeService.afterRemove([this]);break;case"reRender":this.treeService.flattenTreeData(this.treeService.rootNodes,this.treeService.getExpandedNodeList().map(t=>t.key))}this.update()}update(){this.component&&this.component.markForCheck()}}function A7(t){const{isDisabled:e,isDisableCheckbox:n}=t;return!(!e&&!n)}function P7(t,e){return e.length>0&&e.indexOf(t)>-1}function L7(t=[],e=[]){const n=new Set(!0===e?[]:e),i=[];return function t(r,o=null){return r.map((s,a)=>{const c=function(t,e){return`${t}-${e}`}(o?o.pos:"0",a),l=function(t,e){return null!=t?t:e}(s.key,c);s.isStart=[...o?o.isStart:[],0===a],s.isEnd=[...o?o.isEnd:[],a===r.length-1];const u={parent:o,pos:c,children:[],data:s,isStart:[...o?o.isStart:[],0===a],isEnd:[...o?o.isEnd:[],a===r.length-1]};return i.push(u),u.children=!0===e||n.has(l)||s.isExpanded?t(s.children||[],u):[],u})}(t),i}let F7=(()=>{class t{constructor(){this.DRAG_SIDE_RANGE=.25,this.DRAG_MIN_GAP=2,this.isCheckStrictly=!1,this.isMultiple=!1,this.rootNodes=[],this.flattenNodes$=new fu.a([]),this.selectedNodeList=[],this.expandedNodeList=[],this.checkedNodeList=[],this.halfCheckedNodeList=[],this.matchedNodeList=[]}initTree(t){this.rootNodes=t,this.expandedNodeList=[],this.selectedNodeList=[],this.halfCheckedNodeList=[],this.checkedNodeList=[],this.matchedNodeList=[]}flattenTreeData(t,e=[]){this.flattenNodes$.next(L7(t,e).map(t=>t.data))}getSelectedNode(){return this.selectedNode}getSelectedNodeList(){return this.conductNodeState("select")}getCheckedNodeList(){return this.conductNodeState("check")}getHalfCheckedNodeList(){return this.conductNodeState("halfCheck")}getExpandedNodeList(){return this.conductNodeState("expand")}getMatchedNodeList(){return this.conductNodeState("match")}isArrayOfNzTreeNode(t){return t.every(t=>t instanceof R7)}setSelectedNode(t){this.selectedNode=t}setNodeActive(t){!this.isMultiple&&t.isSelected&&(this.selectedNodeList.forEach(e=>{t.key!==e.key&&(e.isSelected=!1)}),this.selectedNodeList=[]),this.setSelectedNodeList(t,this.isMultiple)}setSelectedNodeList(t,e=!1){const n=this.getIndexOfArray(this.selectedNodeList,t.key);e?t.isSelected&&-1===n&&this.selectedNodeList.push(t):t.isSelected&&-1===n&&(this.selectedNodeList=[t]),t.isSelected||(this.selectedNodeList=this.selectedNodeList.filter(e=>e.key!==t.key))}setHalfCheckedNodeList(t){const e=this.getIndexOfArray(this.halfCheckedNodeList,t.key);t.isHalfChecked&&-1===e?this.halfCheckedNodeList.push(t):!t.isHalfChecked&&e>-1&&(this.halfCheckedNodeList=this.halfCheckedNodeList.filter(e=>t.key!==e.key))}setCheckedNodeList(t){const e=this.getIndexOfArray(this.checkedNodeList,t.key);t.isChecked&&-1===e?this.checkedNodeList.push(t):!t.isChecked&&e>-1&&(this.checkedNodeList=this.checkedNodeList.filter(e=>t.key!==e.key))}conductNodeState(t="check"){let e=[];switch(t){case"select":e=this.selectedNodeList;break;case"expand":e=this.expandedNodeList;break;case"match":e=this.matchedNodeList;break;case"check":e=this.checkedNodeList;const t=e=>{const n=e.getParentNode();return!!n&&(this.checkedNodeList.findIndex(t=>t.key===n.key)>-1||t(n))};this.isCheckStrictly||(e=this.checkedNodeList.filter(e=>!t(e)));break;case"halfCheck":this.isCheckStrictly||(e=this.halfCheckedNodeList)}return e}setExpandedNodeList(t){if(t.isLeaf)return;const e=this.getIndexOfArray(this.expandedNodeList,t.key);t.isExpanded&&-1===e?this.expandedNodeList.push(t):!t.isExpanded&&e>-1&&this.expandedNodeList.splice(e,1)}setMatchedNodeList(t){const e=this.getIndexOfArray(this.matchedNodeList,t.key);t.isMatched&&-1===e?this.matchedNodeList.push(t):!t.isMatched&&e>-1&&this.matchedNodeList.splice(e,1)}refreshCheckState(t=!1){t||this.checkedNodeList.forEach(e=>{this.conduct(e,t)})}conduct(t,e=!1){const n=t.isChecked;t&&!e&&(this.conductUp(t),this.conductDown(t,n))}conductUp(t){const e=t.getParentNode();e&&(A7(e)||(e.children.every(t=>A7(t)||!t.isHalfChecked&&t.isChecked)?(e.isChecked=!0,e.isHalfChecked=!1):e.children.some(t=>t.isHalfChecked||t.isChecked)?(e.isChecked=!1,e.isHalfChecked=!0):(e.isChecked=!1,e.isHalfChecked=!1)),this.setCheckedNodeList(e),this.setHalfCheckedNodeList(e),this.conductUp(e))}conductDown(t,e){A7(t)||(t.isChecked=e,t.isHalfChecked=!1,this.setCheckedNodeList(t),this.setHalfCheckedNodeList(t),t.children.forEach(t=>{this.conductDown(t,e)}))}afterRemove(t){const e=t=>{this.selectedNodeList=this.selectedNodeList.filter(e=>e.key!==t.key),this.expandedNodeList=this.expandedNodeList.filter(e=>e.key!==t.key),this.checkedNodeList=this.checkedNodeList.filter(e=>e.key!==t.key),t.children&&t.children.forEach(t=>{e(t)})};t.forEach(t=>{e(t)}),this.refreshCheckState(this.isCheckStrictly)}refreshDragNode(t){0===t.children.length?this.conductUp(t):t.children.forEach(t=>{this.refreshDragNode(t)})}resetNodeLevel(t){const e=t.getParentNode();t.level=e?e.level+1:0;for(const n of t.children)this.resetNodeLevel(n)}calcDropPosition(t){const{clientY:e}=t,{top:n,bottom:i,height:r}=t.target.getBoundingClientRect(),o=Math.max(r*this.DRAG_SIDE_RANGE,this.DRAG_MIN_GAP);return e<=n+o?-1:e>=i-o?1:0}dropAndApply(t,e=-1){if(!t||e>1)return;const n=t.treeService,i=t.getParentNode(),r=this.selectedNode.getParentNode();switch(r?r.children=r.children.filter(t=>t.key!==this.selectedNode.key):this.rootNodes=this.rootNodes.filter(t=>t.key!==this.selectedNode.key),e){case 0:t.addChildren([this.selectedNode]),this.resetNodeLevel(t);break;case-1:case 1:const n=1===e?1:0;if(i){i.addChildren([this.selectedNode],i.children.indexOf(t)+n);const e=this.selectedNode.getParentNode();e&&this.resetNodeLevel(e)}else{const e=this.rootNodes.indexOf(t)+n;this.rootNodes.splice(e,0,this.selectedNode),this.rootNodes[e].parentNode=null,this.resetNodeLevel(this.rootNodes[e])}}this.rootNodes.forEach(t=>{t.treeService||(t.service=n),this.refreshDragNode(t)})}formatEvent(t,e,n){const i={eventName:t,node:e,event:n};switch(t){case"dragstart":case"dragenter":case"dragover":case"dragleave":case"drop":case"dragend":Object.assign(i,{dragNode:this.getSelectedNode()});break;case"click":case"dblclick":Object.assign(i,{selectedKeys:this.selectedNodeList}),Object.assign(i,{nodes:this.selectedNodeList}),Object.assign(i,{keys:this.selectedNodeList.map(t=>t.key)});break;case"check":const t=this.getCheckedNodeList();Object.assign(i,{checkedKeys:t}),Object.assign(i,{nodes:t}),Object.assign(i,{keys:t.map(t=>t.key)});break;case"search":Object.assign(i,{matchedKeys:this.getMatchedNodeList()}),Object.assign(i,{nodes:this.getMatchedNodeList()}),Object.assign(i,{keys:this.getMatchedNodeList().map(t=>t.key)});break;case"expand":Object.assign(i,{nodes:this.expandedNodeList}),Object.assign(i,{keys:this.expandedNodeList.map(t=>t.key)})}return i}getIndexOfArray(t,e){return t.findIndex(t=>t.key===e)}conductCheck(t,e){this.checkedNodeList=[],this.halfCheckedNodeList=[];const n=e=>{e.forEach(e=>{null===t?e.isChecked=!!e.origin.checked:P7(e.key,t||[])?(e.isChecked=!0,e.isHalfChecked=!1):(e.isChecked=!1,e.isHalfChecked=!1),e.children.length>0&&n(e.children)})};n(this.rootNodes),this.refreshCheckState(e)}conductExpandedKeys(t=[]){const e=new Set(!0===t?[]:t);this.expandedNodeList=[];const n=i=>{i.forEach(i=>{i.setExpanded(!0===t||e.has(i.key)||!0===i.isExpanded),i.isExpanded&&this.setExpandedNodeList(i),i.children.length>0&&n(i.children)})};n(this.rootNodes)}conductSelectedKeys(t,e){this.selectedNodeList.forEach(t=>t.isSelected=!1),this.selectedNodeList=[];const n=i=>i.every(i=>{if(P7(i.key,t)){if(i.isSelected=!0,this.setSelectedNodeList(i),!e)return!1}else i.isSelected=!1;return!(i.children.length>0)||n(i.children)});n(this.rootNodes)}expandNodeAllParentBySearch(t){const e=t=>{if(t&&(t.canHide=!1,t.setExpanded(!0),this.setExpandedNodeList(t),t.getParentNode()))return e(t.getParentNode())};e(t.getParentNode())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();const j7=new r.r("NzTreeHigherOrder");function N7(t,e){if(1&t&&r.Sb(0,"span"),2&t){const t=e.index,n=r.jc();r.Jb("ant-tree-indent-unit",!n.nzSelectMode)("ant-select-tree-indent-unit",n.nzSelectMode)("ant-select-tree-indent-unit-start",n.nzSelectMode&&n.nzIsStart[t])("ant-tree-indent-unit-start",!n.nzSelectMode&&n.nzIsStart[t])("ant-select-tree-indent-unit-end",n.nzSelectMode&&n.nzIsEnd[t])("ant-tree-indent-unit-end",!n.nzSelectMode&&n.nzIsEnd[t])}}const V7=["builtin",""];function W7(t,e){if(1&t&&(r.Vb(0),r.Sb(1,"i",4),r.Ub()),2&t){const t=r.jc(3);r.Db(1),r.Jb("ant-select-tree-switcher-icon",t.nzSelectMode)("ant-tree-switcher-icon",!t.nzSelectMode)}}const q7=function(t,e){return{$implicit:t,origin:e}};function B7(t,e){if(1&t&&(r.Vb(0),r.Kc(1,W7,2,4,"ng-container",3),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.qc("nzStringTemplateOutlet",t.nzExpandedIcon)("nzStringTemplateOutletContext",r.wc(2,q7,t.context,t.context.origin))}}function X7(t,e){if(1&t&&(r.Vb(0),r.Kc(1,B7,2,5,"ng-container",2),r.Ub()),2&t){const t=r.jc(),e=r.Ac(3);r.Db(1),r.qc("ngIf",!t.isLoading)("ngIfElse",e)}}function U7(t,e){if(1&t&&r.Sb(0,"i",7),2&t){const t=r.jc(4);r.qc("nzType",t.isSwitcherOpen?"minus-square":"plus-square")}}function $7(t,e){1&t&&r.Sb(0,"i",8)}function H7(t,e){if(1&t&&(r.Vb(0),r.Kc(1,U7,1,1,"i",5),r.Kc(2,$7,1,0,"i",6),r.Ub()),2&t){const t=r.jc(3);r.Db(1),r.qc("ngIf",t.isShowLineIcon),r.Db(1),r.qc("ngIf",!t.isShowLineIcon)}}function K7(t,e){if(1&t&&(r.Vb(0),r.Kc(1,H7,3,2,"ng-container",3),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.qc("nzStringTemplateOutlet",t.nzExpandedIcon)("nzStringTemplateOutletContext",r.wc(2,q7,t.context,t.context.origin))}}function G7(t,e){if(1&t&&(r.Vb(0),r.Kc(1,K7,2,5,"ng-container",2),r.Ub()),2&t){const t=r.jc(),e=r.Ac(3);r.Db(1),r.qc("ngIf",!t.isLoading)("ngIfElse",e)}}function Y7(t,e){1&t&&r.Sb(0,"i",9),2&t&&r.qc("nzSpin",!0)}function Q7(t,e){}function J7(t,e){if(1&t&&r.Sb(0,"i",6),2&t){const t=r.jc(3);r.qc("nzType",t.icon)}}function Z7(t,e){if(1&t&&(r.Xb(0,"span"),r.Xb(1,"span"),r.Kc(2,J7,1,1,"i",5),r.Wb(),r.Wb()),2&t){const t=r.jc(2);r.Jb("ant-tree-icon__open",t.isSwitcherOpen)("ant-tree-icon__close",t.isSwitcherClose)("ant-tree-icon_loading",t.isLoading)("ant-select-tree-iconEle",t.selectMode)("ant-tree-iconEle",!t.selectMode),r.Db(1),r.Jb("ant-select-tree-iconEle",t.selectMode)("ant-select-tree-icon__customize",t.selectMode)("ant-tree-iconEle",!t.selectMode)("ant-tree-icon__customize",!t.selectMode),r.Db(1),r.qc("ngIf",t.icon)}}function t9(t,e){if(1&t&&r.Sb(0,"nz-tree-drop-indicator",7),2&t){const t=r.jc(2);r.qc("dropPosition",t.dragPosition)("level",t.context.level)}}function e9(t,e){if(1&t&&(r.Vb(0),r.Kc(1,Z7,3,19,"span",2),r.Sb(2,"span",3),r.kc(3,"nzHighlight"),r.Kc(4,t9,1,2,"nz-tree-drop-indicator",4),r.Ub()),2&t){const t=r.jc();r.Db(1),r.qc("ngIf",t.icon&&t.showIcon),r.Db(1),r.qc("innerHTML",r.nc(3,3,t.title,t.matchedValue,"i","font-highlight"),r.Dc),r.Db(2),r.qc("ngIf",t.showIndicator)}}function n9(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-tree-node-switcher",4),r.fc("click",function(e){return r.Cc(t),r.jc().clickExpand(e)}),r.Wb()}if(2&t){const t=r.jc();r.qc("nzShowExpand",t.nzShowExpand)("nzShowLine",t.nzShowLine)("nzExpandedIcon",t.nzExpandedIcon)("nzSelectMode",t.nzSelectMode)("context",t.nzTreeNode)("isLeaf",t.isLeaf)("isExpanded",t.isExpanded)("isLoading",t.isLoading)}}function i9(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-tree-node-checkbox",5),r.fc("click",function(e){return r.Cc(t),r.jc().clickCheckBox(e)}),r.Wb()}if(2&t){const t=r.jc();r.qc("nzSelectMode",t.nzSelectMode)("isChecked",t.isChecked)("isHalfChecked",t.isHalfChecked)("isDisabled",t.isDisabled)("isDisableCheckbox",t.isDisableCheckbox)}}const r9=["nzTreeTemplate"];function o9(t,e){}const s9=function(t){return{$implicit:t}};function a9(t,e){if(1&t&&(r.Vb(0),r.Kc(1,o9,0,0,"ng-template",8),r.Ub()),2&t){const t=e.$implicit;r.jc(2);const n=r.Ac(7);r.Db(1),r.qc("ngTemplateOutlet",n)("ngTemplateOutletContext",r.vc(2,s9,t))}}function c9(t,e){if(1&t&&(r.Xb(0,"cdk-virtual-scroll-viewport",6),r.Kc(1,a9,2,4,"ng-container",7),r.Wb()),2&t){const t=r.jc();r.Hc("height",t.nzVirtualHeight),r.Jb("ant-select-tree-list-holder-inner",t.nzSelectMode)("ant-tree-list-holder-inner",!t.nzSelectMode),r.qc("itemSize",t.nzVirtualItemSize)("minBufferPx",t.nzVirtualMinBufferPx)("maxBufferPx",t.nzVirtualMaxBufferPx),r.Db(1),r.qc("cdkVirtualForOf",t.nzFlattenNodes)("cdkVirtualForTrackBy",t.trackByFlattenNode)}}function l9(t,e){}function u9(t,e){if(1&t&&(r.Vb(0),r.Kc(1,l9,0,0,"ng-template",8),r.Ub()),2&t){const t=e.$implicit;r.jc(2);const n=r.Ac(7);r.Db(1),r.qc("ngTemplateOutlet",n)("ngTemplateOutletContext",r.vc(2,s9,t))}}function h9(t,e){if(1&t&&(r.Xb(0,"div",9),r.Kc(1,u9,2,4,"ng-container",10),r.Wb()),2&t){const t=r.jc();r.Jb("ant-select-tree-list-holder-inner",t.nzSelectMode)("ant-tree-list-holder-inner",!t.nzSelectMode),r.qc("@.disabled",t.beforeInit||(null==t.noAnimation?null:t.noAnimation.nzNoAnimation))("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("@treeCollapseMotion",t.nzFlattenNodes.length),r.Db(1),r.qc("ngForOf",t.nzFlattenNodes)("ngForTrackBy",t.trackByFlattenNode)}}function d9(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-tree-node",11),r.fc("nzExpandChange",function(e){return r.Cc(t),r.jc().eventTriggerChanged(e)})("nzClick",function(e){return r.Cc(t),r.jc().eventTriggerChanged(e)})("nzDblClick",function(e){return r.Cc(t),r.jc().eventTriggerChanged(e)})("nzContextMenu",function(e){return r.Cc(t),r.jc().eventTriggerChanged(e)})("nzCheckBoxChange",function(e){return r.Cc(t),r.jc().eventTriggerChanged(e)})("nzOnDragStart",function(e){return r.Cc(t),r.jc().eventTriggerChanged(e)})("nzOnDragEnter",function(e){return r.Cc(t),r.jc().eventTriggerChanged(e)})("nzOnDragOver",function(e){return r.Cc(t),r.jc().eventTriggerChanged(e)})("nzOnDragLeave",function(e){return r.Cc(t),r.jc().eventTriggerChanged(e)})("nzOnDragEnd",function(e){return r.Cc(t),r.jc().eventTriggerChanged(e)})("nzOnDrop",function(e){return r.Cc(t),r.jc().eventTriggerChanged(e)}),r.Wb()}if(2&t){const t=e.$implicit,n=r.jc();r.qc("icon",t.icon)("title",t.title)("isLoading",t.isLoading)("isSelected",t.isSelected)("isDisabled",t.isDisabled)("isMatched",t.isMatched)("isExpanded",t.isExpanded)("isLeaf",t.isLeaf)("isStart",t.isStart)("isEnd",t.isEnd)("isChecked",t.isChecked)("isHalfChecked",t.isHalfChecked)("isDisableCheckbox",t.isDisableCheckbox)("isSelectable",t.isSelectable)("canHide",t.canHide)("nzTreeNode",t)("nzSelectMode",n.nzSelectMode)("nzShowLine",n.nzShowLine)("nzExpandedIcon",n.nzExpandedIcon)("nzDraggable",n.nzDraggable)("nzCheckable",n.nzCheckable)("nzShowExpand",n.nzShowExpand)("nzAsyncData",n.nzAsyncData)("nzSearchValue",n.nzSearchValue)("nzHideUnMatched",n.nzHideUnMatched)("nzBeforeDrop",n.nzBeforeDrop)("nzShowIcon",n.nzShowIcon)("nzTreeTemplate",n.nzTreeTemplate||n.nzTreeTemplateChild)}}let p9=(()=>{class t{constructor(t){this.cdr=t,this.level=1,this.direction="ltr",this.style={}}ngOnChanges(t){this.renderIndicator(this.dropPosition,this.direction)}renderIndicator(t,e="ltr"){const n="ltr"===e?"left":"right",i={[n]:"4px",["ltr"===e?"right":"left"]:"0px"};switch(t){case-1:i.top="-3px";break;case 1:i.bottom="-3px";break;case 0:i.bottom="-3px",i[n]="28px";break;default:i.display="none"}this.style=i,this.cdr.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-tree-drop-indicator"]],hostVars:4,hostBindings:function(t,e){2&t&&(r.Gc(e.style),r.Jb("ant-tree-drop-indicator",!0))},inputs:{level:"level",direction:"direction",dropPosition:"dropPosition"},exportAs:["NzTreeDropIndicator"],features:[r.Bb],decls:0,vars:0,template:function(t,e){},encapsulation:2,changeDetection:0}),t})(),f9=(()=>{class t{constructor(){this.nzTreeLevel=0,this.nzIsStart=[],this.nzIsEnd=[],this.nzSelectMode=!1,this.listOfUnit=[]}ngOnInit(){}ngOnChanges(t){const{nzTreeLevel:e}=t;e&&(this.listOfUnit=[...new Array(e.currentValue||0)])}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-tree-indent"]],hostVars:5,hostBindings:function(t,e){2&t&&(r.Eb("aria-hidden",!0),r.Jb("ant-tree-indent",!e.nzSelectMode)("ant-select-tree-indent",e.nzSelectMode))},inputs:{nzTreeLevel:"nzTreeLevel",nzIsStart:"nzIsStart",nzIsEnd:"nzIsEnd",nzSelectMode:"nzSelectMode"},exportAs:["nzTreeIndent"],features:[r.Bb],decls:1,vars:1,consts:[[3,"ant-tree-indent-unit","ant-select-tree-indent-unit","ant-select-tree-indent-unit-start","ant-tree-indent-unit-start","ant-select-tree-indent-unit-end","ant-tree-indent-unit-end",4,"ngFor","ngForOf"]],template:function(t,e){1&t&&r.Kc(0,N7,1,12,"span",0),2&t&&r.qc("ngForOf",e.listOfUnit)},directives:[i.m],encapsulation:2,changeDetection:0}),t})(),g9=(()=>{class t{constructor(){this.nzSelectMode=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-tree-node-checkbox","builtin",""]],hostVars:16,hostBindings:function(t,e){2&t&&r.Jb("ant-select-tree-checkbox",e.nzSelectMode)("ant-select-tree-checkbox-checked",e.nzSelectMode&&e.isChecked)("ant-select-tree-checkbox-indeterminate",e.nzSelectMode&&e.isHalfChecked)("ant-select-tree-checkbox-disabled",e.nzSelectMode&&(e.isDisabled||e.isDisableCheckbox))("ant-tree-checkbox",!e.nzSelectMode)("ant-tree-checkbox-checked",!e.nzSelectMode&&e.isChecked)("ant-tree-checkbox-indeterminate",!e.nzSelectMode&&e.isHalfChecked)("ant-tree-checkbox-disabled",!e.nzSelectMode&&(e.isDisabled||e.isDisableCheckbox))},inputs:{nzSelectMode:"nzSelectMode",isChecked:"isChecked",isHalfChecked:"isHalfChecked",isDisabled:"isDisabled",isDisableCheckbox:"isDisableCheckbox"},attrs:V7,decls:1,vars:4,template:function(t,e){1&t&&r.Sb(0,"span"),2&t&&r.Jb("ant-tree-checkbox-inner",!e.nzSelectMode)("ant-select-tree-checkbox-inner",e.nzSelectMode)},encapsulation:2,changeDetection:0}),t})(),m9=(()=>{class t{constructor(){this.nzSelectMode=!1}get isShowLineIcon(){return!this.isLeaf&&!!this.nzShowLine}get isShowSwitchIcon(){return!this.isLeaf&&!this.nzShowLine}get isSwitcherOpen(){return!!this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-tree-node-switcher"]],hostVars:16,hostBindings:function(t,e){2&t&&r.Jb("ant-select-tree-switcher",e.nzSelectMode)("ant-select-tree-switcher-noop",e.nzSelectMode&&e.isLeaf)("ant-select-tree-switcher_open",e.nzSelectMode&&e.isSwitcherOpen)("ant-select-tree-switcher_close",e.nzSelectMode&&e.isSwitcherClose)("ant-tree-switcher",!e.nzSelectMode)("ant-tree-switcher-noop",!e.nzSelectMode&&e.isLeaf)("ant-tree-switcher_open",!e.nzSelectMode&&e.isSwitcherOpen)("ant-tree-switcher_close",!e.nzSelectMode&&e.isSwitcherClose)},inputs:{nzSelectMode:"nzSelectMode",nzShowExpand:"nzShowExpand",nzShowLine:"nzShowLine",nzExpandedIcon:"nzExpandedIcon",context:"context",isLeaf:"isLeaf",isLoading:"isLoading",isExpanded:"isExpanded"},decls:4,vars:2,consts:[[4,"ngIf"],["loadingTemplate",""],[4,"ngIf","ngIfElse"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-icon","","nzType","caret-down"],["nz-icon","","class","ant-tree-switcher-line-icon",3,"nzType",4,"ngIf"],["nz-icon","","nzType","file","class","ant-tree-switcher-line-icon",4,"ngIf"],["nz-icon","",1,"ant-tree-switcher-line-icon",3,"nzType"],["nz-icon","","nzType","file",1,"ant-tree-switcher-line-icon"],["nz-icon","","nzType","loading",1,"ant-tree-switcher-loading-icon",3,"nzSpin"]],template:function(t,e){1&t&&(r.Kc(0,X7,2,2,"ng-container",0),r.Kc(1,G7,2,2,"ng-container",0),r.Kc(2,Y7,1,1,"ng-template",null,1,r.Lc)),2&t&&(r.qc("ngIf",e.isShowSwitchIcon),r.Db(1),r.qc("ngIf",e.nzShowLine))},directives:[i.n,ei,No],encapsulation:2,changeDetection:0}),t})(),b9=(()=>{class t{constructor(t){this.cdr=t,this.treeTemplate=null,this.selectMode=!1,this.showIndicator=!0}get canDraggable(){return!(!this.draggable||this.isDisabled)||null}get matchedValue(){return this.isMatched?this.searchValue:""}get isSwitcherOpen(){return this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}ngOnChanges(t){const{showIndicator:e,dragPosition:n}=t;(e||n)&&this.cdr.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-tree-node-title"]],hostVars:21,hostBindings:function(t,e){2&t&&(r.Eb("title",e.title)("draggable",e.canDraggable)("aria-grabbed",e.canDraggable),r.Jb("draggable",e.canDraggable)("ant-select-tree-node-content-wrapper",e.selectMode)("ant-select-tree-node-content-wrapper-open",e.selectMode&&e.isSwitcherOpen)("ant-select-tree-node-content-wrapper-close",e.selectMode&&e.isSwitcherClose)("ant-select-tree-node-selected",e.selectMode&&e.isSelected)("ant-tree-node-content-wrapper",!e.selectMode)("ant-tree-node-content-wrapper-open",!e.selectMode&&e.isSwitcherOpen)("ant-tree-node-content-wrapper-close",!e.selectMode&&e.isSwitcherClose)("ant-tree-node-selected",!e.selectMode&&e.isSelected))},inputs:{treeTemplate:"treeTemplate",selectMode:"selectMode",showIndicator:"showIndicator",searchValue:"searchValue",draggable:"draggable",showIcon:"showIcon",context:"context",icon:"icon",title:"title",isLoading:"isLoading",isSelected:"isSelected",isDisabled:"isDisabled",isMatched:"isMatched",isExpanded:"isExpanded",isLeaf:"isLeaf",dragPosition:"dragPosition"},features:[r.Bb],decls:2,vars:6,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[3,"ant-tree-icon__open","ant-tree-icon__close","ant-tree-icon_loading","ant-select-tree-iconEle","ant-tree-iconEle",4,"ngIf"],[1,"ant-tree-title",3,"innerHTML"],[3,"dropPosition","level",4,"ngIf"],["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"],[3,"dropPosition","level"]],template:function(t,e){1&t&&(r.Kc(0,Q7,0,0,"ng-template",0),r.Kc(1,e9,5,8,"ng-container",1)),2&t&&(r.qc("ngTemplateOutlet",e.treeTemplate)("ngTemplateOutletContext",r.wc(3,q7,e.context,e.context.origin)),r.Db(1),r.qc("ngIf",!e.treeTemplate))},directives:[i.s,i.n,No,p9],pipes:[D7],encapsulation:2,changeDetection:0}),t})(),y9=(()=>{class t{constructor(t,e,n,i,o,s){this.nzTreeService=t,this.ngZone=e,this.renderer=n,this.elementRef=i,this.cdr=o,this.noAnimation=s,this.icon="",this.title="",this.isLoading=!1,this.isSelected=!1,this.isDisabled=!1,this.isMatched=!1,this.isStart=[],this.isEnd=[],this.nzHideUnMatched=!1,this.nzNoAnimation=!1,this.nzSelectMode=!1,this.nzShowIcon=!1,this.nzTreeTemplate=null,this.nzSearchValue="",this.nzDraggable=!1,this.nzClick=new r.n,this.nzDblClick=new r.n,this.nzContextMenu=new r.n,this.nzCheckBoxChange=new r.n,this.nzExpandChange=new r.n,this.nzOnDragStart=new r.n,this.nzOnDragEnter=new r.n,this.nzOnDragOver=new r.n,this.nzOnDragLeave=new r.n,this.nzOnDrop=new r.n,this.nzOnDragEnd=new r.n,this.destroy$=new xe.a,this.dragPos=2,this.dragPosClass={0:"drag-over",1:"drag-over-gap-bottom","-1":"drag-over-gap-top"},this.showIndicator=!1}get displayStyle(){return this.nzSearchValue&&this.nzHideUnMatched&&!this.isMatched&&!this.isExpanded&&this.canHide?"none":""}get isSwitcherOpen(){return this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}onMousedown(t){this.nzSelectMode&&t.preventDefault()}clickExpand(t){t.preventDefault(),this.isLoading||this.isLeaf||(this.nzAsyncData&&0===this.nzTreeNode.children.length&&!this.isExpanded&&(this.nzTreeNode.isLoading=!0),this.nzTreeNode.setExpanded(!this.isExpanded)),this.nzTreeService.setExpandedNodeList(this.nzTreeNode);const e=this.nzTreeService.formatEvent("expand",this.nzTreeNode,t);this.nzExpandChange.emit(e)}clickSelect(t){t.preventDefault(),this.isSelectable&&!this.isDisabled&&(this.nzTreeNode.isSelected=!this.nzTreeNode.isSelected),this.nzTreeService.setSelectedNodeList(this.nzTreeNode);const e=this.nzTreeService.formatEvent("click",this.nzTreeNode,t);this.nzClick.emit(e)}dblClick(t){t.preventDefault();const e=this.nzTreeService.formatEvent("dblclick",this.nzTreeNode,t);this.nzDblClick.emit(e)}contextMenu(t){t.preventDefault();const e=this.nzTreeService.formatEvent("contextmenu",this.nzTreeNode,t);this.nzContextMenu.emit(e)}clickCheckBox(t){if(t.preventDefault(),this.isDisabled||this.isDisableCheckbox)return;this.nzTreeNode.isChecked=!this.nzTreeNode.isChecked,this.nzTreeNode.isHalfChecked=!1,this.nzTreeService.setCheckedNodeList(this.nzTreeNode);const e=this.nzTreeService.formatEvent("check",this.nzTreeNode,t);this.nzCheckBoxChange.emit(e)}clearDragClass(){["drag-over-gap-top","drag-over-gap-bottom","drag-over","drop-target"].forEach(t=>{this.renderer.removeClass(this.elementRef.nativeElement,t)})}handleDragStart(t){try{t.dataTransfer.setData("text/plain",this.nzTreeNode.key)}catch(n){}this.nzTreeService.setSelectedNode(this.nzTreeNode);const e=this.nzTreeService.formatEvent("dragstart",this.nzTreeNode,t);this.nzOnDragStart.emit(e)}handleDragEnter(t){var e;t.preventDefault(),this.showIndicator=this.nzTreeNode.key!==(null===(e=this.nzTreeService.getSelectedNode())||void 0===e?void 0:e.key),this.renderIndicator(2),this.ngZone.run(()=>{const e=this.nzTreeService.formatEvent("dragenter",this.nzTreeNode,t);this.nzOnDragEnter.emit(e)})}handleDragOver(t){t.preventDefault();const e=this.nzTreeService.calcDropPosition(t);this.dragPos!==e&&(this.clearDragClass(),this.renderIndicator(e),0===this.dragPos&&this.isLeaf||(this.renderer.addClass(this.elementRef.nativeElement,this.dragPosClass[this.dragPos]),this.renderer.addClass(this.elementRef.nativeElement,"drop-target")));const n=this.nzTreeService.formatEvent("dragover",this.nzTreeNode,t);this.nzOnDragOver.emit(n)}handleDragLeave(t){t.preventDefault(),this.renderIndicator(2),this.clearDragClass();const e=this.nzTreeService.formatEvent("dragleave",this.nzTreeNode,t);this.nzOnDragLeave.emit(e)}handleDragDrop(t){this.ngZone.run(()=>{this.showIndicator=!1,this.clearDragClass();const e=this.nzTreeService.getSelectedNode();if(!e||e&&e.key===this.nzTreeNode.key||0===this.dragPos&&this.isLeaf)return;const n=this.nzTreeService.formatEvent("drop",this.nzTreeNode,t),i=this.nzTreeService.formatEvent("dragend",this.nzTreeNode,t);this.nzBeforeDrop?this.nzBeforeDrop({dragNode:this.nzTreeService.getSelectedNode(),node:this.nzTreeNode,pos:this.dragPos}).subscribe(t=>{t&&this.nzTreeService.dropAndApply(this.nzTreeNode,this.dragPos),this.nzOnDrop.emit(n),this.nzOnDragEnd.emit(i)}):this.nzTreeNode&&(this.nzTreeService.dropAndApply(this.nzTreeNode,this.dragPos),this.nzOnDrop.emit(n))})}handleDragEnd(t){t.preventDefault(),this.ngZone.run(()=>{if(!this.nzBeforeDrop){const e=this.nzTreeService.formatEvent("dragend",this.nzTreeNode,t);this.nzOnDragEnd.emit(e)}})}handDragEvent(){this.ngZone.runOutsideAngular(()=>{if(this.nzDraggable){const t=this.elementRef.nativeElement;this.destroy$=new xe.a,Mc(t,"dragstart").pipe(An(this.destroy$)).subscribe(t=>this.handleDragStart(t)),Mc(t,"dragenter").pipe(An(this.destroy$)).subscribe(t=>this.handleDragEnter(t)),Mc(t,"dragover").pipe(An(this.destroy$)).subscribe(t=>this.handleDragOver(t)),Mc(t,"dragleave").pipe(An(this.destroy$)).subscribe(t=>this.handleDragLeave(t)),Mc(t,"drop").pipe(An(this.destroy$)).subscribe(t=>this.handleDragDrop(t)),Mc(t,"dragend").pipe(An(this.destroy$)).subscribe(t=>this.handleDragEnd(t))}else this.destroy$.next(),this.destroy$.complete()})}markForCheck(){this.cdr.markForCheck()}ngOnInit(){this.nzTreeNode.component=this}ngOnChanges(t){const{nzDraggable:e}=t;e&&this.handDragEvent()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}renderIndicator(t){this.ngZone.run(()=>{var e;this.showIndicator=2!==t,this.nzTreeNode.key===(null===(e=this.nzTreeService.getSelectedNode())||void 0===e?void 0:e.key)||0===t&&this.isLeaf||(this.dragPos=t,this.cdr.markForCheck())})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(F7),r.Rb(r.A),r.Rb(r.F),r.Rb(r.l),r.Rb(r.h),r.Rb(Ec,9))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-tree-node","builtin",""]],hostVars:34,hostBindings:function(t,e){1&t&&r.fc("mousedown",function(t){return e.onMousedown(t)}),2&t&&(r.Hc("display",e.displayStyle),r.Jb("ant-select-tree-treenode",e.nzSelectMode)("ant-select-tree-treenode-disabled",e.nzSelectMode&&e.isDisabled)("ant-select-tree-treenode-switcher-open",e.nzSelectMode&&e.isSwitcherOpen)("ant-select-tree-treenode-switcher-close",e.nzSelectMode&&e.isSwitcherClose)("ant-select-tree-treenode-checkbox-checked",e.nzSelectMode&&e.isChecked)("ant-select-tree-treenode-checkbox-indeterminate",e.nzSelectMode&&e.isHalfChecked)("ant-select-tree-treenode-selected",e.nzSelectMode&&e.isSelected)("ant-select-tree-treenode-loading",e.nzSelectMode&&e.isLoading)("ant-tree-treenode",!e.nzSelectMode)("ant-tree-treenode-disabled",!e.nzSelectMode&&e.isDisabled)("ant-tree-treenode-switcher-open",!e.nzSelectMode&&e.isSwitcherOpen)("ant-tree-treenode-switcher-close",!e.nzSelectMode&&e.isSwitcherClose)("ant-tree-treenode-checkbox-checked",!e.nzSelectMode&&e.isChecked)("ant-tree-treenode-checkbox-indeterminate",!e.nzSelectMode&&e.isHalfChecked)("ant-tree-treenode-selected",!e.nzSelectMode&&e.isSelected)("ant-tree-treenode-loading",!e.nzSelectMode&&e.isLoading))},inputs:{icon:"icon",title:"title",isLoading:"isLoading",isSelected:"isSelected",isDisabled:"isDisabled",isMatched:"isMatched",isStart:"isStart",isEnd:"isEnd",nzHideUnMatched:"nzHideUnMatched",nzNoAnimation:"nzNoAnimation",nzSelectMode:"nzSelectMode",nzShowIcon:"nzShowIcon",nzTreeTemplate:"nzTreeTemplate",nzSearchValue:"nzSearchValue",nzDraggable:"nzDraggable",isExpanded:"isExpanded",isLeaf:"isLeaf",isChecked:"isChecked",isHalfChecked:"isHalfChecked",isDisableCheckbox:"isDisableCheckbox",isSelectable:"isSelectable",canHide:"canHide",nzTreeNode:"nzTreeNode",nzShowLine:"nzShowLine",nzShowExpand:"nzShowExpand",nzCheckable:"nzCheckable",nzAsyncData:"nzAsyncData",nzExpandedIcon:"nzExpandedIcon",nzBeforeDrop:"nzBeforeDrop"},outputs:{nzClick:"nzClick",nzDblClick:"nzDblClick",nzContextMenu:"nzContextMenu",nzCheckBoxChange:"nzCheckBoxChange",nzExpandChange:"nzExpandChange",nzOnDragStart:"nzOnDragStart",nzOnDragEnter:"nzOnDragEnter",nzOnDragOver:"nzOnDragOver",nzOnDragLeave:"nzOnDragLeave",nzOnDrop:"nzOnDrop",nzOnDragEnd:"nzOnDragEnd"},exportAs:["nzTreeBuiltinNode"],features:[r.Bb],attrs:V7,decls:4,vars:22,consts:[[3,"nzTreeLevel","nzSelectMode","nzIsStart","nzIsEnd"],[3,"nzShowExpand","nzShowLine","nzExpandedIcon","nzSelectMode","context","isLeaf","isExpanded","isLoading","click",4,"ngIf"],["builtin","",3,"nzSelectMode","isChecked","isHalfChecked","isDisabled","isDisableCheckbox","click",4,"ngIf"],[3,"icon","title","isLoading","isSelected","isDisabled","isMatched","isExpanded","isLeaf","searchValue","treeTemplate","draggable","showIcon","selectMode","context","showIndicator","dragPosition","dblclick","click","contextmenu"],[3,"nzShowExpand","nzShowLine","nzExpandedIcon","nzSelectMode","context","isLeaf","isExpanded","isLoading","click"],["builtin","",3,"nzSelectMode","isChecked","isHalfChecked","isDisabled","isDisableCheckbox","click"]],template:function(t,e){1&t&&(r.Sb(0,"nz-tree-indent",0),r.Kc(1,n9,1,8,"nz-tree-node-switcher",1),r.Kc(2,i9,1,5,"nz-tree-node-checkbox",2),r.Xb(3,"nz-tree-node-title",3),r.fc("dblclick",function(t){return e.dblClick(t)})("click",function(t){return e.clickSelect(t)})("contextmenu",function(t){return e.contextMenu(t)}),r.Wb()),2&t&&(r.qc("nzTreeLevel",e.nzTreeNode.level)("nzSelectMode",e.nzSelectMode)("nzIsStart",e.isStart)("nzIsEnd",e.isEnd),r.Db(1),r.qc("ngIf",e.nzShowExpand),r.Db(1),r.qc("ngIf",e.nzCheckable),r.Db(1),r.qc("icon",e.icon)("title",e.title)("isLoading",e.isLoading)("isSelected",e.isSelected)("isDisabled",e.isDisabled)("isMatched",e.isMatched)("isExpanded",e.isExpanded)("isLeaf",e.isLeaf)("searchValue",e.nzSearchValue)("treeTemplate",e.nzTreeTemplate)("draggable",e.nzDraggable)("showIcon",e.nzShowIcon)("selectMode",e.nzSelectMode)("context",e.nzTreeNode)("showIndicator",e.showIndicator)("dragPosition",e.dragPos))},directives:[f9,i.n,b9,m9,g9],encapsulation:2,changeDetection:0}),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzShowLine",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzShowExpand",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzCheckable",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzAsyncData",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzHideUnMatched",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzNoAnimation",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzSelectMode",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzShowIcon",void 0),t})(),v9=(()=>{class t extends F7{constructor(){super()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();function _9(t,e){return t||e}let w9=(()=>{class t extends class{constructor(t){this.nzTreeService=t}coerceTreeNodes(t){let e=[];return e=this.nzTreeService.isArrayOfNzTreeNode(t)?t.map(t=>(t.service=this.nzTreeService,t)):t.map(t=>new R7(t,null,this.nzTreeService)),e}getTreeNodes(){return this.nzTreeService.rootNodes}getTreeNodeByKey(t){const e=[],n=t=>{e.push(t),t.getChildren().forEach(t=>{n(t)})};return this.getTreeNodes().forEach(t=>{n(t)}),e.find(e=>e.key===t)||null}getCheckedNodeList(){return this.nzTreeService.getCheckedNodeList()}getSelectedNodeList(){return this.nzTreeService.getSelectedNodeList()}getHalfCheckedNodeList(){return this.nzTreeService.getHalfCheckedNodeList()}getExpandedNodeList(){return this.nzTreeService.getExpandedNodeList()}getMatchedNodeList(){return this.nzTreeService.getMatchedNodeList()}}{constructor(t,e,n,i,o){super(t),this.nzConfigService=e,this.cdr=n,this.directionality=i,this.noAnimation=o,this._nzModuleName="tree",this.nzShowIcon=!1,this.nzHideUnMatched=!1,this.nzBlockNode=!1,this.nzExpandAll=!1,this.nzSelectMode=!1,this.nzCheckStrictly=!1,this.nzShowExpand=!0,this.nzShowLine=!1,this.nzCheckable=!1,this.nzAsyncData=!1,this.nzDraggable=!1,this.nzMultiple=!1,this.nzVirtualItemSize=28,this.nzVirtualMaxBufferPx=500,this.nzVirtualMinBufferPx=28,this.nzVirtualHeight=null,this.nzData=[],this.nzExpandedKeys=[],this.nzSelectedKeys=[],this.nzCheckedKeys=[],this.nzSearchValue="",this.nzFlattenNodes=[],this.beforeInit=!0,this.dir="ltr",this.nzExpandedKeysChange=new r.n,this.nzSelectedKeysChange=new r.n,this.nzCheckedKeysChange=new r.n,this.nzSearchValueChange=new r.n,this.nzClick=new r.n,this.nzDblClick=new r.n,this.nzContextMenu=new r.n,this.nzCheckBoxChange=new r.n,this.nzExpandChange=new r.n,this.nzOnDragStart=new r.n,this.nzOnDragEnter=new r.n,this.nzOnDragOver=new r.n,this.nzOnDragLeave=new r.n,this.nzOnDrop=new r.n,this.nzOnDragEnd=new r.n,this.HIDDEN_STYLE={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},this.destroy$=new xe.a,this.onChange=()=>null,this.onTouched=()=>null}writeValue(t){this.handleNzData(t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}renderTreeProperties(t){let e=!1,n=!1;const{nzData:i,nzExpandedKeys:r,nzSelectedKeys:o,nzCheckedKeys:s,nzCheckStrictly:a,nzExpandAll:c,nzMultiple:l,nzSearchValue:u}=t;c&&(e=!0,n=this.nzExpandAll),l&&(this.nzTreeService.isMultiple=this.nzMultiple),a&&(this.nzTreeService.isCheckStrictly=this.nzCheckStrictly),i&&this.handleNzData(this.nzData),s&&this.handleCheckedKeys(this.nzCheckedKeys),a&&this.handleCheckedKeys(null),(r||c)&&(e=!0,this.handleExpandedKeys(n||this.nzExpandedKeys)),o&&this.handleSelectedKeys(this.nzSelectedKeys,this.nzMultiple),u&&(u.firstChange&&!this.nzSearchValue||(e=!1,this.handleSearchValue(u.currentValue,this.nzSearchFunc),this.nzSearchValueChange.emit(this.nzTreeService.formatEvent("search",null,null))));const h=this.getExpandedNodeList().map(t=>t.key);this.handleFlattenNodes(this.nzTreeService.rootNodes,e?n||this.nzExpandedKeys:h)}trackByFlattenNode(t,e){return e.key}handleNzData(t){if(Array.isArray(t)){const e=this.coerceTreeNodes(t);this.nzTreeService.initTree(e)}}handleFlattenNodes(t,e=[]){this.nzTreeService.flattenTreeData(t,e)}handleCheckedKeys(t){this.nzTreeService.conductCheck(t,this.nzCheckStrictly)}handleExpandedKeys(t=[]){this.nzTreeService.conductExpandedKeys(t)}handleSelectedKeys(t,e){this.nzTreeService.conductSelectedKeys(t,e)}handleSearchValue(t,e){L7(this.nzTreeService.rootNodes,!0).map(t=>t.data).forEach(n=>{var i;n.isMatched=(i=n,e?e(i.origin):!(!t||!i.title.toLowerCase().includes(t.toLowerCase()))),n.canHide=!n.isMatched,n.isMatched?this.nzTreeService.expandNodeAllParentBySearch(n):(n.setExpanded(!1),this.nzTreeService.setExpandedNodeList(n)),this.nzTreeService.setMatchedNodeList(n)})}eventTriggerChanged(t){const e=t.node;switch(t.eventName){case"expand":this.renderTree(),this.nzExpandChange.emit(t);break;case"click":this.nzClick.emit(t);break;case"dblclick":this.nzDblClick.emit(t);break;case"contextmenu":this.nzContextMenu.emit(t);break;case"check":this.nzTreeService.setCheckedNodeList(e),this.nzCheckStrictly||this.nzTreeService.conduct(e);const n=this.nzTreeService.formatEvent("check",e,t.event);this.nzCheckBoxChange.emit(n);break;case"dragstart":e.isExpanded&&(e.setExpanded(!e.isExpanded),this.renderTree()),this.nzOnDragStart.emit(t);break;case"dragenter":const i=this.nzTreeService.getSelectedNode();!i||i.key===e.key||e.isExpanded||e.isLeaf||(e.setExpanded(!0),this.renderTree()),this.nzOnDragEnter.emit(t);break;case"dragover":this.nzOnDragOver.emit(t);break;case"dragleave":this.nzOnDragLeave.emit(t);break;case"dragend":this.nzOnDragEnd.emit(t);break;case"drop":this.renderTree(),this.nzOnDrop.emit(t)}}renderTree(){this.handleFlattenNodes(this.nzTreeService.rootNodes,this.getExpandedNodeList().map(t=>t.key)),this.cdr.markForCheck()}ngOnInit(){var t;this.nzTreeService.flattenNodes$.pipe(An(this.destroy$)).subscribe(t=>{this.nzFlattenNodes=t,this.cdr.markForCheck()}),this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()})}ngOnChanges(t){this.renderTreeProperties(t)}ngAfterViewInit(){this.beforeInit=!1}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(F7),r.Rb(Do),r.Rb(r.h),r.Rb(bn,8),r.Rb(Ec,9))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-tree"]],contentQueries:function(t,e,n){if(1&t&&r.Kb(n,r9,3),2&t){let t;r.zc(t=r.gc())&&(e.nzTreeTemplateChild=t.first)}},viewQuery:function(t,e){if(1&t&&r.Qc(rl,1,rl),2&t){let t;r.zc(t=r.gc())&&(e.cdkVirtualScrollViewport=t.first)}},hostVars:20,hostBindings:function(t,e){2&t&&r.Jb("ant-select-tree",e.nzSelectMode)("ant-select-tree-show-line",e.nzSelectMode&&e.nzShowLine)("ant-select-tree-icon-hide",e.nzSelectMode&&!e.nzShowIcon)("ant-select-tree-block-node",e.nzSelectMode&&e.nzBlockNode)("ant-tree",!e.nzSelectMode)("ant-tree-rtl","rtl"===e.dir)("ant-tree-show-line",!e.nzSelectMode&&e.nzShowLine)("ant-tree-icon-hide",!e.nzSelectMode&&!e.nzShowIcon)("ant-tree-block-node",!e.nzSelectMode&&e.nzBlockNode)("draggable-tree",e.nzDraggable)},inputs:{nzShowIcon:"nzShowIcon",nzHideUnMatched:"nzHideUnMatched",nzBlockNode:"nzBlockNode",nzExpandAll:"nzExpandAll",nzSelectMode:"nzSelectMode",nzCheckStrictly:"nzCheckStrictly",nzShowExpand:"nzShowExpand",nzShowLine:"nzShowLine",nzCheckable:"nzCheckable",nzAsyncData:"nzAsyncData",nzDraggable:"nzDraggable",nzMultiple:"nzMultiple",nzVirtualItemSize:"nzVirtualItemSize",nzVirtualMaxBufferPx:"nzVirtualMaxBufferPx",nzVirtualMinBufferPx:"nzVirtualMinBufferPx",nzVirtualHeight:"nzVirtualHeight",nzData:"nzData",nzExpandedKeys:"nzExpandedKeys",nzSelectedKeys:"nzSelectedKeys",nzCheckedKeys:"nzCheckedKeys",nzSearchValue:"nzSearchValue",nzExpandedIcon:"nzExpandedIcon",nzTreeTemplate:"nzTreeTemplate",nzBeforeDrop:"nzBeforeDrop",nzSearchFunc:"nzSearchFunc"},outputs:{nzExpandedKeysChange:"nzExpandedKeysChange",nzSelectedKeysChange:"nzSelectedKeysChange",nzCheckedKeysChange:"nzCheckedKeysChange",nzSearchValueChange:"nzSearchValueChange",nzClick:"nzClick",nzDblClick:"nzDblClick",nzContextMenu:"nzContextMenu",nzCheckBoxChange:"nzCheckBoxChange",nzExpandChange:"nzExpandChange",nzOnDragStart:"nzOnDragStart",nzOnDragEnter:"nzOnDragEnter",nzOnDragOver:"nzOnDragOver",nzOnDragLeave:"nzOnDragLeave",nzOnDrop:"nzOnDrop",nzOnDragEnd:"nzOnDragEnd"},exportAs:["nzTree"],features:[r.Cb([v9,{provide:F7,useFactory:_9,deps:[[new r.K,new r.B,j7],v9]},{provide:X,useExisting:Object(r.W)(()=>t),multi:!0}]),r.Ab,r.Bb],decls:8,vars:5,consts:[["role","tree"],[3,"ngStyle"],[1,"ant-tree-list"],[3,"ant-select-tree-list-holder-inner","ant-tree-list-holder-inner","itemSize","minBufferPx","maxBufferPx","height",4,"ngIf"],[3,"ant-select-tree-list-holder-inner","ant-tree-list-holder-inner","nzNoAnimation",4,"ngIf"],["nodeTemplate",""],[3,"itemSize","minBufferPx","maxBufferPx"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"nzNoAnimation"],[4,"ngFor","ngForOf","ngForTrackBy"],["builtin","",3,"icon","title","isLoading","isSelected","isDisabled","isMatched","isExpanded","isLeaf","isStart","isEnd","isChecked","isHalfChecked","isDisableCheckbox","isSelectable","canHide","nzTreeNode","nzSelectMode","nzShowLine","nzExpandedIcon","nzDraggable","nzCheckable","nzShowExpand","nzAsyncData","nzSearchValue","nzHideUnMatched","nzBeforeDrop","nzShowIcon","nzTreeTemplate","nzExpandChange","nzClick","nzDblClick","nzContextMenu","nzCheckBoxChange","nzOnDragStart","nzOnDragEnter","nzOnDragOver","nzOnDragLeave","nzOnDragEnd","nzOnDrop"]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.Sb(1,"input",1),r.Wb(),r.Xb(2,"div",2),r.Xb(3,"div"),r.Kc(4,c9,2,11,"cdk-virtual-scroll-viewport",3),r.Kc(5,h9,2,9,"div",4),r.Wb(),r.Wb(),r.Kc(6,d9,1,28,"ng-template",null,5,r.Lc)),2&t&&(r.Db(1),r.qc("ngStyle",e.HIDDEN_STYLE),r.Db(1),r.Jb("ant-select-tree-list",e.nzSelectMode),r.Db(2),r.qc("ngIf",e.nzVirtualHeight),r.Db(1),r.qc("ngIf",!e.nzVirtualHeight))},directives:[i.o,i.n,rl,Zc,sl,i.s,Ec,i.m,y9],encapsulation:2,data:{animation:[os]},changeDetection:0}),sr([Di(),Mo(),ar("design:type",Boolean)],t.prototype,"nzShowIcon",void 0),sr([Di(),Mo(),ar("design:type",Boolean)],t.prototype,"nzHideUnMatched",void 0),sr([Di(),Mo(),ar("design:type",Boolean)],t.prototype,"nzBlockNode",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzExpandAll",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzSelectMode",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzCheckStrictly",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzShowExpand",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzShowLine",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzCheckable",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzAsyncData",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzDraggable",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzMultiple",void 0),t})(),z9=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,ii,Vo,Ic,M7,cl]]}),t})();function C9(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return n=>Object(N.a)(function(t,e){return n=>{let i=n;for(let r=0;r<e;r++){const e=null!=i?i[t[r]]:void 0;if(void 0===e)return;i=e}return i}}(t,e))(n)}const S9=["handle"],x9=["slider"];function O9(t,e){if(1&t&&r.Sb(0,"nz-slider-step",6),2&t){const t=r.jc();r.qc("vertical",t.nzVertical)("min",t.nzMin)("max",t.nzMax)("lowerBound",t.bounds.lower)("upperBound",t.bounds.upper)("marksArray",t.marksArray)("included",t.nzIncluded)("reverse",t.nzReverse)}}function k9(t,e){if(1&t&&r.Sb(0,"nz-slider-handle",7),2&t){const t=e.$implicit,n=r.jc();r.qc("vertical",n.nzVertical)("reverse",n.nzReverse)("offset",t.offset)("value",t.value)("active",t.active)("tooltipFormatter",n.nzTipFormatter)("tooltipVisible",n.nzTooltipVisible)("tooltipPlacement",n.nzTooltipPlacement)("dir",n.dir)}}function T9(t,e){if(1&t&&r.Sb(0,"nz-slider-marks",6),2&t){const t=r.jc();r.qc("vertical",t.nzVertical)("min",t.nzMin)("max",t.nzMax)("lowerBound",t.bounds.lower)("upperBound",t.bounds.upper)("marksArray",t.marksArray)("included",t.nzIncluded)("reverse",t.nzReverse)}}function E9(t,e){if(1&t&&r.Sb(0,"span",2),2&t){const t=e.$implicit;r.Jb("ant-slider-mark-active",t.active),r.qc("ngStyle",t.style)("innerHTML",t.label,r.Dc)}}function I9(t,e){if(1&t&&r.Sb(0,"span",2),2&t){const t=e.$implicit;r.Jb("ant-slider-dot-active",t.active),r.qc("ngStyle",t.style)}}let D9=(()=>{class t{constructor(){this.isDragging=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),M9=(()=>{class t{constructor(t,e){this.sliderService=t,this.cdr=e,this.tooltipVisible="default",this.active=!1,this.dir="ltr",this.style={},this.enterHandle=()=>{this.sliderService.isDragging||(this.toggleTooltip(!0),this.updateTooltipPosition(),this.cdr.detectChanges())},this.leaveHandle=()=>{this.sliderService.isDragging||(this.toggleTooltip(!1),this.cdr.detectChanges())}}ngOnChanges(t){const{offset:e,value:n,active:i,tooltipVisible:r,reverse:o,dir:s}=t;(e||o||s)&&this.updateStyle(),n&&(this.updateTooltipTitle(),this.updateTooltipPosition()),i&&this.toggleTooltip(!!i.currentValue),"always"===(null==r?void 0:r.currentValue)&&Promise.resolve().then(()=>this.toggleTooltip(!0,!0))}focus(){var t;null===(t=this.handleEl)||void 0===t||t.nativeElement.focus()}toggleTooltip(t,e=!1){var n,i;(e||"default"===this.tooltipVisible&&this.tooltip)&&(t?null===(n=this.tooltip)||void 0===n||n.show():null===(i=this.tooltip)||void 0===i||i.hide())}updateTooltipTitle(){this.tooltipTitle=this.tooltipFormatter?this.tooltipFormatter(this.value):`${this.value}`}updateTooltipPosition(){this.tooltip&&Promise.resolve().then(()=>{var t;return null===(t=this.tooltip)||void 0===t?void 0:t.updatePosition()})}updateStyle(){const t=this.reverse,e=this.vertical?{[t?"top":"bottom"]:`${this.offset}%`,[t?"bottom":"top"]:"auto",transform:t?null:"translateY(+50%)"}:Object.assign(Object.assign({},this.getHorizontalStylePosition()),{transform:`translateX(${t?"rtl"===this.dir?"-":"+":"rtl"===this.dir?"+":"-"}50%)`});this.style=e,this.cdr.markForCheck()}getHorizontalStylePosition(){let t=this.reverse?"auto":`${this.offset}%`,e=this.reverse?`${this.offset}%`:"auto";if("rtl"===this.dir){const n=t;t=e,e=n}return{left:t,right:e}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(D9),r.Rb(r.h))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-slider-handle"]],viewQuery:function(t,e){if(1&t&&(r.Qc(S9,1),r.Qc(hu,1)),2&t){let t;r.zc(t=r.gc())&&(e.handleEl=t.first),r.zc(t=r.gc())&&(e.tooltip=t.first)}},hostBindings:function(t,e){1&t&&r.fc("mouseenter",function(){return e.enterHandle()})("mouseleave",function(){return e.leaveHandle()})},inputs:{tooltipVisible:"tooltipVisible",active:"active",dir:"dir",vertical:"vertical",reverse:"reverse",offset:"offset",value:"value",tooltipPlacement:"tooltipPlacement",tooltipFormatter:"tooltipFormatter"},exportAs:["nzSliderHandle"],features:[r.Bb],decls:2,vars:4,consts:[["tabindex","0","nz-tooltip","",1,"ant-slider-handle",3,"ngStyle","nzTooltipTitle","nzTooltipTrigger","nzTooltipPlacement"],["handle",""]],template:function(t,e){1&t&&r.Sb(0,"div",0,1),2&t&&r.qc("ngStyle",e.style)("nzTooltipTitle",null===e.tooltipFormatter||"never"===e.tooltipVisible?null:e.tooltipTitle)("nzTooltipTrigger",null)("nzTooltipPlacement",e.tooltipPlacement)},directives:[hu,i.o],encapsulation:2,changeDetection:0}),sr([Di(),ar("design:type",Object)],t.prototype,"active",void 0),t})(),R9=(()=>{class t{constructor(t,e,n,i){this.sliderService=t,this.cdr=e,this.platform=n,this.directionality=i,this.nzDisabled=!1,this.nzDots=!1,this.nzIncluded=!0,this.nzRange=!1,this.nzVertical=!1,this.nzReverse=!1,this.nzMarks=null,this.nzMax=100,this.nzMin=0,this.nzStep=1,this.nzTooltipVisible="default",this.nzTooltipPlacement="top",this.nzOnAfterChange=new r.n,this.value=null,this.cacheSliderStart=null,this.cacheSliderLength=null,this.activeValueIndex=void 0,this.track={offset:null,length:null},this.handles=[],this.marksArray=null,this.bounds={lower:null,upper:null},this.dir="ltr",this.destroy$=new xe.a}ngOnInit(){var t;this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges(),this.updateTrackAndHandles(),this.onValueChange(this.getValue(!0))}),this.handles=Array(this.nzRange?2:1).fill(0).map(()=>({offset:null,value:null,active:!1})),this.marksArray=this.nzMarks?this.generateMarkItems(this.nzMarks):null,this.bindDraggingHandlers(),this.toggleDragDisabled(this.nzDisabled),null===this.getValue()&&this.setValue(this.formatValue(null))}ngOnChanges(t){const{nzDisabled:e,nzMarks:n,nzRange:i}=t;e&&!e.firstChange?this.toggleDragDisabled(e.currentValue):n&&!n.firstChange?this.marksArray=this.nzMarks?this.generateMarkItems(this.nzMarks):null:i&&!i.firstChange&&this.setValue(this.formatValue(null))}ngOnDestroy(){this.unsubscribeDrag(),this.destroy$.next(),this.destroy$.complete()}writeValue(t){this.setValue(t,!0)}onValueChange(t){}onTouched(){}registerOnChange(t){this.onValueChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.nzDisabled=t,this.toggleDragDisabled(t)}onKeyDown(t){const e=t.keyCode,n=37===e||40===e;if(39!==e&&38!==e&&!n)return;t.preventDefault();let i=(n?-this.nzStep:this.nzStep)*(this.nzReverse?-1:1);i="rtl"===this.dir?-1*i:i,this.setActiveValue(Li(this.nzRange?this.value[this.activeValueIndex]+i:this.value+i,this.nzMin,this.nzMax))}setValue(t,e=!1){var n,i;e?(this.value=this.formatValue(t),this.updateTrackAndHandles()):typeof(n=this.value)==typeof(i=t)&&(A9(n)&&A9(i)?function(t,e){if(!t||!e||t.length!==e.length)return!1;const n=t.length;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}(n,i):n===i)||(this.value=t,this.updateTrackAndHandles(),this.onValueChange(this.getValue(!0)))}getValue(t=!1){return t&&this.value&&A9(this.value)?[...this.value].sort((t,e)=>t-e):this.value}getValueToOffset(t){let e=t;return void 0===e&&(e=this.getValue(!0)),A9(e)?e.map(t=>this.valueToOffset(t)):this.valueToOffset(e)}setActiveValueIndex(t){const e=this.getValue();if(A9(e)){let n,i=null,r=-1;e.forEach((e,o)=>{n=Math.abs(t-e),(null===i||n<i)&&(i=n,r=o)}),this.activeValueIndex=r,this.handlerComponents.toArray()[r].focus()}else this.handlerComponents.toArray()[0].focus()}setActiveValue(t){if(A9(this.value)){const e=[...this.value];e[this.activeValueIndex]=t,this.setValue(e)}else this.setValue(t)}updateTrackAndHandles(){const t=this.getValue(),e=this.getValueToOffset(t),n=this.getValue(!0),i=this.getValueToOffset(n),r=A9(n)?n:[0,n],o=A9(i)?[i[0],i[1]-i[0]]:[0,i];this.handles.forEach((n,i)=>{n.offset=A9(e)?e[i]:e,n.value=A9(t)?t[i]:t||0}),[this.bounds.lower,this.bounds.upper]=r,[this.track.offset,this.track.length]=o,this.cdr.markForCheck()}onDragStart(t){this.toggleDragMoving(!0),this.cacheSliderProperty(),this.setActiveValueIndex(this.getLogicalValue(t)),this.setActiveValue(this.getLogicalValue(t)),this.showHandleTooltip(this.nzRange?this.activeValueIndex:0)}onDragMove(t){this.setActiveValue(this.getLogicalValue(t)),this.cdr.markForCheck()}getLogicalValue(t){return this.nzReverse?this.nzVertical||"rtl"!==this.dir?this.nzMax-t+this.nzMin:t:this.nzVertical||"rtl"!==this.dir?t:this.nzMax-t+this.nzMin}onDragEnd(){this.nzOnAfterChange.emit(this.getValue(!0)),this.toggleDragMoving(!1),this.cacheSliderProperty(!0),this.hideAllHandleTooltip(),this.cdr.markForCheck()}bindDraggingHandlers(){if(!this.platform.isBrowser)return;const t=this.slider.nativeElement,e=this.nzVertical?"pageY":"pageX",n={start:"mousedown",move:"mousemove",end:"mouseup",pluckKey:[e]},i={start:"touchstart",move:"touchmove",end:"touchend",pluckKey:["touches","0",e],filter:t=>t instanceof TouchEvent};[n,i].forEach(e=>{const{start:n,move:i,end:r,pluckKey:o,filter:s=(()=>!0)}=e;e.startPlucked$=Mc(t,n).pipe(Object(di.a)(s),Object(go.a)(Ri),C9(...o),Object(N.a)(t=>this.findClosestValue(t))),e.end$=Mc(document,r),e.moveResolved$=Mc(document,i).pipe(Object(di.a)(s),Object(go.a)(Ri),C9(...o),pi(),Object(N.a)(t=>this.findClosestValue(t)),pi(),An(e.end$))}),this.dragStart$=Object(bl.a)(n.startPlucked$,i.startPlucked$),this.dragMove$=Object(bl.a)(n.moveResolved$,i.moveResolved$),this.dragEnd$=Object(bl.a)(n.end$,i.end$)}subscribeDrag(t=["start","move","end"]){-1!==t.indexOf("start")&&this.dragStart$&&!this.dragStart_&&(this.dragStart_=this.dragStart$.subscribe(this.onDragStart.bind(this))),-1!==t.indexOf("move")&&this.dragMove$&&!this.dragMove_&&(this.dragMove_=this.dragMove$.subscribe(this.onDragMove.bind(this))),-1!==t.indexOf("end")&&this.dragEnd$&&!this.dragEnd_&&(this.dragEnd_=this.dragEnd$.subscribe(this.onDragEnd.bind(this)))}unsubscribeDrag(t=["start","move","end"]){-1!==t.indexOf("start")&&this.dragStart_&&(this.dragStart_.unsubscribe(),this.dragStart_=null),-1!==t.indexOf("move")&&this.dragMove_&&(this.dragMove_.unsubscribe(),this.dragMove_=null),-1!==t.indexOf("end")&&this.dragEnd_&&(this.dragEnd_.unsubscribe(),this.dragEnd_=null)}toggleDragMoving(t){const e=["move","end"];t?(this.sliderService.isDragging=!0,this.subscribeDrag(e)):(this.sliderService.isDragging=!1,this.unsubscribeDrag(e))}toggleDragDisabled(t){t?this.unsubscribeDrag():this.subscribeDrag(["start"])}findClosestValue(t){const e=Li((t-this.getSliderStartPosition())/this.getSliderLength(),0,1),n=(this.nzMax-this.nzMin)*(this.nzVertical?1-e:e)+this.nzMin,i=null===this.nzMarks?[]:Object.keys(this.nzMarks).map(parseFloat).sort((t,e)=>t-e);if(0!==this.nzStep&&!this.nzDots){const t=Math.round(n/this.nzStep)*this.nzStep;i.push(t)}const r=i.map(t=>Math.abs(n-t)),o=i[r.indexOf(Math.min(...r))];return 0===this.nzStep?o:parseFloat(o.toFixed(function(t){const e=t.toString(),n=e.indexOf(".");return n>=0?e.length-n-1:0}(this.nzStep)))}valueToOffset(t){return function(t,e,n){return(n-t)/(e-t)*100}(this.nzMin,this.nzMax,t)}getSliderStartPosition(){if(null!==this.cacheSliderStart)return this.cacheSliderStart;const t=Ai(this.slider.nativeElement);return this.nzVertical?t.top:t.left}getSliderLength(){if(null!==this.cacheSliderLength)return this.cacheSliderLength;const t=this.slider.nativeElement;return this.nzVertical?t.clientHeight:t.clientWidth}cacheSliderProperty(t=!1){this.cacheSliderStart=t?null:this.getSliderStartPosition(),this.cacheSliderLength=t?null:this.getSliderLength()}formatValue(t){return t?function(t,e){return!(!A9(t)&&isNaN(t)||A9(t)&&t.some(t=>isNaN(t)))&&function(t,e=!1){if(A9(t)!==e)throw new Error('The "nzRange" can\'t match the "ngModel"\'s type, please check these properties: "nzRange", "ngModel", "nzDefaultValue".');return!0}(t,e)}(t,this.nzRange)?A9(t)?t.map(t=>Li(t,this.nzMin,this.nzMax)):Li(t,this.nzMin,this.nzMax):this.nzDefaultValue?this.nzDefaultValue:this.nzRange?[this.nzMin,this.nzMax]:this.nzMin:this.nzRange?[this.nzMin,this.nzMax]:this.nzMin}showHandleTooltip(t=0){this.handles.forEach((e,n)=>{e.active=n===t})}hideAllHandleTooltip(){this.handles.forEach(t=>t.active=!1)}generateMarkItems(t){const e=[];for(const n in t){const i=t[n],r="number"==typeof n?n:parseFloat(n);r>=this.nzMin&&r<=this.nzMax&&e.push({value:r,offset:this.valueToOffset(r),config:i})}return e.length?e:null}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(D9),r.Rb(r.h),r.Rb(qn),r.Rb(bn,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-slider"]],viewQuery:function(t,e){if(1&t&&(r.Qc(x9,3),r.Qc(M9,1)),2&t){let t;r.zc(t=r.gc())&&(e.slider=t.first),r.zc(t=r.gc())&&(e.handlerComponents=t)}},hostBindings:function(t,e){1&t&&r.fc("keydown",function(t){return e.onKeyDown(t)})},inputs:{nzDisabled:"nzDisabled",nzDots:"nzDots",nzIncluded:"nzIncluded",nzRange:"nzRange",nzVertical:"nzVertical",nzReverse:"nzReverse",nzMarks:"nzMarks",nzMax:"nzMax",nzMin:"nzMin",nzStep:"nzStep",nzTooltipVisible:"nzTooltipVisible",nzTooltipPlacement:"nzTooltipPlacement",nzDefaultValue:"nzDefaultValue",nzTipFormatter:"nzTipFormatter"},outputs:{nzOnAfterChange:"nzOnAfterChange"},exportAs:["nzSlider"],features:[r.Cb([{provide:X,useExisting:Object(r.W)(()=>t),multi:!0},D9]),r.Bb],decls:7,vars:17,consts:[[1,"ant-slider"],["slider",""],[1,"ant-slider-rail"],[3,"vertical","included","offset","length","reverse","dir"],[3,"vertical","min","max","lowerBound","upperBound","marksArray","included","reverse",4,"ngIf"],[3,"vertical","reverse","offset","value","active","tooltipFormatter","tooltipVisible","tooltipPlacement","dir",4,"ngFor","ngForOf"],[3,"vertical","min","max","lowerBound","upperBound","marksArray","included","reverse"],[3,"vertical","reverse","offset","value","active","tooltipFormatter","tooltipVisible","tooltipPlacement","dir"]],template:function(t,e){1&t&&(r.Xb(0,"div",0,1),r.Sb(2,"div",2),r.Sb(3,"nz-slider-track",3),r.Kc(4,O9,1,8,"nz-slider-step",4),r.Kc(5,k9,1,9,"nz-slider-handle",5),r.Kc(6,T9,1,8,"nz-slider-marks",4),r.Wb()),2&t&&(r.Jb("ant-slider-rtl","rtl"===e.dir)("ant-slider-disabled",e.nzDisabled)("ant-slider-vertical",e.nzVertical)("ant-slider-with-marks",e.marksArray),r.Db(3),r.qc("vertical",e.nzVertical)("included",e.nzIncluded)("offset",e.track.offset)("length",e.track.length)("reverse",e.nzReverse)("dir",e.dir),r.Db(1),r.qc("ngIf",e.marksArray),r.Db(1),r.qc("ngForOf",e.handles),r.Db(1),r.qc("ngIf",e.marksArray))},directives:function(){return[j9,yn,i.n,i.m,F9,M9,P9]},encapsulation:2,changeDetection:0}),sr([Di(),ar("design:type",Object)],t.prototype,"nzDisabled",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzDots",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzIncluded",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzRange",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzVertical",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzReverse",void 0),sr([Mi(),ar("design:type",Object)],t.prototype,"nzMax",void 0),sr([Mi(),ar("design:type",Object)],t.prototype,"nzMin",void 0),sr([Mi(),ar("design:type",Object)],t.prototype,"nzStep",void 0),t})();function A9(t){return t instanceof Array&&2===t.length}let P9=(()=>{class t{constructor(){this.lowerBound=null,this.upperBound=null,this.marksArray=[],this.vertical=!1,this.included=!1,this.marks=[]}ngOnChanges(t){const{marksArray:e,lowerBound:n,upperBound:i,reverse:r}=t;(e||r)&&this.buildMarks(),(e||n||i||r)&&this.togglePointActive()}trackById(t,e){return e.value}buildMarks(){const t=this.max-this.min;this.marks=this.marksArray.map(e=>{const{value:n,offset:i,config:r}=e,o=this.getMarkStyles(n,t,r);return{label:L9(r)?r.label:r,offset:i,style:o,value:n,config:r,active:!1}})}getMarkStyles(t,e,n){let i;const r=this.reverse?this.max+this.min-t:t;return i=this.vertical?{marginBottom:"-50%",bottom:(r-this.min)/e*100+"%"}:{transform:"translate3d(-50%, 0, 0)",left:(r-this.min)/e*100+"%"},L9(n)&&n.style&&(i=Object.assign(Object.assign({},i),n.style)),i}togglePointActive(){this.marks&&null!==this.lowerBound&&null!==this.upperBound&&this.marks.forEach(t=>{const e=t.value;t.active=!this.included&&e===this.upperBound||this.included&&e<=this.upperBound&&e>=this.lowerBound})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-slider-marks"]],inputs:{lowerBound:"lowerBound",upperBound:"upperBound",marksArray:"marksArray",vertical:"vertical",included:"included",min:"min",max:"max",reverse:"reverse"},exportAs:["nzSliderMarks"],features:[r.Bb],decls:2,vars:2,consts:[[1,"ant-slider-mark"],["class","ant-slider-mark-text",3,"ant-slider-mark-active","ngStyle","innerHTML",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ant-slider-mark-text",3,"ngStyle","innerHTML"]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.Kc(1,E9,1,4,"span",1),r.Wb()),2&t&&(r.Db(1),r.qc("ngForOf",e.marks)("ngForTrackBy",e.trackById))},directives:[i.m,i.o],encapsulation:2,changeDetection:0}),sr([Di(),ar("design:type",Object)],t.prototype,"vertical",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"included",void 0),t})();function L9(t){return"string"!=typeof t}let F9=(()=>{class t{constructor(){this.lowerBound=null,this.upperBound=null,this.marksArray=[],this.vertical=!1,this.included=!1,this.steps=[]}ngOnChanges(t){const{marksArray:e,lowerBound:n,upperBound:i,reverse:r}=t;(e||r)&&this.buildSteps(),(e||n||i||r)&&this.togglePointActive()}trackById(t,e){return e.value}buildSteps(){const t=this.vertical?"bottom":"left";this.steps=this.marksArray.map(e=>{const{value:n,config:i}=e;let r=e.offset;return this.reverse&&(r=(this.max-n)/(this.max-this.min)*100),{value:n,offset:r,config:i,active:!1,style:{[t]:`${r}%`}}})}togglePointActive(){this.steps&&null!==this.lowerBound&&null!==this.upperBound&&this.steps.forEach(t=>{const e=t.value;t.active=!this.included&&e===this.upperBound||this.included&&e<=this.upperBound&&e>=this.lowerBound})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-slider-step"]],inputs:{lowerBound:"lowerBound",upperBound:"upperBound",marksArray:"marksArray",vertical:"vertical",included:"included",min:"min",max:"max",reverse:"reverse"},exportAs:["nzSliderStep"],features:[r.Bb],decls:2,vars:2,consts:[[1,"ant-slider-step"],["class","ant-slider-dot",3,"ant-slider-dot-active","ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ant-slider-dot",3,"ngStyle"]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.Kc(1,I9,1,3,"span",1),r.Wb()),2&t&&(r.Db(1),r.qc("ngForOf",e.steps)("ngForTrackBy",e.trackById))},directives:[i.m,i.o],encapsulation:2,changeDetection:0}),sr([Di(),ar("design:type",Object)],t.prototype,"vertical",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"included",void 0),t})(),j9=(()=>{class t{constructor(){this.offset=0,this.reverse=!1,this.dir="ltr",this.length=0,this.vertical=!1,this.included=!1,this.style={}}ngOnChanges(){const t=this.reverse,e=this.included?"visible":"hidden",n=this.length,i=this.vertical?{[t?"top":"bottom"]:`${this.offset}%`,[t?"bottom":"top"]:"auto",height:`${n}%`,visibility:e}:Object.assign(Object.assign({},this.getHorizontalStylePosition()),{width:`${n}%`,visibility:e});this.style=i}getHorizontalStylePosition(){let t=this.reverse?"auto":`${this.offset}%`,e=this.reverse?`${this.offset}%`:"auto";if("rtl"===this.dir){const n=t;t=e,e=n}return{left:t,right:e}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-slider-track"]],inputs:{offset:"offset",reverse:"reverse",dir:"dir",length:"length",vertical:"vertical",included:"included"},exportAs:["nzSliderTrack"],features:[r.Bb],decls:1,vars:1,consts:[[1,"ant-slider-track",3,"ngStyle"]],template:function(t,e){1&t&&r.Sb(0,"div",0),2&t&&r.qc("ngStyle",e.style)},directives:[i.o],encapsulation:2,changeDetection:0}),sr([Mi(),ar("design:type",Number)],t.prototype,"offset",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"reverse",void 0),sr([Mi(),ar("design:type",Number)],t.prototype,"length",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"vertical",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"included",void 0),t})(),N9=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,Bn,pu]]}),t})();const V9=["geoViewer"],W9=["nzTreeComponent"],q9=["overlayOpenLayerClick"],B9=["overlayOpenLayerRightClick"],X9=["modalSettingRegionDrawRegionsTitle"],U9=["modalSettingRegionDrawRegionsContent"],$9=["modalSettingRegionDrawRegionsFooter"],H9=["modalConfirmContent"],K9=["modalCreateRegionTitle"],G9=["modalCreateRegionContent"],Y9=["modalCreateRegionFooter"];function Q9(t,e){if(1&t&&(r.Xb(0,"div",68),r.Xb(1,"div",69),r.Mc(2),r.Wb(),r.Sb(3,"img",70),r.Wb()),2&t){const t=e.$implicit;r.jc();const n=r.Ac(49);r.Db(2),r.Oc(" ",n.getTreeNodeByKey(t.key).origin.title," "),r.Db(1),r.qc("src",t.value,r.Ec)}}function J9(t,e){1&t&&r.Sb(0,"i",71)}function Z9(t,e){1&t&&r.Sb(0,"i",72)}function ttt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",15),r.fc("click",function(){return r.Cc(t),r.jc(2).drawFeatureModeRegions()}),r.Sb(1,"i",76),r.Wb()}}function ett(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",15),r.fc("click",function(){return r.Cc(t),r.jc(2).disableDrawFeatureModeRegions()}),r.Sb(1,"i",74),r.Wb()}}function ntt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",13),r.fc("click",function(){return r.Cc(t),r.jc(2).deleteSelectedFeatureInRegion()}),r.Sb(1,"i",77),r.Wb()}}function itt(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Kc(1,ttt,2,0,"button",73),r.Kc(2,ett,2,0,"button",73),r.Xb(3,"button",15),r.fc("click",function(){return r.Cc(t),r.jc().finishModeDrawRegionsButton()}),r.Sb(4,"i",74),r.Wb(),r.Kc(5,ntt,2,0,"button",75),r.Ub()}if(2&t){const t=r.jc();r.Db(1),r.qc("ngIf",!t.getStateDrawRegions()),r.Db(1),r.qc("ngIf",t.getStateDrawRegions()),r.Db(3),r.qc("ngIf",t.getSelectedFeatureInRegion())}}function rtt(t,e){1&t&&r.Sb(0,"i",78)}function ott(t,e){1&t&&(r.Vb(0),r.Xb(1,"div"),r.Mc(2," No se ha encontrado informaci\xf3n. "),r.Wb(),r.Ub())}function stt(t,e){if(1&t&&r.Sb(0,"nz-option",95),2&t){const t=e.$implicit;r.qc("nzValue",t.key)("nzLabel",t.key)}}function att(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"div"),r.Xb(2,"div",97),r.Mc(3),r.Wb(),r.Mc(4),r.Wb(),r.Ub()),2&t){const t=e.$implicit;r.Db(3),r.Oc(" ",t.key,": "),r.Db(1),r.Oc("",t.value," ")}}function ctt(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"div",96),r.Kc(2,att,5,2,"ng-container",94),r.kc(3,"keyvalue"),r.Wb(),r.Ub()),2&t){const t=e.$implicit;r.Db(2),r.qc("ngForOf",r.lc(3,1,t))}}function ltt(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Xb(1,"div",90),r.Xb(2,"nz-select",91),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc(3).selectedLayerClickMapInfo=e}),r.Kc(3,stt,1,2,"nz-option",92),r.kc(4,"keyvalue"),r.Wb(),r.Xb(5,"div",93),r.Kc(6,ctt,4,3,"ng-container",94),r.Wb(),r.Wb(),r.Ub()}if(2&t){const t=r.jc(3);r.Db(2),r.qc("ngModel",t.selectedLayerClickMapInfo),r.Db(1),r.qc("ngForOf",r.lc(4,3,t.clickInfoMap)),r.Db(3),r.qc("ngForOf",t.clickInfoMap[t.selectedLayerClickMapInfo])}}function utt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-tab",86),r.Xb(1,"nz-spin",1),r.Xb(2,"div",87),r.Xb(3,"button",88),r.fc("click",function(){return r.Cc(t),r.jc(2).changeWhereClickMapInfo("overlay")}),r.Sb(4,"i",89),r.Wb(),r.Wb(),r.Kc(5,ott,3,0,"ng-container",23),r.Kc(6,ltt,7,5,"ng-container",23),r.Wb(),r.Wb()}if(2&t){const t=r.jc(2);r.Db(1),r.qc("nzSpinning",t.loadigClickInfoMap),r.Db(4),r.qc("ngIf",!t.clickInfoMap&&!t.loadigClickInfoMap),r.Db(1),r.qc("ngIf",t.clickInfoMap&&!t.loadigClickInfoMap)}}function htt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"label",110),r.fc("nzCheckedChange",function(){r.Cc(t);const e=r.jc(3);return e.changeStateLegend(e.infoLayerTabNode.origin.key,!0)}),r.Mc(1,"Mostrar leyenda"),r.Wb()}if(2&t){const t=r.jc(3);r.qc("nzChecked",!1)("nzDisabled",!t.infoLayerTabNode.origin.isActive)}}function dtt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"label",111),r.fc("nzCheckedChange",function(){r.Cc(t);const e=r.jc(3);return e.changeStateLegend(e.infoLayerTabNode.origin.key,!1)}),r.Mc(1,"Mostrar leyenda"),r.Wb()}2&t&&r.qc("nzChecked",!0)}function ptt(t,e){1&t&&r.Tb(0)}function ftt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-tab",98),r.Xb(1,"div",99),r.Xb(2,"div",100),r.Mc(3," Nombre: "),r.Wb(),r.Xb(4,"div",101),r.Mc(5),r.Wb(),r.Xb(6,"div",102),r.Mc(7," Leyenda: "),r.Wb(),r.Xb(8,"div",101),r.Kc(9,htt,2,2,"label",103),r.Kc(10,dtt,2,1,"label",104),r.Wb(),r.Xb(11,"div",105),r.Mc(12,"Opacidad:"),r.Wb(),r.Xb(13,"div",106),r.Xb(14,"nz-slider",107),r.fc("nzOnAfterChange",function(e){r.Cc(t);const n=r.jc(2);return n.changeOpacity(n.infoLayerTabNode,e)}),r.Wb(),r.Wb(),r.Xb(15,"div",105),r.Mc(16,"CQL:"),r.Wb(),r.Xb(17,"div",106),r.Xb(18,"input",108),r.fc("blur",function(e){r.Cc(t);const n=r.jc(2);return n.changeCQL(n.infoLayerTabNode,e)})("keyup",function(t){return"Enter"==t.key?t.target.blur():null}),r.Wb(),r.Wb(),r.Xb(19,"div",105),r.Mc(20,"Z-Index:"),r.Wb(),r.Xb(21,"div",106),r.Xb(22,"input",108),r.fc("blur",function(e){r.Cc(t);const n=r.jc(2);return n.changeZIndex(n.infoLayerTabNode,e)})("keyup",function(t){return"Enter"==t.key?t.target.blur():null}),r.Wb(),r.Wb(),r.Xb(23,"div",102),r.Mc(24,"Atributos:"),r.Wb(),r.Kc(25,ptt,1,0,"ng-container",23),r.Xb(26,"nz-tree",109),r.fc("nzDataChange",function(e){return r.Cc(t),r.jc(2).selectedLayerPropertiesTree=e}),r.Wb(),r.Wb(),r.Wb()}if(2&t){const t=r.jc(2);r.Db(5),r.Oc(" ",t.infoLayerTabNode.origin.title," "),r.Db(4),r.qc("ngIf",!t.legends.has(t.infoLayerTabNode.origin.key)),r.Db(1),r.qc("ngIf",t.legends.has(t.infoLayerTabNode.origin.key)),r.Db(4),r.qc("ngModel",t.infoLayerTabNode.origin.opacity)("nzTipFormatter",t.formatterOpacitySlider),r.Db(4),r.qc("ngModel",t.infoLayerTabNode.origin.cql_filter),r.Db(4),r.qc("ngModel",t.infoLayerTabNode.origin.zIndex),r.Db(3),r.qc("ngIf",t.selectedLayerPropertiesTree.length>0),r.Db(1),r.qc("nzData",t.selectedLayerPropertiesTree)}}function gtt(t,e){1&t&&r.Sb(0,"nz-tab",112)}function mtt(t,e){if(1&t&&(r.Xb(0,"div",79),r.Xb(1,"div",80),r.Xb(2,"nz-tabset",81,82),r.Kc(4,utt,7,3,"nz-tab",83),r.Kc(5,ftt,27,9,"nz-tab",84),r.Kc(6,gtt,1,0,"nz-tab",85),r.Wb(),r.Wb(),r.Wb()),2&t){const t=r.jc();r.Db(4),r.qc("ngIf","window"==t.whereClickMapInfo),r.Db(1),r.qc("ngIf",t.infoLayerTabNode),r.Db(1),r.qc("ngIf",!1)}}const btt=function(t){return{color:t}};function ytt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"i",119),r.fc("click",function(e){r.Cc(t);const n=r.jc().$implicit;return r.jc().changeVisibilityRegion(e,!1,n.key)}),r.Wb()}if(2&t){const t=r.jc().$implicit,e=r.jc();r.qc("ngStyle",r.vc(1,btt,e.styleColorItemDrawRegions(t.key)))}}function vtt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"i",120),r.fc("click",function(e){r.Cc(t);const n=r.jc().$implicit;return r.jc().changeVisibilityRegion(e,!0,n.key)}),r.Wb()}if(2&t){const t=r.jc().$implicit,e=r.jc();r.qc("ngStyle",r.vc(1,btt,e.styleColorItemDrawRegions(t.key)))}}const _tt=function(t,e){return{"background-color":t,color:e}};function wtt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-list-item",113),r.fc("click",function(){r.Cc(t);const n=e.$implicit;return r.jc().selectIdCustomRegions(n.key)}),r.Mc(1),r.Xb(2,"ul",114),r.Xb(3,"nz-list-item-action"),r.Xb(4,"i",115),r.fc("click",function(n){r.Cc(t);const i=e.$implicit;return r.jc().openSettingRegion(n,i.key)}),r.Wb(),r.Wb(),r.Xb(5,"nz-list-item-action"),r.Xb(6,"i",116),r.fc("click",function(n){r.Cc(t);const i=e.$implicit;return r.jc().deleteRegion(n,i.key)}),r.Wb(),r.Wb(),r.Xb(7,"nz-list-item-action"),r.Kc(8,ytt,1,3,"i",117),r.Kc(9,vtt,1,3,"ng-template",null,118,r.Lc),r.Wb(),r.Wb(),r.Wb()}if(2&t){const t=e.$implicit,n=r.Ac(10),i=r.jc();r.qc("ngStyle",r.wc(6,_tt,i.styleBackgroudColorItemDrawRegions(t.key),i.styleColorItemDrawRegions(t.key))),r.Db(1),r.Oc(" ",t.value.name," "),r.Db(3),r.qc("ngStyle",r.vc(9,btt,i.styleColorItemDrawRegions(t.key))),r.Db(2),r.qc("ngStyle",r.vc(11,btt,i.styleColorItemDrawRegions(t.key))),r.Db(2),r.qc("ngIf",t.value.visible)("ngIfElse",n)}}function ztt(t,e){if(1&t&&(r.Xb(0,"span"),r.Mc(1),r.Wb()),2&t){const t=r.jc(2).$implicit;r.Db(1),r.Oc(" ",t.title," ")}}function Ctt(t,e){if(1&t&&(r.Xb(0,"span",123),r.Mc(1),r.Wb()),2&t){const t=r.jc(2).$implicit;r.Db(1),r.Oc(" ",t.title," ")}}function Stt(t,e){if(1&t&&(r.Xb(0,"span"),r.Kc(1,ztt,2,1,"span",23),r.Kc(2,Ctt,2,1,"span",122),r.Wb()),2&t){const t=r.jc().$implicit;r.Db(1),r.qc("ngIf",!t.isMatched),r.Db(1),r.qc("ngIf",t.isMatched)}}function xtt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"span"),r.Xb(1,"label",124),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc(2).$implicit.origin.isChecked=e})("ngModelChange",function(e){r.Cc(t);const n=r.jc(2).$implicit;return r.jc().checkLayer(n,e)}),r.Wb(),r.Mc(2),r.Wb()}if(2&t){const t=r.jc(2).$implicit;r.Db(1),r.qc("ngModel",t.origin.isChecked),r.Db(1),r.Oc(" ",t.title," ")}}function Ott(t,e){if(1&t){const t=r.Yb();r.Xb(0,"span",123),r.Xb(1,"label",124),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc(2).$implicit.origin.isChecked=e})("ngModelChange",function(e){r.Cc(t);const n=r.jc(2).$implicit;return r.jc().checkLayer(n,e)}),r.Wb(),r.Mc(2),r.Wb()}if(2&t){const t=r.jc(2).$implicit;r.Db(1),r.qc("ngModel",t.origin.isChecked),r.Db(1),r.Oc(" ",t.title," ")}}function ktt(t,e){if(1&t&&(r.Xb(0,"span"),r.Kc(1,xtt,3,2,"span",23),r.Kc(2,Ott,3,2,"span",122),r.Wb()),2&t){const t=r.jc().$implicit;r.Db(1),r.qc("ngIf",!t.isMatched),r.Db(1),r.qc("ngIf",t.isMatched)}}function Ttt(t,e){if(1&t&&(r.Xb(0,"span",121),r.Kc(1,Stt,3,2,"span",23),r.Kc(2,ktt,3,2,"span",23),r.Wb()),2&t){const t=e.$implicit;r.Db(1),r.qc("ngIf",!t.isLeaf),r.Db(1),r.qc("ngIf",t.isLeaf)}}function Ett(t,e){if(1&t&&r.Sb(0,"i",126),2&t){const t=r.jc().$implicit;r.qc("nzType",t.isExpanded?"folder-open":"folder")}}function Itt(t,e){if(1&t&&r.Sb(0,"i",126),2&t){const t=r.jc().$implicit;r.qc("nzType",t.isExpanded?"caret-down":"caret-right")}}function Dtt(t,e){if(1&t&&(r.Kc(0,Ett,1,1,"i",125),r.Kc(1,Itt,1,1,"i",125)),2&t){const t=e.origin;r.qc("ngIf","directory"==t.type),r.Db(1),r.qc("ngIf","layer"==t.type)}}function Mtt(t,e){1&t&&(r.Vb(0),r.Mc(1," No se ha encontrado informaci\xf3n "),r.Ub())}function Rtt(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"div"),r.Xb(2,"div",97),r.Mc(3),r.Wb(),r.Mc(4),r.Wb(),r.Ub()),2&t){const t=e.$implicit;r.Db(3),r.Oc(" ",t.key,": "),r.Db(1),r.Oc("",t.value," ")}}function Att(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"div",127),r.Kc(2,Rtt,5,2,"ng-container",94),r.kc(3,"keyvalue"),r.Wb(),r.Ub()),2&t){const t=e.$implicit;r.Db(2),r.qc("ngForOf",r.lc(3,1,t))}}function Ptt(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"div",100),r.Mc(2),r.Wb(),r.Kc(3,Att,4,3,"ng-container",94),r.Ub()),2&t){const t=e.$implicit;r.Db(2),r.Oc("",t.key,":"),r.Db(1),r.qc("ngForOf",t.value)}}function Ltt(t,e){if(1&t&&(r.Vb(0),r.Kc(1,Ptt,4,2,"ng-container",94),r.kc(2,"keyvalue"),r.Ub()),2&t){const t=r.jc();r.Db(1),r.qc("ngForOf",r.lc(2,1,t.clickInfoMap))}}function Ftt(t,e){1&t&&(r.Xb(0,"span"),r.Mc(1,"Filtrar"),r.Wb())}function jtt(t,e){if(1&t&&(r.Xb(0,"div",128),r.Xb(1,"form",129),r.Sb(2,"formly-form",130),r.Wb(),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("formGroup",t.formFilters)("nzLayout","vertical"),r.Db(1),r.qc("form",t.formFilters)("fields",t.fieldsFilters)("model",t.modelFilters)}}function Ntt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",131),r.fc("click",function(){r.Cc(t);const n=e.modalRef;return r.jc().acceptModalFilter(n)}),r.Mc(1,"Filtrar"),r.Wb(),r.Xb(2,"button",132),r.fc("click",function(){r.Cc(t);const n=e.modalRef;return r.jc().destroyModal(n)}),r.Mc(3,"Cancelar"),r.Wb()}}function Vtt(t,e){1&t&&(r.Xb(0,"span"),r.Mc(1,"Configuraci\xf3n"),r.Wb())}function Wtt(t,e){if(1&t&&(r.Xb(0,"div",128),r.Xb(1,"form",133,134),r.Xb(3,"nz-form-item"),r.Xb(4,"nz-form-label",135),r.Mc(5,"Nombre:"),r.Wb(),r.Xb(6,"nz-form-control"),r.Sb(7,"input",136),r.Wb(),r.Wb(),r.Xb(8,"nz-form-item"),r.Xb(9,"nz-form-label",137),r.Mc(10,"Color del relleno:"),r.Wb(),r.Xb(11,"nz-form-control"),r.Sb(12,"input",138),r.Wb(),r.Wb(),r.Xb(13,"nz-form-item"),r.Xb(14,"nz-form-label",139),r.Mc(15,"Opacidad del relleno:"),r.Wb(),r.Xb(16,"nz-form-control",140),r.Sb(17,"nz-slider",141),r.Wb(),r.Wb(),r.Wb(),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("formGroup",t.settingDrawRegionsFormGroup),r.Db(16),r.qc("nzMax",255)}}function qtt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",131),r.fc("click",function(){r.Cc(t);const n=e.modalRef,i=e.$implicit;return r.jc().acceptSettingRegion(n,i.id)}),r.Mc(1,"Aceptar"),r.Wb(),r.Xb(2,"button",132),r.fc("click",function(){r.Cc(t);const n=e.modalRef;return r.jc().destroyModal(n)}),r.Mc(3,"Cancelar"),r.Wb()}}function Btt(t,e){1&t&&(r.Xb(0,"span"),r.Mc(1,"Crear Regi\xf3n"),r.Wb())}function Xtt(t,e){if(1&t&&(r.Xb(0,"div",128),r.Xb(1,"form",133,134),r.Xb(3,"nz-form-item"),r.Xb(4,"nz-form-label",135),r.Mc(5,"Nombre:"),r.Wb(),r.Xb(6,"nz-form-control"),r.Sb(7,"input",136),r.Wb(),r.Wb(),r.Wb(),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("formGroup",t.createRegionFormGroup)}}function Utt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",131),r.fc("click",function(){r.Cc(t);const n=e.modalRef;return r.jc().acceptCreateRegion(n)}),r.Mc(1,"Aceptar"),r.Wb(),r.Xb(2,"button",132),r.fc("click",function(){r.Cc(t);const n=e.modalRef;return r.jc().destroyModal(n)}),r.Mc(3,"Cancelar"),r.Wb()}}function $tt(t,e){if(1&t&&(r.Sb(0,"i",142),r.Xb(1,"i",143),r.Mc(2),r.Wb()),2&t){const t=e.$implicit;r.Db(2),r.Nc(t.contentText)}}const Htt=function(t){return{"background-color":t}},Ktt=function(t){return{height:t}};let Gtt=(()=>{class t{constructor(t,e,n,i,r,o,s){this.modalService=t,this.fb=e,this.backendService=n,this.cdRef=i,this.notificationService=r,this.activeRoute=o,this.state=s,this.loadingGeoViewer=!1,this.mapControllerEvents=new xe.a,this.loadigClickInfoMap=!1,this.lastClickCoordinate=null,this.nodes=[{title:"Capas",key:null,children:[],type:"directory"}],this.searchValueTree="",this.heightBodyOverlayOpenLayerClick=330,this.heightOverlayOpenLayerClick=this.heightBodyOverlayOpenLayerClick+38+15,this.formFilters=new Yt({}),this.modelFilters={},this.fieldsFilters=[],this.posMouseResizeEvent=0,this.gridFlex=260,this.nextIdModeDrawRegions=1,this.whereClickMapInfo="overlay",this.selectedLayerPropertiesTree=[],this.legends=new Map}ngOnInit(){this.loadTree(this.activeRoute.snapshot.data.layers.content),this.mapControllerEvents.subscribe(t=>{switch(t.type){case"getInfoClickMap":this.mapControllerGetInfoClickMapEvent(t.value)}})}ngAfterViewInit(){this.mapController=new T7(this.geoViewerElementRef,this.overlayOpenLayerClickElement,this.overlayOpenLayerRightClickElement,this.state,this.backendService,this.mapControllerEvents)}ngAfterViewChecked(){this.cdRef.detectChanges()}loadTree(t){console.log(t);for(const e of t){const t=[];for(const r of e.properties)r.style&&t.push(r);const n=this.nodes.find(t=>"Capas"==t.title),i={title:e.name,key:e.uuid,isLeaf:!1,geoserver_name:e.geoserver_name,wks:e.wks,id:e.id,children:[],wms_url:e.wms_url,type:"layer",properties:e.properties,attributes:e.attributes,cql_filter:"",isActive:!1,opacity:50,zIndex:1};for(const r of t)i.children.push({title:r.name,key:`${e.uuid}_${r.name}`,isLeaf:!0,geoserver_name:e.geoserver_name,wks:e.wks,id:e.id,style:r.style,isChecked:!1,wms_url:e.wms_url,type:"attribute",cql_filter:"",opacity:50,zIndex:1});n.children.push(i)}}mapControllerGetInfoClickMapEvent(t){if("start"==t.status&&(this.loadigClickInfoMap=!0,this.lastClickCoordinate=t.coordinate,"overlay"==this.whereClickMapInfo)){const e=this.mapController.overlayOpenLayerClick;e.setPosition(t.coordinate),e.setOffset([-e.getElement().clientWidth/2,-this.heightOverlayOpenLayerClick])}if("end"==t.status){let e=!0;if(t.info)for(const n of Object.keys(t.info)){let i=this.nzTreeComponent.getTreeNodeByKey(n);"attribute"==i.origin.type&&(i=i.parentNode),t.info[i.origin.title]=t.info[n],delete t.info[n],e&&(this.selectedLayerClickMapInfo=i.origin.title,e=!1)}this.clickInfoMap=t.info,this.loadigClickInfoMap=!1}}resizeContainer(t){t.preventDefault();var e=this.posMouseResizeEvent-t.clientX;this.posMouseResizeEvent=t.clientX;var n=this.gridFlex+e;n<=260&&e<0&&(n=260),n>=460&&e>0&&(n=460),this.gridFlex=n,this.mapController.getMap().updateSize()}destroyReziseEvent(){document.body.style.cursor="default",document.removeEventListener("mouseup",this.endResizeContainerListener),document.removeEventListener("mousemove",this.dragResizeContainerListener),this.endResizeContainerListener=null,this.dragResizeContainerListener=null}getRegionsBackend(){this.loadingGeoViewer=!0,this.backendService.getRegionsGIS().subscribe(t=>{this.mapController.drawController.resetRegions(t.content?t.content:[]),this.loadingGeoViewer=!1},t=>{this.loadingGeoViewer=!1,console.log(t)})}mouseDownResize(t){t.preventDefault(),this.posMouseResizeEvent=t.clientX,document.body.style.cursor="ew-resize",this.endResizeContainerListener=this.destroyReziseEvent.bind(this),document.addEventListener("mouseup",this.endResizeContainerListener),this.dragResizeContainerListener=this.resizeContainer.bind(this),document.addEventListener("mousemove",this.dragResizeContainerListener)}getFlexGrid(){return this.mapController&&this.mapController.getMap().updateSize(),`${this.gridFlex}px`}selectRegionsTab(){this.getRegionsBackend()}nzClick(t){if(!(t.selectedKeys.length>0))return this.selectedNode=null,void(this.infoLayerTabNode=null);switch(this.selectedNode=t.selectedKeys[0],this.selectedNode.origin.type){case"layer":console.log(this.selectedNode),this.infoLayerTabNode=this.selectedNode,this.createSelectedLayerPropertiesTree(this.selectedNode);break;case"attribute":const t=this.selectedNode.parentNode;this.infoLayerTabNode=t,this.createSelectedLayerPropertiesTree(t);break;default:this.infoLayerTabNode=null}}createSelectedLayerPropertiesTree(t){this.selectedLayerPropertiesTree=[];for(const e of t.origin.properties){let t="";"numeric"==e.type&&(t="num\xe9rico"),"string"==e.type&&(t="cadena de caracteres");const n={key:e.name,title:e.name,isLeaf:!1,children:[{title:`Tipo: ${t}`,key:`${e.name}_type`,isLeaf:!0}]};null!=e.max&&null!=e.max&&n.children.push({title:`Valor m\xe1ximo: ${e.max}`,key:`${e.name}_max`,isLeaf:!0}),null!=e.min&&null!=e.min&&n.children.push({title:`Valor m\xednimo: ${e.min}`,key:`${e.name}_min`,isLeaf:!0}),this.selectedLayerPropertiesTree.push(n)}}nzSelect(t){console.log(t,this.nzTreeComponent.getSelectedNodeList())}checkLayer(t,e){if(this.mapController.overlayOpenLayerClick.setPosition(null),this.clickInfoMap=null,e)this.addLayer(t);else{if("attribute"==t.origin.type){const e=t.parentNode;this.legends.has(e.origin.key)&&this.legends.delete(e.origin.key)}this.removeLayer(t)}}addLayer(t){if(this.mapController.addLayerGeoserver(t.origin),t.origin.isChecked=!0,"attribute"==t.origin.type){const e=t.parentNode;for(const n of e.children)n!=t&&n.origin.isChecked&&(this.removeLayer(n),n.origin.isChecked=!1);this.legends.has(e.origin.key)&&this.legends.set(e.origin.key,this.mapController.getUrlLegendLayerImage(t.origin.key,t.origin.style)),e.origin.isActive=!0}}removeLayer(t){this.mapController.removeLayerGeoserver(t.origin),t.origin.isChecked=!1,"attribute"==t.origin.type&&(t.parentNode.origin.isActive=!1)}nzSearchFuncTree(t){const e=this.searchValueTree.toLocaleLowerCase();if(""==this.searchValueTree)return!1;if(t.title.toLocaleLowerCase().includes(e))return!0;if("layer"==t.type){for(const n of t.properties)if(n.name.toLocaleLowerCase().includes(e))return!0;if(t.attributes&&t.attributes.tags)for(const n of t.attributes.tags)if(n.toLocaleLowerCase().includes(e))return!0}return!1}showInfoWindow(){return"window"==this.whereClickMapInfo||!!this.nzTreeComponent&&!!this.infoLayerTabNode}onSubmitCql(t,e){e.preventDefault();let n=t;if("attribute"==n.origin.type&&(n=n.parentNode),n.origin.cql_filter=e.target.cqlInput.value,n.isLeaf)n.origin.isChecked&&(this.removeLayer(n),this.addLayer(n));else for(const i of n.children)i.origin.cql_filter=e.target.cqlInput.value,i.origin.isChecked&&(this.removeLayer(i),this.addLayer(i))}changeCQL(t,e){e.preventDefault();const n=e.target.value.trim();let i=t;if("attribute"==i.origin.type&&(i=i.parentNode),n!=i.origin.cql_filter)if(i.origin.cql_filter=n,i.isLeaf)i.origin.isChecked&&(this.removeLayer(i),this.addLayer(i));else for(const r of i.children)r.origin.cql_filter=n,r.origin.isChecked&&(this.removeLayer(r),this.addLayer(r))}changeZIndex(t,e){e.preventDefault();const n=e.target,i=new RegExp("^[1-9][0-9]*$"),r=n.value.trim();if(!i.test(r))return n.value=t.origin.zIndex,void this.notificationService.createNotificationWithType("error","Error","El z-Index debe un n\xfamero entero positivo","bottomRight");const o=Math.floor(parseInt(r));let s=t;if("attribute"==s.origin.type&&(s=s.parentNode),o!=s.origin.zIndex){if(s.origin.zIndex=o,s.isLeaf)s.origin.isChecked&&(this.removeLayer(s),this.addLayer(s));else for(const t of s.children)t.origin.zIndex=o,t.origin.isChecked&&(this.removeLayer(t),this.addLayer(t));n.value=o.toString()}}changeOpacity(t,e){console.log(e);let n=t;if("attribute"==n.origin.type&&(n=n.parentNode),n.origin.opacity=e,n.isLeaf)n.origin.isChecked&&(this.removeLayer(n),this.addLayer(n));else for(const i of n.children)i.origin.opacity=e,i.origin.isChecked&&(this.removeLayer(i),this.addLayer(i))}formatterOpacitySlider(t){return`${t}%`}changeStateLegend(t,e){if(e){let e=this.nzTreeComponent.getTreeNodeByKey(t);"attribute"==e.origin.type&&(e=e.parentNode);for(const n of e.children)if(this.mapController.isLayerActive(n.origin.key)){this.legends.set(t,this.mapController.getUrlLegendLayerImage(n.origin.key,n.origin.style));break}}else this.legends.has(t)&&this.legends.delete(t)}closeOverlayOpenLayerClick(){this.mapController.overlayOpenLayerClick.setPosition(null)}changeWhereClickMapInfo(t){switch(t){case"window":this.mapController.overlayOpenLayerClick.setPosition(null),this.whereClickMapInfo=t;break;case"overlay":this.whereClickMapInfo=t,null!=this.clickInfoMap&&this.mapController.overlayOpenLayerClick.setPosition(this.lastClickCoordinate)}}centerMapContextMenu(t){this.mapController.disableOverlaysMap(),this.mapController.centerMap()}selectBoxAreaContextMenu(t){this.mapController.disableOverlaysMap(),this.mapController.drawController.drawSelectBoxArea()}selectPolygonAreaContextMenu(t){this.mapController.disableOverlaysMap(),this.mapController.drawController.drawSelectPolygonArea()}removeSelectAreaContextMenu(t){this.mapController.disableOverlaysMap(),this.mapController.drawController.removeAllFeaturesDrawArea()}zoomInClickButton(t){this.mapController.incrementZoomMap(1)}zoomOutClickButton(t){this.mapController.incrementZoomMap(-1)}rotateNorthClickButton(t){this.mapController.rotationMap(0)}rotateRightClickButton(t){this.mapController.incrementRotationMap(1)}rotateLeftClickButton(t){this.mapController.incrementRotationMap(-1)}changeStateShowInfoPointerStopClickButton(t){const e=this.mapController.getStateShowInfoPointerStop();this.mapController.setStateShowInfoPointerStop(!e)}getColorButtonShowInfoPointerStop(){return this.mapController?this.mapController.getStateShowInfoPointerStop()?"#FF5757":"#57EBFF":""}fullScreenClickButton(t){this.isActiveFullScreen()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():this.geoViewerElementRef.nativeElement.requestFullscreen()}isActiveFullScreen(){return document.webkitIsFullScreen||document.msFullscreenElement||document.fullscreenElement}drawFeatureModeRegions(){this.mapController.drawController.drawFeatureModeRegions()}disableDrawFeatureModeRegions(){this.mapController.drawController.disableDrawFeatureModeRegions()}addCustomRegionButton(){this.selectIdCustomRegions(null)}selectIdCustomRegions(t){this.getSelectedIdCustomRegions()&&this.getSelectedIdCustomRegions()==t||(this.mapController.drawController.needResolveChangesRegion?this.notificationService.createNotificationWithType("info","Informaci\xf3n","Es necesario resolver los cambios de la regi\xf3n antes interntar modificar otra.","bottomRight"):(this.mapController.drawController.selectIdCustomRegions(t),this.mapController.drawController.startModeDrawRegions(),this.mapController.drawController.needResolveChangesRegion=!1))}openSettingRegion(t,e){t.stopPropagation(),this.settingDrawRegionsFormGroup=this.fb.group({name:this.getSetsModeDrawRegions().get(e).name,fillColor:this.getSetsModeDrawRegions().get(e).style.fill.color,fillOpacity:this.getSetsModeDrawRegions().get(e).style.opacity}),this.modalService.create({nzTitle:this.modalSettingRegionDrawRegionsTitle,nzContent:this.modalSettingRegionDrawRegionsContent,nzFooter:this.modalSettingRegionDrawRegionsFooter,nzComponentParams:{id:e}})}acceptSettingRegion(t,e){const n=this.mapController.drawController.getCustomRegions().get(e);this.mapController.drawController.modifyCustomRegion(e,{name:this.settingDrawRegionsFormGroup.controls.name.value,fillColor:this.settingDrawRegionsFormGroup.controls.fillColor.value,opacity:this.settingDrawRegionsFormGroup.controls.fillOpacity.value}),t.destroy(),this.loadingGeoViewer=!0;const i={name:n.name,attributes:n.attributes,style:n.style,geometry:this.mapController.formatFeatures2GeoJSON(n.layer.getSource().getFeatures())};this.backendService.putRegionGIS(e,i).subscribe(t=>{this.loadingGeoViewer=!1})}deleteRegion(t,e){t.stopPropagation(),this.loadingGeoViewer=!0,this.backendService.deleteRegionsGIS(e).subscribe(t=>{this.mapController.drawController.removeCustomRegion(e),this.loadingGeoViewer=!1})}changeVisibilityRegion(t,e,n){t.stopPropagation(),this.getSelectedIdCustomRegions()!=n||!this.mapController.drawController.needResolveChangesRegion||e?this.mapController.drawController.changeVisibilityRegion(e,n):this.notificationService.createNotificationWithType("info","Informaci\xf3n","Es necesario resolver los cambios antes de ocultar la regi\xf3n.","bottomRight")}getStateModeDrawRegions(){return!!this.mapController&&this.mapController.drawController.getStateModeDrawRegions()}getStateDrawRegions(){return!!this.mapController&&this.mapController.drawController.getStateDrawFeatureRegions()}getSetsModeDrawRegions(){return this.mapController?this.mapController.drawController.getCustomRegions():null}getSelectedIdCustomRegions(){return this.mapController.drawController.getSelectedIdCustomRegions()}finishModeDrawRegionsButton(){if(this.getSelectedIdCustomRegions()){if(!this.mapController.drawController.needResolveChangesRegion)return this.mapController.drawController.selectIdCustomRegions(null),void this.mapController.drawController.finishModeDrawRegions();this.modalUpdateRegion()}else{if(!this.mapController.drawController.needResolveChangesRegion)return this.mapController.drawController.selectIdCustomRegions(null),void this.mapController.drawController.finishModeDrawRegions();this.modalCreateRegion()}}modalUpdateRegion(){const t=this.getSelectedIdCustomRegions(),e=this.modalService.create({nzContent:this.modalConfirmContent,nzCentered:!0,nzComponentParams:{contentText:"\xbfDesea guardar los cambios de la regi\xf3n?"},nzFooter:[{label:"Aceptar",type:"primary",onClick:()=>{this.loadingGeoViewer=!0,e.destroy();const n=this.mapController.drawController.getCustomRegions().get(t);if(n.layer.getSource().getFeatures().length<1)return void this.notificationService.createNotificationWithType("error","Error","No se puede guardar una regi\xf3n vac\xeda.","bottomRight");const i={name:n.name,attributes:n.attributes,style:n.style,geometry:this.mapController.formatFeatures2GeoJSON(n.layer.getSource().getFeatures())};this.backendService.putRegionGIS(t,i).subscribe(t=>{this.mapController.drawController.needResolveChangesRegion=!1,this.selectIdCustomRegions(null),this.mapController.drawController.finishModeDrawRegions(),this.loadingGeoViewer=!1})}},{label:"Descartar",type:"danger",onClick:()=>{this.loadingGeoViewer=!0,e.destroy(),this.backendService.getRegionsGIS(t).subscribe(t=>{const e=t.content;e.length>0&&(console.log(e[0]),this.mapController.drawController.updateRegionFromBackend(e[0])),this.loadingGeoViewer=!1,this.mapController.drawController.selectedIdCustomRegions=null,this.mapController.drawController.needResolveChangesRegion=!1,this.mapController.drawController.finishModeDrawRegions()})}},{label:"Cancelar",onClick:()=>{e.destroy()}}]})}modalCreateRegion(){const t=this.modalService.create({nzContent:this.modalConfirmContent,nzCentered:!0,nzComponentParams:{contentText:"\xbfDesea guardar o descartar esta regi\xf3n?"},nzFooter:[{label:"Aceptar",type:"primary",onClick:()=>{this.createRegionFormGroup=this.fb.group({name:""}),t.destroy(),this.openModalCreateRegion()}},{label:"Descartar",type:"danger",onClick:()=>{this.mapController.drawController.removeFeaturesNewDrawRegions(),t.destroy(),this.mapController.drawController.selectIdCustomRegions(null),this.mapController.drawController.finishModeDrawRegions()}},{label:"Cancelar"}]})}openModalCreateRegion(){this.mapController.drawController.newRegion.layer.getSource().getFeatures().length<1?this.notificationService.createNotificationWithType("error","Error","No se puede guardar una regi\xf3n vac\xeda.","bottomRight"):this.createModal(this.modalCreateRegionTitle,this.modalCreateRegionContent,this.modalCreateRegionFooter)}acceptCreateRegion(t){const e=this.mapController.drawController.newRegion;if(e.layer.getSource().getFeatures().length<1)return this.notificationService.createNotificationWithType("error","Error","No se puede guardar una regi\xf3n vac\xeda.","bottomRight"),void t.destroy();e.name=this.createRegionFormGroup.get("name").value,console.log(`name: ${e.name}`),""!=e.name?(t.destroy(),this.loadingGeoViewer=!0,this.backendService.postRegionsGIS({name:e.name,geometry:this.mapController.formatFeatures2GeoJSON(e.layer.getSource().getFeatures()),style:e.style,attributes:e.attributes}).subscribe(t=>{this.mapController.drawController.addCustomRegions(t.content.id,e.layer.getSource().getFeatures(),{name:e.name,visible:!0}),this.mapController.drawController.removeFeaturesNewDrawRegions(),this.loadingGeoViewer=!1,this.mapController.drawController.needResolveChangesRegion=!1,this.selectIdCustomRegions(null),this.mapController.drawController.finishModeDrawRegions(),console.log(this.mapController.drawController.getCustomRegions())})):this.notificationService.createNotificationWithType("error","Error","El campo nombre es obligatorio.","bottomRight")}styleBackgroudColorItemDrawRegions(t){return t==this.getSelectedIdCustomRegions()?"#3584e4":"transparent"}styleColorItemDrawRegions(t){return t==this.getSelectedIdCustomRegions()?"#fff":"#000"}createModal(t,e,n){this.modalService.create({nzTitle:t,nzContent:e,nzFooter:n,nzMaskClosable:!0,nzClosable:!0,nzCentered:!0})}openModalFilter(t,e,n){this.createFormFilter(),this.createModal(t,e,n)}createFormFilter(){this.fieldsFilters=[],this.modelFilters=[]}addInputsFormFilter(t){for(const n in t)switch(t[n].type){case"string":this.fieldsFilters.push({key:t[n].var,type:"input",templateOptions:{label:`${t[n].title}:`}});break;case"boolean":var e=[];for(const i in t[n].options)e.push({label:t[n].options[i].label,value:t[n].options[i].value});this.fieldsFilters.push({key:t[n].var,type:"select",templateOptions:{label:`${t[n].title}:`,options:[{label:"",value:null},{label:"Verdadero",value:!0},{label:"Falso",value:!1}]}});break;case"select":(e=[]).push({label:"",value:null});for(const i in t[n].options)e.push({label:t[n].options[i].label,value:t[n].options[i].value});this.fieldsFilters.push({key:t[n].var,type:"select",templateOptions:{label:`${t[n].title}:`,options:e}});break;case"string-array":this.fieldsFilters.push({key:t[n].var,type:"string-array",templateOptions:{label:`${t[n].title}:`},fieldArray:{fieldGroup:[{type:"input",key:"text",templateOptions:{}}]}});break;case"range-array":this.fieldsFilters.push({key:t[n].var,type:"range-array",templateOptions:{label:`${t[n].title}:`},fieldArray:{fieldGroup:[{type:"input",key:"range1",templateOptions:{}},{type:"input",key:"range2",templateOptions:{}}]}})}}acceptModalFilter(t){console.log(this.mapController.drawController.newRegion)}destroyModal(t){t.destroy()}getSelectedFeatureInRegion(){return this.mapController.drawController.selectedFeatureInDraw}deleteSelectedFeatureInRegion(){this.mapController.drawController.removeSelectedFeatureRegion()}test(t){console.log(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(qF),r.Rb(ge),r.Rb(DP),r.Rb(r.h),r.Rb(_L),r.Rb(dm.a),r.Rb(IP))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-geo-viewer"]],viewQuery:function(t,e){if(1&t&&(r.Qc(V9,1),r.Qc(W9,1),r.Qc(q9,1),r.Qc(B9,1),r.Qc(X9,1),r.Qc(U9,1),r.Qc($9,1),r.Qc(H9,1),r.Qc(K9,1),r.Qc(G9,1),r.Qc(Y9,1)),2&t){let t;r.zc(t=r.gc())&&(e.geoViewerElementRef=t.first),r.zc(t=r.gc())&&(e.nzTreeComponent=t.first),r.zc(t=r.gc())&&(e.overlayOpenLayerClickElement=t.first),r.zc(t=r.gc())&&(e.overlayOpenLayerRightClickElement=t.first),r.zc(t=r.gc())&&(e.modalSettingRegionDrawRegionsTitle=t.first),r.zc(t=r.gc())&&(e.modalSettingRegionDrawRegionsContent=t.first),r.zc(t=r.gc())&&(e.modalSettingRegionDrawRegionsFooter=t.first),r.zc(t=r.gc())&&(e.modalConfirmContent=t.first),r.zc(t=r.gc())&&(e.modalCreateRegionTitle=t.first),r.zc(t=r.gc())&&(e.modalCreateRegionContent=t.first),r.zc(t=r.gc())&&(e.modalCreateRegionFooter=t.first)}},decls:111,vars:30,consts:[[1,"container-geo-viewer-component"],[3,"nzSpinning"],["nz-row","",1,"theme-header-background-color",2,"height","48px","border-top-left-radius","5px","border-top-right-radius","5px"],["nz-col","","nz-button","",1,"buttons-geoviewer-toolbar",2,"margin-left","10px"],["nz-col","","nz-button","",1,"buttons-geoviewer-toolbar"],["nz-col","","nz-button","",1,"buttons-geoviewer-toolbar",3,"click"],["nz-row","",2,"height","calc(100% - 48px)","width","100%","background-color","#fff",3,"nzGutter"],["nz-col","","nzFlex","auto"],["geoViewer",""],[1,"legends-container"],["class","legend-image-container",4,"ngFor","ngForOf"],[2,"position","absolute","z-index","99","left","40px","top","20px"],["nz-button","",1,"buttons-control-map",2,"padding","0","width","100%",3,"ngStyle","click"],["nz-button","",1,"buttons-control-map",2,"margin-top","5px",3,"click"],["nz-icon","","nzType","zoom-in"],["nz-button","",1,"buttons-control-map",3,"click"],["nz-icon","","nzType","zoom-out"],["nz-button","",1,"buttons-control-map",2,"margin-top","5px","padding","0","width","100%",3,"click"],["nz-icon","","nzType","rotate-right"],["nz-icon","","nzType","rotate-left"],["nz-icon","","nzType","fullscreen",4,"ngIf"],["nz-icon","","nzType","fullscreen-exit",4,"ngIf"],[2,"position","absolute","z-index","99","right","40px","top","20px"],[4,"ngIf"],[2,"height","100%","width","10px","right","-5px","top","0","position","absolute","z-index","999"],[2,"height","100%","align-items","center","justify-content","center","display","flex"],["nz-icon","","nzType","more","nzTheme","outline",1,"resize-icon",3,"mousedown"],["nz-col","",2,"height","100%",3,"nzFlex"],[2,"height","100%"],["nzTitle","Capas"],[2,"height","100%","display","flex","flex-direction","column"],[3,"nzSuffix"],["type","text","nz-input","","placeholder","Search",3,"ngModel","ngModelChange"],["suffixIcon",""],[1,"layers-tree","nz-tree",3,"nzData","nzSearchValue","nzSearchFunc","nzTreeTemplate","nzExpandedIcon","nzDataChange","nzClick","nzContextMenu"],["nzTreeComponent",""],["class","info-container theme-header-background-color",4,"ngIf"],["nzTitle","Calculos online"],["nzTitle","Regiones",2,"height","100%",3,"nzSelect"],["nz-button","","nzBlock","","nzType","primary",3,"disabled","click"],["nzSize","small",2,"margin-top","10px","overflow-y","auto","height","calc(100% - 42px)"],["style","cursor: pointer;",3,"ngStyle","click",4,"ngFor","ngForOf"],["nzTreeTemplate",""],["multiExpandedIconTpl",""],["overlayOpenLayerClick",""],[1,"overlay-click-container"],[1,"overlay-click-header"],[1,"overlay-click-top-buttons","overlay-click-top-buttons-close"],["nz-icon","","nzType","close","nzTheme","outline",3,"click"],[1,"overlay-click-top-buttons","overlay-click-top-buttons-vertical-left"],["nz-icon","","nzType","vertical-left","nzTheme","outline",3,"click"],[1,"overlay-click-body",3,"ngStyle"],[2,"padding","5px 6px 3px 6px","height","100%","width","100%","overflow-y","auto","overflow-x","auto"],[2,"filter","drop-shadow(-1px 6px 3px rgba(0, 0, 0, 0.35))"],[1,"overlay-click-pointer"],["overlayOpenLayerRightClick",""],[2,"background-color","white","width","250px","border","1px outset","border-radius","10px"],["nz-button","","nzType","text","nzBlock","",3,"click"],["modalFilterTitle",""],["modalFilterContent",""],["modalFilterFooter",""],["modalSettingRegionDrawRegionsTitle",""],["modalSettingRegionDrawRegionsContent",""],["modalSettingRegionDrawRegionsFooter",""],["modalCreateRegionTitle",""],["modalCreateRegionContent",""],["modalCreateRegionFooter",""],["modalConfirmContent",""],[1,"legend-image-container"],[1,"legend-image-title"],[3,"src"],["nz-icon","","nzType","fullscreen"],["nz-icon","","nzType","fullscreen-exit"],["class","buttons-control-map","nz-button","",3,"click",4,"ngIf"],["nz-icon","","nzType","stop"],["style","margin-top: 5px;","class","buttons-control-map","nz-button","",3,"click",4,"ngIf"],["nz-icon","","nzType","edit"],["nz-icon","","nzType","delete"],["nz-icon","","nzType","search"],[1,"info-container","theme-header-background-color"],[1,"info-tabset"],["nzType","card"],["infoTabset",""],["nzTitle","informaci\xf3n",4,"ngIf"],["nzTitle","Capa",4,"ngIf"],["nzTitle","Configuraci\xf3n",4,"ngIf"],["nzTitle","informaci\xf3n"],[2,"display","flex","justify-content","flex-end","margin-bottom","5px"],["nz-button","","nzType","primary","nzShape","circle",3,"click"],["nz-icon","","nzType","vertical-right"],[2,"display","flex","flex-wrap","wrap","height","calc(100% - 32px)","gap","12px","overflow-y","auto","padding-right","8px"],[2,"width","100%",3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[2,"flex","1"],[4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"],[2,"margin-bottom","20px"],[2,"font-weight","bold","display","inline"],["nzTitle","Capa"],[2,"overflow-y","auto","height","100%","padding-right","5px"],[2,"font-weight","bold"],[2,"padding-left","8px"],[2,"font-weight","bold","margin-top","10px"],["nz-checkbox","",3,"nzChecked","nzDisabled","nzCheckedChange",4,"ngIf"],["nz-checkbox","",3,"nzChecked","nzCheckedChange",4,"ngIf"],[2,"margin-top","10px","font-weight","bold"],[2,"padding-left","8px","width","100%"],[3,"ngModel","nzTipFormatter","nzOnAfterChange"],["nz-input","","name","cqlInput","autocomplete","off",3,"ngModel","blur","keyup"],[3,"nzData","nzDataChange"],["nz-checkbox","",3,"nzChecked","nzDisabled","nzCheckedChange"],["nz-checkbox","",3,"nzChecked","nzCheckedChange"],["nzTitle","Configuraci\xf3n"],[2,"cursor","pointer",3,"ngStyle","click"],["nz-list-item-actions",""],["nz-icon","","nzType","setting",3,"ngStyle","click"],["nz-icon","","nzType","minus",3,"ngStyle","click"],["nz-icon","","nzType","eye",3,"ngStyle","click",4,"ngIf","ngIfElse"],["eyeInvisibleRegion",""],["nz-icon","","nzType","eye",3,"ngStyle","click"],["nz-icon","","nzType","eye-invisible",3,"ngStyle","click"],[1,"custom-node"],["style","color: red;",4,"ngIf"],[2,"color","red"],["nz-checkbox","",2,"margin-right","6px",3,"ngModel","ngModelChange"],["nz-icon","","class","ant-tree-switcher-line-icon",3,"nzType",4,"ngIf"],["nz-icon","",1,"ant-tree-switcher-line-icon",3,"nzType"],[2,"margin-bottom","20px","margin-left","30px"],[1,"content-modal"],["autocomplete","off","nz-form","",3,"formGroup","nzLayout"],["autocomplete","off",3,"form","fields","model"],["nz-button","","nzType","primary",3,"click"],["nz-button","",3,"click"],["nz-form","","nzLayout","vertical",3,"formGroup"],["formIdentityDetails",""],["nzFor","name"],["nz-input","","formControlName","name","autocomplete","off"],["nzFor","fillColor"],["type","color","formControlName","fillColor","autocomplete","off"],["nzFor","fillOpacity"],[2,"padding-left","3px"],["nzTooltipVisible","never","formControlName","fillOpacity",3,"nzMax"],["nz-icon","","nzType","question-circle","nzTheme","twotone","nzTwotoneColor","#ffb600",2,"font-size","26px"],[2,"font-size","16px","margin-left","10px"]],template:function(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",0),r.Xb(1,"nz-spin",1),r.Xb(2,"div",2),r.Xb(3,"button",3),r.Mc(4,"Importar"),r.Wb(),r.Xb(5,"button",4),r.Mc(6,"Exportar"),r.Wb(),r.Xb(7,"button",5),r.fc("click",function(){r.Cc(t);const n=r.Ac(92),i=r.Ac(94),o=r.Ac(96);return e.openModalFilter(n,i,o)}),r.Mc(8,"Filtrar"),r.Wb(),r.Xb(9,"button",4),r.Mc(10,"Region"),r.Wb(),r.Xb(11,"button",5),r.fc("click",function(){return e.test()}),r.Mc(12,"Proceso"),r.Wb(),r.Wb(),r.Xb(13,"div",6),r.Xb(14,"div",7,8),r.Xb(16,"div",9),r.Kc(17,Q9,4,2,"div",10),r.kc(18,"keyvalue"),r.Wb(),r.Xb(19,"div",11),r.Xb(20,"button",12),r.fc("click",function(t){return e.changeStateShowInfoPointerStopClickButton(t)}),r.Mc(21," \xa0 "),r.Wb(),r.Xb(22,"button",13),r.fc("click",function(t){return e.zoomInClickButton(t)}),r.Sb(23,"i",14),r.Wb(),r.Xb(24,"button",15),r.fc("click",function(t){return e.zoomOutClickButton(t)}),r.Sb(25,"i",16),r.Wb(),r.Xb(26,"button",17),r.fc("click",function(t){return e.rotateNorthClickButton(t)}),r.Mc(27," N "),r.Wb(),r.Xb(28,"button",15),r.fc("click",function(t){return e.rotateRightClickButton(t)}),r.Sb(29,"i",18),r.Wb(),r.Xb(30,"button",15),r.fc("click",function(t){return e.rotateLeftClickButton(t)}),r.Sb(31,"i",19),r.Wb(),r.Xb(32,"button",13),r.fc("click",function(t){return e.fullScreenClickButton(t)}),r.Kc(33,J9,1,0,"i",20),r.Kc(34,Z9,1,0,"i",21),r.Wb(),r.Wb(),r.Xb(35,"div",22),r.Kc(36,itt,6,3,"ng-container",23),r.Wb(),r.Xb(37,"div",24),r.Xb(38,"div",25),r.Xb(39,"i",26),r.fc("mousedown",function(t){return e.mouseDownResize(t)}),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(40,"div",27),r.Xb(41,"nz-tabset",28),r.Xb(42,"nz-tab",29),r.Xb(43,"div",30),r.Xb(44,"nz-input-group",31),r.Xb(45,"input",32),r.fc("ngModelChange",function(t){return e.searchValueTree=t}),r.Wb(),r.Wb(),r.Kc(46,rtt,1,0,"ng-template",null,33,r.Lc),r.Xb(48,"nz-tree",34,35),r.fc("nzDataChange",function(t){return e.nodes=t})("nzClick",function(t){return e.nzClick(t)})("nzContextMenu",function(t){return e.nzClick(t)}),r.Wb(),r.Kc(50,mtt,7,3,"div",36),r.Wb(),r.Wb(),r.Xb(51,"nz-tab",37),r.Xb(52,"p"),r.Mc(53,"Creaci\xf3n de capas a partir de datos existentes, con expresiones escritas y ejecutadas directamente"),r.Wb(),r.Wb(),r.Xb(54,"nz-tab",38),r.fc("nzSelect",function(){return e.selectRegionsTab()}),r.Xb(55,"button",39),r.fc("click",function(){return e.addCustomRegionButton()}),r.Mc(56,"A\xf1adir Regi\xf3n"),r.Wb(),r.Xb(57,"nz-list",40),r.Kc(58,wtt,11,13,"nz-list-item",41),r.kc(59,"keyvalue"),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Kc(60,Ttt,3,2,"ng-template",null,42,r.Lc),r.Kc(62,Dtt,2,2,"ng-template",null,43,r.Lc),r.Xb(64,"div",null,44),r.Xb(66,"div",45),r.Xb(67,"div",46),r.Mc(68," Info "),r.Xb(69,"div",47),r.Xb(70,"i",48),r.fc("click",function(){return e.closeOverlayOpenLayerClick()}),r.Wb(),r.Wb(),r.Xb(71,"div",49),r.Xb(72,"i",50),r.fc("click",function(){return e.changeWhereClickMapInfo("window")}),r.Wb(),r.Wb(),r.Wb(),r.Xb(73,"div",51),r.Xb(74,"nz-spin",1),r.Xb(75,"div",52),r.Kc(76,Mtt,2,0,"ng-container",23),r.Kc(77,Ltt,3,3,"ng-container",23),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(78,"div",53),r.Sb(79,"div",54),r.Wb(),r.Wb(),r.Xb(80,"div",null,55),r.Xb(82,"div",56),r.Xb(83,"button",57),r.fc("click",function(t){return e.centerMapContextMenu(t)}),r.Mc(84,"Centrar Mapa"),r.Wb(),r.Xb(85,"button",57),r.fc("click",function(t){return e.selectBoxAreaContextMenu(t)}),r.Mc(86,"Seleccionar \xe1rea (rect\xe1ngulo)"),r.Wb(),r.Xb(87,"button",57),r.fc("click",function(t){return e.selectPolygonAreaContextMenu(t)}),r.Mc(88,"Seleccionar \xe1rea (pol\xedgono)"),r.Wb(),r.Xb(89,"button",57),r.fc("click",function(t){return e.removeSelectAreaContextMenu(t)}),r.Mc(90,"Eliminar \xe1rea seleccionada"),r.Wb(),r.Wb(),r.Wb(),r.Kc(91,Ftt,2,0,"ng-template",null,58,r.Lc),r.Kc(93,jtt,3,5,"ng-template",null,59,r.Lc),r.Kc(95,Ntt,4,0,"ng-template",null,60,r.Lc),r.Kc(97,Vtt,2,0,"ng-template",null,61,r.Lc),r.Kc(99,Wtt,18,2,"ng-template",null,62,r.Lc),r.Kc(101,qtt,4,0,"ng-template",null,63,r.Lc),r.Kc(103,Btt,2,0,"ng-template",null,64,r.Lc),r.Kc(105,Xtt,8,1,"ng-template",null,65,r.Lc),r.Kc(107,Utt,4,0,"ng-template",null,66,r.Lc),r.Kc(109,$tt,3,1,"ng-template",null,67,r.Lc)}if(2&t){const t=r.Ac(47),n=r.Ac(61),i=r.Ac(63);r.Db(1),r.qc("nzSpinning",e.loadingGeoViewer),r.Db(12),r.qc("nzGutter",4),r.Db(4),r.qc("ngForOf",r.lc(18,22,e.legends)),r.Db(3),r.qc("ngStyle",r.vc(26,Htt,e.getColorButtonShowInfoPointerStop())),r.Db(13),r.qc("ngIf",!e.isActiveFullScreen()),r.Db(1),r.qc("ngIf",e.isActiveFullScreen()),r.Db(2),r.qc("ngIf",e.getStateModeDrawRegions()),r.Db(4),r.qc("nzFlex",e.getFlexGrid()),r.Db(4),r.qc("nzSuffix",t),r.Db(1),r.qc("ngModel",e.searchValueTree),r.Db(3),r.qc("nzData",e.nodes)("nzSearchValue",e.searchValueTree)("nzSearchFunc",e.nzSearchFuncTree.bind(e))("nzTreeTemplate",n)("nzExpandedIcon",i),r.Db(2),r.qc("ngIf",e.showInfoWindow()),r.Db(5),r.qc("disabled",e.getStateModeDrawRegions()),r.Db(3),r.qc("ngForOf",r.lc(59,24,e.getSetsModeDrawRegions())),r.Db(15),r.qc("ngStyle",r.vc(28,Ktt,e.heightBodyOverlayOpenLayerClick+"px")),r.Db(1),r.qc("nzSpinning",e.loadigClickInfoMap),r.Db(2),r.qc("ngIf",!e.clickInfoMap&&!e.loadigClickInfoMap),r.Db(1),r.qc("ngIf",e.clickInfoMap&&!e.loadigClickInfoMap)}},directives:[DL,nr,HL,qL,ir,Rf,i.m,kR,i.o,No,i.n,lX,JB,Gp,Kp,Hp,G,bt,ie,w9,Gq,Gg,Ug,R9,Tf,Yq,Bq,qq,re,yt,Qd,le,Ge,Jd,np,tp,he],pipes:[i.h],styles:[".ant-table.ant-table-bordered>.ant-table-container>.ant-table-body>table>tbody>tr>td,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-body>table>tfoot>tr>t  d,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-body>table>tfoot>tr>th,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-body>table>thead>tr>th,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-content>table>tbody>tr>td,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-content>table>tfoot>tr>td,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-content>table>tfoot>tr>th,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-content>table>thead>tr>th,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-header>table>tbody>tr>td,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-header>table>tfoot>tr>td,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-header>table>tfoot>tr>th{border-right:1px solid #cbcbcb!important}  .ant-table.ant-table-bordered>.ant-table-container>.ant-table-body>table>tbody>tr>td:last-child{border-right:none!important}  .ant-table-thead>tr>th,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-body>table>thead>tr:not(:last-child)>th,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-content>table>thead>tr:not(:last-child)>th,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-header>table>thead>tr:not(:last-child)>th{border-bottom:none!important}  .ant-table.ant-table-bordered>.ant-table-container>.ant-table-body>table>tbody>tr>.ant-table-cell-fix-right-first:after,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-body>table>tfoot>tr>.ant-table-cell-fix-right-first:after,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-body>table>thead>tr>.ant-table-cell-fix-right-first:after,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-content>table>tbody>tr>.ant-table-cell-fix-right-first:after,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-content>table>tfoot>tr>.ant-table-cell-fix-right-first:after,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-content>table>thead>tr>.ant-table-cell-fix-right-first:after,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-header>table>tfoot>tr>.ant-table-cell-fix-right-first:after,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-header>table>thead>tr>.ant-table-cell-fix-right-first:after{border-right:none}  .ant-table-thead>tr>th{border-right:none!important}  .ant-table-tbody>.ant-table-row:nth-of-type(odd)>.ant-table-cell{background-color:#fff!important}  .ant-table-tbody>.ant-table-row:nth-of-type(2n)>.ant-table-cell{background-color:#f0f0f0!important}  .ant-table-tbody>.ant-table-row:hover>.ant-table-cell{background-color:#e0e0e0!important}  .ant-table-cell>.ant-list-item-action>li>.ant-list-item-action-split{background-color:rgba(0,0,0,.25)}  .ant-modal-content{border-radius:5px}  .ant-modal-close-x:hover{color:red}  .ant-modal-title{font-weight:700;font-size:17px}  .ant-modal-header{border-bottom:1px solid #d8d8d8;border-top-left-radius:5px;border-top-right-radius:5px}.buttons-geoviewer-toolbar[_ngcontent-%COMP%]{top:50%;transform:translateY(-50%);margin-right:10px}  .content-modal{max-height:500px;overflow-y:auto;overflow-x:hidden;padding-right:20px}  .ol-zoom-in,   .ol-zoom-out{background-color:rgba(0,60,136,.5);border:1px solid}  .ol-zoom-out{border-radius:2px 2px 0 0;top:20px;position:absolute}.buttons-control-map[_ngcontent-%COMP%]:focus{border-color:#d9d9d9;color:rgba(0,0,0,.85)}.buttons-control-map[_ngcontent-%COMP%]:hover{color:#40a9ff;background:#fff;border-color:#40a9ff}.buttons-control-map[_ngcontent-%COMP%]{display:block}.container-geo-viewer-component[_ngcontent-%COMP%]{height:calc(100% - 20px)}.resize-icon[_ngcontent-%COMP%]{background-color:#fff;text-align:center;border:1px solid #ddd;cursor:ew-resize;font-size:12px;height:20px;line-height:20px}  .ant-tabs-content{height:100%}  .ant-spin-spinning{max-height:none!important}  .ant-spin-container,   .ant-spin-nested-loading{height:100%}.overlay-click-container[_ngcontent-%COMP%]{box-shadow:0 5px 15px rgba(0,0,0,.35)}.overlay-click-header[_ngcontent-%COMP%]{border-top-left-radius:5px;border-top-right-radius:5px;background-color:#001529;color:#fff;width:450px;padding:8px 0 8px 10px;position:relative}.overlay-click-body[_ngcontent-%COMP%]{background-color:#fff;border-bottom-left-radius:5px;border-bottom-right-radius:5px;width:450px}.overlay-click-pointer[_ngcontent-%COMP%]{margin:auto;width:30px;height:15px;background-color:#fff;-webkit-clip-path:polygon(50% 100%,0 0,100% 0);clip-path:polygon(50% 100%,0 0,100% 0);box-sizing:border-box}.overlay-click-top-buttons[_ngcontent-%COMP%]{height:100%;float:right;margin-right:10px}.overlay-click-top-buttons[_ngcontent-%COMP%]:hover{cursor:pointer}.overlay-click-top-buttons-close[_ngcontent-%COMP%]:hover{color:red}.overlay-click-top-buttons-vertical-left[_ngcontent-%COMP%]:hover{color:#fff}.layers-tree[_ngcontent-%COMP%]{overflow-y:auto;flex:1;margin-top:10px}.info-container[_ngcontent-%COMP%], .layers-tree[_ngcontent-%COMP%]{display:flex;margin-bottom:10px}.info-container[_ngcontent-%COMP%]{height:320px;width:calc(100% - 10px);margin-left:5px;padding:5px;border-radius:5px}.info-tabset[_ngcontent-%COMP%]{width:100%}.info-tabset[_ngcontent-%COMP%]    >.ant-tabs-card{height:100%!important}.info-tabset[_ngcontent-%COMP%]    >.ant-tabs-card .ant-tabs-content-holder{background:#fff;padding:16px;height:100%;border-top-right-radius:5px;border-bottom-left-radius:5px;border-bottom-right-radius:5px}.info-tabset[_ngcontent-%COMP%]    >.ant-tabs-card .ant-tabs-nav{margin:0}.info-tabset[_ngcontent-%COMP%]    >.ant-tabs-card>.ant-tabs-nav:before{display:none}.info-tabset[_ngcontent-%COMP%]    >.ant-tabs-card .ant-tabs-tab{border-color:transparent;background:transparent;color:#fff}.info-tabset[_ngcontent-%COMP%]    >.ant-tabs-card .ant-tabs-tab-active{border-color:#fff;background:#fff;border-top-left-radius:5px;border-top-right-radius:5px}.legends-container[_ngcontent-%COMP%]{z-index:99;position:absolute;bottom:10px;right:10px}.legend-image-container[_ngcontent-%COMP%]{z-index:99;display:inline-block;margin-right:7px;background-color:#fff;padding:7px 10px;border-radius:5px}.legend-image-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:7px;font-size:13px;font-weight:700}"]}),t})(),Ytt=(()=>{class t{constructor(t,e){this.activeRoute=t,this.stateService=e,this.state=""}getState(){return this.state}setState(t){this.state=null==t?"":t}ngOnInit(){this.activeRoute.url.subscribe(t=>{this.stateService.setCurrentView(this,t)})}ngOnDestroy(){this.stateService.saveOnDestroy(this)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(dm.a),r.Rb(IP))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-vista-con-estado"]],decls:3,vars:1,consts:[["type","text",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(r.Xb(0,"p"),r.Mc(1,"t\xedtulo"),r.Wb(),r.Xb(2,"input",0),r.fc("ngModelChange",function(t){return e.state=t}),r.Wb()),2&t&&(r.Db(2),r.qc("ngModel",e.state))},directives:[G,bt,ie],styles:[""]}),t})(),Qtt=(()=>{class t{constructor(t,e){this.activeRoute=t,this.stateService=e,this.state=""}getState(){return this.state}setState(t){this.state=null==t?"":t}ngOnInit(){this.activeRoute.url.subscribe(t=>{this.stateService.setCurrentView(this,t)})}ngOnDestroy(){this.stateService.saveOnDestroy(this)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(dm.a),r.Rb(IP))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-processes"]],decls:10,vars:1,consts:[["type","text",3,"ngModel","ngModelChange"],["routerLink","/processDetail/1","routerLinkActive","active"],["routerLink","/processDetail/2","routerLinkActive","active"]],template:function(t,e){1&t&&(r.Xb(0,"p"),r.Mc(1,"Processes"),r.Wb(),r.Xb(2,"input",0),r.fc("ngModelChange",function(t){return e.state=t}),r.Wb(),r.Xb(3,"ul"),r.Xb(4,"li"),r.Xb(5,"a",1),r.Mc(6,"First process"),r.Wb(),r.Wb(),r.Xb(7,"li"),r.Xb(8,"a",2),r.Mc(9,"Second process"),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.Db(2),r.qc("ngModel",e.state))},directives:[G,bt,ie,dm.j,dm.i],styles:[""]}),t})(),Jtt=(()=>{class t{constructor(t,e){this.activeRoute=t,this.stateService=e,this.state=""}getState(){return this.state}setState(t){this.state=null==t?"":t}ngOnInit(){this.activeRoute.url.subscribe(t=>{this.stateService.setCurrentView(this,t)})}ngOnDestroy(){this.stateService.saveOnDestroy(this)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(dm.a),r.Rb(IP))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-process"]],decls:3,vars:1,consts:[["type","text",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(r.Xb(0,"p"),r.Mc(1,"Process"),r.Wb(),r.Xb(2,"input",0),r.fc("ngModelChange",function(t){return e.state=t}),r.Wb()),2&t&&(r.Db(2),r.qc("ngModel",e.state))},directives:[G,bt,ie],styles:[""]}),t})(),Ztt=(()=>{class t{constructor(t,e){this.activeRoute=t,this.stateService=e,this.state=""}getState(){return this.state}setState(t){this.state=null==t?"":t}ngOnInit(){this.activeRoute.url.subscribe(t=>{this.stateService.setCurrentView(this,t)})}ngOnDestroy(){this.stateService.saveOnDestroy(this)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(dm.a),r.Rb(IP))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-compute-resources"]],decls:12,vars:1,consts:[["type","text",3,"ngModel","ngModelChange"],["routerLink","/computeResourceDetail/1","routerLinkActive","active"],["routerLink","/computeResourceDetail/2","routerLinkActive","active"]],template:function(t,e){1&t&&(r.Xb(0,"p"),r.Mc(1,"Compute resources"),r.Wb(),r.Xb(2,"input",0),r.fc("ngModelChange",function(t){return e.state=t}),r.Wb(),r.Xb(3,"ul"),r.Xb(4,"li"),r.Xb(5,"a",1),r.Mc(6,"First resource"),r.Wb(),r.Wb(),r.Xb(7,"li"),r.Xb(8,"a",2),r.Mc(9,"Second resource"),r.Wb(),r.Wb(),r.Wb(),r.Xb(10,"p"),r.Mc(11,"In the list, an action may be useful to check the availability status of each of the resources"),r.Wb()),2&t&&(r.Db(2),r.qc("ngModel",e.state))},directives:[G,bt,ie,dm.j,dm.i],styles:[""]}),t})(),tet=(()=>{class t{constructor(t,e){this.activeRoute=t,this.stateService=e,this.state=""}getState(){return this.state}setState(t){this.state=null==t?"":t}ngOnInit(){this.activeRoute.url.subscribe(t=>{this.stateService.setCurrentView(this,t)})}ngOnDestroy(){this.stateService.saveOnDestroy(this)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(dm.a),r.Rb(IP))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-compute-resource"]],decls:7,vars:1,consts:[["type","text",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(r.Xb(0,"p"),r.Mc(1,"Compute resource"),r.Wb(),r.Xb(2,"input",0),r.fc("ngModelChange",function(t){return e.state=t}),r.Wb(),r.Xb(3,"p"),r.Mc(4,"A compute resource has a location, access credentials (fixed for now, in the future they may be provided by each user) and a manager type (SSH, Galaxy, Slurm, ...)"),r.Wb(),r.Xb(5,"p"),r.Mc(6,"A compute resource once defined can also be [checked] (to see if it can be accessed, to see if it is currently available)"),r.Wb()),2&t&&(r.Db(2),r.qc("ngModel",e.state))},directives:[G,bt,ie],styles:[""]}),t})();const eet=["hourListElement"],net=["minuteListElement"],iet=["secondListElement"],ret=["use12HoursListElement"];function oet(t,e){if(1&t&&(r.Xb(0,"div",4),r.Xb(1,"div",5),r.Mc(2),r.Wb(),r.Wb()),2&t){const t=r.jc();r.Db(2),r.Nc(t.dateHelper.format(null==t.time?null:t.time.value,t.format)||"\xa0")}}function set(t,e){if(1&t){const t=r.Yb();r.Xb(0,"li",10),r.fc("click",function(){r.Cc(t);const e=r.jc().$implicit;return r.jc(2).selectHour(e)}),r.Xb(1,"div",11),r.Mc(2),r.kc(3,"number"),r.Wb(),r.Wb()}if(2&t){const t=r.jc().$implicit,e=r.jc(2);r.Jb("ant-picker-time-panel-cell-selected",e.isSelectedHour(t))("ant-picker-time-panel-cell-disabled",t.disabled),r.Db(2),r.Nc(r.mc(3,5,t.index,"2.0-0"))}}function aet(t,e){if(1&t&&(r.Vb(0),r.Kc(1,set,4,8,"li",9),r.Ub()),2&t){const t=e.$implicit,n=r.jc(2);r.Db(1),r.qc("ngIf",!(n.nzHideDisabledOptions&&t.disabled))}}function cet(t,e){if(1&t&&(r.Xb(0,"ul",6,7),r.Kc(2,aet,2,1,"ng-container",8),r.Wb()),2&t){const t=r.jc();r.Db(2),r.qc("ngForOf",t.hourRange)("ngForTrackBy",t.trackByFn)}}function uet(t,e){if(1&t){const t=r.Yb();r.Xb(0,"li",10),r.fc("click",function(){r.Cc(t);const e=r.jc().$implicit;return r.jc(2).selectMinute(e)}),r.Xb(1,"div",11),r.Mc(2),r.kc(3,"number"),r.Wb(),r.Wb()}if(2&t){const t=r.jc().$implicit,e=r.jc(2);r.Jb("ant-picker-time-panel-cell-selected",e.isSelectedMinute(t))("ant-picker-time-panel-cell-disabled",t.disabled),r.Db(2),r.Nc(r.mc(3,5,t.index,"2.0-0"))}}function het(t,e){if(1&t&&(r.Vb(0),r.Kc(1,uet,4,8,"li",9),r.Ub()),2&t){const t=e.$implicit,n=r.jc(2);r.Db(1),r.qc("ngIf",!(n.nzHideDisabledOptions&&t.disabled))}}function det(t,e){if(1&t&&(r.Xb(0,"ul",6,12),r.Kc(2,het,2,1,"ng-container",8),r.Wb()),2&t){const t=r.jc();r.Db(2),r.qc("ngForOf",t.minuteRange)("ngForTrackBy",t.trackByFn)}}function pet(t,e){if(1&t){const t=r.Yb();r.Xb(0,"li",10),r.fc("click",function(){r.Cc(t);const e=r.jc().$implicit;return r.jc(2).selectSecond(e)}),r.Xb(1,"div",11),r.Mc(2),r.kc(3,"number"),r.Wb(),r.Wb()}if(2&t){const t=r.jc().$implicit,e=r.jc(2);r.Jb("ant-picker-time-panel-cell-selected",e.isSelectedSecond(t))("ant-picker-time-panel-cell-disabled",t.disabled),r.Db(2),r.Nc(r.mc(3,5,t.index,"2.0-0"))}}function fet(t,e){if(1&t&&(r.Vb(0),r.Kc(1,pet,4,8,"li",9),r.Ub()),2&t){const t=e.$implicit,n=r.jc(2);r.Db(1),r.qc("ngIf",!(n.nzHideDisabledOptions&&t.disabled))}}function get(t,e){if(1&t&&(r.Xb(0,"ul",6,13),r.Kc(2,fet,2,1,"ng-container",8),r.Wb()),2&t){const t=r.jc();r.Db(2),r.qc("ngForOf",t.secondRange)("ngForTrackBy",t.trackByFn)}}function met(t,e){if(1&t){const t=r.Yb();r.Xb(0,"li",10),r.fc("click",function(){r.Cc(t);const e=r.jc().$implicit;return r.jc(2).select12Hours(e)}),r.Xb(1,"div",11),r.Mc(2),r.Wb(),r.Wb()}if(2&t){const t=r.jc().$implicit,e=r.jc(2);r.Jb("ant-picker-time-panel-cell-selected",e.isSelected12Hours(t)),r.Db(2),r.Nc(t.value)}}function bet(t,e){if(1&t&&(r.Vb(0),r.Kc(1,met,3,3,"li",16),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.qc("ngIf",!t.nzHideDisabledOptions)}}function yet(t,e){if(1&t&&(r.Xb(0,"ul",6,14),r.Kc(2,bet,2,1,"ng-container",15),r.Wb()),2&t){const t=r.jc();r.Db(2),r.qc("ngForOf",t.use12HoursRange)}}function vet(t,e){}function _et(t,e){if(1&t&&(r.Xb(0,"div",24),r.Kc(1,vet,0,0,"ng-template",25),r.Wb()),2&t){const t=r.jc(2);r.Db(1),r.qc("ngTemplateOutlet",t.nzAddOn)}}function wet(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",17),r.Kc(1,_et,2,1,"div",18),r.Xb(2,"ul",19),r.Xb(3,"li",20),r.Xb(4,"a",21),r.fc("click",function(){return r.Cc(t),r.jc().onClickNow()}),r.Mc(5),r.kc(6,"nzI18n"),r.Wb(),r.Wb(),r.Xb(7,"li",22),r.Xb(8,"button",23),r.fc("click",function(){return r.Cc(t),r.jc().onClickOk()}),r.Mc(9),r.kc(10,"nzI18n"),r.Wb(),r.Wb(),r.Wb(),r.Wb()}if(2&t){const t=r.jc();r.Db(1),r.qc("ngIf",t.nzAddOn),r.Db(4),r.Oc(" ",r.lc(6,3,"Calendar.lang.now")," "),r.Db(4),r.Oc(" ",r.lc(10,5,"Calendar.lang.ok")," ")}}class zet{constructor(){this.selected12Hours=void 0,this._use12Hours=!1,this._changes=new xe.a}setMinutes(t,e){return t===this.minutes||e||(this.initValue(),this.value.setMinutes(t),this.update()),this}setHours(t,e){return t===this.hours||e||(this.initValue(),this.value.setHours(this._use12Hours?"PM"===this.selected12Hours&&12!==t?t+12:"AM"===this.selected12Hours&&12===t?0:t:t),this.update()),this}setSeconds(t,e){return t===this.seconds||e||(this.initValue(),this.value.setSeconds(t),this.update()),this}setUse12Hours(t){return this._use12Hours=t,this}get changes(){return this._changes.asObservable()}setValue(t,e){return zi(e)&&(this._use12Hours=e),t!==this.value&&(this._value=t,zi(this.value)?this._use12Hours&&zi(this.hours)&&(this.selected12Hours=this.hours>=12?"PM":"AM"):this._clear()),this}initValue(){Ci(this.value)&&this.setValue(new Date,this._use12Hours)}clear(){this._clear(),this.update()}get isEmpty(){return!(zi(this.hours)||zi(this.minutes)||zi(this.seconds))}_clear(){this._value=void 0,this.selected12Hours=void 0}update(){this.isEmpty?this._value=void 0:(zi(this.hours)&&this.value.setHours(this.hours),zi(this.minutes)&&this.value.setMinutes(this.minutes),zi(this.seconds)&&this.value.setSeconds(this.seconds),this._use12Hours&&("PM"===this.selected12Hours&&this.hours<12&&this.value.setHours(this.hours+12),"AM"===this.selected12Hours&&this.hours>=12&&this.value.setHours(this.hours-12))),this.changed()}changed(){this._changes.next(this.value)}get viewHours(){return this._use12Hours&&zi(this.hours)?this.calculateViewHour(this.hours):this.hours}setSelected12Hours(t){t.toUpperCase()!==this.selected12Hours&&(this.selected12Hours=t.toUpperCase(),this.update())}get value(){return this._value||this._defaultOpenValue}get hours(){var t;return null===(t=this.value)||void 0===t?void 0:t.getHours()}get minutes(){var t;return null===(t=this.value)||void 0===t?void 0:t.getMinutes()}get seconds(){var t;return null===(t=this.value)||void 0===t?void 0:t.getSeconds()}setDefaultOpenValue(t){return this._defaultOpenValue=t,this}calculateViewHour(t){const e=this.selected12Hours;return"PM"===e&&t>12?t-12:"AM"===e&&0===t?12:t}}function Cet(t,e=1,n=0){return new Array(Math.ceil(t/e)).fill(0).map((t,i)=>(i+n)*e)}let xet=(()=>{class t{constructor(t,e,n){this.cdr=t,this.dateHelper=e,this.elementRef=n,this._nzHourStep=1,this._nzMinuteStep=1,this._nzSecondStep=1,this.unsubscribe$=new xe.a,this._format="HH:mm:ss",this._disabledHours=()=>[],this._disabledMinutes=()=>[],this._disabledSeconds=()=>[],this._allowEmpty=!0,this.time=new zet,this.hourEnabled=!0,this.minuteEnabled=!0,this.secondEnabled=!0,this.firstScrolled=!1,this.enabledColumns=3,this.nzInDatePicker=!1,this.nzHideDisabledOptions=!1,this.nzUse12Hours=!1,this.closePanel=new r.n,this.elementRef.nativeElement.classList.add("ant-picker-time-panel")}set nzAllowEmpty(t){zi(t)&&(this._allowEmpty=t)}get nzAllowEmpty(){return this._allowEmpty}set nzDisabledHours(t){this._disabledHours=t,this._disabledHours&&this.buildHours()}get nzDisabledHours(){return this._disabledHours}set nzDisabledMinutes(t){zi(t)&&(this._disabledMinutes=t,this.buildMinutes())}get nzDisabledMinutes(){return this._disabledMinutes}set nzDisabledSeconds(t){zi(t)&&(this._disabledSeconds=t,this.buildSeconds())}get nzDisabledSeconds(){return this._disabledSeconds}set format(t){if(zi(t)){this._format=t,this.enabledColumns=0;const e=new Set(t);this.hourEnabled=e.has("H")||e.has("h"),this.minuteEnabled=e.has("m"),this.secondEnabled=e.has("s"),this.hourEnabled&&this.enabledColumns++,this.minuteEnabled&&this.enabledColumns++,this.secondEnabled&&this.enabledColumns++,this.nzUse12Hours&&this.build12Hours()}}get format(){return this._format}set nzHourStep(t){zi(t)&&(this._nzHourStep=t,this.buildHours())}get nzHourStep(){return this._nzHourStep}set nzMinuteStep(t){zi(t)&&(this._nzMinuteStep=t,this.buildMinutes())}get nzMinuteStep(){return this._nzMinuteStep}set nzSecondStep(t){zi(t)&&(this._nzSecondStep=t,this.buildSeconds())}get nzSecondStep(){return this._nzSecondStep}trackByFn(t){return t}buildHours(){var t;let e=24,n=null===(t=this.nzDisabledHours)||void 0===t?void 0:t.call(this),i=0;if(this.nzUse12Hours&&(e=12,n&&(n="PM"===this.time.selected12Hours?n.filter(t=>t>=12).map(t=>t>12?t-12:t):n.filter(t=>t<12||24===t).map(t=>24===t||0===t?12:t)),i=1),this.hourRange=Cet(e,this.nzHourStep,i).map(t=>({index:t,disabled:!!n&&-1!==n.indexOf(t)})),this.nzUse12Hours&&12===this.hourRange[this.hourRange.length-1].index){const t=[...this.hourRange];t.unshift(t[t.length-1]),t.splice(t.length-1,1),this.hourRange=t}}buildMinutes(){this.minuteRange=Cet(60,this.nzMinuteStep).map(t=>({index:t,disabled:!!this.nzDisabledMinutes&&-1!==this.nzDisabledMinutes(this.time.hours).indexOf(t)}))}buildSeconds(){this.secondRange=Cet(60,this.nzSecondStep).map(t=>({index:t,disabled:!!this.nzDisabledSeconds&&-1!==this.nzDisabledSeconds(this.time.hours,this.time.minutes).indexOf(t)}))}build12Hours(){const t=this._format.includes("A");this.use12HoursRange=[{index:0,value:t?"AM":"am"},{index:1,value:t?"PM":"pm"}]}buildTimes(){this.buildHours(),this.buildMinutes(),this.buildSeconds(),this.build12Hours()}scrollToTime(t=0){this.hourEnabled&&this.hourListElement&&this.scrollToSelected(this.hourListElement.nativeElement,this.time.viewHours,t,"hour"),this.minuteEnabled&&this.minuteListElement&&this.scrollToSelected(this.minuteListElement.nativeElement,this.time.minutes,t,"minute"),this.secondEnabled&&this.secondListElement&&this.scrollToSelected(this.secondListElement.nativeElement,this.time.seconds,t,"second"),this.nzUse12Hours&&this.use12HoursListElement&&this.scrollToSelected(this.use12HoursListElement.nativeElement,"AM"===this.time.selected12Hours?0:1,t,"12-hour")}selectHour(t){this.time.setHours(t.index,t.disabled),this._disabledMinutes&&this.buildMinutes(),(this._disabledSeconds||this._disabledMinutes)&&this.buildSeconds()}selectMinute(t){this.time.setMinutes(t.index,t.disabled),this._disabledSeconds&&this.buildSeconds()}selectSecond(t){this.time.setSeconds(t.index,t.disabled)}select12Hours(t){this.time.setSelected12Hours(t.value),this._disabledHours&&this.buildHours(),this._disabledMinutes&&this.buildMinutes(),this._disabledSeconds&&this.buildSeconds()}scrollToSelected(t,e,n=0,i){if(!t)return;const r=this.translateIndex(e,i);this.scrollTo(t,(t.children[r]||t.children[0]).offsetTop,n)}translateIndex(t,e){var n,i,r;return"hour"===e?this.calcIndex(null===(n=this.nzDisabledHours)||void 0===n?void 0:n.call(this),this.hourRange.map(t=>t.index).indexOf(t)):"minute"===e?this.calcIndex(null===(i=this.nzDisabledMinutes)||void 0===i?void 0:i.call(this,this.time.hours),this.minuteRange.map(t=>t.index).indexOf(t)):"second"===e?this.calcIndex(null===(r=this.nzDisabledSeconds)||void 0===r?void 0:r.call(this,this.time.hours,this.time.minutes),this.secondRange.map(t=>t.index).indexOf(t)):this.calcIndex([],this.use12HoursRange.map(t=>t.index).indexOf(t))}scrollTo(t,e,n){if(n<=0)return void(t.scrollTop=e);const i=(e-t.scrollTop)/n*10;Wi(()=>{t.scrollTop=t.scrollTop+i,t.scrollTop!==e&&this.scrollTo(t,e,n-10)})}calcIndex(t,e){return(null==t?void 0:t.length)&&this.nzHideDisabledOptions?e-t.reduce((t,n)=>t+(n<e?1:0),0):e}changed(){this.onChange&&this.onChange(this.time.value)}touched(){this.onTouch&&this.onTouch()}timeDisabled(t){var e,n,i,r,o,s;const a=t.getHours(),c=t.getMinutes(),l=t.getSeconds();return(null!==(n=null===(e=this.nzDisabledHours)||void 0===e?void 0:e.call(this).indexOf(a))&&void 0!==n?n:-1)>-1||(null!==(r=null===(i=this.nzDisabledMinutes)||void 0===i?void 0:i.call(this,a).indexOf(c))&&void 0!==r?r:-1)>-1||(null!==(s=null===(o=this.nzDisabledSeconds)||void 0===o?void 0:o.call(this,a,c).indexOf(l))&&void 0!==s?s:-1)>-1}onClickNow(){const t=new Date;this.timeDisabled(t)||(this.time.setValue(t),this.changed(),this.closePanel.emit())}onClickOk(){this.closePanel.emit()}isSelectedHour(t){return t.index===this.time.viewHours}isSelectedMinute(t){return t.index===this.time.minutes}isSelectedSecond(t){return t.index===this.time.seconds}isSelected12Hours(t){return t.value.toUpperCase()===this.time.selected12Hours}ngOnInit(){this.time.changes.pipe(An(this.unsubscribe$)).subscribe(()=>{this.changed(),this.touched(),this.scrollToTime(120)}),this.buildTimes(),setTimeout(()=>{this.scrollToTime(),this.firstScrolled=!0})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}ngOnChanges(t){const{nzUse12Hours:e,nzDefaultOpenValue:n}=t;!(null==e?void 0:e.previousValue)&&(null==e?void 0:e.currentValue)&&(this.build12Hours(),this.enabledColumns++),(null==n?void 0:n.currentValue)&&this.time.setDefaultOpenValue(this.nzDefaultOpenValue||new Date)}writeValue(t){this.time.setValue(t,this.nzUse12Hours),this.buildTimes(),t&&this.firstScrolled&&this.scrollToTime(120),this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouch=t}onMousedown(t){t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h),r.Rb(Pd),r.Rb(r.l))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-time-picker-panel"]],viewQuery:function(t,e){if(1&t&&(r.Qc(eet,1),r.Qc(net,1),r.Qc(iet,1),r.Qc(ret,1)),2&t){let t;r.zc(t=r.gc())&&(e.hourListElement=t.first),r.zc(t=r.gc())&&(e.minuteListElement=t.first),r.zc(t=r.gc())&&(e.secondListElement=t.first),r.zc(t=r.gc())&&(e.use12HoursListElement=t.first)}},hostVars:12,hostBindings:function(t,e){1&t&&r.fc("mousedown",function(t){return e.onMousedown(t)}),2&t&&r.Jb("ant-picker-time-panel-column-0",0===e.enabledColumns&&!e.nzInDatePicker)("ant-picker-time-panel-column-1",1===e.enabledColumns&&!e.nzInDatePicker)("ant-picker-time-panel-column-2",2===e.enabledColumns&&!e.nzInDatePicker)("ant-picker-time-panel-column-3",3===e.enabledColumns&&!e.nzInDatePicker)("ant-picker-time-panel-narrow",e.enabledColumns<3)("ant-picker-time-panel-placement-bottomLeft",!e.nzInDatePicker)},inputs:{nzInDatePicker:"nzInDatePicker",nzHideDisabledOptions:"nzHideDisabledOptions",nzUse12Hours:"nzUse12Hours",nzAllowEmpty:"nzAllowEmpty",nzDisabledHours:"nzDisabledHours",nzDisabledMinutes:"nzDisabledMinutes",nzDisabledSeconds:"nzDisabledSeconds",format:"format",nzHourStep:"nzHourStep",nzMinuteStep:"nzMinuteStep",nzSecondStep:"nzSecondStep",nzAddOn:"nzAddOn",nzClearText:"nzClearText",nzPlaceHolder:"nzPlaceHolder",nzDefaultOpenValue:"nzDefaultOpenValue"},outputs:{closePanel:"closePanel"},exportAs:["nzTimePickerPanel"],features:[r.Cb([{provide:X,useExisting:t,multi:!0}]),r.Bb],decls:7,vars:6,consts:[["class","ant-picker-header",4,"ngIf"],[1,"ant-picker-content"],["class","ant-picker-time-panel-column","style","position: relative;",4,"ngIf"],["class","ant-picker-footer",4,"ngIf"],[1,"ant-picker-header"],[1,"ant-picker-header-view"],[1,"ant-picker-time-panel-column",2,"position","relative"],["hourListElement",""],[4,"ngFor","ngForOf","ngForTrackBy"],["class","ant-picker-time-panel-cell",3,"ant-picker-time-panel-cell-selected","ant-picker-time-panel-cell-disabled","click",4,"ngIf"],[1,"ant-picker-time-panel-cell",3,"click"],[1,"ant-picker-time-panel-cell-inner"],["minuteListElement",""],["secondListElement",""],["use12HoursListElement",""],[4,"ngFor","ngForOf"],["class","ant-picker-time-panel-cell",3,"ant-picker-time-panel-cell-selected","click",4,"ngIf"],[1,"ant-picker-footer"],["class","ant-picker-footer-extra",4,"ngIf"],[1,"ant-picker-ranges"],[1,"ant-picker-now"],[3,"click"],[1,"ant-picker-ok"],["nz-button","","type","button","nzSize","small","nzType","primary",3,"click"],[1,"ant-picker-footer-extra"],[3,"ngTemplateOutlet"]],template:function(t,e){1&t&&(r.Kc(0,oet,3,1,"div",0),r.Xb(1,"div",1),r.Kc(2,cet,3,2,"ul",2),r.Kc(3,det,3,2,"ul",2),r.Kc(4,get,3,2,"ul",2),r.Kc(5,yet,3,1,"ul",2),r.Wb(),r.Kc(6,wet,11,7,"div",3)),2&t&&(r.qc("ngIf",e.nzInDatePicker),r.Db(2),r.qc("ngIf",e.hourEnabled),r.Db(1),r.qc("ngIf",e.minuteEnabled),r.Db(1),r.qc("ngIf",e.secondEnabled),r.Db(1),r.qc("ngIf",e.nzUse12Hours),r.Db(1),r.qc("ngIf",!e.nzInDatePicker))},directives:[i.n,i.m,HL,qL,Rf,i.s],pipes:[i.e,Id],encapsulation:2,changeDetection:0}),sr([Di(),ar("design:type",Object)],t.prototype,"nzUse12Hours",void 0),t})(),Oet=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,me,Dd,Zl,Vo,eu,ii,GL]]}),t})();function ket(t,e){1&t&&r.Tb(0)}function Tet(t,e){if(1&t&&(r.Vb(0),r.Kc(1,ket,1,0,"ng-container",4),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.qc("ngTemplateOutlet",t.extraFooter)}}function Eet(t,e){if(1&t&&(r.Vb(0),r.Sb(1,"span",5),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.qc("innerHTML",t.extraFooter,r.Dc)}}function Iet(t,e){if(1&t&&(r.Xb(0,"div"),r.Vb(1,2),r.Kc(2,Tet,2,1,"ng-container",3),r.Kc(3,Eet,2,1,"ng-container",3),r.Ub(),r.Wb()),2&t){const t=r.jc();r.Gb("",t.prefixCls,"-footer-extra"),r.Db(1),r.qc("ngSwitch",!0),r.Db(1),r.qc("ngSwitchCase",t.isTemplateRef(t.extraFooter)),r.Db(1),r.qc("ngSwitchCase",t.isNonEmptyString(t.extraFooter))}}function Det(t,e){if(1&t){const t=r.Yb();r.Xb(0,"a",6),r.fc("click",function(){r.Cc(t);const e=r.jc();return e.isTodayDisabled?null:e.onClickToday()}),r.Mc(1),r.Wb()}if(2&t){const t=r.jc();r.Hb("",t.prefixCls,"-today-btn ",t.isTodayDisabled?t.prefixCls+"-today-btn-disabled":"",""),r.rc("title",t.todayTitle),r.Db(1),r.Oc(" ",t.locale.today," ")}}function Met(t,e){1&t&&r.Tb(0)}function Ret(t,e){if(1&t){const t=r.Yb();r.Xb(0,"li"),r.Xb(1,"a",7),r.fc("click",function(){r.Cc(t);const e=r.jc(2);return e.isTodayDisabled?null:e.onClickToday()}),r.Mc(2),r.Wb(),r.Wb()}if(2&t){const t=r.jc(2);r.Gb("",t.prefixCls,"-now"),r.Db(1),r.Gb("",t.prefixCls,"-now-btn"),r.Db(1),r.Oc(" ",t.locale.now," ")}}function Aet(t,e){if(1&t){const t=r.Yb();r.Xb(0,"li"),r.Xb(1,"button",8),r.fc("click",function(){r.Cc(t);const e=r.jc(2);return e.okDisabled?null:e.clickOk.emit()}),r.Mc(2),r.Wb(),r.Wb()}if(2&t){const t=r.jc(2);r.Gb("",t.prefixCls,"-ok"),r.Db(1),r.qc("disabled",t.okDisabled),r.Db(1),r.Oc(" ",t.locale.ok," ")}}function Pet(t,e){if(1&t&&(r.Xb(0,"ul"),r.Kc(1,Met,1,0,"ng-container",4),r.Kc(2,Ret,3,7,"li",0),r.Kc(3,Aet,3,5,"li",0),r.Wb()),2&t){const t=r.jc();r.Gb("",t.prefixCls,"-ranges"),r.Db(1),r.qc("ngTemplateOutlet",t.rangeQuickSelector),r.Db(1),r.qc("ngIf",t.showNow),r.Db(1),r.qc("ngIf",t.hasTimePicker)}}function Let(t,e){1&t&&r.Tb(0)}function Fet(t,e){1&t&&r.Tb(0)}function jet(t,e){1&t&&r.Tb(0)}const Net=function(){return{partType:"left"}},Vet=function(){return{partType:"right"}};function Wet(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"div"),r.Sb(2,"div"),r.Xb(3,"div"),r.Xb(4,"div"),r.Kc(5,Let,1,0,"ng-container",5),r.Kc(6,Fet,1,0,"ng-container",5),r.Wb(),r.Kc(7,jet,1,0,"ng-container",6),r.Wb(),r.Wb(),r.Ub()),2&t){const t=r.jc(),e=r.Ac(4),n=r.Ac(6);r.Db(1),r.Hb("",t.prefixCls,"-range-wrapper ",t.prefixCls,"-date-range-wrapper"),r.Db(1),r.Gb("",t.prefixCls,"-range-arrow"),r.Hc("left",null==t.datePickerService?null:t.datePickerService.arrowLeft,"px"),r.Db(1),r.Gb("",t.prefixCls,"-panel-container"),r.Db(1),r.Gb("",t.prefixCls,"-panels"),r.Db(1),r.qc("ngTemplateOutlet",e)("ngTemplateOutletContext",r.uc(20,Net)),r.Db(1),r.qc("ngTemplateOutlet",e)("ngTemplateOutletContext",r.uc(21,Vet)),r.Db(1),r.qc("ngTemplateOutlet",n)}}function qet(t,e){1&t&&r.Tb(0)}function Bet(t,e){1&t&&r.Tb(0)}function Xet(t,e){if(1&t&&(r.Xb(0,"div"),r.Xb(1,"div",7),r.Kc(2,qet,1,0,"ng-container",6),r.Kc(3,Bet,1,0,"ng-container",6),r.Wb(),r.Wb()),2&t){const t=r.jc(),e=r.Ac(4),n=r.Ac(6);r.Ib("",t.prefixCls,"-panel-container ",t.showWeek?t.prefixCls+"-week-number":""," ",t.hasTimePicker?t.prefixCls+"-time":""," ",t.isRange?t.prefixCls+"-range":"",""),r.Db(1),r.Gb("",t.prefixCls,"-panel"),r.Jb("ant-picker-panel-rtl","rtl"===t.dir),r.Db(1),r.qc("ngTemplateOutlet",e),r.Db(1),r.qc("ngTemplateOutlet",n)}}function Uet(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div"),r.Xb(1,"inner-popup",8),r.fc("panelModeChange",function(n){r.Cc(t);const i=e.partType;return r.jc().onPanelModeChange(n,i)})("cellHover",function(e){return r.Cc(t),r.jc().onCellHover(e)})("selectDate",function(e){r.Cc(t);const n=r.jc();return n.changeValueFromSelect(e,!n.showTime)})("selectTime",function(n){r.Cc(t);const i=e.partType;return r.jc().onSelectTime(n,i)})("headerChange",function(n){r.Cc(t);const i=e.partType;return r.jc().onActiveDateChange(n,i)}),r.Wb(),r.Wb()}if(2&t){const t=e.partType,n=r.jc();r.Gb("",n.prefixCls,"-panel"),r.Hc("display",n.show(t)?"block":"none"),r.Jb("ant-picker-panel-rtl","rtl"===n.dir),r.Db(1),r.qc("showWeek",n.showWeek)("endPanelMode",n.getPanelMode(n.endPanelMode,t))("partType",t)("locale",n.locale)("showTimePicker",n.hasTimePicker)("timeOptions",n.getTimeOptions(t))("panelMode",n.getPanelMode(n.panelMode,t))("activeDate",n.getActiveDate(t))("value",n.getValue(t))("disabledDate",n.disabledDate)("dateRender",n.dateRender)("selectedValue",null==n.datePickerService?null:n.datePickerService.value)("hoverValue",n.hoverValue)}}function $et(t,e){if(1&t){const t=r.Yb();r.Xb(0,"calendar-footer",10),r.fc("clickOk",function(){return r.Cc(t),r.jc(2).onClickOk()})("clickToday",function(e){return r.Cc(t),r.jc(2).onClickToday(e)}),r.Wb()}if(2&t){const t=r.jc(2),e=r.Ac(8);r.qc("locale",t.locale)("isRange",t.isRange)("showToday",t.showToday)("showNow",t.showNow)("hasTimePicker",t.hasTimePicker)("okDisabled",!t.isAllowed(null==t.datePickerService?null:t.datePickerService.value))("extraFooter",t.extraFooter)("rangeQuickSelector",t.ranges?e:null)}}function Het(t,e){if(1&t&&r.Kc(0,$et,1,8,"calendar-footer",9),2&t){const t=r.jc();r.qc("ngIf",t.hasFooter)}}function Ket(t,e){if(1&t){const t=r.Yb();r.Xb(0,"li",12),r.fc("click",function(){r.Cc(t);const n=e.$implicit,i=r.jc(2);return i.onClickPresetRange(i.ranges[n])})("mouseenter",function(){r.Cc(t);const n=e.$implicit,i=r.jc(2);return i.onHoverPresetRange(i.ranges[n])})("mouseleave",function(){return r.Cc(t),r.jc(2).onPresetRangeMouseLeave()}),r.Xb(1,"span",13),r.Mc(2),r.Wb(),r.Wb()}if(2&t){const t=e.$implicit,n=r.jc(2);r.Gb("",n.prefixCls,"-preset"),r.Db(2),r.Nc(t)}}function Get(t,e){if(1&t&&r.Kc(0,Ket,3,4,"li",11),2&t){const t=r.jc();r.qc("ngForOf",t.getObjectKeys(t.ranges))}}const Yet=["separatorElement"],Qet=["pickerInput"],Jet=["rangePickerInput"],Zet=["nz-picker",""];function tnt(t,e){1&t&&r.Tb(0)}function ent(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div"),r.Xb(1,"input",5,6),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc().inputValue=e})("focus",function(e){return r.Cc(t),r.jc().onFocus(e)})("blur",function(e){return r.Cc(t),r.jc().onBlur(e)})("ngModelChange",function(e){return r.Cc(t),r.jc().onInputChange(e)})("keyup.enter",function(e){return r.Cc(t),r.jc().onKeyupEnter(e)}),r.Wb(),r.Kc(3,tnt,1,0,"ng-container",7),r.Wb()}if(2&t){const t=r.jc(),e=r.Ac(5);r.Gb("",t.prefixCls,"-input"),r.Db(1),r.Jb("ant-input-disabled",t.disabled),r.rc("placeholder",t.getPlaceholder()),r.qc("disabled",t.disabled)("readOnly",t.inputReadOnly)("ngModel",t.inputValue)("size",t.inputSize),r.Eb("id",t.id),r.Db(2),r.qc("ngTemplateOutlet",e)}}function nnt(t,e){1&t&&r.Tb(0)}function int(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.Nc(t.separator)}}function rnt(t,e){1&t&&r.Sb(0,"i",12)}function ont(t,e){1&t&&r.Tb(0)}function snt(t,e){1&t&&r.Tb(0)}function ant(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"div"),r.Kc(2,nnt,1,0,"ng-container",8),r.Wb(),r.Xb(3,"div",null,9),r.Xb(5,"span"),r.Kc(6,int,2,1,"ng-container",10),r.Wb(),r.Kc(7,rnt,1,0,"ng-template",null,11,r.Lc),r.Wb(),r.Xb(9,"div"),r.Kc(10,ont,1,0,"ng-container",8),r.Wb(),r.Kc(11,snt,1,0,"ng-container",7),r.Ub()),2&t){const t=r.Ac(8),e=r.jc(),n=r.Ac(3),i=r.Ac(5);r.Db(1),r.Gb("",e.prefixCls,"-input"),r.Db(1),r.qc("ngTemplateOutlet",n)("ngTemplateOutletContext",r.uc(19,Net)),r.Db(1),r.Gb("",e.prefixCls,"-range-separator"),r.Db(2),r.Gb("",e.prefixCls,"-separator"),r.Db(1),r.qc("ngIf",e.separator)("ngIfElse",t),r.Db(3),r.Gb("",e.prefixCls,"-input"),r.Db(1),r.qc("ngTemplateOutlet",n)("ngTemplateOutletContext",r.uc(20,Vet)),r.Db(1),r.qc("ngTemplateOutlet",i)}}function cnt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"input",13,14),r.fc("click",function(e){return r.Cc(t),r.jc().onClickInputBox(e)})("blur",function(e){return r.Cc(t),r.jc().onBlur(e)})("focus",function(n){r.Cc(t);const i=e.partType;return r.jc().onFocus(n,i)})("keyup.enter",function(e){return r.Cc(t),r.jc().onKeyupEnter(e)})("ngModelChange",function(n){r.Cc(t);const i=e.partType,o=r.jc();return o.inputValue[o.datePickerService.getActiveIndex(i)]=n})("ngModelChange",function(e){return r.Cc(t),r.jc().onInputChange(e)}),r.Wb()}if(2&t){const t=e.partType,n=r.jc();r.rc("placeholder",n.getPlaceholder(t)),r.qc("disabled",n.disabled)("readOnly",n.inputReadOnly)("size",n.inputSize)("ngModel",n.inputValue[n.datePickerService.getActiveIndex(t)])}}function lnt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"span",18),r.fc("click",function(e){return r.Cc(t),r.jc(2).onClickClear(e)}),r.Sb(1,"i",19),r.Wb()}if(2&t){const t=r.jc(2);r.Gb("",t.prefixCls,"-clear")}}function unt(t,e){if(1&t&&(r.Vb(0),r.Sb(1,"i",20),r.Ub()),2&t){const t=e.$implicit;r.Db(1),r.qc("nzType",t)}}function hnt(t,e){if(1&t&&(r.Sb(0,"div",15),r.Kc(1,lnt,2,3,"span",16),r.Xb(2,"span"),r.Kc(3,unt,2,1,"ng-container",17),r.Wb()),2&t){const t=r.jc();r.Gb("",t.prefixCls,"-active-bar"),r.qc("ngStyle",t.activeBarStyle),r.Db(1),r.qc("ngIf",t.showClear()),r.Db(1),r.Gb("",t.prefixCls,"-suffix"),r.Db(1),r.qc("nzStringTemplateOutlet",t.suffixIcon)}}function dnt(t,e){if(1&t&&(r.Xb(0,"div",21),r.Xb(1,"div",15),r.oc(2),r.Wb(),r.Wb()),2&t){const t=r.jc();r.qc("nzNoAnimation",t.noAnimation)("@slideMotion","enter"),r.Db(1),r.Hb("",t.prefixCls,"-dropdown ",t.dropdownClassName,""),r.Jb("ant-picker-dropdown-rtl","rtl"===t.dir)("ant-picker-dropdown-placement-bottomLeft","bottom"===t.currentPositionY&&"start"===t.currentPositionX)("ant-picker-dropdown-placement-topLeft","top"===t.currentPositionY&&"start"===t.currentPositionX)("ant-picker-dropdown-placement-bottomRight","bottom"===t.currentPositionY&&"end"===t.currentPositionX)("ant-picker-dropdown-placement-topRight","top"===t.currentPositionY&&"end"===t.currentPositionX)("ant-picker-dropdown-range",t.isRange),r.qc("ngStyle",t.popupStyle)}}const pnt=["*"];function fnt(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Xb(1,"decade-header",4),r.fc("valueChange",function(e){return r.Cc(t),r.jc().activeDate=e})("panelModeChange",function(e){return r.Cc(t),r.jc().panelModeChange.emit(e)})("valueChange",function(e){return r.Cc(t),r.jc().headerChange.emit(e)}),r.Wb(),r.Xb(2,"div"),r.Xb(3,"decade-table",5),r.fc("valueChange",function(e){return r.Cc(t),r.jc().onChooseDecade(e)}),r.Wb(),r.Wb(),r.Ub()}if(2&t){const t=r.jc();r.Db(1),r.qc("value",t.activeDate)("locale",t.locale)("showSuperPreBtn",t.enablePrevNext("prev","decade"))("showSuperNextBtn",t.enablePrevNext("next","decade"))("showNextBtn",!1)("showPreBtn",!1),r.Db(1),r.Gb("",t.prefixCls,"-body"),r.Db(1),r.qc("activeDate",t.activeDate)("value",t.value)("locale",t.locale)("disabledDate",t.disabledDate)}}function gnt(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Xb(1,"year-header",4),r.fc("valueChange",function(e){return r.Cc(t),r.jc().activeDate=e})("panelModeChange",function(e){return r.Cc(t),r.jc().panelModeChange.emit(e)})("valueChange",function(e){return r.Cc(t),r.jc().headerChange.emit(e)}),r.Wb(),r.Xb(2,"div"),r.Xb(3,"year-table",6),r.fc("valueChange",function(e){return r.Cc(t),r.jc().onChooseYear(e)})("cellHover",function(e){return r.Cc(t),r.jc().cellHover.emit(e)}),r.Wb(),r.Wb(),r.Ub()}if(2&t){const t=r.jc();r.Db(1),r.qc("value",t.activeDate)("locale",t.locale)("showSuperPreBtn",t.enablePrevNext("prev","year"))("showSuperNextBtn",t.enablePrevNext("next","year"))("showNextBtn",!1)("showPreBtn",!1),r.Db(1),r.Gb("",t.prefixCls,"-body"),r.Db(1),r.qc("activeDate",t.activeDate)("value",t.value)("locale",t.locale)("disabledDate",t.disabledDate)("selectedValue",t.selectedValue)("hoverValue",t.hoverValue)}}function mnt(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Xb(1,"month-header",4),r.fc("valueChange",function(e){return r.Cc(t),r.jc().activeDate=e})("panelModeChange",function(e){return r.Cc(t),r.jc().panelModeChange.emit(e)})("valueChange",function(e){return r.Cc(t),r.jc().headerChange.emit(e)}),r.Wb(),r.Xb(2,"div"),r.Xb(3,"month-table",7),r.fc("valueChange",function(e){return r.Cc(t),r.jc().onChooseMonth(e)})("cellHover",function(e){return r.Cc(t),r.jc().cellHover.emit(e)}),r.Wb(),r.Wb(),r.Ub()}if(2&t){const t=r.jc();r.Db(1),r.qc("value",t.activeDate)("locale",t.locale)("showSuperPreBtn",t.enablePrevNext("prev","month"))("showSuperNextBtn",t.enablePrevNext("next","month"))("showNextBtn",!1)("showPreBtn",!1),r.Db(1),r.Gb("",t.prefixCls,"-body"),r.Db(1),r.qc("value",t.value)("activeDate",t.activeDate)("locale",t.locale)("disabledDate",t.disabledDate)("selectedValue",t.selectedValue)("hoverValue",t.hoverValue)}}function bnt(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Xb(1,"date-header",8),r.fc("valueChange",function(e){return r.Cc(t),r.jc().activeDate=e})("panelModeChange",function(e){return r.Cc(t),r.jc().panelModeChange.emit(e)})("valueChange",function(e){return r.Cc(t),r.jc().headerChange.emit(e)}),r.Wb(),r.Xb(2,"div"),r.Xb(3,"date-table",9),r.fc("valueChange",function(e){return r.Cc(t),r.jc().onSelectDate(e)})("cellHover",function(e){return r.Cc(t),r.jc().cellHover.emit(e)}),r.Wb(),r.Wb(),r.Ub()}if(2&t){const t=r.jc();r.Db(1),r.qc("value",t.activeDate)("locale",t.locale)("showSuperPreBtn",t.enablePrevNext("prev",t.showWeek?"week":"date"))("showSuperNextBtn",t.enablePrevNext("next",t.showWeek?"week":"date"))("showPreBtn",t.enablePrevNext("prev",t.showWeek?"week":"date"))("showNextBtn",t.enablePrevNext("next",t.showWeek?"week":"date")),r.Db(1),r.Gb("",t.prefixCls,"-body"),r.Db(1),r.qc("locale",t.locale)("showWeek",t.showWeek)("value",t.value)("activeDate",t.activeDate)("disabledDate",t.disabledDate)("cellRender",t.dateRender)("selectedValue",t.selectedValue)("hoverValue",t.hoverValue)}}function ynt(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Xb(1,"nz-time-picker-panel",10),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc().onSelectTime(e)}),r.Wb(),r.Ub()}if(2&t){const t=r.jc();r.Db(1),r.qc("nzInDatePicker",!0)("ngModel",null==t.value?null:t.value.nativeDate)("format",t.timeOptions.nzFormat)("nzHourStep",t.timeOptions.nzHourStep)("nzMinuteStep",t.timeOptions.nzMinuteStep)("nzSecondStep",t.timeOptions.nzSecondStep)("nzDisabledHours",t.timeOptions.nzDisabledHours)("nzDisabledMinutes",t.timeOptions.nzDisabledMinutes)("nzDisabledSeconds",t.timeOptions.nzDisabledSeconds)("nzHideDisabledOptions",!!t.timeOptions.nzHideDisabledOptions)("nzDefaultOpenValue",t.timeOptions.nzDefaultOpenValue)("nzUse12Hours",!!t.timeOptions.nzUse12Hours)("nzAddOn",t.timeOptions.nzAddOn)}}function vnt(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"button",6),r.fc("click",function(){return e.$implicit.onClick()}),r.Mc(2),r.Wb(),r.Ub()),2&t){const t=e.$implicit;r.Db(1),r.Fb(t.className),r.rc("title",t.title||null),r.Db(1),r.Oc(" ",t.label," ")}}function _nt(t,e){1&t&&r.Sb(0,"th",6)}function wnt(t,e){if(1&t&&(r.Xb(0,"th",7),r.Mc(1),r.Wb()),2&t){const t=e.$implicit;r.rc("title",t.title),r.Db(1),r.Oc(" ",t.content," ")}}function znt(t,e){if(1&t&&(r.Xb(0,"thead"),r.Xb(1,"tr",3),r.Kc(2,_nt,1,0,"th",4),r.Kc(3,wnt,2,2,"th",5),r.Wb(),r.Wb()),2&t){const t=r.jc();r.Db(2),r.qc("ngIf",t.showWeek),r.Db(1),r.qc("ngForOf",t.headRow)}}function Cnt(t,e){if(1&t&&(r.Xb(0,"td",11),r.Mc(1),r.Wb()),2&t){const t=r.jc().$implicit,e=r.jc();r.Gb("",e.prefixCls,"-cell-week"),r.Db(1),r.Oc(" ",t.weekNum," ")}}function Snt(t,e){1&t&&r.Tb(0)}const xnt=function(t){return{$implicit:t}};function Ont(t,e){if(1&t&&(r.Vb(0),r.Kc(1,Snt,1,0,"ng-container",16),r.Ub()),2&t){const t=r.jc(2).$implicit;r.Db(1),r.qc("ngTemplateOutlet",t.cellRender)("ngTemplateOutletContext",r.vc(2,xnt,t.value))}}function knt(t,e){if(1&t&&(r.Vb(0),r.Sb(1,"span",17),r.Ub()),2&t){const t=r.jc(2).$implicit;r.Db(1),r.qc("innerHTML",t.cellRender,r.Dc)}}function Tnt(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"div"),r.Mc(2),r.Wb(),r.Ub()),2&t){const t=r.jc(2).$implicit,e=r.jc(2);r.Db(1),r.Gb("",e.prefixCls,"-cell-inner"),r.Eb("aria-selected",t.isSelected)("aria-disabled",t.isDisabled),r.Db(1),r.Oc(" ",t.content," ")}}function Ent(t,e){if(1&t&&(r.Vb(0),r.Vb(1,13),r.Kc(2,Ont,2,4,"ng-container",14),r.Kc(3,knt,2,1,"ng-container",14),r.Kc(4,Tnt,3,6,"ng-container",15),r.Ub(),r.Ub()),2&t){const t=r.jc().$implicit,e=r.jc(2);r.Db(1),r.qc("ngSwitch",!0),r.Db(1),r.qc("ngSwitchCase",e.isTemplateRef(t.cellRender)),r.Db(1),r.qc("ngSwitchCase",e.isNonEmptyString(t.cellRender))}}function Int(t,e){1&t&&r.Tb(0)}function Dnt(t,e){if(1&t&&(r.Vb(0),r.Kc(1,Int,1,0,"ng-container",16),r.Ub()),2&t){const t=r.jc(2).$implicit;r.Db(1),r.qc("ngTemplateOutlet",t.fullCellRender)("ngTemplateOutletContext",r.vc(2,xnt,t.value))}}function Mnt(t,e){1&t&&r.Tb(0)}function Rnt(t,e){if(1&t&&(r.Xb(0,"div"),r.Mc(1),r.Wb(),r.Xb(2,"div"),r.Kc(3,Mnt,1,0,"ng-container",16),r.Wb()),2&t){const t=r.jc(2).$implicit,e=r.jc(2);r.Gb("",e.prefixCls,"-date-value"),r.Db(1),r.Nc(t.content),r.Db(1),r.Gb("",e.prefixCls,"-date-content"),r.Db(1),r.qc("ngTemplateOutlet",t.cellRender)("ngTemplateOutletContext",r.vc(9,xnt,t.value))}}function Ant(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"div"),r.Kc(2,Dnt,2,4,"ng-container",18),r.Kc(3,Rnt,4,11,"ng-template",null,19,r.Lc),r.Wb(),r.Ub()),2&t){const t=r.Ac(4),e=r.jc().$implicit,n=r.jc(2);r.Db(1),r.Gb("",n.prefixCls,"-date ant-picker-cell-inner"),r.Jb("ant-picker-calendar-date-today",e.isToday),r.Db(1),r.qc("ngIf",e.fullCellRender)("ngIfElse",t)}}function Pnt(t,e){if(1&t&&(r.Xb(0,"td",12),r.fc("click",function(){const t=e.$implicit;return t.isDisabled?null:t.onClick()})("mouseenter",function(){return e.$implicit.onMouseEnter()}),r.Vb(1,13),r.Kc(2,Ent,5,3,"ng-container",14),r.Kc(3,Ant,5,7,"ng-container",14),r.Ub(),r.Wb()),2&t){const t=e.$implicit,n=r.jc(2);r.rc("title",t.title),r.qc("ngClass",t.classMap),r.Db(1),r.qc("ngSwitch",n.prefixCls),r.Db(1),r.qc("ngSwitchCase","ant-picker"),r.Db(1),r.qc("ngSwitchCase","ant-picker-calendar")}}function Lnt(t,e){if(1&t&&(r.Xb(0,"tr",8),r.Kc(1,Cnt,2,4,"td",9),r.Kc(2,Pnt,4,5,"td",10),r.Wb()),2&t){const t=e.$implicit,n=r.jc();r.qc("ngClass",t.classMap),r.Db(1),r.qc("ngIf",t.weekNum),r.Db(1),r.qc("ngForOf",t.dateCells)("ngForTrackBy",n.trackByBodyColumn)}}function Fnt(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"button",6),r.fc("click",function(){return e.$implicit.onClick()}),r.Mc(2),r.Wb(),r.Ub()),2&t){const t=e.$implicit;r.Db(1),r.Fb(t.className),r.rc("title",t.title||null),r.Db(1),r.Oc(" ",t.label," ")}}function jnt(t,e){1&t&&r.Sb(0,"th",6)}function Nnt(t,e){if(1&t&&(r.Xb(0,"th",7),r.Mc(1),r.Wb()),2&t){const t=e.$implicit;r.rc("title",t.title),r.Db(1),r.Oc(" ",t.content," ")}}function Vnt(t,e){if(1&t&&(r.Xb(0,"thead"),r.Xb(1,"tr",3),r.Kc(2,jnt,1,0,"th",4),r.Kc(3,Nnt,2,2,"th",5),r.Wb(),r.Wb()),2&t){const t=r.jc();r.Db(2),r.qc("ngIf",t.showWeek),r.Db(1),r.qc("ngForOf",t.headRow)}}function Wnt(t,e){if(1&t&&(r.Xb(0,"td",11),r.Mc(1),r.Wb()),2&t){const t=r.jc().$implicit,e=r.jc();r.Gb("",e.prefixCls,"-cell-week"),r.Db(1),r.Oc(" ",t.weekNum," ")}}function qnt(t,e){1&t&&r.Tb(0)}function Bnt(t,e){if(1&t&&(r.Vb(0),r.Kc(1,qnt,1,0,"ng-container",16),r.Ub()),2&t){const t=r.jc(2).$implicit;r.Db(1),r.qc("ngTemplateOutlet",t.cellRender)("ngTemplateOutletContext",r.vc(2,xnt,t.value))}}function Xnt(t,e){if(1&t&&(r.Vb(0),r.Sb(1,"span",17),r.Ub()),2&t){const t=r.jc(2).$implicit;r.Db(1),r.qc("innerHTML",t.cellRender,r.Dc)}}function Unt(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"div"),r.Mc(2),r.Wb(),r.Ub()),2&t){const t=r.jc(2).$implicit,e=r.jc(2);r.Db(1),r.Gb("",e.prefixCls,"-cell-inner"),r.Eb("aria-selected",t.isSelected)("aria-disabled",t.isDisabled),r.Db(1),r.Oc(" ",t.content," ")}}function $nt(t,e){if(1&t&&(r.Vb(0),r.Vb(1,13),r.Kc(2,Bnt,2,4,"ng-container",14),r.Kc(3,Xnt,2,1,"ng-container",14),r.Kc(4,Unt,3,6,"ng-container",15),r.Ub(),r.Ub()),2&t){const t=r.jc().$implicit,e=r.jc(2);r.Db(1),r.qc("ngSwitch",!0),r.Db(1),r.qc("ngSwitchCase",e.isTemplateRef(t.cellRender)),r.Db(1),r.qc("ngSwitchCase",e.isNonEmptyString(t.cellRender))}}function Hnt(t,e){1&t&&r.Tb(0)}function Knt(t,e){if(1&t&&(r.Vb(0),r.Kc(1,Hnt,1,0,"ng-container",16),r.Ub()),2&t){const t=r.jc(2).$implicit;r.Db(1),r.qc("ngTemplateOutlet",t.fullCellRender)("ngTemplateOutletContext",r.vc(2,xnt,t.value))}}function Gnt(t,e){1&t&&r.Tb(0)}function Ynt(t,e){if(1&t&&(r.Xb(0,"div"),r.Mc(1),r.Wb(),r.Xb(2,"div"),r.Kc(3,Gnt,1,0,"ng-container",16),r.Wb()),2&t){const t=r.jc(2).$implicit,e=r.jc(2);r.Gb("",e.prefixCls,"-date-value"),r.Db(1),r.Nc(t.content),r.Db(1),r.Gb("",e.prefixCls,"-date-content"),r.Db(1),r.qc("ngTemplateOutlet",t.cellRender)("ngTemplateOutletContext",r.vc(9,xnt,t.value))}}function Qnt(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"div"),r.Kc(2,Knt,2,4,"ng-container",18),r.Kc(3,Ynt,4,11,"ng-template",null,19,r.Lc),r.Wb(),r.Ub()),2&t){const t=r.Ac(4),e=r.jc().$implicit,n=r.jc(2);r.Db(1),r.Gb("",n.prefixCls,"-date ant-picker-cell-inner"),r.Jb("ant-picker-calendar-date-today",e.isToday),r.Db(1),r.qc("ngIf",e.fullCellRender)("ngIfElse",t)}}function Jnt(t,e){if(1&t&&(r.Xb(0,"td",12),r.fc("click",function(){const t=e.$implicit;return t.isDisabled?null:t.onClick()})("mouseenter",function(){return e.$implicit.onMouseEnter()}),r.Vb(1,13),r.Kc(2,$nt,5,3,"ng-container",14),r.Kc(3,Qnt,5,7,"ng-container",14),r.Ub(),r.Wb()),2&t){const t=e.$implicit,n=r.jc(2);r.rc("title",t.title),r.qc("ngClass",t.classMap),r.Db(1),r.qc("ngSwitch",n.prefixCls),r.Db(1),r.qc("ngSwitchCase","ant-picker"),r.Db(1),r.qc("ngSwitchCase","ant-picker-calendar")}}function Znt(t,e){if(1&t&&(r.Xb(0,"tr",8),r.Kc(1,Wnt,2,4,"td",9),r.Kc(2,Jnt,4,5,"td",10),r.Wb()),2&t){const t=e.$implicit,n=r.jc();r.qc("ngClass",t.classMap),r.Db(1),r.qc("ngIf",t.weekNum),r.Db(1),r.qc("ngForOf",t.dateCells)("ngForTrackBy",n.trackByBodyColumn)}}function tit(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"button",6),r.fc("click",function(){return e.$implicit.onClick()}),r.Mc(2),r.Wb(),r.Ub()),2&t){const t=e.$implicit;r.Db(1),r.Fb(t.className),r.rc("title",t.title||null),r.Db(1),r.Oc(" ",t.label," ")}}function eit(t,e){1&t&&r.Sb(0,"th",6)}function nit(t,e){if(1&t&&(r.Xb(0,"th",7),r.Mc(1),r.Wb()),2&t){const t=e.$implicit;r.rc("title",t.title),r.Db(1),r.Oc(" ",t.content," ")}}function iit(t,e){if(1&t&&(r.Xb(0,"thead"),r.Xb(1,"tr",3),r.Kc(2,eit,1,0,"th",4),r.Kc(3,nit,2,2,"th",5),r.Wb(),r.Wb()),2&t){const t=r.jc();r.Db(2),r.qc("ngIf",t.showWeek),r.Db(1),r.qc("ngForOf",t.headRow)}}function rit(t,e){if(1&t&&(r.Xb(0,"td",11),r.Mc(1),r.Wb()),2&t){const t=r.jc().$implicit,e=r.jc();r.Gb("",e.prefixCls,"-cell-week"),r.Db(1),r.Oc(" ",t.weekNum," ")}}function oit(t,e){1&t&&r.Tb(0)}function sit(t,e){if(1&t&&(r.Vb(0),r.Kc(1,oit,1,0,"ng-container",16),r.Ub()),2&t){const t=r.jc(2).$implicit;r.Db(1),r.qc("ngTemplateOutlet",t.cellRender)("ngTemplateOutletContext",r.vc(2,xnt,t.value))}}function ait(t,e){if(1&t&&(r.Vb(0),r.Sb(1,"span",17),r.Ub()),2&t){const t=r.jc(2).$implicit;r.Db(1),r.qc("innerHTML",t.cellRender,r.Dc)}}function cit(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"div"),r.Mc(2),r.Wb(),r.Ub()),2&t){const t=r.jc(2).$implicit,e=r.jc(2);r.Db(1),r.Gb("",e.prefixCls,"-cell-inner"),r.Eb("aria-selected",t.isSelected)("aria-disabled",t.isDisabled),r.Db(1),r.Oc(" ",t.content," ")}}function lit(t,e){if(1&t&&(r.Vb(0),r.Vb(1,13),r.Kc(2,sit,2,4,"ng-container",14),r.Kc(3,ait,2,1,"ng-container",14),r.Kc(4,cit,3,6,"ng-container",15),r.Ub(),r.Ub()),2&t){const t=r.jc().$implicit,e=r.jc(2);r.Db(1),r.qc("ngSwitch",!0),r.Db(1),r.qc("ngSwitchCase",e.isTemplateRef(t.cellRender)),r.Db(1),r.qc("ngSwitchCase",e.isNonEmptyString(t.cellRender))}}function uit(t,e){1&t&&r.Tb(0)}function hit(t,e){if(1&t&&(r.Vb(0),r.Kc(1,uit,1,0,"ng-container",16),r.Ub()),2&t){const t=r.jc(2).$implicit;r.Db(1),r.qc("ngTemplateOutlet",t.fullCellRender)("ngTemplateOutletContext",r.vc(2,xnt,t.value))}}function dit(t,e){1&t&&r.Tb(0)}function pit(t,e){if(1&t&&(r.Xb(0,"div"),r.Mc(1),r.Wb(),r.Xb(2,"div"),r.Kc(3,dit,1,0,"ng-container",16),r.Wb()),2&t){const t=r.jc(2).$implicit,e=r.jc(2);r.Gb("",e.prefixCls,"-date-value"),r.Db(1),r.Nc(t.content),r.Db(1),r.Gb("",e.prefixCls,"-date-content"),r.Db(1),r.qc("ngTemplateOutlet",t.cellRender)("ngTemplateOutletContext",r.vc(9,xnt,t.value))}}function fit(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"div"),r.Kc(2,hit,2,4,"ng-container",18),r.Kc(3,pit,4,11,"ng-template",null,19,r.Lc),r.Wb(),r.Ub()),2&t){const t=r.Ac(4),e=r.jc().$implicit,n=r.jc(2);r.Db(1),r.Gb("",n.prefixCls,"-date ant-picker-cell-inner"),r.Jb("ant-picker-calendar-date-today",e.isToday),r.Db(1),r.qc("ngIf",e.fullCellRender)("ngIfElse",t)}}function git(t,e){if(1&t&&(r.Xb(0,"td",12),r.fc("click",function(){const t=e.$implicit;return t.isDisabled?null:t.onClick()})("mouseenter",function(){return e.$implicit.onMouseEnter()}),r.Vb(1,13),r.Kc(2,lit,5,3,"ng-container",14),r.Kc(3,fit,5,7,"ng-container",14),r.Ub(),r.Wb()),2&t){const t=e.$implicit,n=r.jc(2);r.rc("title",t.title),r.qc("ngClass",t.classMap),r.Db(1),r.qc("ngSwitch",n.prefixCls),r.Db(1),r.qc("ngSwitchCase","ant-picker"),r.Db(1),r.qc("ngSwitchCase","ant-picker-calendar")}}function mit(t,e){if(1&t&&(r.Xb(0,"tr",8),r.Kc(1,rit,2,4,"td",9),r.Kc(2,git,4,5,"td",10),r.Wb()),2&t){const t=e.$implicit,n=r.jc();r.qc("ngClass",t.classMap),r.Db(1),r.qc("ngIf",t.weekNum),r.Db(1),r.qc("ngForOf",t.dateCells)("ngForTrackBy",n.trackByBodyColumn)}}function bit(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"button",6),r.fc("click",function(){return e.$implicit.onClick()}),r.Mc(2),r.Wb(),r.Ub()),2&t){const t=e.$implicit;r.Db(1),r.Fb(t.className),r.rc("title",t.title||null),r.Db(1),r.Oc(" ",t.label," ")}}function yit(t,e){1&t&&r.Sb(0,"th",6)}function vit(t,e){if(1&t&&(r.Xb(0,"th",7),r.Mc(1),r.Wb()),2&t){const t=e.$implicit;r.rc("title",t.title),r.Db(1),r.Oc(" ",t.content," ")}}function _it(t,e){if(1&t&&(r.Xb(0,"thead"),r.Xb(1,"tr",3),r.Kc(2,yit,1,0,"th",4),r.Kc(3,vit,2,2,"th",5),r.Wb(),r.Wb()),2&t){const t=r.jc();r.Db(2),r.qc("ngIf",t.showWeek),r.Db(1),r.qc("ngForOf",t.headRow)}}function wit(t,e){if(1&t&&(r.Xb(0,"td",11),r.Mc(1),r.Wb()),2&t){const t=r.jc().$implicit,e=r.jc();r.Gb("",e.prefixCls,"-cell-week"),r.Db(1),r.Oc(" ",t.weekNum," ")}}function zit(t,e){1&t&&r.Tb(0)}function Cit(t,e){if(1&t&&(r.Vb(0),r.Kc(1,zit,1,0,"ng-container",16),r.Ub()),2&t){const t=r.jc(2).$implicit;r.Db(1),r.qc("ngTemplateOutlet",t.cellRender)("ngTemplateOutletContext",r.vc(2,xnt,t.value))}}function Sit(t,e){if(1&t&&(r.Vb(0),r.Sb(1,"span",17),r.Ub()),2&t){const t=r.jc(2).$implicit;r.Db(1),r.qc("innerHTML",t.cellRender,r.Dc)}}function xit(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"div"),r.Mc(2),r.Wb(),r.Ub()),2&t){const t=r.jc(2).$implicit,e=r.jc(2);r.Db(1),r.Gb("",e.prefixCls,"-cell-inner"),r.Eb("aria-selected",t.isSelected)("aria-disabled",t.isDisabled),r.Db(1),r.Oc(" ",t.content," ")}}function Oit(t,e){if(1&t&&(r.Vb(0),r.Vb(1,13),r.Kc(2,Cit,2,4,"ng-container",14),r.Kc(3,Sit,2,1,"ng-container",14),r.Kc(4,xit,3,6,"ng-container",15),r.Ub(),r.Ub()),2&t){const t=r.jc().$implicit,e=r.jc(2);r.Db(1),r.qc("ngSwitch",!0),r.Db(1),r.qc("ngSwitchCase",e.isTemplateRef(t.cellRender)),r.Db(1),r.qc("ngSwitchCase",e.isNonEmptyString(t.cellRender))}}function kit(t,e){1&t&&r.Tb(0)}function Tit(t,e){if(1&t&&(r.Vb(0),r.Kc(1,kit,1,0,"ng-container",16),r.Ub()),2&t){const t=r.jc(2).$implicit;r.Db(1),r.qc("ngTemplateOutlet",t.fullCellRender)("ngTemplateOutletContext",r.vc(2,xnt,t.value))}}function Eit(t,e){1&t&&r.Tb(0)}function Iit(t,e){if(1&t&&(r.Xb(0,"div"),r.Mc(1),r.Wb(),r.Xb(2,"div"),r.Kc(3,Eit,1,0,"ng-container",16),r.Wb()),2&t){const t=r.jc(2).$implicit,e=r.jc(2);r.Gb("",e.prefixCls,"-date-value"),r.Db(1),r.Nc(t.content),r.Db(1),r.Gb("",e.prefixCls,"-date-content"),r.Db(1),r.qc("ngTemplateOutlet",t.cellRender)("ngTemplateOutletContext",r.vc(9,xnt,t.value))}}function Dit(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"div"),r.Kc(2,Tit,2,4,"ng-container",18),r.Kc(3,Iit,4,11,"ng-template",null,19,r.Lc),r.Wb(),r.Ub()),2&t){const t=r.Ac(4),e=r.jc().$implicit,n=r.jc(2);r.Db(1),r.Gb("",n.prefixCls,"-date ant-picker-cell-inner"),r.Jb("ant-picker-calendar-date-today",e.isToday),r.Db(1),r.qc("ngIf",e.fullCellRender)("ngIfElse",t)}}function Mit(t,e){if(1&t&&(r.Xb(0,"td",12),r.fc("click",function(){const t=e.$implicit;return t.isDisabled?null:t.onClick()})("mouseenter",function(){return e.$implicit.onMouseEnter()}),r.Vb(1,13),r.Kc(2,Oit,5,3,"ng-container",14),r.Kc(3,Dit,5,7,"ng-container",14),r.Ub(),r.Wb()),2&t){const t=e.$implicit,n=r.jc(2);r.rc("title",t.title),r.qc("ngClass",t.classMap),r.Db(1),r.qc("ngSwitch",n.prefixCls),r.Db(1),r.qc("ngSwitchCase","ant-picker"),r.Db(1),r.qc("ngSwitchCase","ant-picker-calendar")}}function Rit(t,e){if(1&t&&(r.Xb(0,"tr",8),r.Kc(1,wit,2,4,"td",9),r.Kc(2,Mit,4,5,"td",10),r.Wb()),2&t){const t=e.$implicit,n=r.jc();r.qc("ngClass",t.classMap),r.Db(1),r.qc("ngIf",t.weekNum),r.Db(1),r.qc("ngForOf",t.dateCells)("ngForTrackBy",n.trackByBodyColumn)}}const Ait={nzDisabledHours:()=>[],nzDisabledMinutes:()=>[],nzDisabledSeconds:()=>[]};function Pit(t,e){let n=e?e(t&&t.nativeDate):{};return n=Object.assign(Object.assign({},Ait),n),n}function Lit(t,e,n){return!(!t||e&&e(t.nativeDate)||n&&!function(t,e){return function(t,e){let n=!1;if(t){const i=t.getHours(),r=t.getMinutes(),o=t.getSeconds();n=-1!==e.nzDisabledHours().indexOf(i)||-1!==e.nzDisabledMinutes(i).indexOf(r)||-1!==e.nzDisabledSeconds(i,r).indexOf(o)}return!n}(t,Pit(t,e))}(t,n))}function Fit(t){return t&&t.replace(/Y/g,"y").replace(/D/g,"d")}let jit=(()=>{class t{constructor(t){this.dateHelper=t,this.showToday=!1,this.showNow=!1,this.hasTimePicker=!1,this.isRange=!1,this.okDisabled=!1,this.rangeQuickSelector=null,this.clickOk=new r.n,this.clickToday=new r.n,this.prefixCls="ant-picker",this.isTemplateRef=xi,this.isNonEmptyString=Si,this.isTodayDisabled=!1,this.todayTitle=""}ngOnChanges(t){const e=new Date;if(t.disabledDate&&(this.isTodayDisabled=!(!this.disabledDate||!this.disabledDate(e))),t.locale){const t=Fit(this.locale.dateFormat);this.todayTitle=this.dateHelper.format(e,t)}}onClickToday(){const t=new Cd;this.clickToday.emit(t.clone())}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Pd))},t.\u0275cmp=r.Lb({type:t,selectors:[["calendar-footer"]],inputs:{showToday:"showToday",showNow:"showNow",hasTimePicker:"hasTimePicker",isRange:"isRange",okDisabled:"okDisabled",rangeQuickSelector:"rangeQuickSelector",locale:"locale",disabledDate:"disabledDate",extraFooter:"extraFooter"},outputs:{clickOk:"clickOk",clickToday:"clickToday"},exportAs:["calendarFooter"],features:[r.Bb],decls:4,vars:6,consts:[[3,"class",4,"ngIf"],["role","button",3,"class","title","click",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngTemplateOutlet"],[3,"innerHTML"],["role","button",3,"title","click"],[3,"click"],["nz-button","","type","button","nzType","primary","nzSize","small",3,"disabled","click"]],template:function(t,e){1&t&&(r.Xb(0,"div"),r.Kc(1,Iet,4,6,"div",0),r.Kc(2,Det,2,6,"a",1),r.Kc(3,Pet,4,6,"ul",0),r.Wb()),2&t&&(r.Gb("",e.prefixCls,"-footer"),r.Db(1),r.qc("ngIf",e.extraFooter),r.Db(1),r.qc("ngIf",e.showToday),r.Db(1),r.qc("ngIf",e.hasTimePicker||e.rangeQuickSelector))},directives:[i.n,i.p,i.q,i.s,HL,qL,Rf],encapsulation:2,changeDetection:0}),t})(),Nit=(()=>{class t{constructor(){this.activeInput="left",this.arrowLeft=0,this.isRange=!1,this.valueChange$=new tr(1),this.emitValue$=new xe.a,this.inputPartChange$=new xe.a}initValue(){this.initialValue=this.isRange?[]:null,this.setValue(this.initialValue)}hasValue(t=this.value){return Array.isArray(t)?!!t[0]||!!t[1]:!!t}makeValue(t){return this.isRange?t?t.map(t=>new Cd(t)):[]:t?new Cd(t):null}setActiveDate(t,e=!1,n="month"){this.activeDate=this.isRange?function(t,e,n="month",i="left"){const[r,o]=t;let s=r||new Cd,a=o||(e?s:s.add(1,n));return r&&!o?(s=r,a=e?r:r.add(1,n)):!r&&o?(s=e?o:o.add(-1,n),a=o):r&&o&&!e&&("left"===i?a=s.add(1,n):s=a.add(-1,n)),[s,a]}(t,e,{date:"month",month:"year",year:"decade"}[n],this.activeInput):zd(t)}setValue(t){this.value=t,this.valueChange$.next(this.value)}getActiveIndex(t=this.activeInput){return{left:0,right:1}[t]}ngOnDestroy(){this.valueChange$.complete(),this.emitValue$.complete(),this.inputPartChange$.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),Vit=(()=>{class t{constructor(t,e){this.datePickerService=t,this.cdr=e,this.panelModeChange=new r.n,this.calendarChange=new r.n,this.resultOk=new r.n,this.dir="ltr",this.prefixCls="ant-picker",this.endPanelMode="date",this.timeOptions=null,this.hoverValue=[],this.checkedPartArr=[!1,!1],this.destroy$=new xe.a,this.disabledStartTime=t=>this.disabledTime&&this.disabledTime(t,"start"),this.disabledEndTime=t=>this.disabledTime&&this.disabledTime(t,"end")}get hasTimePicker(){return!!this.showTime}get hasFooter(){return this.showToday||this.hasTimePicker||!!this.extraFooter||!!this.ranges}ngOnInit(){this.datePickerService.valueChange$.pipe(An(this.destroy$)).subscribe(()=>{this.updateActiveDate(),this.cdr.markForCheck()})}ngOnChanges(t){(t.showTime||t.disabledTime)&&this.showTime&&this.buildTimeOptions(),t.panelMode&&(this.endPanelMode=this.panelMode),t.defaultPickerValue&&this.updateActiveDate()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateActiveDate(){const t=this.datePickerService.hasValue()?this.datePickerService.value:this.datePickerService.makeValue(this.defaultPickerValue);this.datePickerService.setActiveDate(t,this.hasTimePicker,this.getPanelMode(this.endPanelMode))}init(){this.checkedPartArr=[!1,!1],this.updateActiveDate()}onMousedown(t){t.preventDefault()}onClickOk(){this.changeValueFromSelect(this.isRange?this.datePickerService.value[{left:0,right:1}[this.datePickerService.activeInput]]:this.datePickerService.value),this.resultOk.emit()}onClickToday(t){this.changeValueFromSelect(t,!this.showTime)}onCellHover(t){if(!this.isRange)return;const e=this.datePickerService.value[{left:1,right:0}[this.datePickerService.activeInput]];e&&(this.hoverValue=e.isBeforeDay(t)?[e,t]:[t,e])}onPanelModeChange(t,e){if(this.isRange){const n=this.datePickerService.getActiveIndex(e);this.panelMode=0===n?[t,this.panelMode[1]]:[this.panelMode[0],t]}else this.panelMode=t;this.panelModeChange.emit(this.panelMode)}onActiveDateChange(t,e){if(this.isRange){const n=[];n[this.datePickerService.getActiveIndex(e)]=t,this.datePickerService.setActiveDate(n,this.hasTimePicker,this.getPanelMode(this.endPanelMode,e))}else this.datePickerService.setActiveDate(t)}onSelectTime(t,e){if(this.isRange){const n=zd(this.datePickerService.value),i=this.datePickerService.getActiveIndex(e);n[i]=this.overrideHms(t,n[i]),this.datePickerService.setValue(n)}else{const e=this.overrideHms(t,this.datePickerService.value);this.datePickerService.setValue(e)}this.datePickerService.inputPartChange$.next(),this.buildTimeOptions()}changeValueFromSelect(t,e=!0){if(this.isRange){const n=zd(this.datePickerService.value),i=this.datePickerService.activeInput;let r=i;n[this.datePickerService.getActiveIndex(i)]=t,this.checkedPartArr[this.datePickerService.getActiveIndex(i)]=!0,this.hoverValue=n,e?(wd(n)&&(r=this.reversedPart(i),n[this.datePickerService.getActiveIndex(r)]=null,this.checkedPartArr[this.datePickerService.getActiveIndex(r)]=!1),this.datePickerService.setValue(n),this.isBothAllowed(n)&&this.checkedPartArr[0]&&this.checkedPartArr[1]?(this.calendarChange.emit(n),this.clearHoverValue(),this.datePickerService.emitValue$.next()):this.isAllowed(n)&&(r=this.reversedPart(i),this.calendarChange.emit([t.clone()]))):this.datePickerService.setValue(n),this.datePickerService.inputPartChange$.next(r)}else this.datePickerService.setValue(t),this.datePickerService.inputPartChange$.next(),e&&this.isAllowed(t)&&this.datePickerService.emitValue$.next()}reversedPart(t){return"left"===t?"right":"left"}getPanelMode(t,e){return this.isRange?t[this.datePickerService.getActiveIndex(e)]:t}getValue(t){return this.isRange?(this.datePickerService.value||[])[this.datePickerService.getActiveIndex(t)]:this.datePickerService.value}getActiveDate(t){return this.isRange?this.datePickerService.activeDate[this.datePickerService.getActiveIndex(t)]:this.datePickerService.activeDate}isOneAllowed(t){const e=this.datePickerService.getActiveIndex();return Lit(t[e],this.disabledDate,[this.disabledStartTime,this.disabledEndTime][e])}isBothAllowed(t){return Lit(t[0],this.disabledDate,this.disabledStartTime)&&Lit(t[1],this.disabledDate,this.disabledEndTime)}isAllowed(t,e=!1){return this.isRange?e?this.isBothAllowed(t):this.isOneAllowed(t):Lit(t,this.disabledDate,this.disabledTime)}getTimeOptions(t){return this.showTime&&this.timeOptions?this.timeOptions instanceof Array?this.timeOptions[this.datePickerService.getActiveIndex(t)]:this.timeOptions:null}onClickPresetRange(t){const e="function"==typeof t?t():t;e&&(this.datePickerService.setValue([new Cd(e[0]),new Cd(e[1])]),this.datePickerService.emitValue$.next())}onPresetRangeMouseLeave(){this.clearHoverValue()}onHoverPresetRange(t){"function"!=typeof t&&(this.hoverValue=[new Cd(t[0]),new Cd(t[1])])}getObjectKeys(t){return t?Object.keys(t):[]}show(t){return!(this.showTime&&this.isRange&&this.datePickerService.activeInput!==t)}clearHoverValue(){this.hoverValue=[]}buildTimeOptions(){if(this.showTime){const t="object"==typeof this.showTime?this.showTime:{};if(this.isRange){const e=this.datePickerService.value;this.timeOptions=[this.overrideTimeOptions(t,e[0],"start"),this.overrideTimeOptions(t,e[1],"end")]}else this.timeOptions=this.overrideTimeOptions(t,this.datePickerService.value)}else this.timeOptions=null}overrideTimeOptions(t,e,n){let i;return i=n?"start"===n?this.disabledStartTime:this.disabledEndTime:this.disabledTime,Object.assign(Object.assign({},t),Pit(e,i))}overrideHms(t,e){return t=t||new Cd,(e=e||new Cd).setHms(t.getHours(),t.getMinutes(),t.getSeconds())}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Nit),r.Rb(r.h))},t.\u0275cmp=r.Lb({type:t,selectors:[["date-range-popup"]],hostBindings:function(t,e){1&t&&r.fc("mousedown",function(t){return e.onMousedown(t)})},inputs:{dir:"dir",panelMode:"panelMode",isRange:"isRange",showWeek:"showWeek",locale:"locale",disabledDate:"disabledDate",disabledTime:"disabledTime",showToday:"showToday",showNow:"showNow",showTime:"showTime",extraFooter:"extraFooter",ranges:"ranges",dateRender:"dateRender",defaultPickerValue:"defaultPickerValue"},outputs:{panelModeChange:"panelModeChange",calendarChange:"calendarChange",resultOk:"resultOk"},exportAs:["dateRangePopup"],features:[r.Bb],decls:9,vars:2,consts:[[4,"ngIf","ngIfElse"],["singlePanel",""],["tplInnerPopup",""],["tplFooter",""],["tplRangeQuickSelector",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"],["tabindex","-1"],[3,"showWeek","endPanelMode","partType","locale","showTimePicker","timeOptions","panelMode","activeDate","value","disabledDate","dateRender","selectedValue","hoverValue","panelModeChange","cellHover","selectDate","selectTime","headerChange"],[3,"locale","isRange","showToday","showNow","hasTimePicker","okDisabled","extraFooter","rangeQuickSelector","clickOk","clickToday",4,"ngIf"],[3,"locale","isRange","showToday","showNow","hasTimePicker","okDisabled","extraFooter","rangeQuickSelector","clickOk","clickToday"],[3,"class","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],[3,"click","mouseenter","mouseleave"],[1,"ant-tag","ant-tag-blue"]],template:function(t,e){if(1&t&&(r.Kc(0,Wet,8,22,"ng-container",0),r.Kc(1,Xet,4,13,"ng-template",null,1,r.Lc),r.Kc(3,Uet,2,20,"ng-template",null,2,r.Lc),r.Kc(5,Het,1,1,"ng-template",null,3,r.Lc),r.Kc(7,Get,1,1,"ng-template",null,4,r.Lc)),2&t){const t=r.Ac(2);r.qc("ngIf",e.isRange)("ngIfElse",t)}},directives:function(){return[i.n,i.s,Xit,jit,i.m]},encapsulation:2,changeDetection:0}),t})(),Wit=(()=>{class t{constructor(t,e,n,i,o,s,a){this.elementRef=t,this.dateHelper=e,this.cdr=n,this.platform=i,this.nzResizeObserver=o,this.datePickerService=s,this.noAnimation=!1,this.isRange=!1,this.open=void 0,this.disabled=!1,this.inputReadOnly=!1,this.popupStyle=null,this.dir="ltr",this.id=null,this.focusChange=new r.n,this.valueChange=new r.n,this.openChange=new r.n,this.inputSize=12,this.destroy$=new xe.a,this.prefixCls="ant-picker",this.activeBarStyle={},this.overlayOpen=!1,this.overlayPositions=[{offsetX:-12,offsetY:8,originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{offsetX:-12,offsetY:-8,originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{offsetX:12,offsetY:8,originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{offsetX:12,offsetY:-8,originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}],this.currentPositionX="start",this.currentPositionY="bottom",this.document=a,this.origin=new Yl(this.elementRef)}get realOpenState(){return this.isOpenHandledByUser()?!!this.open:this.overlayOpen}ngOnInit(){this.inputValue=this.isRange?["",""]:"",this.datePickerService.valueChange$.pipe(An(this.destroy$)).subscribe(()=>{this.updateInputValue()})}ngAfterViewInit(){this.autoFocus&&this.focus(),this.isRange&&this.platform.isBrowser&&this.nzResizeObserver.observe(this.elementRef).pipe(An(this.destroy$)).subscribe(()=>{this.updateInputWidthAndArrowLeft()}),this.datePickerService.inputPartChange$.pipe(An(this.destroy$)).subscribe(t=>{var e;t&&(this.datePickerService.activeInput=t),this.focus(),this.updateInputWidthAndArrowLeft(),null===(e=this.panel)||void 0===e||e.updateActiveDate()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnChanges(t){var e,n;(null===(e=t.format)||void 0===e?void 0:e.currentValue)!==(null===(n=t.format)||void 0===n?void 0:n.previousValue)&&(this.inputSize=Math.max(10,this.format.length)+2,this.updateInputValue())}updateInputWidthAndArrowLeft(){var t,e,n;this.inputWidth=(null===(e=null===(t=this.rangePickerInputs)||void 0===t?void 0:t.first)||void 0===e?void 0:e.nativeElement.offsetWidth)||0;const i={position:"absolute",width:`${this.inputWidth}px`};this.datePickerService.arrowLeft="left"===this.datePickerService.activeInput?0:this.inputWidth+(null===(n=this.separatorElement)||void 0===n?void 0:n.nativeElement.offsetWidth)||0,this.activeBarStyle=Object.assign(Object.assign({},i),"rtl"===this.dir?{right:`${this.datePickerService.arrowLeft}px`}:{left:`${this.datePickerService.arrowLeft}px`}),this.panel.cdr.markForCheck(),this.cdr.markForCheck()}getInput(t){var e,n;return this.isRange?"left"===t?null===(e=this.rangePickerInputs)||void 0===e?void 0:e.first.nativeElement:null===(n=this.rangePickerInputs)||void 0===n?void 0:n.last.nativeElement:this.pickerInput.nativeElement}focus(){const t=this.getInput(this.datePickerService.activeInput);this.document.activeElement!==t&&(null==t||t.focus())}onFocus(t,e){t.preventDefault(),this.focusChange.emit(!0),e&&this.datePickerService.inputPartChange$.next(e)}onBlur(t){t.preventDefault(),this.focusChange.emit(!1)}showOverlay(){this.realOpenState||this.disabled||(this.updateInputWidthAndArrowLeft(),this.overlayOpen=!0,this.focus(),this.panel.init(),this.openChange.emit(!0),this.cdr.markForCheck())}hideOverlay(){this.realOpenState&&(this.overlayOpen=!1,this.openChange.emit(!1))}showClear(){return!this.disabled&&!this.isEmptyValue(this.datePickerService.value)&&!!this.allowClear}onClickInputBox(t){t.stopPropagation(),this.focus(),this.isOpenHandledByUser()||this.showOverlay()}onClickOutside(t){if(!this.elementRef.nativeElement.contains(t.target))if(this.panel.isAllowed(this.datePickerService.value,!0)){if(Array.isArray(this.datePickerService.value)&&wd(this.datePickerService.value)){const t=this.datePickerService.getActiveIndex(this.datePickerService.activeInput);return void this.panel.changeValueFromSelect(this.datePickerService.value[t],!0)}this.updateInputValue(),this.datePickerService.emitValue$.next()}else this.datePickerService.setValue(this.datePickerService.initialValue),this.hideOverlay()}onOverlayDetach(){this.hideOverlay()}onOverlayKeydown(t){27===t.keyCode&&this.datePickerService.setValue(this.datePickerService.initialValue)}onPositionChange(t){this.currentPositionX=t.connectionPair.originX,this.currentPositionY=t.connectionPair.originY,this.cdr.detectChanges()}onClickClear(t){t.preventDefault(),t.stopPropagation(),this.datePickerService.setValue(this.isRange?[]:null),this.datePickerService.emitValue$.next()}updateInputValue(){const t=this.datePickerService.value;this.inputValue=this.isRange?t?t.map(t=>this.formatValue(t)):["",""]:this.formatValue(t),this.cdr.markForCheck()}formatValue(t){return this.dateHelper.format(t&&t.nativeDate,this.format)}onInputChange(t,e=!1){if(!this.platform.TRIDENT&&this.document.activeElement===this.getInput(this.datePickerService.activeInput)&&!this.realOpenState)return void this.showOverlay();const n=this.checkValidDate(t);n&&this.panel.changeValueFromSelect(n,e)}onKeyupEnter(t){this.onInputChange(t.target.value,!0)}checkValidDate(t){const e=new Cd(this.dateHelper.parseDate(t,this.format));return e.isValid()&&t===this.dateHelper.format(e.nativeDate,this.format)?e:null}getPlaceholder(t){return this.isRange?this.placeholder[this.datePickerService.getActiveIndex(t)]:this.placeholder}isEmptyValue(t){return null===t||(this.isRange?!t||!Array.isArray(t)||t.every(t=>!t):!t)}isOpenHandledByUser(){return void 0!==this.open}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(Pd),r.Rb(r.h),r.Rb(qn),r.Rb(yj),r.Rb(Nit),r.Rb(i.d))},t.\u0275cmp=r.Lb({type:t,selectors:[["","nz-picker",""]],contentQueries:function(t,e,n){if(1&t&&r.Kb(n,Vit,1),2&t){let t;r.zc(t=r.gc())&&(e.panel=t.first)}},viewQuery:function(t,e){if(1&t&&(r.Qc(Ql,1),r.Qc(Yet,1),r.Qc(Qet,1),r.Qc(Jet,1)),2&t){let t;r.zc(t=r.gc())&&(e.cdkConnectedOverlay=t.first),r.zc(t=r.gc())&&(e.separatorElement=t.first),r.zc(t=r.gc())&&(e.pickerInput=t.first),r.zc(t=r.gc())&&(e.rangePickerInputs=t)}},inputs:{noAnimation:"noAnimation",isRange:"isRange",open:"open",disabled:"disabled",inputReadOnly:"inputReadOnly",popupStyle:"popupStyle",dir:"dir",id:"id",placeholder:"placeholder",allowClear:"allowClear",autoFocus:"autoFocus",format:"format",separator:"separator",dropdownClassName:"dropdownClassName",suffixIcon:"suffixIcon"},outputs:{focusChange:"focusChange",valueChange:"valueChange",openChange:"openChange"},exportAs:["nzPicker"],features:[r.Bb],attrs:Zet,ngContentSelectors:pnt,decls:7,vars:6,consts:[[3,"class",4,"ngIf"],[4,"ngIf"],["tplRangeInput",""],["tplRightRest",""],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayTransformOriginOn","positionChange","detach","overlayKeydown","overlayOutsideClick"],[3,"disabled","readOnly","ngModel","placeholder","size","ngModelChange","focus","blur","keyup.enter"],["pickerInput",""],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["separatorElement",""],[4,"ngIf","ngIfElse"],["defaultSeparator",""],["nz-icon","","nzType","swap-right","nzTheme","outline"],[3,"disabled","readOnly","size","ngModel","placeholder","click","blur","focus","keyup.enter","ngModelChange"],["rangePickerInput",""],[3,"ngStyle"],[3,"class","click",4,"ngIf"],[4,"nzStringTemplateOutlet"],[3,"click"],["nz-icon","","nzType","close-circle","nzTheme","fill"],["nz-icon","",3,"nzType"],[1,"ant-picker-wrapper",2,"position","relative",3,"nzNoAnimation"]],template:function(t,e){1&t&&(r.pc(),r.Kc(0,ent,4,12,"div",0),r.Kc(1,ant,12,21,"ng-container",1),r.Kc(2,cnt,2,5,"ng-template",null,2,r.Lc),r.Kc(4,hnt,4,9,"ng-template",null,3,r.Lc),r.Kc(6,dnt,3,19,"ng-template",4),r.fc("positionChange",function(t){return e.onPositionChange(t)})("detach",function(){return e.onOverlayDetach()})("overlayKeydown",function(t){return e.onOverlayKeydown(t)})("overlayOutsideClick",function(t){return e.onClickOutside(t)})),2&t&&(r.qc("ngIf",!e.isRange),r.Db(1),r.qc("ngIf",e.isRange),r.Db(5),r.qc("cdkConnectedOverlayOrigin",e.origin)("cdkConnectedOverlayOpen",e.realOpenState)("cdkConnectedOverlayPositions",e.overlayPositions)("cdkConnectedOverlayTransformOriginOn",".ant-picker-wrapper"))},directives:[i.n,Ql,tu,G,bt,ie,i.s,No,Rf,i.o,ei,Ec],encapsulation:2,data:{animation:[hs]},changeDetection:0}),t})();const qit={position:"relative"};let Bit=(()=>{class t{constructor(t,e,n,i,o,s,a,c,l){this.nzConfigService=t,this.datePickerService=e,this.i18n=n,this.cdr=i,this.renderer=o,this.elementRef=s,this.dateHelper=a,this.directionality=c,this.noAnimation=l,this._nzModuleName="datePicker",this.isRange=!1,this.focused=!1,this.dir="ltr",this.panelMode="date",this.destroyed$=new xe.a,this.isCustomPlaceHolder=!1,this.isCustomFormat=!1,this.showTime=!1,this.nzAllowClear=!0,this.nzAutoFocus=!1,this.nzDisabled=!1,this.nzBorderless=!1,this.nzInputReadOnly=!1,this.nzPlaceHolder="",this.nzPopupStyle=qit,this.nzSize="default",this.nzShowToday=!0,this.nzMode="date",this.nzShowNow=!0,this.nzDefaultPickerValue=null,this.nzSeparator=void 0,this.nzSuffixIcon="calendar",this.nzId=null,this.nzOnPanelChange=new r.n,this.nzOnCalendarChange=new r.n,this.nzOnOk=new r.n,this.nzOnOpenChange=new r.n,this.onChangeFn=()=>{},this.onTouchedFn=()=>{},this.elementRef.nativeElement.classList.add("ant-picker")}get nzShowTime(){return this.showTime}set nzShowTime(t){this.showTime="object"==typeof t?t:Oi(t)}ngOnInit(){var t;this.nzLocale||this.i18n.localeChange.pipe(An(this.destroyed$)).subscribe(()=>this.setLocale()),this.datePickerService.isRange=this.isRange,this.datePickerService.initValue(),this.datePickerService.emitValue$.pipe(An(this.destroyed$)).subscribe(t=>{var e,n,i,r;const o=this.datePickerService.value;if(this.datePickerService.initialValue=zd(o),this.isRange){const t=o;this.onChangeFn(t.length?[null!==(n=null===(e=t[0])||void 0===e?void 0:e.nativeDate)&&void 0!==n?n:null,null!==(r=null===(i=t[1])||void 0===i?void 0:i.nativeDate)&&void 0!==r?r:null]:[])}else this.onChangeFn(o?o.nativeDate:null);this.onTouchedFn(),this.close()}),this.setModeAndFormat(),null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroyed$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(t){var e,n;t.nzPopupStyle&&(this.nzPopupStyle=this.nzPopupStyle?Object.assign(Object.assign({},this.nzPopupStyle),qit):qit),(null===(e=t.nzPlaceHolder)||void 0===e?void 0:e.currentValue)&&(this.isCustomPlaceHolder=!0),(null===(n=t.nzFormat)||void 0===n?void 0:n.currentValue)&&(this.isCustomFormat=!0),t.nzLocale&&this.setDefaultPlaceHolder(),t.nzRenderExtraFooter&&(this.extraFooter=Ei(this.nzRenderExtraFooter)),t.nzMode&&(this.setDefaultPlaceHolder(),this.setModeAndFormat())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}setModeAndFormat(){const t={year:"yyyy",month:"yyyy-MM",week:this.i18n.getDateLocale()?"RRRR-II":"yyyy-ww",date:this.nzShowTime?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd"};this.nzMode||(this.nzMode="date"),this.panelMode=this.isRange?[this.nzMode,this.nzMode]:this.nzMode,this.isCustomFormat||(this.nzFormat=t[this.nzMode])}onOpenChange(t){this.nzOnOpenChange.emit(t)}open(){this.picker.showOverlay()}close(){this.picker.hideOverlay()}writeValue(t){this.setValue(t),this.cdr.markForCheck()}registerOnChange(t){this.onChangeFn=t}registerOnTouched(t){this.onTouchedFn=t}setDisabledState(t){this.nzDisabled=t,this.cdr.markForCheck()}setLocale(){this.nzLocale=this.i18n.getLocaleData("DatePicker",{}),this.setDefaultPlaceHolder(),this.cdr.markForCheck()}setDefaultPlaceHolder(){if(!this.isCustomPlaceHolder&&this.nzLocale){const t={year:this.getPropertyOfLocale("yearPlaceholder"),month:this.getPropertyOfLocale("monthPlaceholder"),week:this.getPropertyOfLocale("weekPlaceholder"),date:this.getPropertyOfLocale("placeholder")},e={year:this.getPropertyOfLocale("rangeYearPlaceholder"),month:this.getPropertyOfLocale("rangeMonthPlaceholder"),week:this.getPropertyOfLocale("rangeWeekPlaceholder"),date:this.getPropertyOfLocale("rangePlaceholder")};this.nzPlaceHolder=this.isRange?e[this.nzMode]:t[this.nzMode]}}getPropertyOfLocale(t){return this.nzLocale.lang[t]||this.i18n.getLocaleData(`DatePicker.lang.${t}`)}setValue(t){const e=this.datePickerService.makeValue(t);this.datePickerService.setValue(e),this.datePickerService.initialValue=e}onFocusChange(t){this.focused=t,this.focused?this.renderer.addClass(this.elementRef.nativeElement,"ant-picker-focused"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-picker-focused")}onPanelModeChange(t){this.nzOnPanelChange.emit(t)}onCalendarChange(t){if(this.isRange&&Array.isArray(t)){const e=t.filter(t=>t instanceof Cd).map(t=>t.nativeDate);this.nzOnCalendarChange.emit(e)}}onResultOk(){var t,e;if(this.isRange){const n=this.datePickerService.value;this.nzOnOk.emit(n.length?[(null===(t=n[0])||void 0===t?void 0:t.nativeDate)||null,(null===(e=n[1])||void 0===e?void 0:e.nativeDate)||null]:[])}else this.nzOnOk.emit(this.datePickerService.value?this.datePickerService.value.nativeDate:null)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Do),r.Rb(Nit),r.Rb(Ed),r.Rb(r.h),r.Rb(r.F),r.Rb(r.l),r.Rb(Pd),r.Rb(bn,8),r.Rb(Ec,9))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-date-picker"],["nz-week-picker"],["nz-month-picker"],["nz-year-picker"],["nz-range-picker"]],viewQuery:function(t,e){if(1&t&&r.Qc(Wit,3),2&t){let t;r.zc(t=r.gc())&&(e.picker=t.first)}},hostVars:12,hostBindings:function(t,e){1&t&&r.fc("click",function(t){return e.picker.onClickInputBox(t)}),2&t&&r.Jb("ant-picker-range",e.isRange)("ant-picker-large","large"===e.nzSize)("ant-picker-small","small"===e.nzSize)("ant-picker-disabled",e.nzDisabled)("ant-picker-rtl","rtl"===e.dir)("ant-picker-borderless",e.nzBorderless)},inputs:{nzAllowClear:"nzAllowClear",nzAutoFocus:"nzAutoFocus",nzDisabled:"nzDisabled",nzBorderless:"nzBorderless",nzInputReadOnly:"nzInputReadOnly",nzPlaceHolder:"nzPlaceHolder",nzPopupStyle:"nzPopupStyle",nzSize:"nzSize",nzShowToday:"nzShowToday",nzMode:"nzMode",nzShowNow:"nzShowNow",nzDefaultPickerValue:"nzDefaultPickerValue",nzSeparator:"nzSeparator",nzSuffixIcon:"nzSuffixIcon",nzId:"nzId",nzShowTime:"nzShowTime",nzFormat:"nzFormat",nzLocale:"nzLocale",nzOpen:"nzOpen",nzDisabledDate:"nzDisabledDate",nzDropdownClassName:"nzDropdownClassName",nzDateRender:"nzDateRender",nzDisabledTime:"nzDisabledTime",nzRenderExtraFooter:"nzRenderExtraFooter",nzRanges:"nzRanges"},outputs:{nzOnPanelChange:"nzOnPanelChange",nzOnCalendarChange:"nzOnCalendarChange",nzOnOk:"nzOnOk",nzOnOpenChange:"nzOnOpenChange"},exportAs:["nzDatePicker"],features:[r.Cb([Nit,{provide:X,multi:!0,useExisting:Object(r.W)(()=>t)}]),r.Bb],decls:2,vars:31,consts:[["nz-picker","",2,"display","inherit","align-items","center","width","100%",3,"isRange","open","dir","separator","disabled","inputReadOnly","format","allowClear","autoFocus","placeholder","dropdownClassName","popupStyle","noAnimation","suffixIcon","id","openChange","focusChange"],[3,"isRange","defaultPickerValue","showWeek","panelMode","locale","showToday","showNow","showTime","dateRender","disabledDate","disabledTime","extraFooter","ranges","dir","panelModeChange","calendarChange","resultOk"]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.fc("openChange",function(t){return e.onOpenChange(t)})("focusChange",function(t){return e.onFocusChange(t)}),r.Xb(1,"date-range-popup",1),r.fc("panelModeChange",function(t){return e.onPanelModeChange(t)})("calendarChange",function(t){return e.onCalendarChange(t)})("resultOk",function(){return e.onResultOk()}),r.Wb(),r.Wb()),2&t&&(r.Jb("ant-picker-dropdown-rtl","rtl"===e.dir),r.qc("isRange",e.isRange)("open",e.nzOpen)("dir",e.dir)("separator",e.nzSeparator)("disabled",e.nzDisabled)("inputReadOnly",e.nzInputReadOnly)("format",e.nzFormat)("allowClear",e.nzAllowClear)("autoFocus",e.nzAutoFocus)("placeholder",e.nzPlaceHolder)("dropdownClassName",e.nzDropdownClassName)("popupStyle",e.nzPopupStyle)("noAnimation",!(null==e.noAnimation||!e.noAnimation.nzNoAnimation))("suffixIcon",e.nzSuffixIcon)("id",e.nzId),r.Db(1),r.qc("isRange",e.isRange)("defaultPickerValue",e.nzDefaultPickerValue)("showWeek","week"===e.nzMode)("panelMode",e.panelMode)("locale",null==e.nzLocale?null:e.nzLocale.lang)("showToday","date"===e.nzMode&&e.nzShowToday&&!e.isRange&&!e.nzShowTime)("showNow","date"===e.nzMode&&e.nzShowNow&&!e.isRange&&!!e.nzShowTime)("showTime",e.nzShowTime)("dateRender",e.nzDateRender)("disabledDate",e.nzDisabledDate)("disabledTime",e.nzDisabledTime)("extraFooter",e.extraFooter)("ranges",e.nzRanges)("dir",e.dir))},directives:[Wit,yn,Vit],encapsulation:2,changeDetection:0}),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzAllowClear",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzAutoFocus",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzDisabled",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzBorderless",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzInputReadOnly",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzOpen",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzShowToday",void 0),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzShowNow",void 0),sr([Mo(),ar("design:type",String)],t.prototype,"nzSeparator",void 0),sr([Mo(),ar("design:type",Object)],t.prototype,"nzSuffixIcon",void 0),t})(),Xit=(()=>{class t{constructor(){this.panelModeChange=new r.n,this.headerChange=new r.n,this.selectDate=new r.n,this.selectTime=new r.n,this.cellHover=new r.n,this.prefixCls="ant-picker"}enablePrevNext(t,e){return!(!this.showTimePicker&&e===this.endPanelMode&&("left"===this.partType&&"next"===t||"right"===this.partType&&"prev"===t))}onSelectTime(t){this.selectTime.emit(new Cd(t))}onSelectDate(t){const e=t instanceof Cd?t:new Cd(t),n=this.timeOptions&&this.timeOptions.nzDefaultOpenValue;!this.value&&n&&e.setHms(n.getHours(),n.getMinutes(),n.getSeconds()),this.selectDate.emit(e)}onChooseMonth(t){this.activeDate=this.activeDate.setMonth(t.getMonth()),"month"===this.endPanelMode?(this.value=t,this.selectDate.emit(t)):(this.headerChange.emit(t),this.panelModeChange.emit(this.endPanelMode))}onChooseYear(t){this.activeDate=this.activeDate.setYear(t.getYear()),"year"===this.endPanelMode?(this.value=t,this.selectDate.emit(t)):(this.headerChange.emit(t),this.panelModeChange.emit(this.endPanelMode))}onChooseDecade(t){this.activeDate=this.activeDate.setYear(t.getYear()),"decade"===this.endPanelMode?(this.value=t,this.selectDate.emit(t)):(this.headerChange.emit(t),this.panelModeChange.emit("year"))}ngOnChanges(t){t.activeDate&&!t.activeDate.currentValue&&(this.activeDate=new Cd),t.panelMode&&"time"===t.panelMode.currentValue&&(this.panelMode="date")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["inner-popup"]],inputs:{activeDate:"activeDate",value:"value",panelMode:"panelMode",endPanelMode:"endPanelMode",showWeek:"showWeek",locale:"locale",showTimePicker:"showTimePicker",timeOptions:"timeOptions",disabledDate:"disabledDate",dateRender:"dateRender",selectedValue:"selectedValue",hoverValue:"hoverValue",partType:"partType"},outputs:{panelModeChange:"panelModeChange",headerChange:"headerChange",selectDate:"selectDate",selectTime:"selectTime",cellHover:"cellHover"},exportAs:["innerPopup"],features:[r.Bb],decls:8,vars:11,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngIf"],[3,"value","locale","showSuperPreBtn","showSuperNextBtn","showNextBtn","showPreBtn","valueChange","panelModeChange"],[3,"activeDate","value","locale","disabledDate","valueChange"],[3,"activeDate","value","locale","disabledDate","selectedValue","hoverValue","valueChange","cellHover"],[3,"value","activeDate","locale","disabledDate","selectedValue","hoverValue","valueChange","cellHover"],[3,"value","locale","showSuperPreBtn","showSuperNextBtn","showPreBtn","showNextBtn","valueChange","panelModeChange"],[3,"locale","showWeek","value","activeDate","disabledDate","cellRender","selectedValue","hoverValue","valueChange","cellHover"],[3,"nzInDatePicker","ngModel","format","nzHourStep","nzMinuteStep","nzSecondStep","nzDisabledHours","nzDisabledMinutes","nzDisabledSeconds","nzHideDisabledOptions","nzDefaultOpenValue","nzUse12Hours","nzAddOn","ngModelChange"]],template:function(t,e){1&t&&(r.Xb(0,"div"),r.Xb(1,"div"),r.Vb(2,0),r.Kc(3,fnt,4,13,"ng-container",1),r.Kc(4,gnt,4,15,"ng-container",1),r.Kc(5,mnt,4,15,"ng-container",1),r.Kc(6,bnt,4,17,"ng-container",2),r.Ub(),r.Wb(),r.Kc(7,ynt,2,13,"ng-container",3),r.Wb()),2&t&&(r.Jb("ant-picker-datetime-panel",e.showTimePicker),r.Db(1),r.Hb("",e.prefixCls,"-",e.panelMode,"-panel"),r.Db(1),r.qc("ngSwitch",e.panelMode),r.Db(1),r.qc("ngSwitchCase","decade"),r.Db(1),r.qc("ngSwitchCase","year"),r.Db(1),r.qc("ngSwitchCase","month"),r.Db(2),r.qc("ngIf",e.showTimePicker&&e.timeOptions))},directives:function(){return[i.p,i.q,i.r,i.n,Git,Qit,ert,irt,Zit,trt,$it,Kit,xet,bt,ie]},encapsulation:2,changeDetection:0}),t})(),Uit=(()=>{class t{constructor(){this.prefixCls="ant-picker-header",this.selectors=[],this.showSuperPreBtn=!0,this.showSuperNextBtn=!0,this.showPreBtn=!0,this.showNextBtn=!0,this.panelModeChange=new r.n,this.valueChange=new r.n}superPreviousTitle(){return this.locale.previousYear}previousTitle(){return this.locale.previousMonth}superNextTitle(){return this.locale.nextYear}nextTitle(){return this.locale.nextMonth}superPrevious(){this.changeValue(this.value.addYears(-1))}superNext(){this.changeValue(this.value.addYears(1))}previous(){this.changeValue(this.value.addMonths(-1))}next(){this.changeValue(this.value.addMonths(1))}changeValue(t){this.value!==t&&(this.value=t,this.valueChange.emit(this.value),this.render())}changeMode(t){this.panelModeChange.emit(t)}render(){this.value&&(this.selectors=this.getSelectors())}ngOnInit(){this.value||(this.value=new Cd),this.selectors=this.getSelectors()}ngOnChanges(t){(t.value||t.locale)&&this.render()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,inputs:{showSuperPreBtn:"showSuperPreBtn",showSuperNextBtn:"showSuperNextBtn",showPreBtn:"showPreBtn",showNextBtn:"showNextBtn",value:"value",locale:"locale"},outputs:{panelModeChange:"panelModeChange",valueChange:"valueChange"},features:[r.Bb]}),t})(),$it=(()=>{class t extends Uit{constructor(t){super(),this.dateHelper=t}getSelectors(){return[{className:`${this.prefixCls}-year-btn`,title:this.locale.yearSelect,onClick:()=>this.changeMode("year"),label:this.dateHelper.format(this.value.nativeDate,Fit(this.locale.yearFormat))},{className:`${this.prefixCls}-month-btn`,title:this.locale.monthSelect,onClick:()=>this.changeMode("month"),label:this.dateHelper.format(this.value.nativeDate,this.locale.monthFormat||"MMM")}]}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Pd))},t.\u0275cmp=r.Lb({type:t,selectors:[["date-header"]],exportAs:["dateHeader"],features:[r.Ab],decls:11,vars:31,consts:[["role","button","tabindex","-1",3,"title","click"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],[4,"ngFor","ngForOf"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"title","click"]],template:function(t,e){1&t&&(r.Xb(0,"div"),r.Xb(1,"button",0),r.fc("click",function(){return e.superPrevious()}),r.Sb(2,"span",1),r.Wb(),r.Xb(3,"button",0),r.fc("click",function(){return e.previous()}),r.Sb(4,"span",2),r.Wb(),r.Xb(5,"div"),r.Kc(6,vnt,3,5,"ng-container",3),r.Wb(),r.Xb(7,"button",0),r.fc("click",function(){return e.next()}),r.Sb(8,"span",4),r.Wb(),r.Xb(9,"button",0),r.fc("click",function(){return e.superNext()}),r.Sb(10,"span",5),r.Wb(),r.Wb()),2&t&&(r.Fb(e.prefixCls),r.Db(1),r.Gb("",e.prefixCls,"-super-prev-btn"),r.Hc("visibility",e.showSuperPreBtn?"visible":"hidden"),r.rc("title",e.superPreviousTitle()),r.Db(2),r.Gb("",e.prefixCls,"-prev-btn"),r.Hc("visibility",e.showPreBtn?"visible":"hidden"),r.rc("title",e.previousTitle()),r.Db(2),r.Gb("",e.prefixCls,"-view"),r.Db(1),r.qc("ngForOf",e.selectors),r.Db(1),r.Gb("",e.prefixCls,"-next-btn"),r.Hc("visibility",e.showNextBtn?"visible":"hidden"),r.rc("title",e.nextTitle()),r.Db(2),r.Gb("",e.prefixCls,"-super-next-btn"),r.Hc("visibility",e.showSuperNextBtn?"visible":"hidden"),r.rc("title",e.superNextTitle()))},directives:[i.m],encapsulation:2,changeDetection:0}),t})(),Hit=(()=>{class t{constructor(){this.isTemplateRef=xi,this.isNonEmptyString=Si,this.headRow=[],this.bodyRows=[],this.MAX_ROW=6,this.MAX_COL=7,this.prefixCls="ant-picker",this.activeDate=new Cd,this.showWeek=!1,this.selectedValue=[],this.hoverValue=[],this.valueChange=new r.n,this.cellHover=new r.n}render(){this.activeDate&&(this.headRow=this.makeHeadRow(),this.bodyRows=this.makeBodyRows())}trackByBodyRow(t,e){return e.trackByIndex}trackByBodyColumn(t,e){return e.trackByIndex}hasRangeValue(){var t,e;return(null===(t=this.selectedValue)||void 0===t?void 0:t.length)>0||(null===(e=this.hoverValue)||void 0===e?void 0:e.length)>0}getClassMap(t){return{"ant-picker-cell":!0,"ant-picker-cell-in-view":!0,"ant-picker-cell-selected":t.isSelected,"ant-picker-cell-disabled":t.isDisabled,"ant-picker-cell-in-range":!!t.isInSelectedRange,"ant-picker-cell-range-start":!!t.isSelectedStart,"ant-picker-cell-range-end":!!t.isSelectedEnd,"ant-picker-cell-range-start-single":!!t.isStartSingle,"ant-picker-cell-range-end-single":!!t.isEndSingle,"ant-picker-cell-range-hover":!!t.isInHoverRange,"ant-picker-cell-range-hover-start":!!t.isHoverStart,"ant-picker-cell-range-hover-end":!!t.isHoverEnd,"ant-picker-cell-range-hover-edge-start":!!t.isFirstCellInPanel,"ant-picker-cell-range-hover-edge-end":!!t.isLastCellInPanel,"ant-picker-cell-range-start-near-hover":!!t.isRangeStartNearHover,"ant-picker-cell-range-end-near-hover":!!t.isRangeEndNearHover}}ngOnInit(){this.render()}ngOnChanges(t){t.activeDate&&!t.activeDate.currentValue&&(this.activeDate=new Cd),(t.disabledDate||t.locale||t.showWeek||this.isDateRealChange(t.activeDate)||this.isDateRealChange(t.value)||this.isDateRealChange(t.selectedValue)||this.isDateRealChange(t.hoverValue))&&this.render()}isDateRealChange(t){if(t){const e=t.previousValue,n=t.currentValue;return Array.isArray(n)?!Array.isArray(e)||n.length!==e.length||n.some((t,n)=>{const i=e[n];return i instanceof Cd?i.isSameDay(t):i!==t}):!this.isSameDate(e,n)}return!1}isSameDate(t,e){return!t&&!e||t&&e&&e.isSameDay(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Mb({type:t,inputs:{prefixCls:"prefixCls",activeDate:"activeDate",showWeek:"showWeek",selectedValue:"selectedValue",hoverValue:"hoverValue",value:"value",locale:"locale",disabledDate:"disabledDate",cellRender:"cellRender",fullCellRender:"fullCellRender"},outputs:{valueChange:"valueChange",cellHover:"cellHover"},features:[r.Bb]}),t})(),Kit=(()=>{class t extends Hit{constructor(t,e){super(),this.i18n=t,this.dateHelper=e}changeValueFromInside(t){this.activeDate=this.activeDate.setYear(t.getYear()).setMonth(t.getMonth()).setDate(t.getDate()),this.valueChange.emit(this.activeDate),this.activeDate.isSameMonth(this.value)||this.render()}makeHeadRow(){const t=[],e=this.activeDate.calendarStart({weekStartsOn:this.dateHelper.getFirstDayOfWeek()});for(let n=0;n<this.MAX_COL;n++){const i=e.addDays(n);t.push({trackByIndex:null,value:i.nativeDate,title:this.dateHelper.format(i.nativeDate,"E"),content:this.dateHelper.format(i.nativeDate,this.getVeryShortWeekFormat()),isSelected:!1,isDisabled:!1,onClick(){},onMouseEnter(){}})}return t}getVeryShortWeekFormat(){return 0===this.i18n.getLocaleId().toLowerCase().indexOf("zh")?"EEEEE":"EEEEEE"}makeBodyRows(){const t=[],e=this.activeDate.calendarStart({weekStartsOn:this.dateHelper.getFirstDayOfWeek()});for(let n=0;n<this.MAX_ROW;n++){const i=e.addDays(7*n),r={isActive:!1,dateCells:[],trackByIndex:n};for(let t=0;t<7;t++){const e=i.addDays(t),n=Fit(this.i18n.getLocaleData("DatePicker.lang.dateFormat","YYYY-MM-DD")),o=this.dateHelper.format(e.nativeDate,n),s=this.dateHelper.format(e.nativeDate,"dd"),a={trackByIndex:t,value:e.nativeDate,label:s,isSelected:!1,isDisabled:!1,isToday:!1,title:o,cellRender:Ei(this.cellRender,e),fullCellRender:Ei(this.fullCellRender,e),content:`${e.getDate()}`,onClick:()=>this.changeValueFromInside(e),onMouseEnter:()=>this.cellHover.emit(e)};this.addCellProperty(a,e),this.showWeek&&!r.weekNum&&(r.weekNum=this.dateHelper.getISOWeek(e.nativeDate)),e.isSameDay(this.value)&&(r.isActive=e.isSameDay(this.value)),r.dateCells.push(a)}r.classMap={"ant-picker-week-panel-row":this.showWeek,"ant-picker-week-panel-row-selected":this.showWeek&&r.isActive},t.push(r)}return t}addCellProperty(t,e){var n;if(this.hasRangeValue()&&!this.showWeek){const[n,i]=this.hoverValue,[r,o]=this.selectedValue;(null==r?void 0:r.isSameDay(e))&&(t.isSelectedStart=!0,t.isSelected=!0),(null==o?void 0:o.isSameDay(e))&&(t.isSelectedEnd=!0,t.isSelected=!0),n&&i&&(t.isHoverStart=n.isSameDay(e),t.isHoverEnd=i.isSameDay(e),t.isLastCellInPanel=e.isLastDayOfMonth(),t.isFirstCellInPanel=e.isFirstDayOfMonth(),t.isInHoverRange=n.isBeforeDay(e)&&e.isBeforeDay(i)),t.isStartSingle=r&&!o,t.isEndSingle=!r&&o,t.isInSelectedRange=(null==r?void 0:r.isBeforeDay(e))&&e.isBeforeDay(o),t.isRangeStartNearHover=r&&t.isInHoverRange,t.isRangeEndNearHover=o&&t.isInHoverRange}t.isToday=e.isToday(),t.isSelected=e.isSameDay(this.value),t.isDisabled=!!(null===(n=this.disabledDate)||void 0===n?void 0:n.call(this,e.nativeDate)),t.classMap=this.getClassMap(t)}getClassMap(t){const e=new Cd(t.value);return Object.assign(Object.assign({},super.getClassMap(t)),{"ant-picker-cell-today":!!t.isToday,"ant-picker-cell-in-view":e.isSameMonth(this.activeDate)})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Ed),r.Rb(Pd))},t.\u0275cmp=r.Lb({type:t,selectors:[["date-table"]],inputs:{locale:"locale"},exportAs:["dateTable"],features:[r.Ab],decls:4,vars:3,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],[4,"ngIf"],["role","row",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["role","row"],["role","columnheader",4,"ngIf"],["role","columnheader",3,"title",4,"ngFor","ngForOf"],["role","columnheader"],["role","columnheader",3,"title"],["role","row",3,"ngClass"],["role","gridcell",3,"class",4,"ngIf"],["role","gridcell",3,"title","ngClass","click","mouseenter",4,"ngFor","ngForOf","ngForTrackBy"],["role","gridcell"],["role","gridcell",3,"title","ngClass","click","mouseenter"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"],[4,"ngIf","ngIfElse"],["defaultCell",""]],template:function(t,e){1&t&&(r.Xb(0,"table",0),r.Kc(1,znt,4,2,"thead",1),r.Xb(2,"tbody"),r.Kc(3,Lnt,3,4,"tr",2),r.Wb(),r.Wb()),2&t&&(r.Db(1),r.qc("ngIf",e.headRow&&e.headRow.length>0),r.Db(2),r.qc("ngForOf",e.bodyRows)("ngForTrackBy",e.trackByBodyRow))},directives:[i.n,i.m,i.l,i.p,i.q,i.r,i.s],encapsulation:2,changeDetection:0}),t})(),Git=(()=>{class t extends Uit{previous(){}next(){}get startYear(){return 100*parseInt(""+this.value.getYear()/100,10)}get endYear(){return this.startYear+99}superPrevious(){this.changeValue(this.value.addYears(-100))}superNext(){this.changeValue(this.value.addYears(100))}getSelectors(){return[{className:`${this.prefixCls}-decade-btn`,title:"",onClick:()=>{},label:`${this.startYear}-${this.endYear}`}]}}return t.\u0275fac=function(e){return Yit(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["decade-header"]],exportAs:["decadeHeader"],features:[r.Ab],decls:11,vars:31,consts:[["role","button","tabindex","-1",3,"title","click"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],[4,"ngFor","ngForOf"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"title","click"]],template:function(t,e){1&t&&(r.Xb(0,"div"),r.Xb(1,"button",0),r.fc("click",function(){return e.superPrevious()}),r.Sb(2,"span",1),r.Wb(),r.Xb(3,"button",0),r.fc("click",function(){return e.previous()}),r.Sb(4,"span",2),r.Wb(),r.Xb(5,"div"),r.Kc(6,Fnt,3,5,"ng-container",3),r.Wb(),r.Xb(7,"button",0),r.fc("click",function(){return e.next()}),r.Sb(8,"span",4),r.Wb(),r.Xb(9,"button",0),r.fc("click",function(){return e.superNext()}),r.Sb(10,"span",5),r.Wb(),r.Wb()),2&t&&(r.Fb(e.prefixCls),r.Db(1),r.Gb("",e.prefixCls,"-super-prev-btn"),r.Hc("visibility",e.showSuperPreBtn?"visible":"hidden"),r.rc("title",e.superPreviousTitle()),r.Db(2),r.Gb("",e.prefixCls,"-prev-btn"),r.Hc("visibility",e.showPreBtn?"visible":"hidden"),r.rc("title",e.previousTitle()),r.Db(2),r.Gb("",e.prefixCls,"-view"),r.Db(1),r.qc("ngForOf",e.selectors),r.Db(1),r.Gb("",e.prefixCls,"-next-btn"),r.Hc("visibility",e.showNextBtn?"visible":"hidden"),r.rc("title",e.nextTitle()),r.Db(2),r.Gb("",e.prefixCls,"-super-next-btn"),r.Hc("visibility",e.showSuperNextBtn?"visible":"hidden"),r.rc("title",e.superNextTitle()))},directives:[i.m],encapsulation:2,changeDetection:0}),t})();const Yit=r.Zb(Git);let Qit=(()=>{class t extends Hit{get startYear(){return 100*parseInt(""+this.activeDate.getYear()/100,10)}get endYear(){return this.startYear+99}makeHeadRow(){return[]}makeBodyRows(){const t=[],e=this.value&&this.value.getYear(),n=this.startYear,i=this.endYear,r=n-10;let o=0;for(let s=0;s<4;s++){const a={dateCells:[],trackByIndex:s};for(let t=0;t<3;t++){const s=r+10*o,c=r+10*o+9,l=`${s}-${c}`,u={trackByIndex:t,value:this.activeDate.setYear(s).nativeDate,content:l,title:l,isDisabled:!1,isSelected:e>=s&&e<=c,isLowerThanStart:c<n,isBiggerThanEnd:s>i,classMap:{},onClick(){},onMouseEnter(){}};u.classMap=this.getClassMap(u),u.onClick=()=>this.chooseDecade(s),o++,a.dateCells.push(u)}t.push(a)}return t}getClassMap(t){return{[`${this.prefixCls}-cell`]:!0,[`${this.prefixCls}-cell-in-view`]:!t.isBiggerThanEnd&&!t.isLowerThanStart,[`${this.prefixCls}-cell-selected`]:t.isSelected,[`${this.prefixCls}-cell-disabled`]:t.isDisabled}}chooseDecade(t){this.value=this.activeDate.setYear(t),this.valueChange.emit(this.value)}}return t.\u0275fac=function(e){return Jit(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["decade-table"]],exportAs:["decadeTable"],features:[r.Ab],decls:4,vars:3,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],[4,"ngIf"],["role","row",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["role","row"],["role","columnheader",4,"ngIf"],["role","columnheader",3,"title",4,"ngFor","ngForOf"],["role","columnheader"],["role","columnheader",3,"title"],["role","row",3,"ngClass"],["role","gridcell",3,"class",4,"ngIf"],["role","gridcell",3,"title","ngClass","click","mouseenter",4,"ngFor","ngForOf","ngForTrackBy"],["role","gridcell"],["role","gridcell",3,"title","ngClass","click","mouseenter"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"],[4,"ngIf","ngIfElse"],["defaultCell",""]],template:function(t,e){1&t&&(r.Xb(0,"table",0),r.Kc(1,Vnt,4,2,"thead",1),r.Xb(2,"tbody"),r.Kc(3,Znt,3,4,"tr",2),r.Wb(),r.Wb()),2&t&&(r.Db(1),r.qc("ngIf",e.headRow&&e.headRow.length>0),r.Db(2),r.qc("ngForOf",e.bodyRows)("ngForTrackBy",e.trackByBodyRow))},directives:[i.n,i.m,i.l,i.p,i.q,i.r,i.s],encapsulation:2,changeDetection:0}),t})();const Jit=r.Zb(Qit);let Zit=(()=>{class t extends Uit{constructor(t){super(),this.dateHelper=t}getSelectors(){return[{className:`${this.prefixCls}-month-btn`,title:this.locale.yearSelect,onClick:()=>this.changeMode("year"),label:this.dateHelper.format(this.value.nativeDate,Fit(this.locale.yearFormat))}]}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Pd))},t.\u0275cmp=r.Lb({type:t,selectors:[["month-header"]],exportAs:["monthHeader"],features:[r.Ab],decls:11,vars:31,consts:[["role","button","tabindex","-1",3,"title","click"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],[4,"ngFor","ngForOf"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"title","click"]],template:function(t,e){1&t&&(r.Xb(0,"div"),r.Xb(1,"button",0),r.fc("click",function(){return e.superPrevious()}),r.Sb(2,"span",1),r.Wb(),r.Xb(3,"button",0),r.fc("click",function(){return e.previous()}),r.Sb(4,"span",2),r.Wb(),r.Xb(5,"div"),r.Kc(6,tit,3,5,"ng-container",3),r.Wb(),r.Xb(7,"button",0),r.fc("click",function(){return e.next()}),r.Sb(8,"span",4),r.Wb(),r.Xb(9,"button",0),r.fc("click",function(){return e.superNext()}),r.Sb(10,"span",5),r.Wb(),r.Wb()),2&t&&(r.Fb(e.prefixCls),r.Db(1),r.Gb("",e.prefixCls,"-super-prev-btn"),r.Hc("visibility",e.showSuperPreBtn?"visible":"hidden"),r.rc("title",e.superPreviousTitle()),r.Db(2),r.Gb("",e.prefixCls,"-prev-btn"),r.Hc("visibility",e.showPreBtn?"visible":"hidden"),r.rc("title",e.previousTitle()),r.Db(2),r.Gb("",e.prefixCls,"-view"),r.Db(1),r.qc("ngForOf",e.selectors),r.Db(1),r.Gb("",e.prefixCls,"-next-btn"),r.Hc("visibility",e.showNextBtn?"visible":"hidden"),r.rc("title",e.nextTitle()),r.Db(2),r.Gb("",e.prefixCls,"-super-next-btn"),r.Hc("visibility",e.showSuperNextBtn?"visible":"hidden"),r.rc("title",e.superNextTitle()))},directives:[i.m],encapsulation:2,changeDetection:0}),t})(),trt=(()=>{class t extends Hit{constructor(t){super(),this.dateHelper=t,this.MAX_ROW=4,this.MAX_COL=3}makeHeadRow(){return[]}makeBodyRows(){const t=[];let e=0;for(let n=0;n<this.MAX_ROW;n++){const i={dateCells:[],trackByIndex:n};for(let t=0;t<this.MAX_COL;t++){const n=this.activeDate.setMonth(e),r=this.isDisabledMonth(n),o=this.dateHelper.format(n.nativeDate,"MMM"),s={trackByIndex:t,value:n.nativeDate,isDisabled:r,isSelected:n.isSameMonth(this.value),content:o,title:o,classMap:{},cellRender:Ei(this.cellRender,n),fullCellRender:Ei(this.fullCellRender,n),onClick:()=>this.chooseMonth(s.value.getMonth()),onMouseEnter:()=>this.cellHover.emit(n)};this.addCellProperty(s,n),i.dateCells.push(s),e++}t.push(i)}return t}isDisabledMonth(t){if(!this.disabledDate)return!1;for(let e=t.setDate(1);e.getMonth()===t.getMonth();e=e.addDays(1))if(!this.disabledDate(e.nativeDate))return!1;return!0}addCellProperty(t,e){if(this.hasRangeValue()){const[n,i]=this.hoverValue,[r,o]=this.selectedValue;(null==r?void 0:r.isSameMonth(e))&&(t.isSelectedStart=!0,t.isSelected=!0),(null==o?void 0:o.isSameMonth(e))&&(t.isSelectedEnd=!0,t.isSelected=!0),n&&i&&(t.isHoverStart=n.isSameMonth(e),t.isHoverEnd=i.isSameMonth(e),t.isLastCellInPanel=11===e.getMonth(),t.isFirstCellInPanel=0===e.getMonth(),t.isInHoverRange=n.isBeforeMonth(e)&&e.isBeforeMonth(i)),t.isStartSingle=r&&!o,t.isEndSingle=!r&&o,t.isInSelectedRange=(null==r?void 0:r.isBeforeMonth(e))&&(null==e?void 0:e.isBeforeMonth(o)),t.isRangeStartNearHover=r&&t.isInHoverRange,t.isRangeEndNearHover=o&&t.isInHoverRange}else e.isSameMonth(this.value)&&(t.isSelected=!0);t.classMap=this.getClassMap(t)}chooseMonth(t){this.value=this.activeDate.setMonth(t),this.valueChange.emit(this.value)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Pd))},t.\u0275cmp=r.Lb({type:t,selectors:[["month-table"]],exportAs:["monthTable"],features:[r.Ab],decls:4,vars:3,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],[4,"ngIf"],["role","row",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["role","row"],["role","columnheader",4,"ngIf"],["role","columnheader",3,"title",4,"ngFor","ngForOf"],["role","columnheader"],["role","columnheader",3,"title"],["role","row",3,"ngClass"],["role","gridcell",3,"class",4,"ngIf"],["role","gridcell",3,"title","ngClass","click","mouseenter",4,"ngFor","ngForOf","ngForTrackBy"],["role","gridcell"],["role","gridcell",3,"title","ngClass","click","mouseenter"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"],[4,"ngIf","ngIfElse"],["defaultCell",""]],template:function(t,e){1&t&&(r.Xb(0,"table",0),r.Kc(1,iit,4,2,"thead",1),r.Xb(2,"tbody"),r.Kc(3,mit,3,4,"tr",2),r.Wb(),r.Wb()),2&t&&(r.Db(1),r.qc("ngIf",e.headRow&&e.headRow.length>0),r.Db(2),r.qc("ngForOf",e.bodyRows)("ngForTrackBy",e.trackByBodyRow))},directives:[i.n,i.m,i.l,i.p,i.q,i.r,i.s],encapsulation:2,changeDetection:0}),t})(),ert=(()=>{class t extends Uit{get startYear(){return 10*parseInt(""+this.value.getYear()/10,10)}get endYear(){return this.startYear+9}superPrevious(){this.changeValue(this.value.addYears(-10))}superNext(){this.changeValue(this.value.addYears(10))}getSelectors(){return[{className:`${this.prefixCls}-year-btn`,title:"",onClick:()=>this.changeMode("decade"),label:`${this.startYear}-${this.endYear}`}]}}return t.\u0275fac=function(e){return nrt(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["year-header"]],exportAs:["yearHeader"],features:[r.Ab],decls:11,vars:31,consts:[["role","button","tabindex","-1",3,"title","click"],[1,"ant-picker-super-prev-icon"],[1,"ant-picker-prev-icon"],[4,"ngFor","ngForOf"],[1,"ant-picker-next-icon"],[1,"ant-picker-super-next-icon"],["role","button","type","button",3,"title","click"]],template:function(t,e){1&t&&(r.Xb(0,"div"),r.Xb(1,"button",0),r.fc("click",function(){return e.superPrevious()}),r.Sb(2,"span",1),r.Wb(),r.Xb(3,"button",0),r.fc("click",function(){return e.previous()}),r.Sb(4,"span",2),r.Wb(),r.Xb(5,"div"),r.Kc(6,bit,3,5,"ng-container",3),r.Wb(),r.Xb(7,"button",0),r.fc("click",function(){return e.next()}),r.Sb(8,"span",4),r.Wb(),r.Xb(9,"button",0),r.fc("click",function(){return e.superNext()}),r.Sb(10,"span",5),r.Wb(),r.Wb()),2&t&&(r.Fb(e.prefixCls),r.Db(1),r.Gb("",e.prefixCls,"-super-prev-btn"),r.Hc("visibility",e.showSuperPreBtn?"visible":"hidden"),r.rc("title",e.superPreviousTitle()),r.Db(2),r.Gb("",e.prefixCls,"-prev-btn"),r.Hc("visibility",e.showPreBtn?"visible":"hidden"),r.rc("title",e.previousTitle()),r.Db(2),r.Gb("",e.prefixCls,"-view"),r.Db(1),r.qc("ngForOf",e.selectors),r.Db(1),r.Gb("",e.prefixCls,"-next-btn"),r.Hc("visibility",e.showNextBtn?"visible":"hidden"),r.rc("title",e.nextTitle()),r.Db(2),r.Gb("",e.prefixCls,"-super-next-btn"),r.Hc("visibility",e.showSuperNextBtn?"visible":"hidden"),r.rc("title",e.superNextTitle()))},directives:[i.m],encapsulation:2,changeDetection:0}),t})();const nrt=r.Zb(ert);let irt=(()=>{class t extends Hit{constructor(t){super(),this.dateHelper=t,this.MAX_ROW=4,this.MAX_COL=3}makeHeadRow(){return[]}makeBodyRows(){const t=this.activeDate&&this.activeDate.getYear(),e=10*parseInt(""+t/10,10),n=e+9,i=e-1,r=[];let o=0;for(let s=0;s<this.MAX_ROW;s++){const t={dateCells:[],trackByIndex:s};for(let r=0;r<this.MAX_COL;r++){const s=i+o,a=this.activeDate.setYear(s),c=this.dateHelper.format(a.nativeDate,"yyyy"),l=this.isDisabledYear(a),u={trackByIndex:r,value:a.nativeDate,isDisabled:l,isSameDecade:s>=e&&s<=n,isSelected:s===(this.value&&this.value.getYear()),content:c,title:c,classMap:{},isLastCellInPanel:a.getYear()===n,isFirstCellInPanel:a.getYear()===e,cellRender:Ei(this.cellRender,a),fullCellRender:Ei(this.fullCellRender,a),onClick:()=>this.chooseYear(u.value.getFullYear()),onMouseEnter:()=>this.cellHover.emit(a)};this.addCellProperty(u,a),t.dateCells.push(u),o++}r.push(t)}return r}getClassMap(t){return Object.assign(Object.assign({},super.getClassMap(t)),{"ant-picker-cell-in-view":!!t.isSameDecade})}isDisabledYear(t){if(!this.disabledDate)return!1;for(let e=t.setMonth(0).setDate(1);e.getYear()===t.getYear();e=e.addDays(1))if(!this.disabledDate(e.nativeDate))return!1;return!0}addCellProperty(t,e){if(this.hasRangeValue()){const[n,i]=this.hoverValue,[r,o]=this.selectedValue;(null==r?void 0:r.isSameYear(e))&&(t.isSelectedStart=!0,t.isSelected=!0),(null==o?void 0:o.isSameYear(e))&&(t.isSelectedEnd=!0,t.isSelected=!0),n&&i&&(t.isHoverStart=n.isSameYear(e),t.isHoverEnd=i.isSameYear(e),t.isInHoverRange=n.isBeforeYear(e)&&e.isBeforeYear(i)),t.isStartSingle=r&&!o,t.isEndSingle=!r&&o,t.isInSelectedRange=(null==r?void 0:r.isBeforeYear(e))&&(null==e?void 0:e.isBeforeYear(o)),t.isRangeStartNearHover=r&&t.isInHoverRange,t.isRangeEndNearHover=o&&t.isInHoverRange}else e.isSameYear(this.value)&&(t.isSelected=!0);t.classMap=this.getClassMap(t)}chooseYear(t){this.value=this.activeDate.setYear(t),this.valueChange.emit(this.value),this.render()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Pd))},t.\u0275cmp=r.Lb({type:t,selectors:[["year-table"]],exportAs:["yearTable"],features:[r.Ab],decls:4,vars:3,consts:[["cellspacing","0","role","grid",1,"ant-picker-content"],[4,"ngIf"],["role","row",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["role","row"],["role","columnheader",4,"ngIf"],["role","columnheader",3,"title",4,"ngFor","ngForOf"],["role","columnheader"],["role","columnheader",3,"title"],["role","row",3,"ngClass"],["role","gridcell",3,"class",4,"ngIf"],["role","gridcell",3,"title","ngClass","click","mouseenter",4,"ngFor","ngForOf","ngForTrackBy"],["role","gridcell"],["role","gridcell",3,"title","ngClass","click","mouseenter"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"],[4,"ngIf","ngIfElse"],["defaultCell",""]],template:function(t,e){1&t&&(r.Xb(0,"table",0),r.Kc(1,_it,4,2,"thead",1),r.Xb(2,"tbody"),r.Kc(3,Rit,3,4,"tr",2),r.Wb(),r.Wb()),2&t&&(r.Db(1),r.qc("ngIf",e.headRow&&e.headRow.length>0),r.Db(2),r.qc("ngForOf",e.bodyRows)("ngForTrackBy",e.trackByBodyRow))},directives:[i.n,i.m,i.l,i.p,i.q,i.r,i.s],encapsulation:2,changeDetection:0}),t})(),rrt=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[i.c,me,Dd,Oet,ii]]}),t})(),ort=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,me,Zl,rrt,Vo,eu,Ic,ii,Oet,GL,rrt]]}),t})();const srt=["formIdentityDetails"];function art(t,e){1&t&&r.Sb(0,"i",29)}function crt(t,e){1&t&&(r.Xb(0,"nz-option",30),r.Sb(1,"i",31),r.Mc(2," Cargando Datos "),r.Wb())}function lrt(t,e){if(1&t&&r.Sb(0,"nz-option",32),2&t){const t=e.$implicit;r.qc("nzValue",t.id)("nzLabel",t.name)}}function urt(t,e){1&t&&(r.Xb(0,"nz-option",30),r.Sb(1,"i",31),r.Mc(2," Cargando Datos "),r.Wb())}function hrt(t,e){if(1&t&&r.Sb(0,"nz-option",32),2&t){const t=e.$implicit;r.qc("nzValue",t.id)("nzLabel",t.name)}}function drt(t,e){1&t&&(r.Xb(0,"nz-option",30),r.Sb(1,"i",31),r.Mc(2," Cargando Datos "),r.Wb())}function prt(t,e){if(1&t&&r.Sb(0,"nz-option",32),2&t){const t=e.$implicit;r.qc("nzValue",t.id)("nzLabel",t.name)}}function frt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",33),r.fc("click",function(){return r.Cc(t),r.jc().test()}),r.Mc(1,"Test"),r.Wb()}}function grt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",34),r.fc("click",function(){return r.Cc(t),r.jc().onClickCancelButton()}),r.Mc(1,"Cancelar"),r.Wb()}}function mrt(t,e){if(1&t&&(r.Xb(0,"button",35),r.Mc(1,"Crear"),r.Wb()),2&t){const t=r.jc();r.qc("disabled",t.disableEdit)}}function brt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",36),r.fc("click",function(){return r.Cc(t),r.jc().modifyIdentity()}),r.Mc(1,"Modificar"),r.Wb()}if(2&t){const t=r.jc();r.qc("disabled",t.disableEdit||!t.formGroup.valid)}}function yrt(t,e){if(1&t&&(r.Xb(0,"button",35),r.Mc(1,"Eliminar"),r.Wb()),2&t){const t=r.jc();r.qc("disabled",t.disableEdit)}}var vrt;!function(t){let e;!function(t){t[t.TWO_COLUMNS=0]="TWO_COLUMNS",t[t.THREE_COLUMNS=1]="THREE_COLUMNS"}(e=t.GRID||(t.GRID={}))}(vrt||(vrt={}));let _rt=(()=>{class t{constructor(t,e,n){this.fb=t,this.backendService=e,this.cdRef=n,this.groupList=[],this.loadingGroupsSelect=!0,this.rolesList=[],this.loadingRolesSelect=!0,this.organizationsList=[],this.loadingOrganizationsSelect=!0,this.GRID_COLUMNS=vrt.GRID,this.identityId=null,this.disableEdit=!1,this.showTestButton=!1,this.showCreateButton=!1,this.showEditButton=!1,this.showDeleteButton=!1,this.showCancelButton=!1,this.endInitComponent=new r.n,this.cancelEventEmiter=new r.n,this.requestEnd=new r.n}ngOnInit(){this.formGroup=this.fb.group({name:[""],email:[""],creationTime:[{value:null,disabled:!0}],deactivationTime:[null],groups:[[]],organizations:[[]],roles:[[]]}),this.formGroup.controls.name.setValidators([this.nameValidator.bind(this)]),this.formGroup.controls.email.setValidators([this.emailValidator.bind(this)]),this.formGroup.controls.deactivationTime.setValidators([this.deactivationTimeValidator.bind(this)]),this.updateStateDisableInputs(!0),this.setIdentityData(),this.disableEditEvent&&(this.disableEditSubscription=this.disableEditEvent.subscribe(t=>{this.updateStateDisableInputs(t)})),this.endInitComponent.emit(),this.getOptionsSelects()}ngOnDestroy(){this.disableEditSubscription&&this.disableEditSubscription.unsubscribe()}ngAfterViewChecked(){this.cdRef.detectChanges()}setIdentityData(){this.identityId?this.backendService.getIdentities(this.identityId).subscribe(t=>{const e=t.content;if(e.name&&this.formGroup.controls.name.setValue(e.name),e.email&&this.formGroup.controls.email.setValue(e.email),e.groups){var n=[];for(const t of e.groups)n.push(t.group_id);this.formGroup.controls.groups.setValue(n)}if(e.organizations){var i=[];for(const t of e.organizations)i.push(t.organization_id);this.formGroup.controls.organizations.setValue(i)}if(e.roles){var r=[];for(const t of e.roles)r.push(t.role_id);this.formGroup.controls.roles.setValue(r)}if(e.creation_time){const t=new Date(e.creation_time);this.formGroup.controls.creationTime.setValue(t)}if(e.deactivation_time){const t=new Date(e.deactivation_time);this.formGroup.controls.deactivationTime.setValue(t)}this.updateStateDisableInputs(!1),this.requestEnd.emit({methodRequest:"GET",responseType:"success"})},t=>{}):(setInterval(()=>{this.formGroup.controls.creationTime.setValue(new Date)},1e3),this.updateStateDisableInputs(!1))}updateStateDisableInputs(t){this.disableEdit=t,this.disableEdit?(this.formGroup.controls.name.disable(),this.formGroup.controls.email.disable(),this.formGroup.controls.deactivationTime.disable(),this.formGroup.controls.groups.disable(),this.formGroup.controls.organizations.disable(),this.formGroup.controls.roles.disable()):(this.formGroup.controls.name.enable(),this.formGroup.controls.email.enable(),this.formGroup.controls.deactivationTime.enable(),this.formGroup.controls.groups.enable(),this.formGroup.controls.organizations.enable(),this.formGroup.controls.roles.enable())}getOptionsSelects(){this.backendService.getGroups().subscribe(t=>{this.groupList=t.content,this.loadingGroupsSelect=!1},t=>{console.log(t)}),this.backendService.getRoles().subscribe(t=>{this.rolesList=t.content,this.loadingRolesSelect=!1},t=>{console.log(t)}),this.backendService.getOrganizations().subscribe(t=>{this.organizationsList=t.content,this.loadingOrganizationsSelect=!1},t=>{console.log(t)})}nameValidator(t){return t.value&&""!=t.value?null:{invalidName:{valid:!1,value:t.value}}}emailValidator(t){return t.value&&""!=t.value?/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t.value)?null:{invalidEmail:{valid:!1,value:t.value}}:null}deactivationTimeValidator(t){return t.value?this.formGroup.controls.creationTime.value<this.formGroup.controls.deactivationTime.value?null:(this.formGroup.controls.deactivationTime.setErrors({invalidDate:{valid:!0,value:t.value}}),{invalidDate:{valid:!0,value:t.value}}):null}getISOLocaleDate(t){const e=60*t.getTimezoneOffset()*1e3;var n=new Date(t-e).toISOString();return(n=n.slice(0,19)).replace("T"," ")}formatDataForBackend(t){const e=this.formGroup.value.name,n=null!=this.formGroup.value.email||""!=this.formGroup.value.email?this.formGroup.value.email:null,i=this.formGroup.value.deactivationTime,r=i?this.getISOLocaleDate(i):null,o=this.formGroup.value.groups,s=[];for(const d of o)s.push({identity_id:this.identityId,group_id:d});const a=this.formGroup.value.organizations,c=[];for(const d of a)c.push({identity_id:this.identityId,organization_id:d});const l=this.formGroup.value.roles,u=[];for(const d of l)u.push({identity_id:this.identityId,role_id:d});const h={name:e,email:n,deactivation_time:r,groups:s,organizations:c,roles:u};if("POST"==t){const t=this.getISOLocaleDate(new Date);h.creation_time=t}return h}getStatusInput(t){return this.formGroup.controls[t].status}getGrid(t,e){if(e)switch(t){case vrt.GRID.TWO_COLUMNS:return e.nativeElement.clientWidth<700?24:12;case vrt.GRID.THREE_COLUMNS:return e.nativeElement.clientWidth<1200?24:8}return 24}modifyIdentity(){if(this.formGroup.valid){const t=this.formatDataForBackend("PUT");this.disableEdit=!0,this.backendService.putIdentity(this.identityId,t).subscribe(t=>{console.log(t),this.requestEnd.emit({methodRequest:"PUT",responseType:"success"}),this.disableEdit=!1},t=>{this.requestEnd.emit({methodRequest:"PUT",responseType:"error"}),console.log(t),this.disableEdit=!1})}}createIdentity(){if(this.formGroup.valid){const t=this.formatDataForBackend("POST");this.disableEdit=!0,this.backendService.postIdentity(t).subscribe(t=>{this.disableEdit=!1,console.log(t),this.requestEnd.emit({methodRequest:"POST",responseType:"success"})},t=>{this.requestEnd.emit({methodRequest:"POST",responseType:"error"}),console.log(t)})}}onClickCancelButton(){this.cancelEventEmiter.emit()}test(){console.log(this.cancelEventEmiter.observers)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(ge),r.Rb(DP),r.Rb(r.h))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-identity-form"]],viewQuery:function(t,e){if(1&t&&r.Qc(srt,1),2&t){let t;r.zc(t=r.gc())&&(e.formIdentityElementRef=t.first)}},inputs:{identityId:"identityId",disableEditEvent:"disableEditEvent",disableEdit:"disableEdit",showTestButton:"showTestButton",showCreateButton:"showCreateButton",showEditButton:"showEditButton",showDeleteButton:"showDeleteButton",showCancelButton:"showCancelButton"},outputs:{endInitComponent:"endInitComponent",cancelEventEmiter:"cancelEvent",requestEnd:"requestEnd"},decls:61,vars:28,consts:[["nz-form","","nzLayout","vertical",3,"formGroup"],["formIdentityDetails",""],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzFor","name"],["nzErrorTip","Campo requerido.",3,"nzValidateStatus"],["nz-input","","formControlName","name","autocomplete","off"],["nzFor","email"],["nzErrorTip","Email no v\xe1lido.",3,"nzValidateStatus"],["nz-input","","formControlName","email","type","email","autocomplete","off"],["nzFor","creationTime"],["formControlName","creationTime","nzFormat","yyyy-MM-dd HH:mm:ss","nzPlaceHolder","Fecha de creaci\xf3n",2,"width","100%",3,"nzShowTime"],["nzFor","deactivationTime"],["nzErrorTip","La fecha no puede ser menor al de la fecha creaci\xf3n.",3,"nzValidateStatus"],["formControlName","deactivationTime","nzFormat","yyyy-MM-dd HH:mm:ss","nzPlaceHolder","Fecha de desactivaci\xf3n",2,"width","100%",3,"nzShowNow","nzShowTime"],["deactivationIcon",""],["nzFor","groups"],["formControlName","groups","nzMode","multiple","nzPlaceHolder","Grupos","nzShowSearch",""],["nzDisabled","","nzCustomContent","",4,"ngIf"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzFor","organizations"],["formControlName","organizations","nzMode","multiple","nzPlaceHolder","Organizaciones","nzShowSearch",""],["nzFor","roles"],["formControlName","roles","nzMode","multiple","nzPlaceHolder","Roles","nzShowSearch",""],[2,"align-items","flex-end"],["nz-button","",3,"click",4,"ngIf"],["class","buttons-forms-identity-details","nz-button","","nzType","default",3,"click",4,"ngIf"],["class","buttons-forms-identity-details","nz-button","","nzType","default",3,"disabled",4,"ngIf"],["class","buttons-forms-identity-details","nz-button","","nzType","default",3,"disabled","click",4,"ngIf"],["nz-icon","","nzType","close-circle","nzTheme","outline"],["nzDisabled","","nzCustomContent",""],["nz-icon","","nzType","loading",1,"loading-icon"],[3,"nzValue","nzLabel"],["nz-button","",3,"click"],["nz-button","","nzType","default",1,"buttons-forms-identity-details",3,"click"],["nz-button","","nzType","default",1,"buttons-forms-identity-details",3,"disabled"],["nz-button","","nzType","default",1,"buttons-forms-identity-details",3,"disabled","click"]],template:function(t,e){1&t&&(r.Xb(0,"form",0,1),r.Xb(2,"div",2),r.Xb(3,"div",3),r.Xb(4,"nz-form-item"),r.Xb(5,"nz-form-label",4),r.Mc(6,"Nombre:"),r.Wb(),r.Xb(7,"nz-form-control",5),r.Sb(8,"input",6),r.Wb(),r.Wb(),r.Wb(),r.Xb(9,"div",3),r.Xb(10,"nz-form-item"),r.Xb(11,"nz-form-label",7),r.Mc(12,"E-mail:"),r.Wb(),r.Xb(13,"nz-form-control",8),r.Sb(14,"input",9),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(15,"div",2),r.Xb(16,"div",3),r.Xb(17,"nz-form-item"),r.Xb(18,"nz-form-label",10),r.Mc(19,"Fecha de creaci\xf3n:"),r.Wb(),r.Xb(20,"nz-form-control"),r.Sb(21,"nz-date-picker",11),r.Wb(),r.Wb(),r.Wb(),r.Xb(22,"div",3),r.Xb(23,"nz-form-item"),r.Xb(24,"nz-form-label",12),r.Mc(25,"Fecha de desactivaci\xf3n:"),r.Wb(),r.Xb(26,"nz-form-control",13),r.Sb(27,"nz-date-picker",14),r.Kc(28,art,1,0,"ng-template",null,15,r.Lc),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(30,"div",2),r.Xb(31,"div",3),r.Xb(32,"nz-form-item"),r.Xb(33,"nz-form-label",16),r.Mc(34,"Grupos:"),r.Wb(),r.Xb(35,"nz-form-control"),r.Xb(36,"nz-select",17),r.Kc(37,crt,3,0,"nz-option",18),r.Kc(38,lrt,1,2,"nz-option",19),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(39,"div",3),r.Xb(40,"nz-form-item"),r.Xb(41,"nz-form-label",20),r.Mc(42,"Organizaciones:"),r.Wb(),r.Xb(43,"nz-form-control"),r.Xb(44,"nz-select",21),r.Kc(45,urt,3,0,"nz-option",18),r.Kc(46,hrt,1,2,"nz-option",19),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(47,"div",3),r.Xb(48,"nz-form-item"),r.Xb(49,"nz-form-label",22),r.Mc(50,"Roles:"),r.Wb(),r.Xb(51,"nz-form-control"),r.Xb(52,"nz-select",23),r.Kc(53,drt,3,0,"nz-option",18),r.Kc(54,prt,1,2,"nz-option",19),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(55,"nz-form-control",24),r.Kc(56,frt,2,0,"button",25),r.Kc(57,grt,2,0,"button",26),r.Kc(58,mrt,2,1,"button",27),r.Kc(59,brt,2,1,"button",28),r.Kc(60,yrt,2,1,"button",27),r.Wb(),r.Wb()),2&t&&(r.qc("formGroup",e.formGroup),r.Db(2),r.qc("nzGutter",16),r.Db(1),r.qc("nzSpan",e.getGrid(e.GRID_COLUMNS.TWO_COLUMNS,e.formIdentityElementRef)),r.Db(4),r.qc("nzValidateStatus","INVALID"==e.getStatusInput("name")?"error":""),r.Db(2),r.qc("nzSpan",e.getGrid(e.GRID_COLUMNS.TWO_COLUMNS,e.formIdentityElementRef)),r.Db(4),r.qc("nzValidateStatus","INVALID"==e.getStatusInput("email")?"error":""),r.Db(2),r.qc("nzGutter",16),r.Db(1),r.qc("nzSpan",e.getGrid(e.GRID_COLUMNS.TWO_COLUMNS,e.formIdentityElementRef)),r.Db(5),r.qc("nzShowTime",!0),r.Db(1),r.qc("nzSpan",e.getGrid(e.GRID_COLUMNS.TWO_COLUMNS,e.formIdentityElementRef)),r.Db(4),r.qc("nzValidateStatus","INVALID"==e.getStatusInput("deactivationTime")?"error":""),r.Db(1),r.qc("nzShowNow",!1)("nzShowTime",!0),r.Db(3),r.qc("nzGutter",16),r.Db(1),r.qc("nzSpan",e.getGrid(e.GRID_COLUMNS.THREE_COLUMNS,e.formIdentityElementRef)),r.Db(6),r.qc("ngIf",e.loadingGroupsSelect),r.Db(1),r.qc("ngForOf",e.groupList),r.Db(1),r.qc("nzSpan",e.getGrid(e.GRID_COLUMNS.THREE_COLUMNS,e.formIdentityElementRef)),r.Db(6),r.qc("ngIf",e.loadingOrganizationsSelect),r.Db(1),r.qc("ngForOf",e.organizationsList),r.Db(1),r.qc("nzSpan",e.getGrid(e.GRID_COLUMNS.THREE_COLUMNS,e.formIdentityElementRef)),r.Db(6),r.qc("ngIf",e.loadingRolesSelect),r.Db(1),r.qc("ngForOf",e.rolesList),r.Db(2),r.qc("ngIf",e.showTestButton),r.Db(1),r.qc("ngIf",e.cancelEventEmiter.observers.length>0),r.Db(1),r.qc("ngIf",e.showCreateButton),r.Db(1),r.qc("ngIf",e.showEditButton),r.Db(1),r.qc("ngIf",e.showDeleteButton))},directives:[re,yt,Qd,le,nr,ir,Jd,np,tp,Hp,G,bt,he,Bit,Gg,i.n,i.m,Rf,No,Ug,HL,qL],styles:[".buttons-forms-identity-details[_ngcontent-%COMP%]{margin-left:5px}"]}),t})();const wrt=["containerPage"],zrt=["modalCreateTitle"],Crt=["modalCreateContent"],Srt=["identityFormElementRef"],xrt=["modalCreateFooter"];function Ort(t,e){if(1&t&&(r.Xb(0,"button",13),r.Sb(1,"i",14),r.Wb()),2&t){const t=r.jc();r.qc("nzLoading",t.loading)}}function krt(t,e){1&t&&(r.Xb(0,"span"),r.Mc(1,"Crear Usuario"),r.Wb())}function Trt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",15),r.Xb(1,"app-identity-form",16,17),r.fc("requestEnd",function(e){return r.Cc(t),r.jc().requestEndCreateIdentity(e)}),r.Wb(),r.Wb()}if(2&t){const t=r.jc();r.Db(1),r.qc("disableEdit",!0)("showTestButton",!1)("disableEditEvent",t.disableEditFormSubject.asObservable())}}function Ert(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",18),r.fc("click",function(){r.Cc(t);const n=e.modalRef;return r.jc().onClickDestroyModal(n)}),r.Mc(1,"Cancelar"),r.Wb(),r.Xb(2,"button",19),r.fc("click",function(){return r.Cc(t),r.jc().onClickCreateIdentityModal()}),r.Mc(3,"Crear"),r.Wb()}if(2&t){const t=r.jc();r.Db(2),r.qc("disabled",t.disableCreateButtonIdentityModal())}}let Irt=(()=>{class t{constructor(t,e,n,i,r,o,s){this.backendService=t,this.msg=e,this.stateService=n,this.router=i,this.modalService=r,this.activeRoute=o,this.cdRef=s,this.state={},this.excludeFields=["groups","roles","organizations","authenticators","versions"],this.page=1,this.pageSize=10,this.loading=!1,this.pageData=[],this.totalItems=0,this.searchValue="",this.setOfCheckedId=new Set,this.checked=!1,this.disableEditFormSubject=new xe.a}getState(){return this.state}setState(t){this.state=null==t?{}:t}ngOnInit(){const t=this.activeRoute.snapshot.data.identities;for(const e of t.content)e.creation_time&&(e.creation_time=e.creation_time.replace("T"," ")),e.deactivation_time&&(e.deactivation_time=e.deactivation_time.replace("T"," "));this.pageData=t.content,this.totalItems=t.count,this.activeRoute.url.subscribe(t=>{this.stateService.setCurrentView(this,t)})}ngOnDestroy(){this.stateService.saveOnDestroy(this)}ngAfterViewChecked(){this.cdRef.detectChanges()}search(){this.loading=!0;const t=[];this.searchValue&&""!=this.searchValue&&t.push({name:{op:"eq",unary:this.searchValue}}),this.backendService.getIdentities(void 0,{filter:t,order:{},pagination:{pageIndex:this.page,pageSize:this.pageSize}}).subscribe(t=>{const e=t.content;for(const n of e)n.creation_time&&(n.creation_time=n.creation_time.replace("T"," ")),n.deactivation_time&&(n.deactivation_time=n.deactivation_time.replace("T"," "));this.pageData=e,this.totalItems=t.count},t=>{this.loading=!1,this.msg.addIssues(t.issues)},()=>{this.loading=!1})}searchEvent(){this.page=1,this.search()}changePaginationEvent(t){this.page=t.pageIndex,this.search()}openItem(t){this.router.navigate(["identityDetail",t.id])}modifyItem(t){this.router.navigate(["identityModify",t.id])}deleteItem(t){this.modalService.confirm({nzTitle:"\xbfSeguro que desea eliminar este usuario?",nzContent:t.name,nzOkText:"Eliminar",nzOkType:"primary",nzOkDanger:!0,nzOnOk:()=>this.deleteIdentity(t.id),nzCancelText:"Cancelar"})}deleteIdentity(t){this.loading=!0,this.backendService.deleteIdentity(t).subscribe(t=>{this.search()},t=>{this.loading=!1,console.log(t)})}openCreateIdentityModal(){this.loading=!1,this.modalService.create({nzTitle:this.modalCreateTitle,nzContent:this.modalCreateContent,nzFooter:this.modalCreateFooter,nzMaskClosable:!1})}onClickCreateIdentityModal(){this.identityFormElementRef.createIdentity()}disableCreateButtonIdentityModal(){return!this.identityFormElementRef||!this.identityFormElementRef.formGroup.valid}requestEndCreateIdentity(t){"POST"==t.methodRequest&&"success"==t.responseType&&(this.modalService.closeAll(),this.search())}onClickDestroyModal(t){t.destroy()}goIdentityModify(){}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(YP),r.Rb(IP),r.Rb(dm.g),r.Rb(qF),r.Rb(dm.a),r.Rb(r.h))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-identities-browser"]],viewQuery:function(t,e){if(1&t&&(r.Qc(wrt,1),r.Qc(zrt,1),r.Qc(Crt,1),r.Qc(Srt,1),r.Qc(xrt,1)),2&t){let t;r.zc(t=r.gc())&&(e.containerPage=t.first),r.zc(t=r.gc())&&(e.modalCreateTitle=t.first),r.zc(t=r.gc())&&(e.modalCreateContent=t.first),r.zc(t=r.gc())&&(e.identityFormElementRef=t.first),r.zc(t=r.gc())&&(e.modalCreateFooter=t.first)}},decls:20,vars:8,consts:[[2,"height","100%"],["containerPage",""],["nzTitle","Usuarios"],[3,"submit"],["nzSearch","",3,"nzAddOnAfter"],["nz-input","","name","searchValue","placeholder","Introduzca los t\xe9rminos de b\xfasqueda","autocomplete","off",3,"disabled","ngModel","ngModelChange"],["suffixIconButton",""],["nz-button","","nzType","primary","nzShape","round",2,"margin","0 5px",3,"click"],[2,"padding","16px 24px"],[3,"Loading","PageData","ExcludeFields","DataSize","Checkable","OpenEvent","DeleteEvent","ModifyEvent","PaginationEvent"],["modalCreateTitle",""],["modalCreateContent",""],["modalCreateFooter",""],["nz-button","","nzSearch","",3,"nzLoading"],["nz-icon","","nzType","search"],[1,"content-modal"],[3,"disableEdit","showTestButton","disableEditEvent","requestEnd"],["identityFormElementRef",""],["nz-button","",3,"click"],["nz-button","","nzType","primary",3,"disabled","click"]],template:function(t,e){if(1&t&&(r.Xb(0,"div",0,1),r.Xb(2,"nz-page-header",2),r.Xb(3,"nz-page-header-content"),r.Xb(4,"form",3),r.fc("submit",function(){return e.searchEvent()}),r.Xb(5,"nz-input-group",4),r.Xb(6,"input",5),r.fc("ngModelChange",function(t){return e.searchValue=t}),r.Wb(),r.Wb(),r.Kc(7,Ort,2,1,"ng-template",null,6,r.Lc),r.Wb(),r.Wb(),r.Xb(9,"nz-page-header-extra"),r.Xb(10,"button",7),r.fc("click",function(){return e.openCreateIdentityModal()}),r.Mc(11," Crear "),r.Wb(),r.Wb(),r.Wb(),r.Xb(12,"div",8),r.Xb(13,"app-dynamic-table",9),r.fc("OpenEvent",function(t){return e.openItem(t)})("DeleteEvent",function(t){return e.deleteItem(t)})("ModifyEvent",function(t){return e.modifyItem(t)})("PaginationEvent",function(t){return e.changePaginationEvent(t)}),r.Wb(),r.Wb(),r.Kc(14,krt,2,0,"ng-template",null,10,r.Lc),r.Kc(16,Trt,3,3,"ng-template",null,11,r.Lc),r.Kc(18,Ert,4,1,"ng-template",null,12,r.Lc),r.Wb()),2&t){const t=r.Ac(8);r.Db(5),r.qc("nzAddOnAfter",t),r.Db(1),r.qc("disabled",e.loading)("ngModel",e.searchValue),r.Db(7),r.qc("Loading",e.loading)("PageData",e.pageData)("ExcludeFields",e.excludeFields)("DataSize",e.totalItems)("Checkable",!1)}},directives:[Lj,Mj,re,yt,te,Rf,Gp,Hp,G,bt,ie,Rj,HL,qL,gB,No,_rt],styles:[".content-modal{max-height:500px;overflow-y:auto;overflow-x:hidden;padding-right:20px}"]}),t})();const Drt=["identityFormElementRef"];function Mrt(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Sb(2,"br"),r.Ub()),2&t){const t=e.$implicit,n=r.jc();r.Db(1),r.Oc(" ",n.getGroupNameById(t.group_id)," ")}}function Rrt(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Sb(2,"br"),r.Ub()),2&t){const t=e.$implicit,n=r.jc();r.Db(1),r.Oc(" ",n.getOrganizationNameById(t.organization_id)," ")}}function Art(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Sb(2,"br"),r.Ub()),2&t){const t=e.$implicit,n=r.jc();r.Db(1),r.Oc(" ",n.getRoleNameById(t.role_id)," ")}}let Prt=(()=>{class t{constructor(t,e,n){this.activeRoute=t,this.stateService=e,this.router=n,this.state=""}getState(){return this.state}setState(t){this.state=null==t?"":t}ngOnInit(){this.activeRoute.url.subscribe(t=>{this.stateService.setCurrentView(this,t)}),this.identityData=this.activeRoute.snapshot.data.identity.content,this.groups=this.activeRoute.snapshot.data.groups.content,this.organizations=this.activeRoute.snapshot.data.organizations.content,this.roles=this.activeRoute.snapshot.data.roles.content,this.identityId=this.identityData.id}getGroupNameById(t){for(const e of this.groups)if(e.id==t)return e.name}getOrganizationNameById(t){for(const e of this.organizations)if(e.id==t)return e.name}getRoleNameById(t){for(const e of this.roles)if(e.id==t)return e.name}ngOnDestroy(){this.stateService.saveOnDestroy(this)}getFormatDate(t){return this.identityData&&this.identityData[t]?this.identityData[t].replace("T"," "):""}goIdentityModify(){this.router.navigate(["identityModify",this.identityData.id])}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(dm.a),r.Rb(IP),r.Rb(dm.g))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-identity-details"]],viewQuery:function(t,e){if(1&t&&r.Qc(Drt,1),2&t){let t;r.zc(t=r.gc())&&(e.identityFormElementRef=t.first)}},decls:24,vars:11,consts:[["nzSubtitle","Informaci\xf3n",3,"nzTitle"],["nz-button","","nzType","primary","nzShape","round",2,"margin","0 5px",3,"click"],[1,"page-content"],["nzBordered","",2,"background-color","white",3,"nzColumn"],["nzTitle","id"],["nzTitle","uuid"],["nzTitle","Nombre"],["nzTitle","Email"],["nzTitle","Fecha de creaci\xf3n"],["nzTitle","Fecha de desactivaci\xf3n"],["nzTitle","Grupos"],[4,"ngFor","ngForOf"],["nzTitle","Organizaciones"],["nzTitle","Roles"]],template:function(t,e){1&t&&(r.Xb(0,"nz-page-header",0),r.Xb(1,"nz-page-header-extra"),r.Xb(2,"button",1),r.fc("click",function(){return e.goIdentityModify()}),r.Mc(3," Editar "),r.Wb(),r.Wb(),r.Wb(),r.Xb(4,"div",2),r.Xb(5,"nz-descriptions",3),r.Xb(6,"nz-descriptions-item",4),r.Mc(7),r.Wb(),r.Xb(8,"nz-descriptions-item",5),r.Mc(9),r.Wb(),r.Xb(10,"nz-descriptions-item",6),r.Mc(11),r.Wb(),r.Xb(12,"nz-descriptions-item",7),r.Mc(13),r.Wb(),r.Xb(14,"nz-descriptions-item",8),r.Mc(15),r.Wb(),r.Xb(16,"nz-descriptions-item",9),r.Mc(17),r.Wb(),r.Xb(18,"nz-descriptions-item",10),r.Kc(19,Mrt,3,1,"ng-container",11),r.Wb(),r.Xb(20,"nz-descriptions-item",12),r.Kc(21,Rrt,3,1,"ng-container",11),r.Wb(),r.Xb(22,"nz-descriptions-item",13),r.Kc(23,Art,3,1,"ng-container",11),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.qc("nzTitle",null==e.identityData?null:e.identityData.name),r.Db(5),r.qc("nzColumn",1),r.Db(2),r.Nc(null==e.identityData?null:e.identityData.id),r.Db(2),r.Nc(null==e.identityData?null:e.identityData.uuid),r.Db(2),r.Nc(null==e.identityData?null:e.identityData.name),r.Db(2),r.Nc(null==e.identityData?null:e.identityData.email),r.Db(2),r.Oc("",e.getFormatDate("creation_time")," "),r.Db(2),r.Oc("",e.getFormatDate("deactivation_time")," "),r.Db(2),r.qc("ngForOf",null==e.identityData?null:e.identityData.groups),r.Db(2),r.qc("ngForOf",null==e.identityData?null:e.identityData.organizations),r.Db(2),r.qc("ngForOf",null==e.identityData?null:e.identityData.roles))},directives:[Lj,Rj,HL,qL,Rf,dU,uU,i.m],styles:[".page-content[_ngcontent-%COMP%]{padding:16px 24px}"]}),t})();function Lrt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"app-identity-form",3,4),r.fc("cancelEvent",function(){return r.Cc(t),r.jc().cancelEvent()})("requestEnd",function(e){return r.Cc(t),r.jc().requestEndForm(e)}),r.Wb()}if(2&t){const t=r.jc();r.qc("disableEdit",!0)("showEditButton",!0)("showTestButton",!1)("identityId",t.identityId)}}let Frt=(()=>{class t{constructor(t,e){this.activeRoute=t,this.location=e,this.identityId=null}ngOnInit(){this.identityData=this.activeRoute.snapshot.data.identity.content,this.identityId=this.identityData.id}cancelEvent(){this.location.back()}requestEndForm(t){switch(t.methodRequest){case"PUT":"success"==t.responseType&&this.location.back()}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(dm.a),r.Rb(i.j))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-identity-modify"]],decls:3,vars:2,consts:[["nzSubtitle","Informaci\xf3n",3,"nzTitle"],[2,"padding","16px 24px"],[3,"disableEdit","showEditButton","showTestButton","identityId","cancelEvent","requestEnd",4,"ngIf"],[3,"disableEdit","showEditButton","showTestButton","identityId","cancelEvent","requestEnd"],["identityFormElementRef",""]],template:function(t,e){1&t&&(r.Sb(0,"nz-page-header",0),r.Xb(1,"div",1),r.Kc(2,Lrt,2,4,"app-identity-form",2),r.Wb()),2&t&&(r.qc("nzTitle",null==e.identityData?null:e.identityData.name),r.Db(2),r.qc("ngIf",e.identityId))},directives:[Lj,i.n,_rt],styles:[""]}),t})(),jrt=(()=>{class t{constructor(t,e){this.activeRoute=t,this.stateService=e,this.state=""}getState(){return this.state}setState(t){this.state=null==t?"":t}ngOnInit(){this.activeRoute.url.subscribe(t=>{this.stateService.setCurrentView(this,t)})}ngOnDestroy(){this.stateService.saveOnDestroy(this)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(dm.a),r.Rb(IP))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-authenticators"]],decls:8,vars:1,consts:[["type","text",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(r.Xb(0,"p"),r.Mc(1,"Authenticators"),r.Wb(),r.Xb(2,"input",0),r.fc("ngModelChange",function(t){return e.state=t}),r.Wb(),r.Xb(3,"ul"),r.Xb(4,"li"),r.Mc(5,"First authenticator"),r.Wb(),r.Xb(6,"li"),r.Mc(7,"Second authenticator"),r.Wb(),r.Wb()),2&t&&(r.Db(2),r.qc("ngModel",e.state))},directives:[G,bt,ie],styles:[""]}),t})();const Nrt=["identitiesSelect"],Vrt=["identityFormElementRef"],Wrt=["modalIdentityTitle"],qrt=["modalIdentityContent"],Brt=["modalIdentityFooter"];function Xrt(t,e){1&t&&(r.Xb(0,"nz-option",21),r.Sb(1,"i",22),r.Mc(2," Cargando Datos "),r.Wb())}function Urt(t,e){if(1&t&&r.Sb(0,"nz-option",23),2&t){const t=e.$implicit;r.qc("nzValue",t.id)("nzLabel",t.name)}}function $rt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",24),r.fc("click",function(){return r.Cc(t),r.jc().test()}),r.Mc(1,"Test"),r.Wb()}}function Hrt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",25),r.fc("click",function(){return r.Cc(t),r.jc().onClickCancelButton()}),r.Mc(1,"Cancelar"),r.Wb()}}function Krt(t,e){if(1&t&&(r.Xb(0,"button",26),r.Mc(1,"Crear"),r.Wb()),2&t){const t=r.jc();r.qc("disabled",t.disableEdit)}}function Grt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",27),r.fc("click",function(){return r.Cc(t),r.jc().modifyGroup()}),r.Mc(1,"Modificar"),r.Wb()}if(2&t){const t=r.jc();r.qc("disabled",t.disableEdit||!t.formGroup.valid)}}function Yrt(t,e){if(1&t&&(r.Xb(0,"button",26),r.Mc(1,"Eliminar"),r.Wb()),2&t){const t=r.jc();r.qc("disabled",t.disableEdit)}}function Qrt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",28),r.fc("click",function(){r.Cc(t);const n=e.$implicit;return r.jc().selectItemClick(n)}),r.Mc(1),r.Wb()}if(2&t){const t=e.$implicit;r.Db(1),r.Nc(t.nzLabel)}}function Jrt(t,e){1&t&&(r.Xb(0,"span"),r.Mc(1,"Modificar usuario"),r.Wb())}function Zrt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",29),r.Xb(1,"app-identity-form",30,31),r.fc("requestEnd",function(e){return r.Cc(t),r.jc().requestEndItemForm(e,"Identity")}),r.Wb(),r.Wb()}if(2&t){const t=e.$implicit,n=r.jc();r.Db(1),r.qc("disableEdit",!0)("showTestButton",!1)("disableEditEvent",n.disableEditFormSubject.asObservable())("identityId",t.id)}}function tot(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",24),r.fc("click",function(){r.Cc(t);const n=e.modalRef;return r.jc().onClickDestroyModal(n)}),r.Mc(1,"Cancelar"),r.Wb(),r.Xb(2,"button",32),r.fc("click",function(){return r.Cc(t),r.jc().onClickModifyIdentityModal()}),r.Mc(3,"Modificar"),r.Wb()}if(2&t){const t=r.jc();r.Db(2),r.qc("disabled",t.disableModifyButtonIdentityModal())}}var eot;!function(t){let e,n;!function(t){t[t.TWO_COLUMNS=0]="TWO_COLUMNS",t[t.THREE_COLUMNS=1]="THREE_COLUMNS"}(e=t.GRID||(t.GRID={})),function(t){t[t.CLICK_ITEM=0]="CLICK_ITEM"}(n=t.REASON_SELECT_OPEN||(t.REASON_SELECT_OPEN={}))}(eot||(eot={}));let not=(()=>{class t{constructor(t,e,n){this.fb=t,this.backendService=e,this.modalService=n,this.identitiesList=[],this.loadingIdentitiesSelect=!0,this.disableEditFormSubject=new xe.a,this.reasonSelectOpen=null,this.GRID_COLUMNS=eot.GRID,this.disableEdit=!1,this.showTestButton=!1,this.showCreateButton=!1,this.showEditButton=!1,this.showDeleteButton=!1,this.showCancelButton=!1,this.endInitComponent=new r.n,this.cancelEventEmiter=new r.n,this.requestEnd=new r.n}ngOnInit(){this.formGroup=this.fb.group({name:[{value:"",disabled:this.disableEdit}],identities:[[]]}),this.updateStateDisableInputs(!0),this.disableEditEvent&&(this.disableEditSubscription=this.disableEditEvent.subscribe(t=>{this.updateStateDisableInputs(t)})),this.setGroupData(),this.getOptionsSelects(),this.endInitComponent.emit()}ngAfterViewInit(){this.formGroup.controls.name.setValidators([et.required])}ngOnDestroy(){this.disableEditSubscription&&this.disableEditSubscription.unsubscribe()}setGroupData(){this.groupId?this.backendService.getGroups(this.groupId).subscribe(t=>{const e=t.content;if(e.name&&this.formGroup.controls.name.setValue(e.name),e.identities){const t=[];for(const n of e.identities)t.push(n.identity_id);this.formGroup.controls.identities.setValue(t)}this.updateStateDisableInputs(!1),this.requestEnd.emit({methodRequest:"GET",responseType:"success"})},t=>{console.log(t),this.requestEnd.emit({methodRequest:"GET",responseType:"error"})}):this.updateStateDisableInputs(!1)}getOptionsSelects(){this.getOptionsSelectsIdentity()}getOptionsSelectsIdentity(){this.backendService.getIdentities().subscribe(t=>{this.identitiesList=t.content,this.loadingIdentitiesSelect=!1},t=>{console.log(t)})}updateStateDisableInputs(t){this.disableEdit=t,this.disableEdit?this.formGroup.controls.name.disable():this.formGroup.controls.name.enable()}formatDataForBackend(t){const e=this.formGroup.value.name,n=this.formGroup.value.identities,i=[];for(const r of n)i.push({group_id:this.groupId,identity_id:r});return{name:e,identities:i}}getStatusInput(t){return this.formGroup.controls[t].status}getGrid(t,e){if(e)switch(t){case eot.GRID.TWO_COLUMNS:return e.nativeElement.clientWidth<700?24:12;case eot.GRID.THREE_COLUMNS:return e.nativeElement.clientWidth<1200?24:8}return 24}modifyGroup(){if(this.formGroup.valid){const t=this.formatDataForBackend("PUT");this.disableEdit=!0,this.backendService.putGroup(this.groupId,t).subscribe(t=>{console.log(t),this.requestEnd.emit({methodRequest:"PUT",responseType:"success"}),this.disableEdit=!1},t=>{this.requestEnd.emit({methodRequest:"PUT",responseType:"error"}),console.log(t),this.disableEdit=!1})}}createGroup(){if(this.formGroup.valid){const t=this.formatDataForBackend("POST");this.disableEdit=!0,this.backendService.postGroup(t).subscribe(t=>{this.disableEdit=!1,console.log(t),this.requestEnd.emit({methodRequest:"POST",responseType:"success"})},t=>{this.requestEnd.emit({methodRequest:"POST",responseType:"error"}),console.log(t)})}}onClickCancelButton(){this.cancelEventEmiter.emit()}selectOpenChange(t){t&&this.reasonSelectOpen==eot.REASON_SELECT_OPEN.CLICK_ITEM&&(this.identitiesSelectElementRef.setOpenState(!1),this.reasonSelectOpen=null)}selectItemClick(t){this.identitiesSelectElementRef.nzOpen||(this.reasonSelectOpen=eot.REASON_SELECT_OPEN.CLICK_ITEM),this.modalService.create({nzTitle:this.modalIdentityTitle,nzContent:this.modalIdentityContent,nzFooter:this.modalIdentityFooter,nzComponentParams:{id:t.nzValue}})}requestEndItemForm(t,e){switch(t.methodRequest){case"GET":"success"==t.responseType&&this.disableEditFormSubject.next(!1);break;case"PUT":"success"==t.responseType&&(this.modalService.closeAll(),"Identity"==e&&this.getOptionsSelectsIdentity())}}onClickDestroyModal(t){t.destroy()}onClickModifyIdentityModal(){this.identityFormElementRef.modifyIdentity()}disableModifyButtonIdentityModal(){return!this.identityFormElementRef||!this.identityFormElementRef.formGroup.valid}test(){console.log(this.cancelEventEmiter.observers)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(ge),r.Rb(DP),r.Rb(qF))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-group-form"]],viewQuery:function(t,e){if(1&t&&(r.Qc(Nrt,1),r.Qc(Vrt,1),r.Qc(Wrt,1),r.Qc(qrt,1),r.Qc(Brt,1)),2&t){let t;r.zc(t=r.gc())&&(e.identitiesSelectElementRef=t.first),r.zc(t=r.gc())&&(e.identityFormElementRef=t.first),r.zc(t=r.gc())&&(e.modalIdentityTitle=t.first),r.zc(t=r.gc())&&(e.modalIdentityContent=t.first),r.zc(t=r.gc())&&(e.modalIdentityFooter=t.first)}},inputs:{groupId:"groupId",disableEditEvent:"disableEditEvent",disableEdit:"disableEdit",showTestButton:"showTestButton",showCreateButton:"showCreateButton",showEditButton:"showEditButton",showDeleteButton:"showDeleteButton",showCancelButton:"showCancelButton"},outputs:{endInitComponent:"endInitComponent",cancelEventEmiter:"cancelEvent",requestEnd:"requestEnd"},decls:33,vars:14,consts:[["nz-form","","nzLayout","vertical",3,"formGroup"],["formIdentityDetails",""],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzFor","name"],["nzErrorTip","Campo requerido.",3,"nzValidateStatus"],["nz-input","","formControlName","name","autocomplete","off"],["nzFor","identities"],["formControlName","identities","nzMode","multiple","nzPlaceHolder","Usuarios","nzShowSearch","",3,"nzCustomTemplate","nzOpenChange"],["identitiesSelect",""],["nzDisabled","","nzCustomContent","",4,"ngIf"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[2,"align-items","flex-end"],["nz-button","",3,"click",4,"ngIf"],["class","buttons-forms-group-details","nz-button","","nzType","default",3,"click",4,"ngIf"],["class","buttons-forms-group-details","nz-button","","nzType","default",3,"disabled",4,"ngIf"],["class","buttons-forms-group-details","nz-button","","nzType","default",3,"disabled","click",4,"ngIf"],["multipleTemplate",""],["modalIdentityTitle",""],["modalIdentityContent",""],["modalIdentityFooter",""],["nzDisabled","","nzCustomContent",""],["nz-icon","","nzType","loading",1,"loading-icon"],[3,"nzValue","nzLabel"],["nz-button","",3,"click"],["nz-button","","nzType","default",1,"buttons-forms-group-details",3,"click"],["nz-button","","nzType","default",1,"buttons-forms-group-details",3,"disabled"],["nz-button","","nzType","default",1,"buttons-forms-group-details",3,"disabled","click"],[2,"cursor","pointer",3,"click"],[1,"content-modal"],[3,"disableEdit","showTestButton","disableEditEvent","identityId","requestEnd"],["identityFormElementRef",""],["nz-button","","nzType","primary",3,"disabled","click"]],template:function(t,e){if(1&t&&(r.Xb(0,"form",0,1),r.Xb(2,"div",2),r.Xb(3,"div",3),r.Xb(4,"nz-form-item"),r.Xb(5,"nz-form-label",4),r.Mc(6,"Nombre:"),r.Wb(),r.Xb(7,"nz-form-control",5),r.Sb(8,"input",6),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(9,"div",2),r.Xb(10,"div",3),r.Xb(11,"nz-form-item"),r.Xb(12,"nz-form-label",7),r.Mc(13,"Usuarios:"),r.Wb(),r.Xb(14,"nz-form-control"),r.Xb(15,"nz-select",8,9),r.fc("nzOpenChange",function(t){return e.selectOpenChange(t)}),r.Kc(17,Xrt,3,0,"nz-option",10),r.Kc(18,Urt,1,2,"nz-option",11),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(19,"nz-form-control",12),r.Kc(20,$rt,2,0,"button",13),r.Kc(21,Hrt,2,0,"button",14),r.Kc(22,Krt,2,1,"button",15),r.Kc(23,Grt,2,1,"button",16),r.Kc(24,Yrt,2,1,"button",15),r.Wb(),r.Wb(),r.Kc(25,Qrt,2,1,"ng-template",null,17,r.Lc),r.Kc(27,Jrt,2,0,"ng-template",null,18,r.Lc),r.Kc(29,Zrt,3,4,"ng-template",null,19,r.Lc),r.Kc(31,tot,4,1,"ng-template",null,20,r.Lc)),2&t){const t=r.Ac(26);r.qc("formGroup",e.formGroup),r.Db(2),r.qc("nzGutter",16),r.Db(1),r.qc("nzSpan",24),r.Db(4),r.qc("nzValidateStatus","INVALID"==e.getStatusInput("name")?"error":""),r.Db(2),r.qc("nzGutter",16),r.Db(1),r.qc("nzSpan",24),r.Db(5),r.qc("nzCustomTemplate",t),r.Db(2),r.qc("ngIf",e.loadingIdentitiesSelect),r.Db(1),r.qc("ngForOf",e.identitiesList),r.Db(2),r.qc("ngIf",e.showTestButton),r.Db(1),r.qc("ngIf",e.cancelEventEmiter.observers.length>0),r.Db(1),r.qc("ngIf",e.showCreateButton),r.Db(1),r.qc("ngIf",e.showEditButton),r.Db(1),r.qc("ngIf",e.showDeleteButton)}},directives:[re,yt,Qd,le,nr,ir,Jd,np,tp,Hp,G,bt,he,Gg,i.n,i.m,Ug,Rf,No,HL,qL,_rt],styles:[".buttons-forms-group-details[_ngcontent-%COMP%]{margin-left:5px}  .content-modal{max-height:500px;overflow-y:auto;overflow-x:hidden;padding-right:20px}"]}),t})();const iot=["containerPage"],rot=["modalCreateTitle"],oot=["modalCreateContent"],sot=["groupFormElementRef"],aot=["modalCreateFooter"];function cot(t,e){if(1&t&&(r.Xb(0,"button",13),r.Sb(1,"i",14),r.Wb()),2&t){const t=r.jc();r.qc("nzLoading",t.loading)}}function lot(t,e){1&t&&(r.Xb(0,"span"),r.Mc(1,"Crear Grupo"),r.Wb())}function uot(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",15),r.Xb(1,"app-group-form",16,17),r.fc("requestEnd",function(e){return r.Cc(t),r.jc().requestEndCreateGroup(e)}),r.Wb(),r.Wb()}if(2&t){const t=r.jc();r.Db(1),r.qc("disableEdit",!0)("showTestButton",!1)("disableEditEvent",t.disableEditFormSubject.asObservable())}}function hot(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",18),r.fc("click",function(){r.Cc(t);const n=e.modalRef;return r.jc().onClickDestroyModal(n)}),r.Mc(1,"Cancelar"),r.Wb(),r.Xb(2,"button",19),r.fc("click",function(){return r.Cc(t),r.jc().onClickCreateGroupModal()}),r.Mc(3,"Crear"),r.Wb()}if(2&t){const t=r.jc();r.Db(2),r.qc("disabled",t.disableCreateButtonGroupModal())}}let dot=(()=>{class t{constructor(t,e,n,i,r,o,s){this.backendService=t,this.msg=e,this.stateService=n,this.router=i,this.modalService=r,this.activeRoute=o,this.cdRef=s,this.state={},this.page=1,this.pageSize=10,this.loading=!1,this.pageData=[],this.excludeFields=["identities"],this.totalItems=0,this.searchValue="",this.disableEditFormSubject=new xe.a}getState(){return this.state}setState(t){this.state=null==t?{}:t}ngOnInit(){this.activeRoute.url.subscribe(t=>{this.stateService.setCurrentView(this,t)});const t=this.activeRoute.snapshot.data.groups;this.pageData=t.content,this.totalItems=t.count}ngOnDestroy(){this.stateService.saveOnDestroy(this)}ngAfterViewChecked(){this.cdRef.detectChanges()}search(){this.loading=!0;const t=[];this.searchValue&&""!=this.searchValue&&t.push({name:{op:"eq",unary:this.searchValue}}),this.backendService.getGroups(void 0,{filter:t,order:{},pagination:{pageIndex:this.page,pageSize:this.pageSize}}).subscribe(t=>{this.pageData=t.content,this.totalItems=t.count},t=>{this.loading=!1,this.msg.addIssues(t.issues)},()=>{this.loading=!1})}searchEvent(){this.page=1,this.search()}changePage(t){this.page=t,this.search()}openItem(t){this.router.navigate(["groupDetail",t.id])}modifyItem(t){this.router.navigate(["groupModify",t.id])}deleteItem(t){this.modalService.confirm({nzTitle:"\xbfSeguro que desea eliminar este grupo?",nzContent:t.name,nzOkText:"Eliminar",nzOkType:"primary",nzOkDanger:!0,nzOnOk:()=>this.deleteGroup(t.id),nzCancelText:"Cancelar"})}deleteGroup(t){this.backendService.deleteGroups(t).subscribe(t=>{console.log(t),this.search()},t=>{console.log(t)})}changePaginationEvent(t){this.page=t.pageIndex,this.search()}openCreateGroupModal(){this.modalService.create({nzTitle:this.modalCreateTitle,nzContent:this.modalCreateContent,nzFooter:this.modalCreateFooter,nzMaskClosable:!1}).afterOpen.subscribe(()=>{this.disableEditFormSubject.next(!1)})}onClickCreateGroupModal(){this.groupFormElementRef.createGroup()}disableCreateButtonGroupModal(){return!this.groupFormElementRef||!this.groupFormElementRef.formGroup.valid}requestEndCreateGroup(t){"POST"==t.methodRequest&&"success"==t.responseType&&(this.modalService.closeAll(),this.search())}onClickDestroyModal(t){t.destroy()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(YP),r.Rb(IP),r.Rb(dm.g),r.Rb(qF),r.Rb(dm.a),r.Rb(r.h))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-groups-browser"]],viewQuery:function(t,e){if(1&t&&(r.Qc(iot,1),r.Qc(rot,1),r.Qc(oot,1),r.Qc(sot,1),r.Qc(aot,1)),2&t){let t;r.zc(t=r.gc())&&(e.containerPage=t.first),r.zc(t=r.gc())&&(e.modalCreateTitle=t.first),r.zc(t=r.gc())&&(e.modalCreateContent=t.first),r.zc(t=r.gc())&&(e.groupFormElementRef=t.first),r.zc(t=r.gc())&&(e.modalCreateFooter=t.first)}},decls:20,vars:8,consts:[[2,"height","100%"],["containerPage",""],["nzTitle","Grupos"],[3,"submit"],["nzSearch","",3,"nzAddOnAfter"],["nz-input","","name","searchValue","placeholder","Introduzca los t\xe9rminos de b\xfasqueda","autocomplete","off",3,"disabled","ngModel","ngModelChange"],["suffixIconButton",""],["nz-button","","nzType","primary","nzShape","round",2,"margin","0 5px",3,"click"],[2,"padding","16px 24px"],[3,"Loading","PageData","ExcludeFields","DataSize","Checkable","OpenEvent","DeleteEvent","ModifyEvent","PaginationEvent"],["modalCreateTitle",""],["modalCreateContent",""],["modalCreateFooter",""],["nz-button","","nzSearch","",3,"nzLoading"],["nz-icon","","nzType","search"],[1,"content-modal"],[3,"disableEdit","showTestButton","disableEditEvent","requestEnd"],["groupFormElementRef",""],["nz-button","",3,"click"],["nz-button","","nzType","primary",3,"disabled","click"]],template:function(t,e){if(1&t&&(r.Xb(0,"div",0,1),r.Xb(2,"nz-page-header",2),r.Xb(3,"nz-page-header-content"),r.Xb(4,"form",3),r.fc("submit",function(){return e.searchEvent()}),r.Xb(5,"nz-input-group",4),r.Xb(6,"input",5),r.fc("ngModelChange",function(t){return e.searchValue=t}),r.Wb(),r.Wb(),r.Kc(7,cot,2,1,"ng-template",null,6,r.Lc),r.Wb(),r.Wb(),r.Xb(9,"nz-page-header-extra"),r.Xb(10,"button",7),r.fc("click",function(){return e.openCreateGroupModal()}),r.Mc(11," Crear "),r.Wb(),r.Wb(),r.Wb(),r.Xb(12,"div",8),r.Xb(13,"app-dynamic-table",9),r.fc("OpenEvent",function(t){return e.openItem(t)})("DeleteEvent",function(t){return e.deleteItem(t)})("ModifyEvent",function(t){return e.modifyItem(t)})("PaginationEvent",function(t){return e.changePaginationEvent(t)}),r.Wb(),r.Wb(),r.Kc(14,lot,2,0,"ng-template",null,10,r.Lc),r.Kc(16,uot,3,3,"ng-template",null,11,r.Lc),r.Kc(18,hot,4,1,"ng-template",null,12,r.Lc),r.Wb()),2&t){const t=r.Ac(8);r.Db(5),r.qc("nzAddOnAfter",t),r.Db(1),r.qc("disabled",e.loading)("ngModel",e.searchValue),r.Db(7),r.qc("Loading",e.loading)("PageData",e.pageData)("ExcludeFields",e.excludeFields)("DataSize",e.totalItems)("Checkable",!1)}},directives:[Lj,Mj,re,yt,te,Rf,Gp,Hp,G,bt,ie,Rj,HL,qL,gB,No,not],styles:[".content-modal{max-height:500px;overflow-y:auto;overflow-x:hidden;padding-right:20px}"]}),t})();function pot(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Sb(2,"br"),r.Ub()),2&t){const t=e.$implicit,n=r.jc();r.Db(1),r.Oc(" ",n.getIdentityName(t.identity_id)," ")}}let fot=(()=>{class t{constructor(t,e,n){this.activeRoute=t,this.stateService=e,this.router=n,this.state=""}getState(){return this.state}setState(t){this.state=null==t?"":t}ngOnInit(){this.activeRoute.url.subscribe(t=>{this.stateService.setCurrentView(this,t)}),this.groupData=this.activeRoute.snapshot.data.group.content,this.groupId=this.groupData.id,this.identitiesList=this.activeRoute.snapshot.data.identities.content}ngOnDestroy(){this.stateService.saveOnDestroy(this)}getIdentityName(t){for(const e of this.identitiesList)if(e.id==t)return e.name}goDetailsModify(){this.router.navigate(["groupModify",this.groupId])}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(dm.a),r.Rb(IP),r.Rb(dm.g))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-group-details"]],decls:14,vars:6,consts:[["nzSubtitle","Informaci\xf3n",3,"nzTitle"],["nz-button","","nzType","primary","nzShape","round",2,"margin","0 5px",3,"click"],[1,"page-content"],["nzBordered","",2,"background-color","white",3,"nzColumn"],["nzTitle","id"],["nzTitle","uuid"],["nzTitle","Nombre"],["nzTitle","Usuarios"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(r.Xb(0,"nz-page-header",0),r.Xb(1,"nz-page-header-extra"),r.Xb(2,"button",1),r.fc("click",function(){return e.goDetailsModify()}),r.Mc(3," Editar "),r.Wb(),r.Wb(),r.Wb(),r.Xb(4,"div",2),r.Xb(5,"nz-descriptions",3),r.Xb(6,"nz-descriptions-item",4),r.Mc(7),r.Wb(),r.Xb(8,"nz-descriptions-item",5),r.Mc(9),r.Wb(),r.Xb(10,"nz-descriptions-item",6),r.Mc(11),r.Wb(),r.Xb(12,"nz-descriptions-item",7),r.Kc(13,pot,3,1,"ng-container",8),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.rc("nzTitle",null==e.groupData?null:e.groupData.name),r.Db(5),r.qc("nzColumn",1),r.Db(2),r.Nc(null==e.groupData?null:e.groupData.id),r.Db(2),r.Nc(null==e.groupData?null:e.groupData.uuid),r.Db(2),r.Nc(null==e.groupData?null:e.groupData.name),r.Db(2),r.qc("ngForOf",null==e.groupData?null:e.groupData.identities))},directives:[Lj,Rj,HL,qL,Rf,dU,uU,i.m],styles:[".page-content[_ngcontent-%COMP%]{padding:16px 24px}"]}),t})(),got=(()=>{class t{constructor(t,e){this.activatedRouteService=t,this.location=e}ngOnInit(){this.groupData=this.activatedRouteService.snapshot.data.group.content}cancelEvent(){this.location.back()}requestEndForm(t){switch(t.methodRequest){case"PUT":(t.responseType="success")&&this.location.back()}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(dm.a),r.Rb(i.j))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-group-modify"]],decls:3,vars:5,consts:[["nzSubtitle","Editar",3,"nzTitle"],[2,"padding","16px 24px"],[3,"disableEdit","showEditButton","showTestButton","groupId","cancelEvent","requestEnd"]],template:function(t,e){1&t&&(r.Sb(0,"nz-page-header",0),r.Xb(1,"div",1),r.Xb(2,"app-group-form",2),r.fc("cancelEvent",function(){return e.cancelEvent()})("requestEnd",function(t){return e.requestEndForm(t)}),r.Wb(),r.Wb()),2&t&&(r.rc("nzTitle",null==e.groupData?null:e.groupData.name),r.Db(2),r.qc("disableEdit",!0)("showEditButton",!0)("showTestButton",!1)("groupId",e.groupData.id))},directives:[Lj,not],styles:[""]}),t})();function mot(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Sb(2,"br"),r.Ub()),2&t){const t=e.$implicit,n=r.jc();r.Db(1),r.Oc(" ",n.getIdentityName(t.identity_id)," ")}}let bot=(()=>{class t{constructor(t,e,n){this.activeRoute=t,this.stateService=e,this.router=n,this.state=""}getState(){return this.state}setState(t){this.state=null==t?"":t}ngOnInit(){this.activeRoute.url.subscribe(t=>{this.stateService.setCurrentView(this,t)}),this.roleData=this.activeRoute.snapshot.data.role.content,this.roleId=this.roleData.id,this.identitiesList=this.activeRoute.snapshot.data.identities.content}ngOnDestroy(){this.stateService.saveOnDestroy(this)}goModify(){this.router.navigate(["roleModify",this.roleId])}getIdentityName(t){for(const e of this.identitiesList)if(e.id==t)return e.name}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(dm.a),r.Rb(IP),r.Rb(dm.g))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-role-details"]],decls:14,vars:6,consts:[["nzSubtitle","Informaci\xf3n",3,"nzTitle"],["nz-button","","nzType","primary","nzShape","round",2,"margin","0 5px",3,"click"],[1,"page-content"],["nzBordered","",2,"background-color","white",3,"nzColumn"],["nzTitle","id"],["nzTitle","uuid"],["nzTitle","Nombre"],["nzTitle","Usuarios"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(r.Xb(0,"nz-page-header",0),r.Xb(1,"nz-page-header-extra"),r.Xb(2,"button",1),r.fc("click",function(){return e.goModify()}),r.Mc(3," Editar "),r.Wb(),r.Wb(),r.Wb(),r.Xb(4,"div",2),r.Xb(5,"nz-descriptions",3),r.Xb(6,"nz-descriptions-item",4),r.Mc(7),r.Wb(),r.Xb(8,"nz-descriptions-item",5),r.Mc(9),r.Wb(),r.Xb(10,"nz-descriptions-item",6),r.Mc(11),r.Wb(),r.Xb(12,"nz-descriptions-item",7),r.Kc(13,mot,3,1,"ng-container",8),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.rc("nzTitle",null==e.roleData?null:e.roleData.name),r.Db(5),r.qc("nzColumn",1),r.Db(2),r.Nc(null==e.roleData?null:e.roleData.id),r.Db(2),r.Nc(null==e.roleData?null:e.roleData.uuid),r.Db(2),r.Nc(null==e.roleData?null:e.roleData.name),r.Db(2),r.qc("ngForOf",null==e.roleData?null:e.roleData.identities))},directives:[Lj,Rj,HL,qL,Rf,dU,uU,i.m],styles:[".page-content[_ngcontent-%COMP%]{padding:16px 24px}"]}),t})();const yot=["identitiesSelect"],vot=["identityFormElementRef"],_ot=["modalIdentityTitle"],wot=["modalIdentityContent"],zot=["modalIdentityFooter"];function Cot(t,e){1&t&&(r.Xb(0,"nz-option",21),r.Sb(1,"i",22),r.Mc(2," Cargando Datos "),r.Wb())}function Sot(t,e){if(1&t&&r.Sb(0,"nz-option",23),2&t){const t=e.$implicit;r.qc("nzValue",t.id)("nzLabel",t.name)}}function xot(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",24),r.fc("click",function(){return r.Cc(t),r.jc().test()}),r.Mc(1,"Test"),r.Wb()}}function Oot(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",25),r.fc("click",function(){return r.Cc(t),r.jc().onClickCancelButton()}),r.Mc(1,"Cancelar"),r.Wb()}}function kot(t,e){if(1&t&&(r.Xb(0,"button",26),r.Mc(1,"Crear"),r.Wb()),2&t){const t=r.jc();r.qc("disabled",t.disableEdit)}}function Tot(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",27),r.fc("click",function(){return r.Cc(t),r.jc().modifyRole()}),r.Mc(1,"Modificar"),r.Wb()}if(2&t){const t=r.jc();r.qc("disabled",t.disableEdit||!t.formGroup.valid)}}function Eot(t,e){if(1&t&&(r.Xb(0,"button",26),r.Mc(1,"Eliminar"),r.Wb()),2&t){const t=r.jc();r.qc("disabled",t.disableEdit)}}function Iot(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",28),r.fc("click",function(){r.Cc(t);const n=e.$implicit;return r.jc().selectItemClick(n)}),r.Mc(1),r.Wb()}if(2&t){const t=e.$implicit;r.Db(1),r.Nc(t.nzLabel)}}function Dot(t,e){1&t&&(r.Xb(0,"span"),r.Mc(1,"Modificar usuario"),r.Wb())}function Mot(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",29),r.Xb(1,"app-identity-form",30,31),r.fc("requestEnd",function(e){return r.Cc(t),r.jc().requestEndItemForm(e,"Identity")}),r.Wb(),r.Wb()}if(2&t){const t=e.$implicit,n=r.jc();r.Db(1),r.qc("disableEdit",!0)("showTestButton",!1)("disableEditEvent",n.disableEditFormSubject.asObservable())("identityId",t.id)}}function Rot(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",24),r.fc("click",function(){r.Cc(t);const n=e.modalRef;return r.jc().onClickDestroyModal(n)}),r.Mc(1,"Cancelar"),r.Wb(),r.Xb(2,"button",32),r.fc("click",function(){return r.Cc(t),r.jc().onClickModifyIdentityModal()}),r.Mc(3,"Modificar"),r.Wb()}if(2&t){const t=r.jc();r.Db(2),r.qc("disabled",t.disableModifyButtonIdentityModal())}}var Aot;!function(t){let e,n;!function(t){t[t.TWO_COLUMNS=0]="TWO_COLUMNS",t[t.THREE_COLUMNS=1]="THREE_COLUMNS"}(e=t.GRID||(t.GRID={})),function(t){t[t.CLICK_ITEM=0]="CLICK_ITEM"}(n=t.REASON_SELECT_OPEN||(t.REASON_SELECT_OPEN={}))}(Aot||(Aot={}));let Pot=(()=>{class t{constructor(t,e,n){this.fb=t,this.backendService=e,this.modalService=n,this.identitiesList=[],this.loadingIdentitiesSelect=!0,this.disableEditFormSubject=new xe.a,this.reasonSelectOpen=null,this.GRID_COLUMNS=Aot.GRID,this.disableEdit=!1,this.showTestButton=!1,this.showCreateButton=!1,this.showEditButton=!1,this.showDeleteButton=!1,this.showCancelButton=!1,this.endInitComponent=new r.n,this.cancelEventEmiter=new r.n,this.requestEnd=new r.n}ngOnInit(){this.formGroup=this.fb.group({name:[{value:"",disabled:this.disableEdit}],identities:[[]]}),this.updateStateDisableInputs(!0),this.disableEditEvent&&(this.disableEditSubscription=this.disableEditEvent.subscribe(t=>{this.updateStateDisableInputs(t)})),this.setRoleData(),this.getOptionsSelects(),this.endInitComponent.emit()}ngAfterViewInit(){this.formGroup.controls.name.setValidators([et.required])}ngOnDestroy(){this.disableEditSubscription&&this.disableEditSubscription.unsubscribe()}setRoleData(){this.roleId?this.backendService.getRoles(this.roleId).subscribe(t=>{const e=t.content;if(e.name&&this.formGroup.controls.name.setValue(e.name),e.identities){const t=[];for(const n of e.identities)t.push(n.identity_id);this.formGroup.controls.identities.setValue(t)}this.updateStateDisableInputs(!1),this.requestEnd.emit({methodRequest:"GET",responseType:"success"})},t=>{console.log(t),this.requestEnd.emit({methodRequest:"GET",responseType:"error"})}):this.updateStateDisableInputs(!1)}getOptionsSelects(){this.getOptionsSelectsIdentity()}getOptionsSelectsIdentity(){this.backendService.getIdentities().subscribe(t=>{this.identitiesList=t.content,this.loadingIdentitiesSelect=!1},t=>{console.log(t)})}updateStateDisableInputs(t){this.disableEdit=t,this.disableEdit?this.formGroup.controls.name.disable():this.formGroup.controls.name.enable()}formatDataForBackend(t){const e=this.formGroup.value.name,n=this.formGroup.value.identities,i=[];for(const r of n)i.push({role_id:this.roleId,identity_id:r});return{name:e,identities:i}}getStatusInput(t){return this.formGroup.controls[t].status}getGrid(t,e){if(e)switch(t){case Aot.GRID.TWO_COLUMNS:return e.nativeElement.clientWidth<700?24:12;case Aot.GRID.THREE_COLUMNS:return e.nativeElement.clientWidth<1200?24:8}return 24}modifyRole(){if(this.formGroup.valid){const t=this.formatDataForBackend("PUT");this.disableEdit=!0,this.backendService.putRole(this.roleId,t).subscribe(t=>{console.log(t),this.requestEnd.emit({methodRequest:"PUT",responseType:"success"}),this.disableEdit=!1},t=>{this.requestEnd.emit({methodRequest:"PUT",responseType:"error"}),console.log(t),this.disableEdit=!1})}}createRole(){if(this.formGroup.valid){const t=this.formatDataForBackend("POST");this.disableEdit=!0,this.backendService.postRole(t).subscribe(t=>{this.disableEdit=!1,console.log(t),this.requestEnd.emit({methodRequest:"POST",responseType:"success"})},t=>{this.requestEnd.emit({methodRequest:"POST",responseType:"error"}),console.log(t)})}}onClickCancelButton(){this.cancelEventEmiter.emit()}selectOpenChange(t){t&&this.reasonSelectOpen==Aot.REASON_SELECT_OPEN.CLICK_ITEM&&(this.identitiesSelectElementRef.setOpenState(!1),this.reasonSelectOpen=null)}selectItemClick(t){this.identitiesSelectElementRef.nzOpen||(this.reasonSelectOpen=Aot.REASON_SELECT_OPEN.CLICK_ITEM),this.modalService.create({nzTitle:this.modalIdentityTitle,nzContent:this.modalIdentityContent,nzFooter:this.modalIdentityFooter,nzComponentParams:{id:t.nzValue}})}requestEndItemForm(t,e){switch(t.methodRequest){case"GET":"success"==t.responseType&&this.disableEditFormSubject.next(!1);break;case"PUT":"success"==t.responseType&&(this.modalService.closeAll(),"Identity"==e&&this.getOptionsSelectsIdentity())}}onClickDestroyModal(t){t.destroy()}onClickModifyIdentityModal(){this.identityFormElementRef.modifyIdentity()}disableModifyButtonIdentityModal(){return!this.identityFormElementRef||!this.identityFormElementRef.formGroup.valid}test(){console.log(this.cancelEventEmiter.observers)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(ge),r.Rb(DP),r.Rb(qF))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-role-form"]],viewQuery:function(t,e){if(1&t&&(r.Qc(yot,1),r.Qc(vot,1),r.Qc(_ot,1),r.Qc(wot,1),r.Qc(zot,1)),2&t){let t;r.zc(t=r.gc())&&(e.identitiesSelectElementRef=t.first),r.zc(t=r.gc())&&(e.identityFormElementRef=t.first),r.zc(t=r.gc())&&(e.modalIdentityTitle=t.first),r.zc(t=r.gc())&&(e.modalIdentityContent=t.first),r.zc(t=r.gc())&&(e.modalIdentityFooter=t.first)}},inputs:{roleId:"roleId",disableEditEvent:"disableEditEvent",disableEdit:"disableEdit",showTestButton:"showTestButton",showCreateButton:"showCreateButton",showEditButton:"showEditButton",showDeleteButton:"showDeleteButton",showCancelButton:"showCancelButton"},outputs:{endInitComponent:"endInitComponent",cancelEventEmiter:"cancelEvent",requestEnd:"requestEnd"},decls:33,vars:14,consts:[["nz-form","","nzLayout","vertical",3,"formGroup"],["formIdentityDetails",""],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzFor","name"],["nzErrorTip","Campo requerido.",3,"nzValidateStatus"],["nz-input","","formControlName","name","autocomplete","off"],["nzFor","identities"],["formControlName","identities","nzMode","multiple","nzPlaceHolder","Usuarios","nzShowSearch","",3,"nzCustomTemplate","nzOpenChange"],["identitiesSelect",""],["nzDisabled","","nzCustomContent","",4,"ngIf"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[2,"align-items","flex-end"],["nz-button","",3,"click",4,"ngIf"],["class","buttons-forms-organization-details","nz-button","","nzType","default",3,"click",4,"ngIf"],["class","buttons-forms-organization-details","nz-button","","nzType","default",3,"disabled",4,"ngIf"],["class","buttons-forms-organization-details","nz-button","","nzType","default",3,"disabled","click",4,"ngIf"],["multipleTemplate",""],["modalIdentityTitle",""],["modalIdentityContent",""],["modalIdentityFooter",""],["nzDisabled","","nzCustomContent",""],["nz-icon","","nzType","loading",1,"loading-icon"],[3,"nzValue","nzLabel"],["nz-button","",3,"click"],["nz-button","","nzType","default",1,"buttons-forms-organization-details",3,"click"],["nz-button","","nzType","default",1,"buttons-forms-organization-details",3,"disabled"],["nz-button","","nzType","default",1,"buttons-forms-organization-details",3,"disabled","click"],[2,"cursor","pointer",3,"click"],[1,"content-modal"],[3,"disableEdit","showTestButton","disableEditEvent","identityId","requestEnd"],["identityFormElementRef",""],["nz-button","","nzType","primary",3,"disabled","click"]],template:function(t,e){if(1&t&&(r.Xb(0,"form",0,1),r.Xb(2,"div",2),r.Xb(3,"div",3),r.Xb(4,"nz-form-item"),r.Xb(5,"nz-form-label",4),r.Mc(6,"Nombre:"),r.Wb(),r.Xb(7,"nz-form-control",5),r.Sb(8,"input",6),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(9,"div",2),r.Xb(10,"div",3),r.Xb(11,"nz-form-item"),r.Xb(12,"nz-form-label",7),r.Mc(13,"Usuarios:"),r.Wb(),r.Xb(14,"nz-form-control"),r.Xb(15,"nz-select",8,9),r.fc("nzOpenChange",function(t){return e.selectOpenChange(t)}),r.Kc(17,Cot,3,0,"nz-option",10),r.Kc(18,Sot,1,2,"nz-option",11),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(19,"nz-form-control",12),r.Kc(20,xot,2,0,"button",13),r.Kc(21,Oot,2,0,"button",14),r.Kc(22,kot,2,1,"button",15),r.Kc(23,Tot,2,1,"button",16),r.Kc(24,Eot,2,1,"button",15),r.Wb(),r.Wb(),r.Kc(25,Iot,2,1,"ng-template",null,17,r.Lc),r.Kc(27,Dot,2,0,"ng-template",null,18,r.Lc),r.Kc(29,Mot,3,4,"ng-template",null,19,r.Lc),r.Kc(31,Rot,4,1,"ng-template",null,20,r.Lc)),2&t){const t=r.Ac(26);r.qc("formGroup",e.formGroup),r.Db(2),r.qc("nzGutter",16),r.Db(1),r.qc("nzSpan",24),r.Db(4),r.qc("nzValidateStatus","INVALID"==e.getStatusInput("name")?"error":""),r.Db(2),r.qc("nzGutter",16),r.Db(1),r.qc("nzSpan",24),r.Db(5),r.qc("nzCustomTemplate",t),r.Db(2),r.qc("ngIf",e.loadingIdentitiesSelect),r.Db(1),r.qc("ngForOf",e.identitiesList),r.Db(2),r.qc("ngIf",e.showTestButton),r.Db(1),r.qc("ngIf",e.cancelEventEmiter.observers.length>0),r.Db(1),r.qc("ngIf",e.showCreateButton),r.Db(1),r.qc("ngIf",e.showEditButton),r.Db(1),r.qc("ngIf",e.showDeleteButton)}},directives:[re,yt,Qd,le,nr,ir,Jd,np,tp,Hp,G,bt,he,Gg,i.n,i.m,Ug,Rf,No,HL,qL,_rt],styles:[".buttons-forms-organization-details[_ngcontent-%COMP%]{margin-left:5px}  .content-modal{max-height:500px;overflow-y:auto;overflow-x:hidden;padding-right:20px}"]}),t})();const Lot=["containerPage"],Fot=["modalCreateTitle"],jot=["modalCreateContent"],Not=["roleFormElementRef"],Vot=["modalCreateFooter"];function Wot(t,e){if(1&t&&(r.Xb(0,"button",13),r.Sb(1,"i",14),r.Wb()),2&t){const t=r.jc();r.qc("nzLoading",t.loading)}}function qot(t,e){1&t&&(r.Xb(0,"span"),r.Mc(1,"Crear Organizaci\xf3n"),r.Wb())}function Bot(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",15),r.Xb(1,"app-role-form",16,17),r.fc("requestEnd",function(e){return r.Cc(t),r.jc().requestEndCreateRole(e)}),r.Wb(),r.Wb()}if(2&t){const t=r.jc();r.Db(1),r.qc("disableEdit",!0)("showTestButton",!1)("disableEditEvent",t.disableEditFormSubject.asObservable())}}function Xot(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",18),r.fc("click",function(){r.Cc(t);const n=e.modalRef;return r.jc().onClickDestroyModal(n)}),r.Mc(1,"Cancelar"),r.Wb(),r.Xb(2,"button",19),r.fc("click",function(){return r.Cc(t),r.jc().onClickCreateRoleModal()}),r.Mc(3,"Crear"),r.Wb()}if(2&t){const t=r.jc();r.Db(2),r.qc("disabled",t.disableCreateButtonRoleModal())}}let Uot=(()=>{class t{constructor(t,e,n,i,r,o,s){this.backendService=t,this.msg=e,this.stateService=n,this.router=i,this.modalService=r,this.activeRoute=o,this.cdRef=s,this.page=1,this.pageSize=10,this.loading=!1,this.pageData=[],this.totalItems=0,this.searchValue="",this.excludeFields=["identities"],this.disableEditFormSubject=new xe.a}getState(){return this.state}setState(t){this.state=null==t?{}:t}ngOnInit(){this.activeRoute.url.subscribe(t=>{this.stateService.setCurrentView(this,t)});const t=this.activeRoute.snapshot.data.roles;this.pageData=t.content,this.totalItems=t.count}ngOnDestroy(){this.stateService.saveOnDestroy(this)}ngAfterViewChecked(){this.cdRef.detectChanges()}search(){this.loading=!0;const t=[];this.searchValue&&""!=this.searchValue&&t.push({name:{op:"eq",unary:this.searchValue}}),this.backendService.getRoles(void 0,{filter:t,order:{},pagination:{pageIndex:this.page,pageSize:this.pageSize}}).subscribe(t=>{this.pageData=t.content,this.totalItems=t.count},t=>{this.loading=!1,this.msg.addIssues(t.issues)},()=>{this.loading=!1})}calculeScrollTableY(){if(this.containerPage){var t=this.containerPage.nativeElement.offsetHeight-350;return t<0&&(t=0),`${t}px`}return"0px"}searchEvent(){this.page=1,this.search()}changePage(t){this.page=t,this.search()}changePaginationEvent(t){this.page=t.pageIndex,this.search()}openItem(t){this.router.navigate(["roleDetail",t.id])}modifyItem(t){this.router.navigate(["roleModify",t.id])}deleteItem(t){this.modalService.confirm({nzTitle:"\xbfSeguro que desea eliminar este grupo?",nzContent:t.name,nzOkText:"Eliminar",nzOkType:"primary",nzOkDanger:!0,nzOnOk:()=>this.deleteRoles(t.id),nzCancelText:"Cancelar"})}deleteRoles(t){this.backendService.deleteRole(t).subscribe(t=>{console.log(t),this.search()},t=>{console.log(t)})}openCreateRoleModal(){this.modalService.create({nzTitle:this.modalCreateTitle,nzContent:this.modalCreateContent,nzFooter:this.modalCreateFooter,nzMaskClosable:!1}).afterOpen.subscribe(()=>{this.disableEditFormSubject.next(!1)})}onClickCreateRoleModal(){this.roleFormElementRef.createRole()}disableCreateButtonRoleModal(){return!this.roleFormElementRef||!this.roleFormElementRef.formGroup.valid}requestEndCreateRole(t){"POST"==t.methodRequest&&"success"==t.responseType&&(this.modalService.closeAll(),this.search())}onClickDestroyModal(t){t.destroy()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(YP),r.Rb(IP),r.Rb(dm.g),r.Rb(qF),r.Rb(dm.a),r.Rb(r.h))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-roles-browser"]],viewQuery:function(t,e){if(1&t&&(r.Qc(Lot,1),r.Qc(Fot,1),r.Qc(jot,1),r.Qc(Not,1),r.Qc(Vot,1)),2&t){let t;r.zc(t=r.gc())&&(e.containerPage=t.first),r.zc(t=r.gc())&&(e.modalCreateTitle=t.first),r.zc(t=r.gc())&&(e.modalCreateContent=t.first),r.zc(t=r.gc())&&(e.roleFormElementRef=t.first),r.zc(t=r.gc())&&(e.modalCreateFooter=t.first)}},decls:20,vars:8,consts:[[2,"height","100%"],["containerPage",""],["nzTitle","Roles"],[3,"submit"],["nzSearch","",3,"nzAddOnAfter"],["nz-input","","name","searchValue","placeholder","Introduzca los t\xe9rminos de b\xfasqueda","autocomplete","off",3,"disabled","ngModel","ngModelChange"],["suffixIconButton",""],["nz-button","","nzType","primary","nzShape","round",2,"margin","0 5px",3,"click"],[2,"padding","16px 24px"],[3,"Loading","PageData","ExcludeFields","DataSize","Checkable","OpenEvent","DeleteEvent","ModifyEvent","PaginationEvent"],["modalCreateTitle",""],["modalCreateContent",""],["modalCreateFooter",""],["nz-button","","nzSearch","",3,"nzLoading"],["nz-icon","","nzType","search"],[1,"content-modal"],[3,"disableEdit","showTestButton","disableEditEvent","requestEnd"],["roleFormElementRef",""],["nz-button","",3,"click"],["nz-button","","nzType","primary",3,"disabled","click"]],template:function(t,e){if(1&t&&(r.Xb(0,"div",0,1),r.Xb(2,"nz-page-header",2),r.Xb(3,"nz-page-header-content"),r.Xb(4,"form",3),r.fc("submit",function(){return e.searchEvent()}),r.Xb(5,"nz-input-group",4),r.Xb(6,"input",5),r.fc("ngModelChange",function(t){return e.searchValue=t}),r.Wb(),r.Wb(),r.Kc(7,Wot,2,1,"ng-template",null,6,r.Lc),r.Wb(),r.Wb(),r.Xb(9,"nz-page-header-extra"),r.Xb(10,"button",7),r.fc("click",function(){return e.openCreateRoleModal()}),r.Mc(11," Crear "),r.Wb(),r.Wb(),r.Wb(),r.Xb(12,"div",8),r.Xb(13,"app-dynamic-table",9),r.fc("OpenEvent",function(t){return e.openItem(t)})("DeleteEvent",function(t){return e.deleteItem(t)})("ModifyEvent",function(t){return e.modifyItem(t)})("PaginationEvent",function(t){return e.changePaginationEvent(t)}),r.Wb(),r.Wb(),r.Kc(14,qot,2,0,"ng-template",null,10,r.Lc),r.Kc(16,Bot,3,3,"ng-template",null,11,r.Lc),r.Kc(18,Xot,4,1,"ng-template",null,12,r.Lc),r.Wb()),2&t){const t=r.Ac(8);r.Db(5),r.qc("nzAddOnAfter",t),r.Db(1),r.qc("disabled",e.loading)("ngModel",e.searchValue),r.Db(7),r.qc("Loading",e.loading)("PageData",e.pageData)("ExcludeFields",e.excludeFields)("DataSize",e.totalItems)("Checkable",!1)}},directives:[Lj,Mj,re,yt,te,Rf,Gp,Hp,G,bt,ie,Rj,HL,qL,gB,No,Pot],styles:[".content-modal{max-height:500px;overflow-y:auto;overflow-x:hidden;padding-right:20px}"]}),t})(),$ot=(()=>{class t{constructor(t,e){this.location=t,this.activatedRouteService=e}ngOnInit(){this.roleData=this.activatedRouteService.snapshot.data.role.content}cancelEvent(){this.location.back()}requestEndForm(t){switch(t.methodRequest){case"PUT":(t.responseType="success")&&this.location.back()}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(i.j),r.Rb(dm.a))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-role-modify"]],decls:3,vars:5,consts:[["nzSubtitle","Editar",3,"nzTitle"],[2,"padding","16px 24px"],[3,"disableEdit","showEditButton","showTestButton","roleId","cancelEvent","requestEnd"]],template:function(t,e){1&t&&(r.Sb(0,"nz-page-header",0),r.Xb(1,"div",1),r.Xb(2,"app-role-form",2),r.fc("cancelEvent",function(){return e.cancelEvent()})("requestEnd",function(t){return e.requestEndForm(t)}),r.Wb(),r.Wb()),2&t&&(r.rc("nzTitle",null==e.roleData?null:e.roleData.name),r.Db(2),r.qc("disableEdit",!0)("showEditButton",!0)("showTestButton",!1)("roleId",e.roleData.id))},directives:[Lj,Pot],styles:[""]}),t})();function Hot(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Sb(2,"br"),r.Ub()),2&t){const t=e.$implicit,n=r.jc();r.Db(1),r.Oc(" ",n.getIdentityName(t.identity_id)," ")}}let Kot=(()=>{class t{constructor(t,e,n){this.activeRoute=t,this.stateService=e,this.router=n,this.state=""}getState(){return this.state}setState(t){this.state=null==t?"":t}ngOnInit(){this.activeRoute.url.subscribe(t=>{this.stateService.setCurrentView(this,t)}),this.organizationData=this.activeRoute.snapshot.data.organization.content,this.organizationId=this.organizationData.id,this.identitiesList=this.activeRoute.snapshot.data.identities.content}ngOnDestroy(){this.stateService.saveOnDestroy(this)}goModify(){this.router.navigate(["organizationModify",this.organizationId])}getIdentityName(t){for(const e of this.identitiesList)if(e.id==t)return e.name}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(dm.a),r.Rb(IP),r.Rb(dm.g))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-organization-details"]],decls:14,vars:6,consts:[["nzSubtitle","Informaci\xf3n",3,"nzTitle"],["nz-button","","nzType","primary","nzShape","round",2,"margin","0 5px",3,"click"],[1,"page-content"],["nzBordered","",2,"background-color","white",3,"nzColumn"],["nzTitle","id"],["nzTitle","uuid"],["nzTitle","Nombre"],["nzTitle","Usuarios"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(r.Xb(0,"nz-page-header",0),r.Xb(1,"nz-page-header-extra"),r.Xb(2,"button",1),r.fc("click",function(){return e.goModify()}),r.Mc(3," Editar "),r.Wb(),r.Wb(),r.Wb(),r.Xb(4,"div",2),r.Xb(5,"nz-descriptions",3),r.Xb(6,"nz-descriptions-item",4),r.Mc(7),r.Wb(),r.Xb(8,"nz-descriptions-item",5),r.Mc(9),r.Wb(),r.Xb(10,"nz-descriptions-item",6),r.Mc(11),r.Wb(),r.Xb(12,"nz-descriptions-item",7),r.Kc(13,Hot,3,1,"ng-container",8),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.rc("nzTitle",null==e.organizationData?null:e.organizationData.name),r.Db(5),r.qc("nzColumn",1),r.Db(2),r.Nc(null==e.organizationData?null:e.organizationData.id),r.Db(2),r.Nc(null==e.organizationData?null:e.organizationData.uuid),r.Db(2),r.Nc(null==e.organizationData?null:e.organizationData.name),r.Db(2),r.qc("ngForOf",null==e.organizationData?null:e.organizationData.identities))},directives:[Lj,Rj,HL,qL,Rf,dU,uU,i.m],styles:[".page-content[_ngcontent-%COMP%]{padding:16px 24px}"]}),t})();const Got=["identitiesSelect"],Yot=["identityFormElementRef"],Qot=["modalIdentityTitle"],Jot=["modalIdentityContent"],Zot=["modalIdentityFooter"];function tst(t,e){1&t&&(r.Xb(0,"nz-option",21),r.Sb(1,"i",22),r.Mc(2," Cargando Datos "),r.Wb())}function est(t,e){if(1&t&&r.Sb(0,"nz-option",23),2&t){const t=e.$implicit;r.qc("nzValue",t.id)("nzLabel",t.name)}}function nst(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",24),r.fc("click",function(){return r.Cc(t),r.jc().test()}),r.Mc(1,"Test"),r.Wb()}}function ist(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",25),r.fc("click",function(){return r.Cc(t),r.jc().onClickCancelButton()}),r.Mc(1,"Cancelar"),r.Wb()}}function rst(t,e){if(1&t&&(r.Xb(0,"button",26),r.Mc(1,"Crear"),r.Wb()),2&t){const t=r.jc();r.qc("disabled",t.disableEdit)}}function ost(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",27),r.fc("click",function(){return r.Cc(t),r.jc().modifyGroup()}),r.Mc(1,"Modificar"),r.Wb()}if(2&t){const t=r.jc();r.qc("disabled",t.disableEdit||!t.formGroup.valid)}}function sst(t,e){if(1&t&&(r.Xb(0,"button",26),r.Mc(1,"Eliminar"),r.Wb()),2&t){const t=r.jc();r.qc("disabled",t.disableEdit)}}function ast(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",28),r.fc("click",function(){r.Cc(t);const n=e.$implicit;return r.jc().selectItemClick(n)}),r.Mc(1),r.Wb()}if(2&t){const t=e.$implicit;r.Db(1),r.Nc(t.nzLabel)}}function cst(t,e){1&t&&(r.Xb(0,"span"),r.Mc(1,"Modificar usuario"),r.Wb())}function lst(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",29),r.Xb(1,"app-identity-form",30,31),r.fc("requestEnd",function(e){return r.Cc(t),r.jc().requestEndItemForm(e,"Identity")}),r.Wb(),r.Wb()}if(2&t){const t=e.$implicit,n=r.jc();r.Db(1),r.qc("disableEdit",!0)("showTestButton",!1)("disableEditEvent",n.disableEditFormSubject.asObservable())("identityId",t.id)}}function ust(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",24),r.fc("click",function(){r.Cc(t);const n=e.modalRef;return r.jc().onClickDestroyModal(n)}),r.Mc(1,"Cancelar"),r.Wb(),r.Xb(2,"button",32),r.fc("click",function(){return r.Cc(t),r.jc().onClickModifyIdentityModal()}),r.Mc(3,"Modificar"),r.Wb()}if(2&t){const t=r.jc();r.Db(2),r.qc("disabled",t.disableModifyButtonIdentityModal())}}var hst;!function(t){let e,n;!function(t){t[t.TWO_COLUMNS=0]="TWO_COLUMNS",t[t.THREE_COLUMNS=1]="THREE_COLUMNS"}(e=t.GRID||(t.GRID={})),function(t){t[t.CLICK_ITEM=0]="CLICK_ITEM"}(n=t.REASON_SELECT_OPEN||(t.REASON_SELECT_OPEN={}))}(hst||(hst={}));let dst=(()=>{class t{constructor(t,e,n){this.fb=t,this.backendService=e,this.modalService=n,this.identitiesList=[],this.loadingIdentitiesSelect=!0,this.disableEditFormSubject=new xe.a,this.reasonSelectOpen=null,this.GRID_COLUMNS=hst.GRID,this.disableEdit=!1,this.showTestButton=!1,this.showCreateButton=!1,this.showEditButton=!1,this.showDeleteButton=!1,this.showCancelButton=!1,this.endInitComponent=new r.n,this.cancelEventEmiter=new r.n,this.requestEnd=new r.n}ngOnInit(){this.formGroup=this.fb.group({name:[{value:"",disabled:this.disableEdit}],identities:[[]]}),this.updateStateDisableInputs(!0),this.disableEditEvent&&(this.disableEditSubscription=this.disableEditEvent.subscribe(t=>{this.updateStateDisableInputs(t)})),this.setOrganizationData(),this.getOptionsSelects(),this.endInitComponent.emit()}ngAfterViewInit(){this.formGroup.controls.name.setValidators([et.required])}ngOnDestroy(){this.disableEditSubscription&&this.disableEditSubscription.unsubscribe()}setOrganizationData(){this.organizationId?this.backendService.getOrganizations(this.organizationId).subscribe(t=>{const e=t.content;if(e.name&&this.formGroup.controls.name.setValue(e.name),e.identities){const t=[];for(const n of e.identities)t.push(n.identity_id);this.formGroup.controls.identities.setValue(t)}this.updateStateDisableInputs(!1),this.requestEnd.emit({methodRequest:"GET",responseType:"success"})},t=>{console.log(t),this.requestEnd.emit({methodRequest:"GET",responseType:"error"})}):this.updateStateDisableInputs(!1)}getOptionsSelects(){this.getOptionsSelectsIdentity()}getOptionsSelectsIdentity(){this.backendService.getIdentities().subscribe(t=>{this.identitiesList=t.content,this.loadingIdentitiesSelect=!1},t=>{console.log(t)})}updateStateDisableInputs(t){this.disableEdit=t,this.disableEdit?this.formGroup.controls.name.disable():this.formGroup.controls.name.enable()}formatDataForBackend(t){const e=this.formGroup.value.name,n=this.formGroup.value.identities,i=[];for(const r of n)i.push({organization_id:this.organizationId,identity_id:r});return{name:e,identities:i}}getStatusInput(t){return this.formGroup.controls[t].status}getGrid(t,e){if(e)switch(t){case hst.GRID.TWO_COLUMNS:return e.nativeElement.clientWidth<700?24:12;case hst.GRID.THREE_COLUMNS:return e.nativeElement.clientWidth<1200?24:8}return 24}modifyGroup(){if(this.formGroup.valid){const t=this.formatDataForBackend("PUT");this.disableEdit=!0,this.backendService.putOrganization(this.organizationId,t).subscribe(t=>{console.log(t),this.requestEnd.emit({methodRequest:"PUT",responseType:"success"}),this.disableEdit=!1},t=>{this.requestEnd.emit({methodRequest:"PUT",responseType:"error"}),console.log(t),this.disableEdit=!1})}}createOrganization(){if(this.formGroup.valid){const t=this.formatDataForBackend("POST");this.disableEdit=!0,this.backendService.postOrganization(t).subscribe(t=>{this.disableEdit=!1,console.log(t),this.requestEnd.emit({methodRequest:"POST",responseType:"success"})},t=>{this.requestEnd.emit({methodRequest:"POST",responseType:"error"}),console.log(t)})}}onClickCancelButton(){this.cancelEventEmiter.emit()}selectOpenChange(t){t&&this.reasonSelectOpen==hst.REASON_SELECT_OPEN.CLICK_ITEM&&(this.identitiesSelectElementRef.setOpenState(!1),this.reasonSelectOpen=null)}selectItemClick(t){this.identitiesSelectElementRef.nzOpen||(this.reasonSelectOpen=hst.REASON_SELECT_OPEN.CLICK_ITEM),this.modalService.create({nzTitle:this.modalIdentityTitle,nzContent:this.modalIdentityContent,nzFooter:this.modalIdentityFooter,nzComponentParams:{id:t.nzValue}})}requestEndItemForm(t,e){switch(t.methodRequest){case"GET":"success"==t.responseType&&this.disableEditFormSubject.next(!1);break;case"PUT":"success"==t.responseType&&(this.modalService.closeAll(),"Identity"==e&&this.getOptionsSelectsIdentity())}}onClickDestroyModal(t){t.destroy()}onClickModifyIdentityModal(){this.identityFormElementRef.modifyIdentity()}disableModifyButtonIdentityModal(){return!this.identityFormElementRef||!this.identityFormElementRef.formGroup.valid}test(){console.log(this.cancelEventEmiter.observers)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(ge),r.Rb(DP),r.Rb(qF))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-organization-form"]],viewQuery:function(t,e){if(1&t&&(r.Qc(Got,1),r.Qc(Yot,1),r.Qc(Qot,1),r.Qc(Jot,1),r.Qc(Zot,1)),2&t){let t;r.zc(t=r.gc())&&(e.identitiesSelectElementRef=t.first),r.zc(t=r.gc())&&(e.identityFormElementRef=t.first),r.zc(t=r.gc())&&(e.modalIdentityTitle=t.first),r.zc(t=r.gc())&&(e.modalIdentityContent=t.first),r.zc(t=r.gc())&&(e.modalIdentityFooter=t.first)}},inputs:{organizationId:"organizationId",disableEditEvent:"disableEditEvent",disableEdit:"disableEdit",showTestButton:"showTestButton",showCreateButton:"showCreateButton",showEditButton:"showEditButton",showDeleteButton:"showDeleteButton",showCancelButton:"showCancelButton"},outputs:{endInitComponent:"endInitComponent",cancelEventEmiter:"cancelEvent",requestEnd:"requestEnd"},decls:33,vars:14,consts:[["nz-form","","nzLayout","vertical",3,"formGroup"],["formIdentityDetails",""],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzFor","name"],["nzErrorTip","Campo requerido.",3,"nzValidateStatus"],["nz-input","","formControlName","name","autocomplete","off"],["nzFor","identities"],["formControlName","identities","nzMode","multiple","nzPlaceHolder","Usuarios","nzShowSearch","",3,"nzCustomTemplate","nzOpenChange"],["identitiesSelect",""],["nzDisabled","","nzCustomContent","",4,"ngIf"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[2,"align-items","flex-end"],["nz-button","",3,"click",4,"ngIf"],["class","buttons-forms-group-details","nz-button","","nzType","default",3,"click",4,"ngIf"],["class","buttons-forms-group-details","nz-button","","nzType","default",3,"disabled",4,"ngIf"],["class","buttons-forms-group-details","nz-button","","nzType","default",3,"disabled","click",4,"ngIf"],["multipleTemplate",""],["modalIdentityTitle",""],["modalIdentityContent",""],["modalIdentityFooter",""],["nzDisabled","","nzCustomContent",""],["nz-icon","","nzType","loading",1,"loading-icon"],[3,"nzValue","nzLabel"],["nz-button","",3,"click"],["nz-button","","nzType","default",1,"buttons-forms-group-details",3,"click"],["nz-button","","nzType","default",1,"buttons-forms-group-details",3,"disabled"],["nz-button","","nzType","default",1,"buttons-forms-group-details",3,"disabled","click"],[2,"cursor","pointer",3,"click"],[1,"content-modal"],[3,"disableEdit","showTestButton","disableEditEvent","identityId","requestEnd"],["identityFormElementRef",""],["nz-button","","nzType","primary",3,"disabled","click"]],template:function(t,e){if(1&t&&(r.Xb(0,"form",0,1),r.Xb(2,"div",2),r.Xb(3,"div",3),r.Xb(4,"nz-form-item"),r.Xb(5,"nz-form-label",4),r.Mc(6,"Nombre:"),r.Wb(),r.Xb(7,"nz-form-control",5),r.Sb(8,"input",6),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(9,"div",2),r.Xb(10,"div",3),r.Xb(11,"nz-form-item"),r.Xb(12,"nz-form-label",7),r.Mc(13,"Usuarios:"),r.Wb(),r.Xb(14,"nz-form-control"),r.Xb(15,"nz-select",8,9),r.fc("nzOpenChange",function(t){return e.selectOpenChange(t)}),r.Kc(17,tst,3,0,"nz-option",10),r.Kc(18,est,1,2,"nz-option",11),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(19,"nz-form-control",12),r.Kc(20,nst,2,0,"button",13),r.Kc(21,ist,2,0,"button",14),r.Kc(22,rst,2,1,"button",15),r.Kc(23,ost,2,1,"button",16),r.Kc(24,sst,2,1,"button",15),r.Wb(),r.Wb(),r.Kc(25,ast,2,1,"ng-template",null,17,r.Lc),r.Kc(27,cst,2,0,"ng-template",null,18,r.Lc),r.Kc(29,lst,3,4,"ng-template",null,19,r.Lc),r.Kc(31,ust,4,1,"ng-template",null,20,r.Lc)),2&t){const t=r.Ac(26);r.qc("formGroup",e.formGroup),r.Db(2),r.qc("nzGutter",16),r.Db(1),r.qc("nzSpan",24),r.Db(4),r.qc("nzValidateStatus","INVALID"==e.getStatusInput("name")?"error":""),r.Db(2),r.qc("nzGutter",16),r.Db(1),r.qc("nzSpan",24),r.Db(5),r.qc("nzCustomTemplate",t),r.Db(2),r.qc("ngIf",e.loadingIdentitiesSelect),r.Db(1),r.qc("ngForOf",e.identitiesList),r.Db(2),r.qc("ngIf",e.showTestButton),r.Db(1),r.qc("ngIf",e.cancelEventEmiter.observers.length>0),r.Db(1),r.qc("ngIf",e.showCreateButton),r.Db(1),r.qc("ngIf",e.showEditButton),r.Db(1),r.qc("ngIf",e.showDeleteButton)}},directives:[re,yt,Qd,le,nr,ir,Jd,np,tp,Hp,G,bt,he,Gg,i.n,i.m,Ug,Rf,No,HL,qL,_rt],styles:[".buttons-forms-group-details[_ngcontent-%COMP%]{margin-left:5px}  .content-modal{max-height:500px;overflow-y:auto;overflow-x:hidden;padding-right:20px}"]}),t})();const pst=["containerPage"],fst=["modalCreateTitle"],gst=["modalCreateContent"],mst=["organizationFormElementRef"],bst=["modalCreateFooter"];function yst(t,e){if(1&t&&(r.Xb(0,"button",13),r.Sb(1,"i",14),r.Wb()),2&t){const t=r.jc();r.qc("nzLoading",t.loading)}}function vst(t,e){1&t&&(r.Xb(0,"span"),r.Mc(1,"Crear Organizaci\xf3n"),r.Wb())}function _st(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",15),r.Xb(1,"app-organization-form",16,17),r.fc("requestEnd",function(e){return r.Cc(t),r.jc().requestEndCreateOrganization(e)}),r.Wb(),r.Wb()}if(2&t){const t=r.jc();r.Db(1),r.qc("disableEdit",!0)("showTestButton",!1)("disableEditEvent",t.disableEditFormSubject.asObservable())}}function wst(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",18),r.fc("click",function(){r.Cc(t);const n=e.modalRef;return r.jc().onClickDestroyModal(n)}),r.Mc(1,"Cancelar"),r.Wb(),r.Xb(2,"button",19),r.fc("click",function(){return r.Cc(t),r.jc().onClickCreateOrganizationModal()}),r.Mc(3,"Crear"),r.Wb()}if(2&t){const t=r.jc();r.Db(2),r.qc("disabled",t.disableCreateButtonOrganizationModal())}}let zst=(()=>{class t{constructor(t,e,n,i,r,o,s){this.backendService=t,this.msg=e,this.stateService=n,this.router=i,this.modalService=r,this.activeRoute=o,this.cdRef=s,this.page=1,this.pageSize=10,this.loading=!1,this.pageData=[],this.totalItems=0,this.searchValue="",this.excludeFields=["identities"],this.disableEditFormSubject=new xe.a}getState(){return this.state}setState(t){this.state=null==t?{}:t}ngOnInit(){this.activeRoute.url.subscribe(t=>{this.stateService.setCurrentView(this,t)});const t=this.activeRoute.snapshot.data.organizations;this.pageData=t.content,this.totalItems=t.count}ngOnDestroy(){this.stateService.saveOnDestroy(this)}ngAfterViewChecked(){this.cdRef.detectChanges()}search(){this.loading=!0;const t=[];this.searchValue&&""!=this.searchValue&&t.push({name:{op:"eq",unary:this.searchValue}}),this.backendService.getOrganizations(void 0,{filter:t,order:{},pagination:{pageIndex:this.page,pageSize:this.pageSize}}).subscribe(t=>{this.pageData=t.content,this.totalItems=t.count},t=>{this.loading=!1,this.msg.addIssues(t.issues)},()=>{this.loading=!1})}calculeScrollTableY(){if(this.containerPage){var t=this.containerPage.nativeElement.offsetHeight-350;return t<0&&(t=0),`${t}px`}return"0px"}searchEvent(){this.page=1,this.search()}changePage(t){this.page=t,this.search()}changePaginationEvent(t){this.page=t.pageIndex,this.search()}openItem(t){this.router.navigate(["organizationDetail",t.id])}modifyItem(t){this.router.navigate(["organizationModify",t.id])}deleteItem(t){this.modalService.confirm({nzTitle:"\xbfSeguro que desea eliminar este grupo?",nzContent:t.name,nzOkText:"Eliminar",nzOkType:"primary",nzOkDanger:!0,nzOnOk:()=>this.deleteOrganization(t.id),nzCancelText:"Cancelar"})}deleteOrganization(t){this.backendService.deleteOrganization(t).subscribe(t=>{console.log(t),this.search()},t=>{console.log(t)})}openCreateOrganizationModal(){this.modalService.create({nzTitle:this.modalCreateTitle,nzContent:this.modalCreateContent,nzFooter:this.modalCreateFooter,nzMaskClosable:!1}).afterOpen.subscribe(()=>{this.disableEditFormSubject.next(!1)})}onClickCreateOrganizationModal(){this.organizationFormElementRef.createOrganization()}disableCreateButtonOrganizationModal(){return!this.organizationFormElementRef||!this.organizationFormElementRef.formGroup.valid}requestEndCreateOrganization(t){"POST"==t.methodRequest&&"success"==t.responseType&&(this.modalService.closeAll(),this.search())}onClickDestroyModal(t){t.destroy()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(YP),r.Rb(IP),r.Rb(dm.g),r.Rb(qF),r.Rb(dm.a),r.Rb(r.h))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-organizations-browser"]],viewQuery:function(t,e){if(1&t&&(r.Qc(pst,1),r.Qc(fst,1),r.Qc(gst,1),r.Qc(mst,1),r.Qc(bst,1)),2&t){let t;r.zc(t=r.gc())&&(e.containerPage=t.first),r.zc(t=r.gc())&&(e.modalCreateTitle=t.first),r.zc(t=r.gc())&&(e.modalCreateContent=t.first),r.zc(t=r.gc())&&(e.organizationFormElementRef=t.first),r.zc(t=r.gc())&&(e.modalCreateFooter=t.first)}},decls:20,vars:8,consts:[[2,"height","100%"],["containerPage",""],["nzTitle","Organizaciones"],[3,"submit"],["nzSearch","",3,"nzAddOnAfter"],["nz-input","","name","searchValue","placeholder","Introduzca los t\xe9rminos de b\xfasqueda","autocomplete","off",3,"disabled","ngModel","ngModelChange"],["suffixIconButton",""],["nz-button","","nzType","primary","nzShape","round",2,"margin","0 5px",3,"click"],[2,"padding","16px 24px"],[3,"Loading","PageData","ExcludeFields","DataSize","Checkable","OpenEvent","DeleteEvent","ModifyEvent","PaginationEvent"],["modalCreateTitle",""],["modalCreateContent",""],["modalCreateFooter",""],["nz-button","","nzSearch","",3,"nzLoading"],["nz-icon","","nzType","search"],[1,"content-modal"],[3,"disableEdit","showTestButton","disableEditEvent","requestEnd"],["organizationFormElementRef",""],["nz-button","",3,"click"],["nz-button","","nzType","primary",3,"disabled","click"]],template:function(t,e){if(1&t&&(r.Xb(0,"div",0,1),r.Xb(2,"nz-page-header",2),r.Xb(3,"nz-page-header-content"),r.Xb(4,"form",3),r.fc("submit",function(){return e.searchEvent()}),r.Xb(5,"nz-input-group",4),r.Xb(6,"input",5),r.fc("ngModelChange",function(t){return e.searchValue=t}),r.Wb(),r.Wb(),r.Kc(7,yst,2,1,"ng-template",null,6,r.Lc),r.Wb(),r.Wb(),r.Xb(9,"nz-page-header-extra"),r.Xb(10,"button",7),r.fc("click",function(){return e.openCreateOrganizationModal()}),r.Mc(11," Crear "),r.Wb(),r.Wb(),r.Wb(),r.Xb(12,"div",8),r.Xb(13,"app-dynamic-table",9),r.fc("OpenEvent",function(t){return e.openItem(t)})("DeleteEvent",function(t){return e.deleteItem(t)})("ModifyEvent",function(t){return e.modifyItem(t)})("PaginationEvent",function(t){return e.changePaginationEvent(t)}),r.Wb(),r.Wb(),r.Kc(14,vst,2,0,"ng-template",null,10,r.Lc),r.Kc(16,_st,3,3,"ng-template",null,11,r.Lc),r.Kc(18,wst,4,1,"ng-template",null,12,r.Lc),r.Wb()),2&t){const t=r.Ac(8);r.Db(5),r.qc("nzAddOnAfter",t),r.Db(1),r.qc("disabled",e.loading)("ngModel",e.searchValue),r.Db(7),r.qc("Loading",e.loading)("PageData",e.pageData)("ExcludeFields",e.excludeFields)("DataSize",e.totalItems)("Checkable",!1)}},directives:[Lj,Mj,re,yt,te,Rf,Gp,Hp,G,bt,ie,Rj,HL,qL,gB,No,dst],styles:[""]}),t})(),Cst=(()=>{class t{constructor(t,e){this.location=t,this.activatedRouteService=e}ngOnInit(){this.organizationData=this.activatedRouteService.snapshot.data.organization.content}cancelEvent(){this.location.back()}requestEndForm(t){switch(t.methodRequest){case"PUT":(t.responseType="success")&&this.location.back()}}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(i.j),r.Rb(dm.a))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-organization-modify"]],decls:3,vars:5,consts:[["nzSubtitle","Editar",3,"nzTitle"],[2,"padding","16px 24px"],[3,"disableEdit","showEditButton","showTestButton","organizationId","cancelEvent","requestEnd"]],template:function(t,e){1&t&&(r.Sb(0,"nz-page-header",0),r.Xb(1,"div",1),r.Xb(2,"app-organization-form",2),r.fc("cancelEvent",function(){return e.cancelEvent()})("requestEnd",function(t){return e.requestEndForm(t)}),r.Wb(),r.Wb()),2&t&&(r.rc("nzTitle",null==e.organizationData?null:e.organizationData.name),r.Db(2),r.qc("disableEdit",!0)("showEditButton",!0)("showTestButton",!1)("organizationId",e.organizationData.id))},directives:[Lj,dst],styles:[""]}),t})(),Sst=(()=>{class t{constructor(t,e){this.activeRoute=t,this.stateService=e,this.state=""}getState(){return this.state}setState(t){this.state=null==t?"":t}ngOnInit(){this.activeRoute.url.subscribe(t=>{this.stateService.setCurrentView(this,t)})}ngOnDestroy(){this.stateService.saveOnDestroy(this)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(dm.a),r.Rb(IP))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-permission-types"]],decls:8,vars:1,consts:[["type","text",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(r.Xb(0,"p"),r.Mc(1,"Permission types"),r.Wb(),r.Xb(2,"input",0),r.fc("ngModelChange",function(t){return e.state=t}),r.Wb(),r.Xb(3,"ul"),r.Xb(4,"li"),r.Mc(5,"First permission type"),r.Wb(),r.Xb(6,"li"),r.Mc(7,"Second permission type"),r.Wb(),r.Wb()),2&t&&(r.Db(2),r.qc("ngModel",e.state))},directives:[G,bt,ie],styles:[""]}),t})();const xst=["containerPage"];function Ost(t,e){if(1&t&&(r.Xb(0,"nz-list-item"),r.Mc(1),r.Wb()),2&t){const t=e.$implicit;r.Db(1),r.Oc(" ",t.name," ")}}let kst=(()=>{class t{constructor(t,e,n,i){this.activeRoute=t,this.stateService=e,this.backendService=n,this.cdRef=i,this.state=""}getState(){return this.state}setState(t){this.state=null==t?"":t}ngOnInit(){this.activeRoute.url.subscribe(t=>{this.stateService.setCurrentView(this,t)}),this.list=this.activeRoute.snapshot.data.systemFunctions.content}ngAfterViewChecked(){this.cdRef.detectChanges()}getMaximumHeightList(){if(this.containerPage){var t=this.containerPage.nativeElement.offsetHeight-130;return t<0&&(t=0),`${t}px`}return"0px"}ngOnDestroy(){this.stateService.saveOnDestroy(this)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(dm.a),r.Rb(IP),r.Rb(DP),r.Rb(r.h))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-system-functions"]],viewQuery:function(t,e){if(1&t&&r.Qc(xst,1),2&t){let t;r.zc(t=r.gc())&&(e.containerPage=t.first)}},decls:6,vars:3,consts:[[2,"height","100%"],["containerPage",""],["nzTitle","Funciones del sistema"],[2,"padding","16px 24px"],["nzBordered","",2,"background-color","white","overflow-y","auto"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(r.Xb(0,"div",0,1),r.Sb(2,"nz-page-header",2),r.Xb(3,"div",3),r.Xb(4,"nz-list",4),r.Kc(5,Ost,2,1,"nz-list-item",5),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.Db(4),r.Hc("max-height",e.getMaximumHeightList()),r.Db(1),r.qc("ngForOf",e.list))},directives:[Lj,Gq,i.m,Yq],styles:[""]}),t})(),Tst=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["app-acl-detail"]],decls:8,vars:0,template:function(t,e){1&t&&(r.Xb(0,"p"),r.Mc(1,"The ACL detail editor, for popup modal"),r.Wb(),r.Xb(2,"p"),r.Mc(3,"Object to which the ACL will be applied"),r.Wb(),r.Xb(4,"p"),r.Mc(5,"An online table with the following columns: [user | group | role | organization] [permission type]"),r.Wb(),r.Xb(6,"p"),r.Mc(7,"[Ok] [Cancel]"),r.Wb())},styles:[""]}),t})();const Est=["containerPage"];function Ist(t,e){if(1&t&&(r.Xb(0,"tr"),r.Xb(1,"td"),r.Mc(2),r.Wb(),r.Xb(3,"td"),r.Mc(4),r.Wb(),r.Xb(5,"td",8),r.Xb(6,"ul",9),r.Xb(7,"nz-list-item-action"),r.Sb(8,"i",10),r.Wb(),r.Xb(9,"nz-list-item-action"),r.Sb(10,"i",11),r.Wb(),r.Wb(),r.Wb(),r.Wb()),2&t){const t=e.$implicit;r.Db(2),r.Nc(t.object_type),r.Db(2),r.Nc(t.id)}}const Dst=function(t){return{y:t}};let Mst=(()=>{class t{constructor(t,e){this.backendService=t,this.cdRef=e,this.loading=!1,this.pageData=[],this.totalItems=0,this.page=1,this.pageSize=10}ngOnInit(){this.search()}ngAfterViewChecked(){this.cdRef.detectChanges()}search(){this.backendService.getACL(void 0,{pagination:{pageIndex:this.page,pageSize:this.pageSize}}).subscribe(t=>{console.log(t),this.pageData=t.content,this.totalItems=t.count})}calculeScrollTableY(){if(this.containerPage){var t=this.containerPage.nativeElement.offsetHeight-350;return t<0&&(t=0),`${t}px`}return"0px"}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(r.h))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-acl-browse"]],viewQuery:function(t,e){if(1&t&&r.Qc(Est,1),2&t){let t;r.zc(t=r.gc())&&(e.containerPage=t.first)}},decls:16,vars:11,consts:[[2,"height","100%"],["containerPage",""],["nzTitle","ACLs"],[2,"padding","16px 24px"],["nzShowPagination","","nzBordered","",3,"nzTitle","nzLoading","nzTotal","nzFrontPagination","nzPageIndex","nzPageSize","nzScroll","nzData"],["table",""],["nzAlign","center","nzRight","","nzWidth","130px"],[4,"ngFor","ngForOf"],["nzAlign","center","nzRight",""],["nz-list-item-actions","",2,"margin-left","6px"],["nz-icon","","nzType","file-search","nzTheme","outline"],["nz-icon","","nzType","delete","nzTheme","outline"]],template:function(t,e){1&t&&(r.Xb(0,"div",0,1),r.Sb(2,"nz-page-header",2),r.Xb(3,"div",3),r.Xb(4,"nz-table",4,5),r.Xb(6,"thead"),r.Xb(7,"tr"),r.Xb(8,"th"),r.Mc(9,"Tipo de objeto"),r.Wb(),r.Xb(10,"th"),r.Mc(11,"Id"),r.Wb(),r.Xb(12,"th",6),r.Mc(13,"Acciones"),r.Wb(),r.Wb(),r.Wb(),r.Xb(14,"tbody"),r.Kc(15,Ist,11,2,"tr",7),r.Wb(),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.Db(4),r.sc("nzTitle","RESULTADOS: ",e.totalItems," ACLs."),r.qc("nzLoading",e.loading)("nzTotal",e.totalItems)("nzFrontPagination",!1)("nzPageIndex",e.page)("nzPageSize",e.pageSize)("nzScroll",r.vc(9,Dst,e.calculeScrollTableY()))("nzData",e.pageData),r.Db(11),r.qc("ngForOf",e.pageData))},directives:[Lj,XW,HW,$W,MW,PW,FW,IW,UW,i.m,Bq,qq,Rf,No],styles:[""]}),t})(),Rst=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["app-filter-browse"]],decls:4,vars:0,template:function(t,e){1&t&&(r.Xb(0,"p"),r.Mc(1,"list of filter configurations for the object being browsed and the current user"),r.Wb(),r.Xb(2,"p"),r.Mc(3,"each filter can be: [renamed] [deleted] [cloned]"),r.Wb())},styles:[""]}),t})(),Ast=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["app-blast-results-browse"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Xb(0,"p"),r.Mc(1,"blast-results-browse works!"),r.Wb())},styles:[""]}),t})(),Pst=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["app-blast-results-detail"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Xb(0,"p"),r.Mc(1,"blast-results-detail works!"),r.Wb())},styles:[""]}),t})();function Lst(t,e){if(1&t&&r.Sb(0,"nz-option",5),2&t){const t=e.$implicit;r.rc("nzLabel",t),r.rc("nzValue",t)}}function Fst(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-select",3),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc().selectedFormat=e}),r.Kc(1,Lst,1,2,"nz-option",4),r.Wb()}if(2&t){const t=r.jc();r.qc("ngModel",t.selectedFormat),r.Db(1),r.qc("ngForOf",t.formats)}}function jst(t,e){if(1&t&&(r.Xb(0,"form",6),r.Xb(1,"nz-form-item"),r.Xb(2,"nz-form-label",7),r.Mc(3,"Nombre"),r.Wb(),r.Xb(4,"nz-form-control",8),r.Sb(5,"input",9),r.Wb(),r.Wb(),r.Xb(6,"nz-form-item"),r.Xb(7,"nz-form-label",10),r.Mc(8,"Nombre descriptivo"),r.Wb(),r.Xb(9,"nz-form-control",10),r.Sb(10,"textarea",11),r.Wb(),r.Wb(),r.Wb()),2&t){const t=r.jc();r.qc("formGroup",t.dataForm),r.Db(2),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12)("nzValidateStatus",t.dataForm.controls.uniquename),r.Db(3),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12)}}let Nst=(()=>{class t{constructor(t,e,n,i,o){this.backendService=t,this.logService=e,this.modal=n,this.stateService=i,this.router=o,this.sequenceSelection=new r.n,this.loading=!1,this.formats=[],this.selectedFormat="",this.dataForm=new Yt({uniquename:new Gt(null,et.required),name:new Gt})}ngOnInit(){this.backendService.getFormats("collections").subscribe(t=>{this.formats=t.content},t=>{},()=>{})}openItem(t){this.router.navigate(["collectionDetail",t.stockcollection_id])}createItem(t){this.dataForm.reset(),this.modal.create({nzTitle:"<i>Nueva colecci\xf3n</i>",nzContent:t,nzOnOk:()=>{if(this.dataForm.invalid)return!1;this.backendService.postFromChado("collections",this.dataForm.value).subscribe(t=>{this.logService.addIssues(t.issues)},t=>(this.logService.addIssues(t.issues),!1),()=>(this.dynamicBrowser.changePage(),!0))}})}updateItem(t,e){this.dataForm.patchValue(t),this.modal.create({nzTitle:"<i>Modificar colecci\xf3n</i>",nzContent:e,nzOnOk:()=>{if(this.dataForm.invalid)return!1;this.backendService.putFromChado("collections",t.stockcollection_id,this.dataForm.value).subscribe(t=>{this.logService.addIssues(t.issues)},t=>(this.logService.addIssues(t.issues),!1),()=>(this.dynamicBrowser.changePage(),!0))}})}exportItem(t,e){this.modal.confirm({nzTitle:"<i>\xbfEn qu\xe9 formato desea realizar la descarga?</i>",nzContent:e,nzOnOk:()=>{this.backendService.exportFromChado("collections",t.stockcollection_id,this.selectedFormat).subscribe(e=>{aK.saveAs(new Blob([e]),t.uniquename+"."+this.selectedFormat)},t=>{this.logService.addIssues(t.issues)},()=>{})}})}exportSelection(t,e){this.modal.confirm({nzTitle:"<i>\xbfEn qu\xe9 formato desea realizar la descarga?</i>",nzContent:e,nzOnOk:()=>{this.backendService.exportFromChado("collections",void 0,this.selectedFormat,t).subscribe(t=>{aK.saveAs(new Blob([t]),"collections."+this.selectedFormat)},t=>{this.logService.addIssues(t.issues)},()=>{})}})}export(t){this.backendService.exportFromChado("collections",t.stockcollection_id,this.selectedFormat).subscribe(e=>{aK.saveAs(new Blob([e]),t.uniquename+"."+this.selectedFormat)},t=>{this.logService.addIssues(t.issues)},()=>{})}deleteItem(t){this.modal.warning({nzTitle:"<i>\xbfSeguro que desea eliminar esta colecci\xf3n?</i>",nzContent:JSON.stringify(t),nzOnOk:()=>{this.loading=!0,this.backendService.deleteFromChado("collections",t.stockcollection_id).subscribe(t=>{this.logService.addIssues(t.issues)},t=>{this.loading=!1,this.logService.addIssues(t.issues)},()=>{this.loading=!1,this.dynamicBrowser.changePage()})}})}deleteSelection(t){this.modal.warning({nzTitle:"<i>\xbfSeguro que desea eliminar las colecciones seleccionadas?</i>",nzOnOk:()=>{this.loading=!0,this.backendService.deleteFromChado("collections",void 0,t).subscribe(t=>{this.logService.addIssues(t.issues)},t=>{this.loading=!1,this.logService.addIssues(t.issues)},()=>{this.loading=!1,this.dynamicBrowser.changePage()})}})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(YP),r.Rb(qF),r.Rb(IP),r.Rb(dm.g))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-collections-browse"]],viewQuery:function(t,e){if(1&t&&r.Qc(GK,1),2&t){let t;r.zc(t=r.gc())&&(e.dynamicBrowser=t.first)}},outputs:{sequenceSelection:"sequenceSelection"},decls:5,vars:2,consts:[[3,"Loading","BrowserType","OpenItemEvent","CreateEvent","ModifyItemEvent","ExportItemEvent","ExportSelectedEvent","DeleteItemEvent","DeleteSelectedEvent"],["exportForm",""],["createForm",""],["nzShowSearch","","nzPlaceHolder","Seleccionar formato","name","selectedFormat",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],[3,"nzLabel","nzValue"],["nz-form","",3,"formGroup"],["nzRequired","",3,"nzSpan"],["nzErrorTip","Input is required","nzHasFeedback","",3,"nzSpan","nzValidateStatus"],["nz-input","","formControlName","uniquename","required",""],[3,"nzSpan"],["nz-input","","formControlName","name","rows","3","cols","10"]],template:function(t,e){if(1&t){const t=r.Yb();r.Xb(0,"app-dynamic-browse",0),r.fc("OpenItemEvent",function(t){return e.openItem(t)})("CreateEvent",function(){r.Cc(t);const n=r.Ac(4);return e.createItem(n)})("ModifyItemEvent",function(n){r.Cc(t);const i=r.Ac(4);return e.updateItem(n,i)})("ExportItemEvent",function(n){r.Cc(t);const i=r.Ac(2);return e.exportItem(n,i)})("ExportSelectedEvent",function(n){r.Cc(t);const i=r.Ac(2);return e.exportSelection(n,i)})("DeleteItemEvent",function(t){return e.deleteItem(t)})("DeleteSelectedEvent",function(t){return e.deleteSelection(t)}),r.Wb(),r.Kc(1,Fst,2,2,"ng-template",null,1,r.Lc),r.Kc(3,jst,11,6,"ng-template",null,2,r.Lc)}2&t&&r.qc("Loading",e.loading)("BrowserType","collections")},directives:[GK,Gg,bt,ie,i.m,Ug,re,yt,Qd,le,nr,Jd,ir,np,tp,Hp,G,he,pe],styles:[""]}),t})(),Vst=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["app-discriminant-matrix-browse"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Xb(0,"p"),r.Mc(1,"discriminant-matrix-browse works!"),r.Wb())},styles:[""]}),t})(),Wst=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["app-discriminant-matrix-detail"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Xb(0,"p"),r.Mc(1,"discriminant-matrix-detail works!"),r.Wb())},styles:[""]}),t})();function qst(t,e){if(1&t&&r.Sb(0,"nz-option",5),2&t){const t=e.$implicit;r.rc("nzLabel",t),r.rc("nzValue",t)}}function Bst(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-select",3),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc().selectedFormat=e}),r.Kc(1,qst,1,2,"nz-option",4),r.Wb()}if(2&t){const t=r.jc();r.qc("ngModel",t.selectedFormat),r.Db(1),r.qc("ngForOf",t.formats)}}function Xst(t,e){if(1&t&&(r.Xb(0,"form",6),r.Xb(1,"nz-form-item"),r.Xb(2,"nz-form-label",7),r.Mc(3,"Nombre"),r.Wb(),r.Xb(4,"nz-form-control",8),r.Sb(5,"input",9),r.Wb(),r.Wb(),r.Xb(6,"nz-form-item"),r.Xb(7,"nz-form-label",10),r.Mc(8,"Nombre descriptivo"),r.Wb(),r.Xb(9,"nz-form-control",10),r.Sb(10,"textarea",11),r.Wb(),r.Wb(),r.Wb()),2&t){const t=r.jc();r.qc("formGroup",t.dataForm),r.Db(2),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12)("nzValidateStatus",t.dataForm.controls.uniquename),r.Db(3),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12)}}let Ust=(()=>{class t{constructor(t,e,n,i,o){this.backendService=t,this.logService=e,this.modal=n,this.stateService=i,this.router=o,this.sequenceSelection=new r.n,this.loading=!1,this.formats=[],this.selectedFormat="",this.dataForm=new Yt({uniquename:new Gt(null,et.required),name:new Gt})}ngOnInit(){this.backendService.getFormats("individuals").subscribe(t=>{this.formats=t.content},t=>{},()=>{})}openItem(t){this.router.navigate(["individualDetail",t.stock_id])}createItem(t){this.dataForm.reset(),this.modal.create({nzTitle:"<i>Nueva colecci\xf3n</i>",nzContent:t,nzOnOk:()=>{if(this.dataForm.invalid)return!1;this.backendService.postFromChado("individuals",this.dataForm.value).subscribe(t=>{this.logService.addIssues(t.issues)},t=>(this.logService.addIssues(t.issues),!1),()=>(this.dynamicBrowser.changePage(),!0))}})}updateItem(t,e){this.dataForm.patchValue(t),this.modal.create({nzTitle:"<i>Modificar colecci\xf3n</i>",nzContent:e,nzOnOk:()=>{if(this.dataForm.invalid)return!1;this.backendService.putFromChado("individuals",t.stock_id,this.dataForm.value).subscribe(t=>{this.logService.addIssues(t.issues)},t=>(this.logService.addIssues(t.issues),!1),()=>(this.dynamicBrowser.changePage(),!0))}})}exportItem(t,e){this.modal.confirm({nzTitle:"<i>\xbfEn qu\xe9 formato desea realizar la descarga?</i>",nzContent:e,nzOnOk:()=>{this.backendService.exportFromChado("individuals",t.stock_id,this.selectedFormat).subscribe(e=>{aK.saveAs(new Blob([e]),t.uniquename+"."+this.selectedFormat)},t=>{this.logService.addIssues(t.issues)},()=>{})}})}exportSelection(t,e){this.modal.confirm({nzTitle:"<i>\xbfEn qu\xe9 formato desea realizar la descarga?</i>",nzContent:e,nzOnOk:()=>{this.backendService.exportFromChado("individuals",void 0,this.selectedFormat,t).subscribe(t=>{aK.saveAs(new Blob([t]),"individuals."+this.selectedFormat)},t=>{this.logService.addIssues(t.issues)},()=>{})}})}deleteItem(t){this.modal.warning({nzTitle:"<i>\xbfSeguro que desea eliminar esta colecci\xf3n?</i>",nzContent:JSON.stringify(t),nzOnOk:()=>{this.loading=!0,this.backendService.deleteFromChado("individuals",t.stock_id).subscribe(t=>{this.logService.addIssues(t.issues)},t=>{this.loading=!1,this.logService.addIssues(t.issues)},()=>{this.loading=!1,this.dynamicBrowser.changePage()})}})}deleteSelection(t){this.modal.warning({nzTitle:"<i>\xbfSeguro que desea eliminar las colecciones seleccionadas?</i>",nzOnOk:()=>{this.loading=!0,this.backendService.deleteFromChado("individuals",void 0,t).subscribe(t=>{this.logService.addIssues(t.issues)},t=>{this.loading=!1,this.logService.addIssues(t.issues)},()=>{this.loading=!1,this.dynamicBrowser.changePage()})}})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP),r.Rb(YP),r.Rb(qF),r.Rb(IP),r.Rb(dm.g))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-individual-browse"]],viewQuery:function(t,e){if(1&t&&r.Qc(GK,1),2&t){let t;r.zc(t=r.gc())&&(e.dynamicBrowser=t.first)}},outputs:{sequenceSelection:"sequenceSelection"},decls:5,vars:2,consts:[[3,"Loading","BrowserType","OpenItemEvent","CreateEvent","ModifyItemEvent","ExportItemEvent","ExportSelectedEvent","DeleteItemEvent","DeleteSelectedEvent"],["exportForm",""],["createForm",""],["nzShowSearch","","nzPlaceHolder","Seleccionar formato","name","selectedFormat",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],[3,"nzLabel","nzValue"],["nz-form","",3,"formGroup"],["nzRequired","",3,"nzSpan"],["nzErrorTip","Input is required","nzHasFeedback","",3,"nzSpan","nzValidateStatus"],["nz-input","","formControlName","uniquename","required",""],[3,"nzSpan"],["nz-input","","formControlName","name","rows","3","cols","10"]],template:function(t,e){if(1&t){const t=r.Yb();r.Xb(0,"app-dynamic-browse",0),r.fc("OpenItemEvent",function(t){return e.openItem(t)})("CreateEvent",function(){r.Cc(t);const n=r.Ac(4);return e.createItem(n)})("ModifyItemEvent",function(n){r.Cc(t);const i=r.Ac(4);return e.updateItem(n,i)})("ExportItemEvent",function(n){r.Cc(t);const i=r.Ac(2);return e.exportItem(n,i)})("ExportSelectedEvent",function(n){r.Cc(t);const i=r.Ac(2);return e.exportSelection(n,i)})("DeleteItemEvent",function(t){return e.deleteItem(t)})("DeleteSelectedEvent",function(t){return e.deleteSelection(t)}),r.Wb(),r.Kc(1,Bst,2,2,"ng-template",null,1,r.Lc),r.Kc(3,Xst,11,6,"ng-template",null,2,r.Lc)}2&t&&r.qc("Loading",e.loading)("BrowserType","individuals")},directives:[GK,Gg,bt,ie,i.m,Ug,re,yt,Qd,le,nr,Jd,ir,np,tp,Hp,G,he,pe],styles:[""]}),t})(),$st=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["app-individual-detail"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Xb(0,"p"),r.Mc(1,"individual-detail works!"),r.Wb())},styles:[""]}),t})(),Hst=(()=>{class t{constructor(t,e){this.activeRoute=t,this.stateService=e,this.state=""}getState(){return this.state}setState(t){this.state=null==t?"":t}ngOnInit(){this.activeRoute.url.subscribe(t=>{this.stateService.setCurrentView(this,t)})}ngOnDestroy(){this.stateService.saveOnDestroy(this)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(dm.a),r.Rb(IP))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-super-matrix-browse"]],decls:10,vars:1,consts:[["type","text",3,"ngModel","ngModelChange"],["routerLink","/supermatrixDetail/1","routerLinkActive","active"],["routerLink","/supermatrixDetail/2","routerLinkActive","active"]],template:function(t,e){1&t&&(r.Xb(0,"p"),r.Mc(1,"Supermatrices"),r.Wb(),r.Xb(2,"input",0),r.fc("ngModelChange",function(t){return e.state=t}),r.Wb(),r.Xb(3,"ul"),r.Xb(4,"li"),r.Xb(5,"a",1),r.Mc(6,"First supermatrix"),r.Wb(),r.Wb(),r.Xb(7,"li"),r.Xb(8,"a",2),r.Mc(9,"Second supermatrix"),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.Db(2),r.qc("ngModel",e.state))},directives:[G,bt,ie,dm.j,dm.i],styles:[""]}),t})(),Kst=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["app-super-matrix-detail"]],decls:16,vars:0,template:function(t,e){1&t&&(r.Xb(0,"p"),r.Mc(1,"Supermatriz"),r.Wb(),r.Xb(2,"p"),r.Mc(3,"Filtro/Colecci\xf3n que describe los individuos que entran en la supermatriz"),r.Wb(),r.Xb(4,"p"),r.Mc(5,"Lista concreta de individuos que componen la supermatriz"),r.Wb(),r.Xb(6,"p"),r.Mc(7,"Regiones que componen la supermatriz"),r.Wb(),r.Xb(8,"p"),r.Mc(9,"Alineamiento regi\xf3n 1"),r.Wb(),r.Xb(10,"p"),r.Mc(11,"..."),r.Wb(),r.Xb(12,"p"),r.Mc(13,"Alineamiento regi\xf3n 2"),r.Wb(),r.Xb(14,"p"),r.Mc(15,"Filogenia"),r.Wb())},styles:[""]}),t})(),Gst=(()=>{class t{constructor(t,e,n,i,r,o){this.router=t,this.activeRoute=e,this.stateService=n,this.backendService=i,this.logService=r,this.modalService=o,this.dataTable=[],this.loading=!1,this.pageIndex=1,this.pageSize=10}ngOnInit(){this.activeRoute.url.subscribe(t=>{this.stateService.setCurrentView(this,t)});const t=this.activeRoute.snapshot.data.layers.content;this.formatTable(t,this.activeRoute.snapshot.data.identities.content),console.log(t)}formatTable(t,e){for(const n of t){const t={id:n.id,name:n.name,url:n.wms_url,wks:n.wks,layer_type:n.layer_type,published:n.published,creator:e.find(t=>t.id==n.identity_id).name};this.dataTable=[t,...this.dataTable]}}updateTable(){const t=this.backendService.getLayerGIS();q({identities:this.backendService.getIdentities(),layers:t}).subscribe(t=>{this.dataTable=[],this.formatTable(t.layers.content,t.identities.content),this.loading=!1})}ngOnDestroy(){this.stateService.saveOnDestroy(this)}getState(){return console.log(this.pageIndex),{pageIndex:this.pageIndex,pageSize:this.pageSize}}setState(t){t&&(t.pageIndex&&(this.pageIndex=t.pageIndex),t.pageSize&&(this.pageSize=t.pageSize))}changePageIndex(t){this.pageIndex=t}importLayer(){this.router.navigate(["featureLayersImport"])}removeItemLayer(t){return Object(D_.b)(this,void 0,void 0,function*(){this.modalService.confirm({nzTitle:"<i><i>\xbfSeguro que desea eliminar este elemento?</i></i>",nzContent:`<b>Capa: ${t.name}</b>`,nzOnOk:()=>{this.loading=!0,this.backendService.deleteLayerGIS(t.id).subscribe(t=>{this.logService.addIssues(t.issues)},t=>{this.loading=!1,this.logService.addIssues(t.issues)},()=>{this.loading=!1,this.dynamicBrowser.changePage()})}})})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(dm.g),r.Rb(dm.a),r.Rb(IP),r.Rb(DP),r.Rb(YP),r.Rb(qF))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-geolayer-browse"]],viewQuery:function(t,e){if(1&t&&r.Qc(GK,1),2&t){let t;r.zc(t=r.gc())&&(e.dynamicBrowser=t.first)}},decls:1,vars:2,consts:[["BrowserTitle","Capas",3,"Loading","BrowserType","DeleteItemEvent","ImportEvent"]],template:function(t,e){1&t&&(r.Xb(0,"app-dynamic-browse",0),r.fc("DeleteItemEvent",function(t){return e.removeItemLayer(t)})("ImportEvent",function(){return e.importLayer()}),r.Wb()),2&t&&r.qc("Loading",e.loading)("BrowserType","layers")},directives:[GK],styles:[""]}),t})(),Yst=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["app-geolayer-detail"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Xb(0,"p"),r.Mc(1,"geolayer-detail works!"),r.Wb())},styles:[""]}),t})();function Qst(t,e){if(1&t){const t=r.Yb();r.Xb(0,"i",1),r.fc("click",function(e){return r.Cc(t),r.jc().closeTag(e)}),r.Wb()}}const Jst=["*"];let Zst=(()=>{class t{constructor(t,e,n,i){this.cdr=t,this.renderer=e,this.elementRef=n,this.directionality=i,this.isPresetColor=!1,this.nzMode="default",this.nzChecked=!1,this.nzOnClose=new r.n,this.nzCheckedChange=new r.n,this.dir="ltr",this.destroy$=new xe.a,this.elementRef.nativeElement.classList.add("ant-tag")}updateCheckedStatus(){"checkable"===this.nzMode&&(this.nzChecked=!this.nzChecked,this.nzCheckedChange.emit(this.nzChecked))}closeTag(t){this.nzOnClose.emit(t),t.defaultPrevented||this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}ngOnInit(){var t;null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(t){const{nzColor:e}=t;e&&(this.isPresetColor=!!this.nzColor&&(ms(this.nzColor)||/^(success|processing|error|default|warning)$/.test(this.nzColor)))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h),r.Rb(r.F),r.Rb(r.l),r.Rb(bn,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-tag"]],hostVars:12,hostBindings:function(t,e){1&t&&r.fc("click",function(){return e.updateCheckedStatus()}),2&t&&(r.Fb(e.isPresetColor?"ant-tag-"+e.nzColor:""),r.Hc("background-color",e.isPresetColor?"":e.nzColor),r.Jb("ant-tag-has-color",e.nzColor&&!e.isPresetColor)("ant-tag-checkable","checkable"===e.nzMode)("ant-tag-checkable-checked",e.nzChecked)("ant-tag-rtl","rtl"===e.dir))},inputs:{nzMode:"nzMode",nzChecked:"nzChecked",nzColor:"nzColor"},outputs:{nzOnClose:"nzOnClose",nzCheckedChange:"nzCheckedChange"},exportAs:["nzTag"],features:[r.Bb],ngContentSelectors:Jst,decls:2,vars:1,consts:[["nz-icon","","nzType","close","class","ant-tag-close-icon","tabindex","-1",3,"click",4,"ngIf"],["nz-icon","","nzType","close","tabindex","-1",1,"ant-tag-close-icon",3,"click"]],template:function(t,e){1&t&&(r.pc(),r.oc(0),r.Kc(1,Qst,1,0,"i",0)),2&t&&(r.Db(1),r.qc("ngIf","closeable"===e.nzMode))},directives:[i.n,No],encapsulation:2,changeDetection:0}),sr([Di(),ar("design:type",Object)],t.prototype,"nzChecked",void 0),t})(),tat=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,me,Vo]]}),t})();function eat(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-tag",24),r.fc("nzOnClose",function(n){r.Cc(t);const i=e.index;return r.jc().removeTag(n,i)}),r.Mc(1),r.Wb()}if(2&t){const t=e.$implicit;r.qc("nzColor","green"),r.Db(1),r.Oc(" ",t.value.name," ")}}const nat=function(t){return{"input-error":t}},iat=function(t){return{"file-error":t}};let rat=(()=>{class t{constructor(t,e,n){this.notificationService=t,this.backendService=e,this.fb=n,this.dataForm=this.fb.group({name:this.fb.control(""),file:this.fb.control(null),tags:this.fb.array([])},{validators:[this.nameValidator,this.fileValidator,this.tagsValidator]}),this.firstSubmitDone=!1,this.loading=!1,this.fileList=[],this.beforeUpload=t=>(this.fileList=[],this.fileList=this.fileList.concat(t),this.dataForm.get("file").setValue(this.fileList[0]),!1)}get tags(){return this.dataForm.controls.tags}ngOnInit(){this.dataForm.get("file").setValue(this.fileList[0]),this.dataForm.get("tags").setValue([])}importLayer(){const t=[];for(const e of this.tags.controls)t.push(e.value.name);if(this.loading=!0,this.firstSubmitDone=!0,this.dataForm.errors)return this.notificationService.createNotificationWithType("error","Error","Hay errores en el formularios. Por favor, corr\xedjalos antes de continuar.","bottomRight"),void(this.loading=!1);this.backendService.postLayerGIS(this.dataForm.get("file").value,{name:this.dataForm.get("name").value,wks:"ngd",attributes:{tags:t}}).subscribe(t=>{this.fileList=[],this.tags.clear(),this.dataForm.get("name").setValue(""),this.loading=!1,this.firstSubmitDone=!1,console.log(t)},t=>{this.loading=!1,console.log(t)})}nameValidator(t){let e=!1,n=!1;const i=t.get("name").value;return i&&""!=i||(e=!0,n=!0),e?{nameError:{empty:n}}:null}showNameError(){return!!(this.dataForm.errors&&this.dataForm.errors.nameError&&this.firstSubmitDone)}getMessageNameError(){let t="";return this.dataForm.errors&&this.dataForm.errors.nameError&&this.firstSubmitDone?(this.dataForm.errors.nameError.empty&&(t+="Introduzca un nombre de capa."),t):null}addTags(t){const e=t.value;if(!e||""==e)return;const n=this.fb.group({name:[e,et.required]});this.tags.push(n),t.value=""}removeTag(t,e){t.preventDefault(),t.stopPropagation(),this.tags.removeAt(e)}tagsValidator(t){const e=t.get("tags").value;let n=!1,i=!1;if(!e)return null;for(let r=0;r<e.length&&!i;r++)for(let t=0;t<e.length;t++)if(t!=r&&e[r].name.toLocaleLowerCase()==e[t].name.toLocaleLowerCase()){n=!0,i=!0;break}return n?{tagsError:{duplicateError:i}}:null}showTagsError(){return!!(this.dataForm.errors&&this.dataForm.errors.tagsError&&this.firstSubmitDone)}getMessageTagsError(){let t="";return this.dataForm.errors&&this.dataForm.errors.tagsError&&this.firstSubmitDone?(this.dataForm.errors.tagsError.duplicateError&&(t+="Hay m\xe1s de un tag con el mismo nombre."),t):null}fileValidator(t){let e=!1,n=!1;return t.get("file").value||(e=!0,n=!0),e?{fileError:{empty:n}}:null}showFileError(){return!!(this.dataForm.errors&&this.dataForm.errors.fileError&&this.firstSubmitDone)}getMessageFileError(){let t="";return this.dataForm.errors&&this.dataForm.errors.fileError&&this.firstSubmitDone?(this.dataForm.errors.fileError.empty&&(t+="Es necesario subir el fichero que contenga la capa."),t):null}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(_L),r.Rb(DP),r.Rb(ge))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-geolayer-import"]],decls:39,vars:29,consts:[[2,"height","100%"],["containerPage",""],["nzTitle","Importar capa"],[2,"padding","16px 24px"],["nz-form","",3,"formGroup"],[3,"nzSpan"],[3,"nzSpan","nzValidateStatus","nzErrorTip"],["nz-input","","formControlName","name",3,"disabled"],["nz-row","",3,"nzGutter"],["nz-col","","nzFlex","auto"],["nz-input","",3,"disabled","ngClass","keyup.enter"],["inputTag",""],["nz-col","","nzFlex","94px"],["nz-button","",3,"click"],["nz-icon","","nzType","plus"],[2,"margin-top","6px"],["nzMode","closeable",3,"nzColor","nzOnClose",4,"ngFor","ngForOf"],["nzType","drag","nzListType","picture",3,"nzBeforeUpload","nzLimit","nzFileList","ngClass","nzFileListChange"],[1,"ant-upload-drag-icon"],["nz-icon","","nzType","inbox"],[1,"ant-upload-text"],[1,"ant-upload-hint"],[3,"nzOffset","nzSpan"],["nz-button","","nzType","primary",2,"width","100%","margin-top","20px",3,"disabled","click"],["nzMode","closeable",3,"nzColor","nzOnClose"]],template:function(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",0,1),r.Sb(2,"nz-page-header",2),r.Xb(3,"div",3),r.Xb(4,"form",4),r.Xb(5,"nz-form-item"),r.Xb(6,"nz-form-label",5),r.Mc(7,"Nombre"),r.Wb(),r.Xb(8,"nz-form-control",6),r.Sb(9,"input",7),r.Wb(),r.Wb(),r.Xb(10,"nz-form-item"),r.Xb(11,"nz-form-label",5),r.Mc(12,"Tag"),r.Wb(),r.Xb(13,"nz-form-control",6),r.Xb(14,"div",8),r.Xb(15,"div",9),r.Xb(16,"input",10,11),r.fc("keyup.enter",function(){r.Cc(t);const n=r.Ac(17);return e.addTags(n)}),r.Wb(),r.Wb(),r.Xb(18,"div",12),r.Xb(19,"button",13),r.fc("click",function(){r.Cc(t);const n=r.Ac(17);return e.addTags(n)}),r.Sb(20,"i",14),r.Mc(21,"A\xf1adir"),r.Wb(),r.Wb(),r.Wb(),r.Xb(22,"div",15),r.Kc(23,eat,2,2,"nz-tag",16),r.Wb(),r.Wb(),r.Wb(),r.Xb(24,"nz-form-item"),r.Xb(25,"nz-form-label",5),r.Mc(26,"Fichero"),r.Wb(),r.Xb(27,"nz-form-control",6),r.Xb(28,"nz-upload",17),r.fc("nzFileListChange",function(t){return e.fileList=t}),r.Xb(29,"p",18),r.Sb(30,"i",19),r.Wb(),r.Xb(31,"p",20),r.Mc(32,"Pulsa o arrastra ficheros a este \xe1rea"),r.Wb(),r.Xb(33,"p",21),r.Mc(34," Los ficheros se a\xf1adiran a una lista. Cuando est\xe9 todo listo, pulsa bot\xf3n 'Empezar subida'. "),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(35,"nz-form-item"),r.Xb(36,"nz-form-control",22),r.Xb(37,"button",23),r.fc("click",function(){return e.importLayer()}),r.Mc(38,"Importar capa"),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb()}2&t&&(r.Db(4),r.qc("formGroup",e.dataForm),r.Db(2),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12)("nzValidateStatus",e.showNameError()?"error":null)("nzErrorTip",e.getMessageNameError()),r.Db(1),r.qc("disabled",e.loading),r.Db(2),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12)("nzValidateStatus",e.showTagsError()?"error":null)("nzErrorTip",e.getMessageTagsError()),r.Db(1),r.qc("nzGutter",16),r.Db(2),r.qc("disabled",e.loading)("ngClass",r.vc(25,nat,e.showTagsError())),r.Db(7),r.qc("ngForOf",e.tags.controls),r.Db(2),r.qc("nzSpan",7),r.Db(2),r.qc("nzSpan",12)("nzValidateStatus",e.showFileError()?"error":null)("nzErrorTip",e.getMessageFileError()),r.Db(1),r.qc("nzBeforeUpload",e.beforeUpload.bind(e))("nzLimit",1)("nzFileList",e.fileList)("ngClass",r.vc(27,iat,e.showFileError())),r.Db(8),r.qc("nzOffset",7)("nzSpan",12),r.Db(1),r.qc("disabled",e.loading||e.dataForm.errors&&e.firstSubmitDone))},directives:[Lj,re,yt,Qd,le,nr,Jd,ir,np,tp,Hp,G,bt,he,vR,i.l,HL,qL,Rf,No,i.m,BH,Zst],styles:[".ant-upload-list-item{background:#fff!important}  .ant-upload-list-item:hover{background:#fff!important}  .ant-upload-list-item-info>.ant-upload-span>.ant-upload-list-item-card-actions{display:none}  .file-error>.ant-upload{border:1px dashed red}  .file-error>.ant-upload:hover{border-color:red!important}  .input-error{border:1px solid #ff4d4f}  .input-error:focus{box-shadow:0 0 0 2px rgba(255,77,79,.2);border-right-width:1px!important;outline:0;border:1px solid #ff7875}  .input-error:hover{border:1px solid #ff4d4f}"]}),t})(),oat=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["app-pda-browse"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Xb(0,"p"),r.Mc(1,"pda-browse works!"),r.Wb())},styles:[""]}),t})(),sat=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["app-pda-import"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Xb(0,"p"),r.Mc(1,"pda-import works!"),r.Wb())},styles:[""]}),t})(),aat=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["app-pda-detail"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Xb(0,"p"),r.Mc(1,"pda-detail works!"),r.Wb())},styles:[""]}),t})(),cat=(()=>{class t{constructor(t){this.activeRoute=t,this.pageData=[],this.loading=!1,this.excludeFields=["id","geometry","identity_id","attributes"]}ngOnInit(){const t=this.activeRoute.snapshot.data.geoRegions,e=this.activeRoute.snapshot.data.identities;for(const n of t.content){const t=e.content.find(t=>t.id==n.identity_id);n.identity_name=t.name,console.log(n.style),n.style=`Color(Relleno): ${n.style.fill.color}, Color(Borde): ${n.style.stroke.color}, Opacidad: ${(100*n.style.opacity/255).toFixed(0)}%`}this.pageData=t.content}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(dm.a))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-georegion-browse"]],decls:5,vars:4,consts:[[2,"height","100%"],["containerPage",""],["nzTitle","Usuarios"],[2,"padding","16px 24px"],[3,"Loading","PageData","Checkable","ExcludeFields"]],template:function(t,e){1&t&&(r.Xb(0,"div",0,1),r.Sb(2,"nz-page-header",2),r.Xb(3,"div",3),r.Sb(4,"app-dynamic-table",4),r.Wb(),r.Wb()),2&t&&(r.Db(4),r.qc("Loading",e.loading)("PageData",e.pageData)("Checkable",!1)("ExcludeFields",e.excludeFields))},directives:[Lj,gB],styles:[""]}),t})(),lat=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["app-georegion-import"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Xb(0,"p"),r.Mc(1,"georegion-import works!"),r.Wb())},styles:[""]}),t})(),uat=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["app-georegion-detail"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Xb(0,"p"),r.Mc(1,"georegion-detail works!"),r.Wb())},styles:[""]}),t})(),hat=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["app-parameters-browse"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Xb(0,"p"),r.Mc(1,"parameters-browse works!"),r.Wb())},styles:[""]}),t})(),dat=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["app-parameters-detail"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Xb(0,"p"),r.Mc(1,"parameters-detail works!"),r.Wb())},styles:[""]}),t})(),pat=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["app-parameters-import"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Xb(0,"p"),r.Mc(1,"parameters-import works!"),r.Wb())},styles:[""]}),t})(),fat=(()=>{class t{constructor(t){this.backendService=t}resolve(t){if(console.log("Getting Jobs"),console.log(t.queryParamMap),t.queryParamMap.get("status")){const e=(new Wr).set("status",t.queryParamMap.get("status"));return this.backendService.getJobs(void 0,e).pipe(Object(mo.a)(t=>(console.log("Jobs API Error: "),console.log(t),alert("Algo ha fallado"),Object(wi.a)(t))))}return this.backendService.getJobs().pipe(Object(mo.a)(t=>(console.log("Jobs API Error: "),console.log(t),alert("Algo ha fallado: "+t.toLocaleString()),Object(wi.a)(t))))}}return t.\u0275fac=function(e){return new(e||t)(r.bc(DP))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),gat=(()=>{class t{constructor(t){this.backendService=t}resolve(t){return console.log("Getting Processes"),this.backendService.getProcesses().pipe(Object(mo.a)(t=>(console.log("Process API Error: "),console.log(t),alert("Algo ha fallado"),Object(wi.a)(t))))}}return t.\u0275fac=function(e){return new(e||t)(r.bc(DP))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),mat=(()=>{class t{constructor(t){this.backendService=t}resolve(t){return console.log("Getting Resolvers"),this.backendService.getResources().pipe(Object(mo.a)(t=>(console.log("Resource API Error: "),console.log(t),alert("Algo ha fallado"),Object(wi.a)(t))))}}return t.\u0275fac=function(e){return new(e||t)(r.bc(DP))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),bat=(()=>{class t{constructor(t){this.backendService=t}resolve(t){return console.log("Getting Organisms"),this.backendService.getOrganisms().pipe(Object(mo.a)(t=>(console.log("Organism API Error: "),console.log(t),alert("Algo ha fallado"),Object(wi.a)(t))))}}return t.\u0275fac=function(e){return new(e||t)(r.bc(DP))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),yat=(()=>{class t{constructor(t){this.backendService=t}resolve(t){return this.backendService.getSystemFunctions().pipe(Object(mo.a)(t=>(console.log("System Functions API Error: "),console.log(t),alert("Algo ha fallado"),Object(wi.a)(t))))}}return t.\u0275fac=function(e){return new(e||t)(r.bc(DP))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),vat=(()=>{class t{constructor(t){this.backendService=t}resolve(t){var e=null;return"identityDetail"!=t.url[0].path&&"identityModify"!=t.url[0].path||(e=t.params.id),e?(console.log("Getting Identity"),this.backendService.getIdentities(e).pipe(Object(mo.a)(t=>(console.log("Identities API Error: "),console.log(t),alert("Algo ha fallado"),Object(wi.a)(t))))):(console.log("Getting Identities"),this.backendService.getIdentities(void 0,{filter:{},pagination:{pageIndex:1,pageSize:10}}).pipe(Object(mo.a)(t=>(console.log("Identities API Error: "),console.log(t),alert("Algo ha fallado"),Object(wi.a)(t)))))}}return t.\u0275fac=function(e){return new(e||t)(r.bc(DP))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),_at=(()=>{class t{constructor(t){this.backendService=t}resolve(t){var e=null;return"groupDetail"!=t.url[0].path&&"groupModify"!=t.url[0].path||(e=t.params.id),e?(console.log("Getting Group"),this.backendService.getGroups(e).pipe(Object(mo.a)(t=>(console.log("Groups API Error: "),console.log(t),alert("Algo ha fallado"),Object(wi.a)(t))))):(console.log("Getting Identities"),this.backendService.getGroups(void 0,{filter:{},pagination:{pageIndex:1,pageSize:10}}).pipe(Object(mo.a)(t=>(console.log("Groups API Error: "),console.log(t),alert("Algo ha fallado"),Object(wi.a)(t)))))}}return t.\u0275fac=function(e){return new(e||t)(r.bc(DP))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),wat=(()=>{class t{constructor(t){this.backendService=t}resolve(t){var e=null;return"organizationDetail"!=t.url[0].path&&"organizationModify"!=t.url[0].path||(e=t.params.id),e?(console.log("Getting Organization"),this.backendService.getOrganizations(e).pipe(Object(mo.a)(t=>(console.log("Identities API Error: "),console.log(t),alert("Algo ha fallado"),Object(wi.a)(t))))):(console.log("Getting Organizations"),this.backendService.getOrganizations(void 0,{filter:{},pagination:{pageIndex:1,pageSize:10}}).pipe(Object(mo.a)(t=>(console.log("Identities API Error: "),console.log(t),alert("Algo ha fallado"),Object(wi.a)(t)))))}}return t.\u0275fac=function(e){return new(e||t)(r.bc(DP))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),zat=(()=>{class t{constructor(t){this.backendService=t}resolve(t){var e=null;return"roleDetail"!=t.url[0].path&&"roleModify"!=t.url[0].path||(e=t.params.id),e?(console.log("Getting Role"),this.backendService.getRoles(e).pipe(Object(mo.a)(t=>(console.log("Roles API Error: "),console.log(t),alert("Algo ha fallado"),Object(wi.a)(t))))):(console.log("Getting Roles"),this.backendService.getRoles(void 0,{filter:{},pagination:{pageIndex:1,pageSize:10}}).pipe(Object(mo.a)(t=>(console.log("Roles API Error: "),console.log(t),alert("Algo ha fallado"),Object(wi.a)(t)))))}}return t.\u0275fac=function(e){return new(e||t)(r.bc(DP))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),Cat=(()=>{class t{constructor(t,e){this.backendService=t,this.authService=e}resolve(t){return console.log("Auth Resolver"),console.log(this.authService.isAuthenticated),this.backendService.putSession().pipe(Object(mo.a)(t=>(console.log("Authentication API Error: "),console.log(t),alert("Algo ha fallado"),Object(wi.a)(t))))}}return t.\u0275fac=function(e){return new(e||t)(r.bc(DP),r.bc(zL))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),Sat=(()=>{class t{constructor(t){this.backendService=t}resolve(t){return console.log("Getting Layers"),this.backendService.getLayerGIS().pipe(Object(mo.a)(t=>(console.log("Identities API Error: "),console.log(t),alert("Algo ha fallado"),Object(wi.a)(t))))}}return t.\u0275fac=function(e){return new(e||t)(r.bc(DP))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();var xat=n("GPJE");let Oat=(()=>{class t{constructor(t){this.router=t,this._log=[],this.log=Object(wi.a)(this._log),t.events.subscribe(t=>{if(t instanceof dm.c){const e=new xat.URLBuilder("http://unusefulurl.com"+t.url),n={};e.getParams().forEach((t,e)=>{n[e]=t}),this.refresh_path({rawUrl:t.url,url:e.getPath(),queryParams:n})}})}refresh_path(t){if(t.url){for(let e=0;e<this._log.length;e++)if(this._log[e].rawUrl===t.rawUrl){this._log.splice(e,1);break}this._log.push(t)}}goBack(t){for(let e=0;e<this._log.length;e++)if(this._log[e].rawUrl===t.rawUrl){this._log.splice(e);break}}getCurrentPath(){return this._log[this._log.length-1]}getPreviousPath(){return this._log[this._log.length-2]}}return t.\u0275fac=function(e){return new(e||t)(r.bc(dm.g))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),kat=(()=>{class t{constructor(t,e){this.routePathService=t,this.router=e,this.PROCESS_DETAIL_COMPONENT="ProcessDetailComponent"}canActivate(t,e){console.log(t);let n=!1;return t.routeConfig.component.name===this.PROCESS_DETAIL_COMPONENT&&(n=this.checkProcessDetailProcedence(this.routePathService.getCurrentPath())),n||this.router.navigate([""]),n}checkProcessDetailProcedence(t){let e=!1;return console.log(t),t&&(e="/process/processesBrowse"===t.url||"/process/processSetup"===t.url),e}}return t.\u0275fac=function(e){return new(e||t)(r.bc(Oat),r.bc(dm.g))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Tat=(()=>{class t{constructor(t){this.backendService=t}resolve(t,e){return console.log("Getting RegionsGIS"),this.backendService.getRegionsGIS().pipe(Object(mo.a)(t=>(console.log("RegionsGIS API Error: "),console.log(t),alert("Algo ha fallado"),Object(wi.a)(t))))}}return t.\u0275fac=function(e){return new(e||t)(r.bc(DP))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();const Eat=[{path:"",resolve:[Cat],canActivate:[eP],children:[{path:"",component:EP},{path:"sequencesBrowse",component:dG},{path:"sequencesImport",component:mG},{path:"sequenceDetail/:id",component:CG},{path:"alignmentsBrowse",component:OG},{path:"alignmentsImport",component:kG},{path:"alignmentDetail/:id",component:AG},{path:"phylotreesBrowse",component:FG},{path:"phylotreesImport",component:NG},{path:"phylotreeDetail/:id",component:$G},{path:"blastBrowse",component:Ast},{path:"blastDetail/:id",component:Pst},{path:"discriminantMatricesBrowse",component:Vst},{path:"discriminantMatrixDetail/:id",component:Wst},{path:"supermatricesBrowse",component:Hst},{path:"supermatrixDetail/:id",component:Kst},{path:"geolayersBrowse",component:Gst,resolve:{layers:Sat,identities:vat}},{path:"geolayerImport",component:rat},{path:"geolayerDetail/:id",component:Yst},{path:"pdaBrowse",component:oat},{path:"pdaImport",component:sat},{path:"pdaDetail/:id",component:aat},{path:"georegionsBrowse",component:cat,resolve:{geoRegions:Tat,identities:vat}},{path:"georegionImport",component:lat},{path:"georegionDetail/:id",component:uat},{path:"analysesBrowse",component:bB},{path:"analysisDetail/:id",component:e$},{path:"ontologiesBrowse",component:i$},{path:"ontologiesImport",component:UH},{path:"ontologyDetail/:id",component:HH},{path:"organismsBrowse",component:GH},{path:"organismsImport",component:ZH},{path:"organismDetail/:id",component:eK},{path:"individualsBrowse",component:Ust},{path:"individualDetail/:id",component:$st},{path:"taxonomiesBrowse",component:iK},{path:"taxonomiesImport",component:rK},{path:"taxonomyDetail/:id",component:sK},{path:"process",resolve:{processes:gat},children:[{path:"processSetup",component:yY,resolve:{organisms:bat}},{path:"processesBrowse",component:CY,runGuardsAndResolvers:"pathParamsOrQueryParamsChange",resolve:{jobs:fat,resources:mat}},{path:"processDetail/:id",component:VY,canActivate:[kat]}]},{path:"viewWithState/:id",component:Ytt},{path:"collectionsBrowse",component:Nst},{path:"aclBrowse",component:Mst},{path:"aclDetail/:id",component:Tst},{path:"filterBrowse",component:Rst},{path:"filterDetail/:id",component:PK},{path:"authenticatorsBrowse",component:jrt},{path:"computeResourcesBrowse",component:Ztt},{path:"computeResourceDetail/:id",component:tet},{path:"groupsBrowse",component:dot,resolve:{groups:_at}},{path:"groupDetail/:id",component:fot,resolve:{group:_at,identities:vat}},{path:"groupModify/:id",component:got,resolve:{group:_at}},{path:"identitiesBrowse",component:Irt,resolve:{identities:vat}},{path:"identityDetail/:id",component:Prt,resolve:{roles:zat,organizations:wat,groups:_at,identity:vat}},{path:"identityModify/:id",component:Frt,resolve:{identity:vat}},{path:"organizationsBrowse",component:zst,resolve:{organizations:wat}},{path:"organizationDetail/:id",component:Kot,resolve:{organization:wat,identities:vat}},{path:"organizationModify/:id",component:Cst,resolve:{organization:wat}},{path:"permissionTypesBrowse",component:Sst},{path:"processTypesBrowse",component:Qtt},{path:"processTypeDetail/:id",component:Jtt},{path:"rolesBrowse",component:Uot,resolve:{roles:zat}},{path:"roleDetail/:id",component:bot,resolve:{role:zat,identities:vat}},{path:"roleModify/:id",component:$ot,resolve:{role:zat}},{path:"systemFunctionsBrowse",component:kst,resolve:{systemFunctions:yat}},{path:"processParametersBrowse/:id",component:hat},{path:"processParametersDetail/:id",component:dat},{path:"processParametersImport/:id",component:pat},{path:"phylogeographyBrowse",component:Gtt,resolve:{layers:Sat}},{path:"jbrowseBrowse",loadChildren:()=>n.e(11).then(n.bind(null,"7jvd")).then(t=>t.JbrowseModule)}]},{path:"login",component:eF},{path:"**",pathMatch:"full",redirectTo:""}];let Iat=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[fat,gat,mat,bat,vat,_at,wat,zat,yat,Cat,Tat,Sat],imports:[[dm.k.forRoot(Eat)],dm.k]}),t})();var Dat=n("KqfI");const Mat=new F.a(Dat.a);var Rat=n("oB13");const Aat="Service workers are disabled or not supported by this browser";class Pat{constructor(t){if(this.serviceWorker=t,t){const e=Mc(t,"controllerchange").pipe(Object(N.a)(()=>t.controller)),n=Object(HD.a)(()=>Object(wi.a)(t.controller)),i=Object(kn.a)(n,e);this.worker=i.pipe(Object(di.a)(t=>!!t)),this.registration=this.worker.pipe(Object(Bc.a)(()=>t.getRegistration()));const r=Mc(t,"message").pipe(Object(N.a)(t=>t.data)).pipe(Object(di.a)(t=>t&&t.type)).pipe(Object(Rat.a)(new xe.a));r.connect(),this.events=r}else this.worker=this.events=this.registration=Object(HD.a)(()=>Object(pM.a)(new Error("Service workers are disabled or not supported by this browser")))}postMessage(t,e){return this.worker.pipe(Object(Tn.a)(1),Object(go.a)(n=>{n.postMessage(Object.assign({action:t},e))})).toPromise().then(()=>{})}postMessageWithStatus(t,e,n){const i=this.waitForStatus(n),r=this.postMessage(t,e);return Promise.all([i,r]).then(()=>{})}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){return this.events.pipe(Object(di.a)(e=>e.type===t))}nextEventOfType(t){return this.eventsOfType(t).pipe(Object(Tn.a)(1))}waitForStatus(t){return this.eventsOfType("STATUS").pipe(Object(di.a)(e=>e.nonce===t),Object(Tn.a)(1),Object(N.a)(t=>{if(!t.status)throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Lat=(()=>{class t{constructor(t){if(this.sw=t,this.subscriptionChanges=new xe.a,!t.isEnabled)return this.messages=Mat,this.notificationClicks=Mat,void(this.subscription=Mat);this.messages=this.sw.eventsOfType("PUSH").pipe(Object(N.a)(t=>t.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Object(N.a)(t=>t.data)),this.pushManager=this.sw.registration.pipe(Object(N.a)(t=>t.pushManager));const e=this.pushManager.pipe(Object(Bc.a)(t=>t.getSubscription()));this.subscription=Object(bl.a)(e,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(Aat));const e={userVisibleOnly:!0};let n=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(n.length));for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return e.applicationServerKey=i,this.pushManager.pipe(Object(Bc.a)(t=>t.subscribe(e)),Object(Tn.a)(1)).toPromise().then(t=>(this.subscriptionChanges.next(t),t))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Object(Tn.a)(1),Object(Bc.a)(t=>{if(null===t)throw new Error("Not subscribed to push notifications.");return t.unsubscribe().then(t=>{if(!t)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Aat))}decodeBase64(t){return atob(t)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(Pat))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})(),Fat=(()=>{class t{constructor(t){if(this.sw=t,!t.isEnabled)return this.available=Mat,this.activated=Mat,void(this.unrecoverable=Mat);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Aat));const t=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Aat));const t=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:t},t)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(Pat))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t})();class jat{}const Nat=new r.r("NGSW_REGISTER_SCRIPT");function Vat(t,e,n,o){return()=>{if(!Object(i.z)(o)||!("serviceWorker"in navigator)||!1===n.enabled)return;let s;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof n.registrationStrategy)s=n.registrationStrategy();else{const[e,...i]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(e){case"registerImmediately":s=Object(wi.a)(null);break;case"registerWithDelay":s=Wat(+i[0]||0);break;case"registerWhenStable":s=i[0]?Object(bl.a)(qat(t),Wat(+i[0])):qat(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}t.get(r.A).runOutsideAngular(()=>s.pipe(Object(Tn.a)(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(e=>{t.get(r.m).handleError(e)})))}}function Wat(t){return Object(wi.a)(null).pipe(IA(t))}function qat(t){return t.get(r.g).isStable.pipe(Object(di.a)(t=>t))}function Bat(t,e){return new Pat(Object(i.z)(e)&&!1!==t.enabled?navigator.serviceWorker:void 0)}let Xat=(()=>{class t{static register(e,n={}){return{ngModule:t,providers:[{provide:Nat,useValue:e},{provide:jat,useValue:n},{provide:Pat,useFactory:Bat,deps:[jat,r.C]},{provide:r.d,useFactory:Vat,deps:[r.s,Nat,jat,r.C],multi:!0}]}}}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[Lat,Fat]}),t})(),Uat=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[fD],fD]}),t})(),$at=(()=>{class t{static forRoot(){return{ngModule:t,providers:[]}}static forChild(){return{ngModule:t,providers:[]}}}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})();function Hat(t){const{subscriber:e,counter:n,period:i}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:i},i)}function Kat(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Gat(t,e){const n=e?"":"none";Kat(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function Yat(t,e){const n=t.style;n.position=e?"":"fixed",n.top=n.opacity=e?"":"0",n.left=e?"":"-999em"}function Qat(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function Jat(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}function Zat(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function tct(t,e,n){const{top:i,bottom:r,left:o,right:s}=t;return n>=i&&n<=r&&e>=o&&e<=s}function ect(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function nct(t,e,n,i){const{top:r,right:o,bottom:s,left:a,width:c,height:l}=t,u=c*e,h=l*e;return i>r-h&&i<s+h&&n>a-u&&n<o+u}class ict{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Zat(t)})})}handleScroll(t){const e=t.target,n=this.positions.get(e);if(!n)return null;const i=e===this._document?e.documentElement:e,r=n.scrollPosition;let o,s;if(e===this._document){const t=this._viewportRuler.getViewportScrollPosition();o=t.top,s=t.left}else o=e.scrollTop,s=e.scrollLeft;const a=r.top-o,c=r.left-s;return this.positions.forEach((t,n)=>{t.clientRect&&e!==n&&i.contains(n)&&ect(t.clientRect,a,c)}),r.top=o,r.left=s,{top:a,left:c}}}function rct(t){const e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),i=t.nodeName.toLowerCase();e.removeAttribute("id");for(let r=0;r<n.length;r++)n[r].removeAttribute("id");return"canvas"===i?cct(t,e):"input"!==i&&"select"!==i&&"textarea"!==i||act(t,e),oct("canvas",t,e,cct),oct("input, textarea, select",t,e,act),e}function oct(t,e,n,i){const r=e.querySelectorAll(t);if(r.length){const e=n.querySelectorAll(t);for(let t=0;t<r.length;t++)i(r[t],e[t])}}let sct=0;function act(t,e){"file"!==e.type&&(e.value=t.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${sct++}`)}function cct(t,e){const n=e.getContext("2d");if(n)try{n.drawImage(t,0,0)}catch(mpt){}}const lct=Xn({passive:!0}),uct=Xn({passive:!1});class hct{constructor(t,e,n,i,r,o){this._config=e,this._document=n,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new xe.a,this._pointerMoveSubscription=Yi.a.EMPTY,this._pointerUpSubscription=Yi.a.EMPTY,this._scrollSubscription=Yi.a.EMPTY,this._resizeSubscription=Yi.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new xe.a,this.started=new xe.a,this.released=new xe.a,this.ended=new xe.a,this.entered=new xe.a,this.exited=new xe.a,this.dropped=new xe.a,this.moved=this._moveEvents,this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const n=t.target;return!!n&&(n===e||e.contains(n))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{const e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const e=Date.now()>=this._dragStartTime+this._getDragStartDelay(t),n=this._dropContainer;if(!e)return void this._endDragSequence(t);n&&(n.isDragging()||n.isReceiving())||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect())),t.preventDefault();const n=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n,e);else{const t=this._activeTransform;t.x=n.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=n.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:t,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t),this._parentPositions=new ict(n,r),o.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=_n(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>Gat(t,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(t=>xn(t)),this._handles.forEach(t=>Gat(t,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(t=>{this._handles.indexOf(t)>-1&&e.add(t)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=xn(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,uct),e.addEventListener("touchstart",this._pointerDown,lct)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?xn(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&fct(this._rootElement),fct(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Gat(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Gat(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&fct(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&fct(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(t){gct(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,n=t.parentNode,i=this._preview=this._createPreviewElement(),r=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),s=this._getShadowRoot();n.insertBefore(o,t),Yat(t,!1),this._document.body.appendChild(n.replaceChild(r,t)),function(t,e){return e||t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement||t.body}(this._document,s).appendChild(i),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._config.parentDragRef&&e.stopPropagation();const n=this.isDragging(),i=gct(e),r=!i&&0!==e.button,o=this._rootElement,s=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),n||r||s)return;this._handles.length&&(this._rootElementTapHighlight=o.style.webkitTapHighlightColor||"",o.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{this._updateOnScroll(t)}),this._boundaryElement&&(this._boundaryRect=Zat(this._boundaryElement));const a=this._previewTemplate;this._pickupPositionInElement=a&&a.template&&!a.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const c=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:c.x,y:c.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){Yat(this._rootElement,!0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),i=this._getPointerPositionOnPage(t),r=this._getDragDistance(this._getPointerPositionOnPage(t)),o=e._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:r}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:r}),e.drop(this,n,this._initialIndex,this._initialContainer,o,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:n,y:i}){let r=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,t,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(n,i),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=dct(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,n=t?t.template:null;let i;if(n&&t){const e=t.matchSize?this._rootElement.getBoundingClientRect():null,r=t.viewContainer.createEmbeddedView(n,t.context);r.detectChanges(),i=mct(r,this._document),this._previewRef=r,t.matchSize?bct(i,e):i.style.transform=dct(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement;i=rct(t),bct(i,t.getBoundingClientRect())}return Kat(i.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:`${this._config.zIndex||1e3}`}),Gat(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(t=>i.classList.add(t)):i.classList.add(e)),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=dct(t.left,t.top);const e=function(t){const e=getComputedStyle(t),n=Jat(e,"transition-property"),i=n.find(t=>"transform"===t||"all"===t);if(!i)return 0;const r=n.indexOf(i),o=Jat(e,"transition-duration"),s=Jat(e,"transition-delay");return Qat(o[r])+Qat(s[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const n=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",n),t(),clearTimeout(i))},i=setTimeout(n,1.5*e);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),n=mct(this._placeholderRef,this._document)):n=rct(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e){const n=this._rootElement.getBoundingClientRect(),i=t===this._rootElement?null:t,r=i?i.getBoundingClientRect():n,o=gct(e)?e.targetTouches[0]:e,s=this._getViewportScrollPosition();return{x:r.left-n.left+(o.pageX-r.left-s.left),y:r.top-n.top+(o.pageY-r.top-s.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),n=gct(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,i=n.pageX-e.left,r=n.pageY-e.top;if(this._ownerSVGElement){const t=this._ownerSVGElement.getScreenCTM();if(t){const e=this._ownerSVGElement.createSVGPoint();return e.x=i,e.y=r,e.matrixTransform(t.inverse())}}return{x:i,y:r}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:i}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?i=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==e||(n=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:e}=this._pickupPositionInElement,r=this._boundaryRect,o=this._previewRect,s=r.top+e,a=r.bottom-(o.height-e);n=pct(n,r.left+t,r.right-(o.width-t)),i=pct(i,s,a)}return{x:n,y:i}}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,i=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-r.x),s=Math.abs(n-r.y);return o>this._config.pointerDirectionChangeThreshold&&(i.x=e>r.x?1:-1,r.x=e),s>this._config.pointerDirectionChangeThreshold&&(i.y=n>r.y?1:-1,r.y=n),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Gat(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,uct),t.removeEventListener("touchstart",this._pointerDown,lct)}_applyRootElementTransform(t,e){const n=dct(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===i.width&&0===i.height)return;const r=n.left-i.left,o=i.right-n.right,s=n.top-i.top,a=i.bottom-n.bottom;n.width>i.width?(r>0&&(t+=r),o>0&&(t-=o)):t=0,n.height>i.height?(s>0&&(e+=s),a>0&&(e-=a)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:gct(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const n=t.target;this._boundaryRect&&(n===this._document||n!==this._boundaryElement&&n.contains(this._boundaryElement))&&ect(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Hn(this._rootElement)),this._cachedShadowRoot}}function dct(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function pct(t,e,n){return Math.max(e,Math.min(n,t))}function fct(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function gct(t){return"t"===t.type[0]}function mct(t,e){const n=t.rootNodes;if(1===n.length&&n[0].nodeType===e.ELEMENT_NODE)return n[0];const i=e.createElement("div");return n.forEach(t=>i.appendChild(t)),i}function bct(t,e){t.style.width=`${e.width}px`,t.style.height=`${e.height}px`,t.style.transform=dct(e.left,e.top)}function yct(t,e,n){const i=vct(e,t.length-1),r=vct(n,t.length-1);if(i===r)return;const o=t[i],s=r<i?-1:1;for(let a=i;a!==r;a+=s)t[a]=t[a+s];t[r]=o}function vct(t,e){return Math.max(0,Math.min(e,t))}class _ct{constructor(t,e,n,i,r){this._dragDropRegistry=e,this._ngZone=i,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new xe.a,this.entered=new xe.a,this.exited=new xe.a,this.dropped=new xe.a,this.sorted=new xe.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Yi.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new xe.a,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(t=0,e=ve.a){return(!Object(si.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=ve.a),new F.a(n=>(n.add(e.schedule(Hat,t,{subscriber:n,counter:0,period:t})),n))}(0,jc).pipe(An(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode,e=this.autoScrollStep;1===this._verticalScrollDirection?zct(t,-e):2===this._verticalScrollDirection&&zct(t,e),1===this._horizontalScrollDirection?Cct(t,-e):2===this._horizontalScrollDirection&&Cct(t,e)})},this.element=xn(t),this._document=n,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new ict(n,r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,n,i){let r;this._draggingStarted(),null==i?(r=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===r&&(r=this._getItemIndexFromPointerPosition(t,e,n))):r=i;const o=this._activeDraggables,s=o.indexOf(t),a=t.getPlaceholderElement();let c=o[r];if(c===t&&(c=o[r+1]),s>-1&&o.splice(s,1),c&&!this._dragDropRegistry.isDragging(c)){const e=c.getRootElement();e.parentElement.insertBefore(a,e),o.splice(r,0,t)}else if(this._shouldEnterAsFirstChild(e,n)){const e=o[0].getRootElement();e.parentNode.insertBefore(a,e),o.unshift(t)}else xn(this.element).appendChild(a),o.push(t);a.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,i,r,o){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:n,container:this,previousContainer:i,isPointerOverContainer:r,distance:o})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(t=>t.isDragging()).every(e=>-1===t.indexOf(e))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=xn(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?wct("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,i){if(this.sortingDisabled||!this._clientRect||!nct(this._clientRect,.05,e,n))return;const r=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,n,i);if(-1===o&&r.length>0)return;const s="horizontal"===this._orientation,a=wct(r,e=>e.drag===t),c=r[o],l=c.clientRect,u=a>o?1:-1,h=this._getItemOffsetPx(r[a].clientRect,l,u),d=this._getSiblingOffsetPx(a,r,u),p=r.slice();yct(r,a,o),this.sorted.next({previousIndex:a,currentIndex:o,container:this,item:t}),r.forEach((e,n)=>{if(p[n]===e)return;const i=e.drag===t,r=i?h:d,o=i?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=r,s?(o.style.transform=`translate3d(${Math.round(e.offset)}px, 0, 0)`,ect(e.clientRect,0,r)):(o.style.transform=`translate3d(0, ${Math.round(e.offset)}px, 0)`,ect(e.clientRect,r,0))}),this._previousSwap.overlaps=tct(l,e,n),this._previousSwap.drag=c.drag,this._previousSwap.delta=s?i.x:i.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,i=0,r=0;if(this._parentPositions.positions.forEach((o,s)=>{s!==this._document&&o.clientRect&&!n&&nct(o.clientRect,.05,t,e)&&([i,r]=function(t,e,n,i){const r=Sct(e,i),o=xct(e,n);let s=0,a=0;if(r){const e=t.scrollTop;1===r?e>0&&(s=1):t.scrollHeight-e>t.clientHeight&&(s=2)}if(o){const e=t.scrollLeft;1===o?e>0&&(a=1):t.scrollWidth-e>t.clientWidth&&(a=2)}return[s,a]}(s,o.clientRect,t,e),(i||r)&&(n=s))}),!i&&!r){const{width:o,height:s}=this._viewportRuler.getViewportSize(),a={width:o,height:s,top:0,right:o,bottom:s,left:0};i=Sct(a,e),r=xct(a,t),n=window}!n||i===this._verticalScrollDirection&&r===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=i,this._horizontalScrollDirection=r,this._scrollNode=n,(i||r)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=xn(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=xn(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=t.getVisibleElement();return{drag:t,offset:0,clientRect:Zat(e)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1;const t=xn(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{const e=t.getRootElement();e&&(e.style.transform="")}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,n){const i="horizontal"===this._orientation,r=e[t].clientRect,o=e[t+-1*n];let s=r[i?"width":"height"]*n;if(o){const t=i?"left":"top",e=i?"right":"bottom";-1===n?s-=o.clientRect[t]-r[e]:s+=r[t]-o.clientRect[e]}return s}_getItemOffsetPx(t,e,n){const i="horizontal"===this._orientation;let r=i?e.left-t.left:e.top-t.top;return-1===n&&(r+=i?e.width-t.width:e.height-t.height),r}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,i="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){const r=n[n.length-1].clientRect;return i?t>=r.right:e>=r.bottom}{const r=n[0].clientRect;return i?t<=r.left:e<=r.top}}_getItemIndexFromPointerPosition(t,e,n,i){const r="horizontal"===this._orientation,o=wct(this._itemPositions,({drag:o,clientRect:s},a,c)=>{if(o===t)return c.length<2;if(i){const t=r?i.x:i.y;if(o===this._previousSwap.drag&&this._previousSwap.overlaps&&t===this._previousSwap.delta)return!1}return r?e>=Math.floor(s.left)&&e<Math.floor(s.right):n>=Math.floor(s.top)&&n<Math.floor(s.bottom)});return-1!==o&&this.sortPredicate(o,t,this)?o:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&tct(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(i=>i._canReceive(t,e,n))}_canReceive(t,e,n){if(!this._clientRect||!tct(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;const i=this._getShadowRoot().elementFromPoint(e,n);if(!i)return!1;const r=xn(this.element);return i===r||r.contains(i)}_startReceiving(t,e){const n=this._activeSiblings;!n.has(t)&&e.every(t=>this.enterPredicate(t,this)||this._draggables.indexOf(t)>-1)&&(n.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:t})=>{ect(t,e.top,e.left)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=Hn(xn(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(t=>t.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function wct(t,e){for(let n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function zct(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function Cct(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function Sct(t,e){const{top:n,bottom:i,height:r}=t,o=.05*r;return e>=n-o&&e<=n+o?1:e>=i-o&&e<=i+o?2:0}function xct(t,e){const{left:n,right:i,width:r}=t,o=.05*r;return e>=n-o&&e<=n+o?1:e>=i-o&&e<=i+o?2:0}const Oct=Xn({passive:!1,capture:!0});let kct=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=t=>t.isDragging(),this.pointerMove=new xe.a,this.pointerUp=new xe.a,this.scroll=new xe.a,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.length>0&&t.preventDefault()},this._persistentTouchmoveListener=t=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t))},this._document=e}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Oct)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Oct)}startDragging(t,e){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const t=e.type.startsWith("touch");this._globalListeners.set(t?"touchend":"mouseup",{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Oct}),t||this._globalListeners.set("mousemove",{handler:t=>this.pointerMove.next(t),options:Oct}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){const e=this._activeDragInstances.indexOf(t);e>-1&&(this._activeDragInstances.splice(e,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(r.bc(r.A),r.bc(i.d))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(r.A),Object(r.bc)(i.d))},token:t,providedIn:"root"}),t})();const Tct={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Ect=(()=>{class t{constructor(t,e,n,i){this._document=t,this._ngZone=e,this._viewportRuler=n,this._dragDropRegistry=i}createDrag(t,e=Tct){return new hct(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new _ct(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(i.d),r.bc(r.A),r.bc(nl),r.bc(kct))},t.\u0275prov=Object(r.Nb)({factory:function(){return new t(Object(r.bc)(i.d),Object(r.bc)(r.A),Object(r.bc)(nl),Object(r.bc)(kct))},token:t,providedIn:"root"}),t})();const Ict=new r.r("CDK_DRAG_PARENT"),Dct=new r.r("CdkDropListGroup"),Mct=new r.r("CDK_DRAG_CONFIG");let Rct=0;const Act=new r.r("CdkDropList");let Pct=(()=>{class t{constructor(e,n,i,o,s,a,c){this.element=e,this._changeDetectorRef=i,this._scrollDispatcher=o,this._dir=s,this._group=a,this._destroyed=new xe.a,this.connectedTo=[],this.id="cdk-drop-list-"+Rct++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new r.n,this.entered=new r.n,this.exited=new r.n,this.sorted=new r.n,this._unsortedItems=new Set,this._dropListRef=n.createDropList(e),this._dropListRef.data=this,c&&this._assignDefaults(c),this._dropListRef.enterPredicate=(t,e)=>this.enterPredicate(t.data,e.data),this._dropListRef.sortPredicate=(t,e,n)=>this.sortPredicate(t,e.data,n.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),a&&a._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=_n(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,e)=>t._dragRef.getVisibleElement().compareDocumentPosition(e._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Object(Mn.a)(this._dir.value),An(this._destroyed)).subscribe(t=>e.withDirection(t)),e.beforeStarted.subscribe(()=>{const n=Cn(this.connectedTo).map(e=>"string"==typeof e?t._dropLists.find(t=>t.id===e):e);if(this._group&&this._group._items.forEach(t=>{-1===n.indexOf(t)&&n.push(t)}),!this._scrollableParentsResolved){const t=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(t=>t.getElementRef().nativeElement);this._dropListRef.withScrollableParents(t),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=_n(this.sortingDisabled),e.autoScrollDisabled=_n(this.autoScrollDisabled),e.autoScrollStep=wn(this.autoScrollStep,2),e.connectedTo(n.filter(t=>t&&t!==this).map(t=>t._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:this,item:t.item.data,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:this,item:t.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(t=>{this.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:this,item:t.item.data})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:e,draggingDisabled:n,sortingDisabled:i,listAutoScrollDisabled:r,listOrientation:o}=t;this.disabled=null!=n&&n,this.sortingDisabled=null!=i&&i,this.autoScrollDisabled=null!=r&&r,this.orientation=o||"vertical",e&&(this.lockAxis=e)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(Ect),r.Rb(r.h),r.Rb(tl),r.Rb(bn,8),r.Rb(Dct,12),r.Rb(Mct,8))},t.\u0275dir=r.Mb({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Eb("id",e.id),r.Jb("cdk-drop-list-disabled",e.disabled)("cdk-drop-list-dragging",e._dropListRef.isDragging())("cdk-drop-list-receiving",e._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[r.Cb([{provide:Dct,useValue:void 0},{provide:Act,useExisting:t}])]}),t._dropLists=[],t})();const Lct=new r.r("CdkDragHandle");let Fct=(()=>{class t{constructor(t,e){this.element=t,this._stateChanges=new xe.a,this._disabled=!1,this._parentDrag=e}get disabled(){return this._disabled}set disabled(t){this._disabled=_n(t),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(Ict,12))},t.\u0275dir=r.Mb({type:t,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[r.Cb([{provide:Lct,useExisting:t}])]}),t})();const jct=new r.r("CdkDragPlaceholder"),Nct=new r.r("CdkDragPreview");let Vct=(()=>{class t{constructor(t,e,n,i,o,s,a,c,l,u,h){this.element=t,this.dropContainer=e,this._ngZone=i,this._viewContainerRef=o,this._dir=a,this._changeDetectorRef=l,this._selfHandle=u,this._destroyed=new xe.a,this.started=new r.n,this.released=new r.n,this.ended=new r.n,this.entered=new r.n,this.exited=new r.n,this.dropped=new r.n,this.moved=new F.a(t=>{const e=this._dragRef.moved.pipe(Object(N.a)(t=>({source:this,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}))).subscribe(t);return()=>{e.unsubscribe()}}),this._dragRef=c.createDrag(t,{dragStartThreshold:s&&null!=s.dragStartThreshold?s.dragStartThreshold:5,pointerDirectionChangeThreshold:s&&null!=s.pointerDirectionChangeThreshold?s.pointerDirectionChangeThreshold:5,zIndex:null==s?void 0:s.zIndex,parentDragRef:null==h?void 0:h._dragRef}),this._dragRef.data=this,s&&this._assignDefaults(s),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=_n(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.onStable.pipe(Object(Tn.a)(1),An(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe(Object(Mn.a)(this._handles),Object(go.a)(t=>{const e=t.filter(t=>t._parentDrag===this).map(t=>t.element);this._selfHandle&&this.rootElementSelector&&e.push(this.element),this._dragRef.withHandles(e)}),Object(Bc.a)(t=>Object(bl.a)(...t.map(t=>t._stateChanges.pipe(Object(Mn.a)(t))))),An(this._destroyed)).subscribe(t=>{const e=this._dragRef,n=t.element.nativeElement;t.disabled?e.disableHandle(n):e.enableHandle(n)}),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})}ngOnChanges(t){const e=t.rootElementSelector,n=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const t=this.element.nativeElement,e=this.rootElementSelector?Wct(t,this.rootElementSelector):t;this._dragRef.withRootElement(e||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?Wct(this.element.nativeElement,t):xn(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const e=this._dir,n=this.dragStartDelay,i=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,r=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof n&&n?n:wn(n),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(i).withPreviewTemplate(r),e&&t.withDirection(e.value)}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance})})}_assignDefaults(t){const{lockAxis:e,dragStartDelay:n,constrainPosition:i,previewClass:r,boundaryElement:o,draggingDisabled:s,rootElementSelector:a}=t;this.disabled=null!=s&&s,this.dragStartDelay=n||0,e&&(this.lockAxis=e),i&&(this.constrainPosition=i),r&&(this.previewClass=r),o&&(this.boundaryElement=o),a&&(this.rootElementSelector=a)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(Act,12),r.Rb(i.d),r.Rb(r.A),r.Rb(r.R),r.Rb(Mct,8),r.Rb(bn,8),r.Rb(Ect),r.Rb(r.h),r.Rb(Lct,10),r.Rb(Ict,12))},t.\u0275dir=r.Mb({type:t,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,n){if(1&t&&(r.Kb(n,Nct,1),r.Kb(n,jct,1),r.Kb(n,Lct,1)),2&t){let t;r.zc(t=r.gc())&&(e._previewTemplate=t.first),r.zc(t=r.gc())&&(e._placeholderTemplate=t.first),r.zc(t=r.gc())&&(e._handles=t)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&r.Jb("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[r.Cb([{provide:Ict,useExisting:t}]),r.Bb]}),t})();function Wct(t,e){let n=t.parentElement;for(;n;){if(n.matches?n.matches(e):n.msMatchesSelector(e))return n;n=n.parentElement}return null}let qct=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[Ect],imports:[al]}),t})();const Bct=["*"];function Xct(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",2),r.fc("click",function(){r.Cc(t);const e=r.jc();return e.setCollapsed(!e.nzCollapsed)}),r.Wb()}if(2&t){const t=r.jc();r.qc("matchBreakPoint",t.matchBreakPoint)("nzCollapsedWidth",t.nzCollapsedWidth)("nzCollapsed",t.nzCollapsed)("nzBreakpoint",t.nzBreakpoint)("nzReverseArrow",t.nzReverseArrow)("nzTrigger",t.nzTrigger)("nzZeroTrigger",t.nzZeroTrigger)("siderWidth",t.widthSetting)}}const Uct=["nz-sider-trigger",""];function $ct(t,e){}function Hct(t,e){if(1&t&&(r.Vb(0),r.Kc(1,$ct,0,0,"ng-template",3),r.Ub()),2&t){const t=r.jc(),e=r.Ac(5);r.Db(1),r.qc("ngTemplateOutlet",t.nzZeroTrigger||e)}}function Kct(t,e){}function Gct(t,e){if(1&t&&(r.Vb(0),r.Kc(1,Kct,0,0,"ng-template",3),r.Ub()),2&t){const t=r.jc(),e=r.Ac(3);r.Db(1),r.qc("ngTemplateOutlet",t.nzTrigger||e)}}function Yct(t,e){if(1&t&&r.Sb(0,"i",5),2&t){const t=r.jc(2);r.qc("nzType",t.nzCollapsed?"right":"left")}}function Qct(t,e){if(1&t&&r.Sb(0,"i",5),2&t){const t=r.jc(2);r.qc("nzType",t.nzCollapsed?"left":"right")}}function Jct(t,e){if(1&t&&(r.Kc(0,Yct,1,1,"i",4),r.Kc(1,Qct,1,1,"i",4)),2&t){const t=r.jc();r.qc("ngIf",!t.nzReverseArrow),r.Db(1),r.qc("ngIf",t.nzReverseArrow)}}function Zct(t,e){1&t&&r.Sb(0,"i",6)}let tlt=(()=>{class t{constructor(t,e){this.elementRef=t,this.renderer=e,this.renderer.addClass(this.elementRef.nativeElement,"ant-layout-content")}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.F))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-content"]],exportAs:["nzContent"],ngContentSelectors:Bct,decls:1,vars:0,template:function(t,e){1&t&&(r.pc(),r.oc(0))},encapsulation:2,changeDetection:0}),t})(),elt=(()=>{class t{constructor(t,e){this.elementRef=t,this.renderer=e,this.renderer.addClass(this.elementRef.nativeElement,"ant-layout-footer")}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.F))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-footer"]],exportAs:["nzFooter"],ngContentSelectors:Bct,decls:1,vars:0,template:function(t,e){1&t&&(r.pc(),r.oc(0))},encapsulation:2,changeDetection:0}),t})(),nlt=(()=>{class t{constructor(t,e){this.elementRef=t,this.renderer=e,this.renderer.addClass(this.elementRef.nativeElement,"ant-layout-header")}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.F))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-header"]],exportAs:["nzHeader"],ngContentSelectors:Bct,decls:1,vars:0,template:function(t,e){1&t&&(r.pc(),r.oc(0))},encapsulation:2,changeDetection:0}),t})(),ilt=(()=>{class t{constructor(t,e,n,i){this.platform=t,this.cdr=e,this.breakpointService=n,this.elementRef=i,this.destroy$=new xe.a,this.nzMenuDirective=null,this.nzCollapsedChange=new r.n,this.nzWidth=200,this.nzTheme="dark",this.nzCollapsedWidth=80,this.nzBreakpoint=null,this.nzZeroTrigger=null,this.nzTrigger=void 0,this.nzReverseArrow=!1,this.nzCollapsible=!1,this.nzCollapsed=!1,this.matchBreakPoint=!1,this.flexSetting=null,this.widthSetting=null,this.elementRef.nativeElement.classList.add("ant-layout-sider")}updateStyleMap(){this.widthSetting=this.nzCollapsed?`${this.nzCollapsedWidth}px`:Ti(this.nzWidth),this.flexSetting=`0 0 ${this.widthSetting}`,this.cdr.markForCheck()}updateMenuInlineCollapsed(){this.nzMenuDirective&&"inline"===this.nzMenuDirective.nzMode&&0!==this.nzCollapsedWidth&&this.nzMenuDirective.setInlineCollapsed(this.nzCollapsed)}setCollapsed(t){t!==this.nzCollapsed&&(this.nzCollapsed=t,this.nzCollapsedChange.emit(t),this.updateMenuInlineCollapsed(),this.updateStyleMap(),this.cdr.markForCheck())}ngOnInit(){this.updateStyleMap(),this.platform.isBrowser&&this.breakpointService.subscribe(Hi,!0).pipe(An(this.destroy$)).subscribe(t=>{const e=this.nzBreakpoint;e&&function(){const t=new xe.a;return Promise.resolve().then(()=>t.next()),t.pipe(Object(Tn.a)(1))}().subscribe(()=>{this.matchBreakPoint=!t[e],this.setCollapsed(this.matchBreakPoint),this.cdr.markForCheck()})})}ngOnChanges(t){const{nzCollapsed:e,nzCollapsedWidth:n,nzWidth:i}=t;(e||n||i)&&this.updateStyleMap(),e&&this.updateMenuInlineCollapsed()}ngAfterContentInit(){this.updateMenuInlineCollapsed()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(qn),r.Rb(r.h),r.Rb(Ki),r.Rb(r.l))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-sider"]],contentQueries:function(t,e,n){if(1&t&&r.Kb(n,fN,1),2&t){let t;r.zc(t=r.gc())&&(e.nzMenuDirective=t.first)}},hostVars:16,hostBindings:function(t,e){2&t&&(r.Hc("flex",e.flexSetting)("max-width",e.widthSetting)("min-width",e.widthSetting)("width",e.widthSetting),r.Jb("ant-layout-sider-zero-width",e.nzCollapsed&&0===e.nzCollapsedWidth)("ant-layout-sider-light","light"===e.nzTheme)("ant-layout-sider-dark","dark"===e.nzTheme)("ant-layout-sider-collapsed",e.nzCollapsed))},inputs:{nzWidth:"nzWidth",nzTheme:"nzTheme",nzCollapsedWidth:"nzCollapsedWidth",nzBreakpoint:"nzBreakpoint",nzZeroTrigger:"nzZeroTrigger",nzTrigger:"nzTrigger",nzReverseArrow:"nzReverseArrow",nzCollapsible:"nzCollapsible",nzCollapsed:"nzCollapsed"},outputs:{nzCollapsedChange:"nzCollapsedChange"},exportAs:["nzSider"],features:[r.Bb],ngContentSelectors:Bct,decls:3,vars:1,consts:[[1,"ant-layout-sider-children"],["nz-sider-trigger","",3,"matchBreakPoint","nzCollapsedWidth","nzCollapsed","nzBreakpoint","nzReverseArrow","nzTrigger","nzZeroTrigger","siderWidth","click",4,"ngIf"],["nz-sider-trigger","",3,"matchBreakPoint","nzCollapsedWidth","nzCollapsed","nzBreakpoint","nzReverseArrow","nzTrigger","nzZeroTrigger","siderWidth","click"]],template:function(t,e){1&t&&(r.pc(),r.Xb(0,"div",0),r.oc(1),r.Wb(),r.Kc(2,Xct,1,8,"div",1)),2&t&&(r.Db(2),r.qc("ngIf",e.nzCollapsible&&null!==e.nzTrigger))},directives:function(){return[i.n,olt]},encapsulation:2,changeDetection:0}),sr([Di(),ar("design:type",Object)],t.prototype,"nzReverseArrow",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzCollapsible",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzCollapsed",void 0),t})(),rlt=(()=>{class t{constructor(t,e){this.elementRef=t,this.directionality=e,this.dir="ltr",this.destroy$=new xe.a,this.elementRef.nativeElement.classList.add("ant-layout")}ngOnInit(){var t;this.dir=this.directionality.value,null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(bn,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-layout"]],contentQueries:function(t,e,n){if(1&t&&r.Kb(n,ilt,0),2&t){let t;r.zc(t=r.gc())&&(e.listOfNzSiderComponent=t)}},hostVars:4,hostBindings:function(t,e){2&t&&r.Jb("ant-layout-rtl","rtl"===e.dir)("ant-layout-has-sider",e.listOfNzSiderComponent.length>0)},exportAs:["nzLayout"],ngContentSelectors:Bct,decls:1,vars:0,template:function(t,e){1&t&&(r.pc(),r.oc(0))},encapsulation:2,changeDetection:0}),t})(),olt=(()=>{class t{constructor(){this.nzCollapsed=!1,this.nzReverseArrow=!1,this.nzZeroTrigger=null,this.nzTrigger=void 0,this.matchBreakPoint=!1,this.nzCollapsedWidth=null,this.siderWidth=null,this.nzBreakpoint=null,this.isZeroTrigger=!1,this.isNormalTrigger=!1}updateTriggerType(){this.isZeroTrigger=0===this.nzCollapsedWidth&&(this.nzBreakpoint&&this.matchBreakPoint||!this.nzBreakpoint),this.isNormalTrigger=0!==this.nzCollapsedWidth}ngOnInit(){this.updateTriggerType()}ngOnChanges(){this.updateTriggerType()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["","nz-sider-trigger",""]],hostVars:10,hostBindings:function(t,e){2&t&&(r.Hc("width",e.isNormalTrigger?e.siderWidth:null),r.Jb("ant-layout-sider-trigger",e.isNormalTrigger)("ant-layout-sider-zero-width-trigger",e.isZeroTrigger)("ant-layout-sider-zero-width-trigger-right",e.isZeroTrigger&&e.nzReverseArrow)("ant-layout-sider-zero-width-trigger-left",e.isZeroTrigger&&!e.nzReverseArrow))},inputs:{nzCollapsed:"nzCollapsed",nzReverseArrow:"nzReverseArrow",nzZeroTrigger:"nzZeroTrigger",nzTrigger:"nzTrigger",matchBreakPoint:"matchBreakPoint",nzCollapsedWidth:"nzCollapsedWidth",siderWidth:"siderWidth",nzBreakpoint:"nzBreakpoint"},exportAs:["nzSiderTrigger"],features:[r.Bb],attrs:Uct,decls:6,vars:2,consts:[[4,"ngIf"],["defaultTrigger",""],["defaultZeroTrigger",""],[3,"ngTemplateOutlet"],["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"],["nz-icon","","nzType","bars"]],template:function(t,e){1&t&&(r.Kc(0,Hct,2,1,"ng-container",0),r.Kc(1,Gct,2,1,"ng-container",0),r.Kc(2,Jct,2,2,"ng-template",null,1,r.Lc),r.Kc(4,Zct,1,0,"ng-template",null,2,r.Lc)),2&t&&(r.qc("ngIf",e.isZeroTrigger),r.Db(1),r.qc("ngIf",e.isNormalTrigger))},directives:[i.n,i.s,No],encapsulation:2,changeDetection:0}),t})(),slt=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,Vo,Kn,Bn]]}),t})();function alt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-breadcrumb-item"),r.Xb(1,"a",2),r.fc("click",function(n){r.Cc(t);const i=e.$implicit;return r.jc(2).navigate(i.url,n)}),r.Mc(2),r.Wb(),r.Wb()}if(2&t){const t=e.$implicit;r.Db(1),r.Eb("href",t.url,r.Ec),r.Db(1),r.Nc(t.label)}}function clt(t,e){if(1&t&&(r.Vb(0),r.Kc(1,alt,3,2,"nz-breadcrumb-item",1),r.Ub()),2&t){const t=r.jc();r.Db(1),r.qc("ngForOf",t.breadcrumbs)}}const llt=["*"];function ult(t,e){}function hlt(t,e){1&t&&r.Sb(0,"i",6)}function dlt(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"span",3),r.Kc(2,ult,0,0,"ng-template",4),r.Kc(3,hlt,1,0,"i",5),r.Wb(),r.Ub()),2&t){const t=r.jc(),e=r.Ac(2);r.Db(1),r.qc("nzDropdownMenu",t.nzOverlay),r.Db(1),r.qc("ngTemplateOutlet",e),r.Db(1),r.qc("ngIf",!!t.nzOverlay)}}function plt(t,e){1&t&&(r.Xb(0,"span",7),r.oc(1),r.Wb())}function flt(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.Oc(" ",t.nzBreadCrumbComponent.nzSeparator," ")}}function glt(t,e){if(1&t&&(r.Xb(0,"span",8),r.Kc(1,flt,2,1,"ng-container",9),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("nzStringTemplateOutlet",t.nzBreadCrumbComponent.nzSeparator)}}let mlt=(()=>{class t{constructor(t,e,n,i,r,o){this.injector=t,this.ngZone=e,this.cdr=n,this.elementRef=i,this.renderer=r,this.directionality=o,this.nzAutoGenerate=!1,this.nzSeparator="/",this.nzRouteLabel="breadcrumb",this.nzRouteLabelFn=t=>t,this.breadcrumbs=[],this.dir="ltr",this.destroy$=new xe.a,r.addClass(i.nativeElement,"ant-breadcrumb")}ngOnInit(){var t;this.nzAutoGenerate&&this.registerRouterChange(),null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t,this.prepareComponentForRtl(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.prepareComponentForRtl()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}navigate(t,e){e.preventDefault(),this.ngZone.run(()=>this.injector.get(dm.g).navigateByUrl(t).then()).then()}registerRouterChange(){try{const t=this.injector.get(dm.g),e=this.injector.get(dm.a);t.events.pipe(Object(di.a)(t=>t instanceof dm.c),An(this.destroy$),Object(Mn.a)(!0)).subscribe(()=>{this.breadcrumbs=this.getBreadcrumbs(e.root),this.cdr.markForCheck()})}catch(UI){throw new Error(`${bi} You should import RouterModule if you want to use 'NzAutoGenerate'.`)}}getBreadcrumbs(t,e="",n=[]){const i=t.children;if(0===i.length)return n;for(const r of i)if(r.outlet===dm.f){const t=r.snapshot.url.map(t=>t.path).filter(t=>t).join("/"),i=t?e+`/${t}`:e,o=this.nzRouteLabelFn(r.snapshot.data[this.nzRouteLabel]);return t&&o&&n.push({label:o,params:r.snapshot.params,url:i}),this.getBreadcrumbs(r,i,n)}return n}prepareComponentForRtl(){"rtl"===this.dir?this.renderer.addClass(this.elementRef.nativeElement,"ant-breadcrumb-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-breadcrumb-rtl")}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.s),r.Rb(r.A),r.Rb(r.h),r.Rb(r.l),r.Rb(r.F),r.Rb(bn,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-breadcrumb"]],inputs:{nzAutoGenerate:"nzAutoGenerate",nzSeparator:"nzSeparator",nzRouteLabel:"nzRouteLabel",nzRouteLabelFn:"nzRouteLabelFn"},exportAs:["nzBreadcrumb"],ngContentSelectors:llt,decls:2,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(t,e){1&t&&(r.pc(),r.oc(0),r.Kc(1,clt,2,1,"ng-container",0)),2&t&&(r.Db(1),r.qc("ngIf",e.nzAutoGenerate&&e.breadcrumbs.length))},directives:function(){return[i.n,i.m,blt]},encapsulation:2,changeDetection:0}),sr([Di(),ar("design:type",Object)],t.prototype,"nzAutoGenerate",void 0),t})(),blt=(()=>{class t{constructor(t){this.nzBreadCrumbComponent=t}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(mlt))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-breadcrumb-item"]],inputs:{nzOverlay:"nzOverlay"},exportAs:["nzBreadcrumbItem"],ngContentSelectors:llt,decls:4,vars:3,consts:[[4,"ngIf","ngIfElse"],["noMenuTpl",""],["class","ant-breadcrumb-separator",4,"ngIf"],["nz-dropdown","",1,"ant-breadcrumb-overlay-link",3,"nzDropdownMenu"],[3,"ngTemplateOutlet"],["nz-icon","","nzType","down",4,"ngIf"],["nz-icon","","nzType","down"],[1,"ant-breadcrumb-link"],[1,"ant-breadcrumb-separator"],[4,"nzStringTemplateOutlet"]],template:function(t,e){if(1&t&&(r.pc(),r.Kc(0,dlt,4,3,"ng-container",0),r.Kc(1,plt,2,0,"ng-template",null,1,r.Lc),r.Kc(3,glt,2,1,"span",2)),2&t){const t=r.Ac(2);r.qc("ngIf",!!e.nzOverlay)("ngIfElse",t),r.Db(3),r.qc("ngIf",e.nzBreadCrumbComponent.nzSeparator)}},directives:[i.n,zN,i.s,No,ei],encapsulation:2,changeDetection:0}),t})(),ylt=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[i.c,ii,Zl,eu,xN,Vo],vn]}),t})(),vlt=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,me,Ef,GL,Qp,Dd,Vo,ig]]}),t})(),_lt=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,ii]]}),t})();function wlt(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.Nc(t.nzText)}}function zlt(t,e){if(1&t&&(r.Vb(0),r.Sb(1,"span",2),r.Xb(2,"span",3),r.Kc(3,wlt,2,1,"ng-container",1),r.Wb(),r.Ub()),2&t){const t=r.jc();r.Db(1),r.Gb("ant-badge-status-dot ant-badge-status-",t.nzStatus||t.presetColor,""),r.Hc("background",!t.presetColor&&t.nzColor),r.qc("ngStyle",t.nzStyle),r.Db(2),r.qc("nzStringTemplateOutlet",t.nzText)}}function Clt(t,e){if(1&t&&r.Sb(0,"nz-badge-sup",5),2&t){const t=r.jc(2);r.qc("nzOffset",t.nzOffset)("nzTitle",t.nzTitle)("nzStyle",t.nzStyle)("nzDot",t.nzDot)("nzOverflowCount",t.nzOverflowCount)("disableAnimation",!!(t.nzStandalone||t.nzStatus||t.nzColor))("nzCount",t.nzCount)}}function Slt(t,e){if(1&t&&(r.Vb(0),r.Kc(1,Clt,1,7,"nz-badge-sup",4),r.Ub()),2&t){const t=r.jc();r.Db(1),r.qc("ngIf",t.showSup)}}const xlt=["*"];function Olt(t,e){if(1&t&&(r.Xb(0,"p",6),r.Mc(1),r.Wb()),2&t){const t=e.$implicit,n=r.jc(2).index,i=r.jc(2);r.Jb("current",t===i.countArray[n]),r.Db(1),r.Oc(" ",t," ")}}function klt(t,e){if(1&t&&(r.Vb(0),r.Kc(1,Olt,2,3,"p",5),r.Ub()),2&t){const t=r.jc(3);r.Db(1),r.qc("ngForOf",t.countSingleArray)}}function Tlt(t,e){if(1&t&&(r.Xb(0,"span",3),r.Kc(1,klt,2,1,"ng-container",4),r.Wb()),2&t){const t=e.index,n=r.jc(2);r.Hc("transform","translateY("+100*-n.countArray[t]+"%)"),r.Db(1),r.qc("ngIf",!n.nzDot&&void 0!==n.countArray[t])}}function Elt(t,e){if(1&t&&(r.Vb(0),r.Kc(1,Tlt,2,3,"span",2),r.Ub()),2&t){const t=r.jc();r.Db(1),r.qc("ngForOf",t.maxNumberArray)}}function Ilt(t,e){if(1&t&&r.Mc(0),2&t){const t=r.jc();r.Oc("",t.nzOverflowCount,"+")}}const Dlt=["pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"];let Mlt=(()=>{class t{constructor(t,e,n,i,r){this.nzConfigService=t,this.renderer=e,this.cdr=n,this.elementRef=i,this.directionality=r,this._nzModuleName="badge",this.showSup=!1,this.presetColor=null,this.dir="ltr",this.destroy$=new xe.a,this.nzShowZero=!1,this.nzShowDot=!0,this.nzStandalone=!1,this.nzDot=!1,this.nzOverflowCount=99,this.nzColor=void 0,this.nzStyle=null,this.nzText=null,this.elementRef.nativeElement.classList.add("ant-badge")}ngOnInit(){var t;null===(t=this.directionality.change)||void 0===t||t.pipe(An(this.destroy$)).subscribe(t=>{this.dir=t,this.prepareBadgeForRtl(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.prepareBadgeForRtl()}ngOnChanges(t){const{nzColor:e,nzShowDot:n,nzDot:i,nzCount:r,nzShowZero:o}=t;e&&(this.presetColor=this.nzColor&&-1!==Dlt.indexOf(this.nzColor)?this.nzColor:null),(n||i||r||o)&&(this.showSup=this.nzShowDot&&this.nzDot||this.nzCount>0||this.nzCount<=0&&this.nzShowZero)}prepareBadgeForRtl(){this.isRtlLayout?this.renderer.addClass(this.elementRef.nativeElement,"ant-badge-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-badge-rtl")}get isRtlLayout(){return"rtl"===this.dir}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Do),r.Rb(r.F),r.Rb(r.h),r.Rb(r.l),r.Rb(bn,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-badge"]],hostVars:4,hostBindings:function(t,e){2&t&&r.Jb("ant-badge-status",e.nzStatus)("ant-badge-not-a-wrapper",!!(e.nzStandalone||e.nzStatus||e.nzColor))},inputs:{nzShowZero:"nzShowZero",nzShowDot:"nzShowDot",nzStandalone:"nzStandalone",nzDot:"nzDot",nzOverflowCount:"nzOverflowCount",nzColor:"nzColor",nzStyle:"nzStyle",nzText:"nzText",nzTitle:"nzTitle",nzStatus:"nzStatus",nzCount:"nzCount",nzOffset:"nzOffset"},exportAs:["nzBadge"],features:[r.Bb],ngContentSelectors:xlt,decls:3,vars:2,consts:[[4,"ngIf"],[4,"nzStringTemplateOutlet"],[3,"ngStyle"],[1,"ant-badge-status-text"],[3,"nzOffset","nzTitle","nzStyle","nzDot","nzOverflowCount","disableAnimation","nzCount",4,"ngIf"],[3,"nzOffset","nzTitle","nzStyle","nzDot","nzOverflowCount","disableAnimation","nzCount"]],template:function(t,e){1&t&&(r.pc(),r.Kc(0,zlt,4,7,"ng-container",0),r.oc(1),r.Kc(2,Slt,2,1,"ng-container",1)),2&t&&(r.qc("ngIf",e.nzStatus||e.nzColor),r.Db(2),r.qc("nzStringTemplateOutlet",e.nzCount))},directives:function(){return[i.n,ei,i.o,Rlt]},encapsulation:2,data:{animation:[fs]},changeDetection:0}),sr([Di(),ar("design:type",Boolean)],t.prototype,"nzShowZero",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzShowDot",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzStandalone",void 0),sr([Di(),ar("design:type",Object)],t.prototype,"nzDot",void 0),sr([Mo(),ar("design:type",Number)],t.prototype,"nzOverflowCount",void 0),sr([Mo(),ar("design:type",String)],t.prototype,"nzColor",void 0),t})(),Rlt=(()=>{class t{constructor(t){this.elementRef=t,this.nzStyle=null,this.nzDot=!1,this.nzOverflowCount=99,this.disableAnimation=!1,this.maxNumberArray=[],this.countArray=[],this.count=0,this.countSingleArray=[0,1,2,3,4,5,6,7,8,9],this.elementRef.nativeElement.classList.add("ant-scroll-number")}generateMaxNumberArray(){this.maxNumberArray=this.nzOverflowCount.toString().split("")}ngOnInit(){this.generateMaxNumberArray()}ngOnChanges(t){const{nzOverflowCount:e,nzCount:n}=t;n&&"number"==typeof n.currentValue&&(this.count=Math.max(0,n.currentValue),this.countArray=this.count.toString().split("").map(t=>+t)),e&&this.generateMaxNumberArray()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-badge-sup"]],hostVars:15,hostBindings:function(t,e){2&t&&(r.Eb("title",null===e.nzTitle?"":e.nzTitle||e.nzCount),r.Jc("@.disabled",e.disableAnimation)("@zoomBadgeMotion",void 0),r.Gc(e.nzStyle),r.Hc("right",e.nzOffset&&e.nzOffset[0]?-e.nzOffset[0]:null,"px")("margin-top",e.nzOffset&&e.nzOffset[1]?e.nzOffset[1]:null,"px"),r.Jb("ant-badge-count",!e.nzDot)("ant-badge-dot",e.nzDot)("ant-badge-multiple-words",e.countArray.length>=2))},inputs:{nzStyle:"nzStyle",nzDot:"nzDot",nzOverflowCount:"nzOverflowCount",disableAnimation:"disableAnimation",nzOffset:"nzOffset",nzTitle:"nzTitle",nzCount:"nzCount"},exportAs:["nzBadgeSup"],features:[r.Bb],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["overflowTemplate",""],["class","ant-scroll-number-only",3,"transform",4,"ngFor","ngForOf"],[1,"ant-scroll-number-only"],[4,"ngIf"],["class","ant-scroll-number-only-unit",3,"current",4,"ngFor","ngForOf"],[1,"ant-scroll-number-only-unit"]],template:function(t,e){if(1&t&&(r.Kc(0,Elt,2,1,"ng-container",0),r.Kc(1,Ilt,1,1,"ng-template",null,1,r.Lc)),2&t){const t=r.Ac(2);r.qc("ngIf",e.count<=e.nzOverflowCount)("ngIfElse",t)}},directives:[i.n,i.m],encapsulation:2,data:{animation:[fs]},changeDetection:0}),t})(),Alt=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,dp,ii]]}),t})();function Plt(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc(3);r.Db(1),r.Nc(t.nzTitle)}}function Llt(t,e){if(1&t&&(r.Xb(0,"div",9),r.Kc(1,Plt,2,1,"ng-container",8),r.Wb()),2&t){const t=r.jc(2);r.Db(1),r.qc("nzStringTemplateOutlet",t.nzTitle)}}function Flt(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.Nc(t.nzContent)}}function jlt(t,e){if(1&t&&(r.Xb(0,"div",2),r.Xb(1,"div",3),r.Sb(2,"div",4),r.Xb(3,"div",5),r.Xb(4,"div"),r.Kc(5,Llt,2,1,"div",6),r.Xb(6,"div",7),r.Kc(7,Flt,2,1,"ng-container",8),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb()),2&t){const t=r.jc();r.Jb("ant-popover-rtl","rtl"===t.dir),r.qc("ngClass",t._classMap)("ngStyle",t.nzOverlayStyle)("@.disabled",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),r.Db(5),r.qc("ngIf",t.nzTitle),r.Db(2),r.qc("nzStringTemplateOutlet",t.nzContent)}}let Nlt=(()=>{class t extends cu{constructor(t,e,n,i,o){super(t,e,n,i,o),this.noAnimation=o,this.trigger="hover",this.placement="top",this.visibleChange=new r.n,this.componentFactory=this.resolver.resolveComponentFactory(Vlt)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l),r.Rb(r.R),r.Rb(r.j),r.Rb(r.F),r.Rb(Ec,9))},t.\u0275dir=r.Mb({type:t,selectors:[["","nz-popover",""]],hostVars:2,hostBindings:function(t,e){2&t&&r.Jb("ant-popover-open",e.visible)},inputs:{trigger:["nzPopoverTrigger","trigger"],placement:["nzPopoverPlacement","placement"],title:["nzPopoverTitle","title"],content:["nzPopoverContent","content"],directiveTitle:["nz-popover","directiveTitle"],origin:["nzPopoverOrigin","origin"],visible:["nzPopoverVisible","visible"],mouseEnterDelay:["nzPopoverMouseEnterDelay","mouseEnterDelay"],mouseLeaveDelay:["nzPopoverMouseLeaveDelay","mouseLeaveDelay"],overlayClassName:["nzPopoverOverlayClassName","overlayClassName"],overlayStyle:["nzPopoverOverlayStyle","overlayStyle"]},outputs:{visibleChange:"nzPopoverVisibleChange"},exportAs:["nzPopover"],features:[r.Ab]}),t})(),Vlt=(()=>{class t extends du{constructor(t,e,n){super(t,e,n),this.noAnimation=n,this._prefix="ant-popover"}isEmpty(){return uu(this.nzTitle)&&uu(this.nzContent)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h),r.Rb(bn,8),r.Rb(Ec,9))},t.\u0275cmp=r.Lb({type:t,selectors:[["nz-popover"]],exportAs:["nzPopoverComponent"],features:[r.Ab],decls:2,vars:4,consts:[["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayOpen","cdkConnectedOverlayPush","overlayOutsideClick","detach","positionChange"],["overlay","cdkConnectedOverlay"],[1,"ant-popover",3,"ngClass","ngStyle","nzNoAnimation"],[1,"ant-popover-content"],[1,"ant-popover-arrow"],["role","tooltip",1,"ant-popover-inner"],["class","ant-popover-title",4,"ngIf"],[1,"ant-popover-inner-content"],[4,"nzStringTemplateOutlet"],[1,"ant-popover-title"]],template:function(t,e){1&t&&(r.Kc(0,jlt,8,9,"ng-template",0,1,r.Lc),r.fc("overlayOutsideClick",function(t){return e.onClickOutside(t)})("detach",function(){return e.hide()})("positionChange",function(t){return e.onPositionChange(t)})),2&t&&r.qc("cdkConnectedOverlayOrigin",e.origin)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayOpen",e._visible)("cdkConnectedOverlayPush",!0)},directives:[Ql,tu,i.l,i.o,Ec,i.n,ei],encapsulation:2,data:{animation:[ps]},changeDetection:0}),t})(),Wlt=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn,i.c,Zl,ii,eu,Ic,pu]]}),t})();var qlt=function(t){return t.themeGold="themeGold",t.themeGrassGreen="themeGrassGreen",t.themeCyan="themeCyan",t.themeCyan2="themeCyan2",t.themeGray="themeGray",t}({});let Blt=(()=>{class t{constructor(){}removeUnusedTheme(t){document.documentElement.classList.remove(t);const e=document.getElementById(t);e&&document.head.removeChild(e)}loadCss(t,e){return new Promise((n,i)=>{const r=document.createElement("link");r.rel="stylesheet",r.href=t,r.id=e,r.onload=n,r.onerror=i,document.head.append(r)})}loadTheme(t){return document.documentElement.classList.add(t),new Promise((e,n)=>{this.loadCss(`${t}.css`,t).then(n=>{this.currentTheme&&this.removeUnusedTheme(this.currentTheme),this.currentTheme=t,e(n)},t=>n(t))})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Xlt(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Xb(1,"div",10),r.fc("click",function(){r.Cc(t);const n=e.$implicit;return r.jc().changeSelectedMenuItem(n.key)}),r.Sb(2,"i",11),r.Mc(3),r.Wb(),r.Ub()}if(2&t){const t=e.$implicit,n=r.jc();r.Db(1),r.qc("ngClass",n.ngClassMenuActiveJson(t.key))("hidden",t.value.hidden),r.Db(1),r.qc("nzType",t.value.icon),r.Db(1),r.Oc("",t.value.title," ")}}const Ult=function(t){return{"preferences-themes-item-active":t}},$lt=function(t){return{"background-color":t}},Hlt=function(t){return{"preferences-themes-item-color-active":t}},Klt=function(t){return{"preferences-themes-item-footer-active":t}};function Glt(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Xb(1,"div",13),r.fc("click",function(){r.Cc(t);const n=e.$implicit;return r.jc(2).onClickThemeItem(n.key)}),r.Sb(2,"div",14),r.Xb(3,"div",15),r.Mc(4),r.Wb(),r.Wb(),r.Ub()}if(2&t){const t=e.$implicit,n=r.jc(2);r.Db(1),r.qc("ngClass",r.vc(5,Ult,n.selectedOptionThemes==t.key)),r.Db(1),r.qc("ngStyle",r.vc(7,$lt,t.value.color))("ngClass",r.vc(9,Hlt,n.selectedOptionThemes==t.key)),r.Db(1),r.qc("ngClass",r.vc(11,Klt,n.selectedOptionThemes==t.key)),r.Db(1),r.Oc(" ",t.value.title," ")}}function Ylt(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"div",12),r.Kc(2,Glt,5,13,"ng-container",4),r.kc(3,"keyvalue"),r.Wb(),r.Ub()),2&t){const t=r.jc();r.Db(2),r.qc("ngForOf",r.lc(3,1,t.optionThemes))}}function Qlt(t,e){if(1&t&&r.Sb(0,"nz-option",21),2&t){const t=e.$implicit;r.qc("nzValue",t.value.id)("nzLabel",t.value.title)}}function Jlt(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Xb(1,"div",16),r.Xb(2,"div",17),r.Mc(3,"Idioma"),r.Wb(),r.Xb(4,"nz-select",18),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc().selectedOptionLanguage=e})("ngModelChange",function(e){return r.Cc(t),r.jc().swicthLanguage(e)}),r.Kc(5,Qlt,1,2,"nz-option",19),r.kc(6,"keyvalue"),r.Wb(),r.Xb(7,"div",20),r.Mc(8,"Elige el idioma en que quieres usar."),r.Wb(),r.Wb(),r.Ub()}if(2&t){const t=r.jc();r.Db(4),r.qc("ngModel",t.selectedOptionLanguage),r.Db(1),r.qc("ngForOf",r.lc(6,2,t.LanguageItemType))}}function Zlt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",22),r.fc("click",function(){return r.Cc(t),r.jc().saveChanges()}),r.Mc(1,"Confirmar cambios"),r.Wb()}if(2&t){const t=r.jc();r.qc("disabled",!t.haveChanges()||t.loadingPreferencesModal)}}function tut(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",23),r.Sb(1,"i",24),r.Xb(2,"span",25),r.Mc(3,"Advertencia"),r.Wb(),r.Xb(4,"div",26),r.Mc(5,"\xbfDesea guardar los cambios realizados?"),r.Wb(),r.Xb(6,"div",27),r.Xb(7,"button",28),r.fc("click",function(){return r.Cc(t),r.jc().saveChangesModal()}),r.Mc(8,"Guardar"),r.Wb(),r.Xb(9,"button",28),r.fc("click",function(){return r.Cc(t),r.jc().discardChanges()}),r.Mc(10,"Descartar"),r.Wb(),r.Xb(11,"button",28),r.fc("click",function(){return r.Cc(t),r.jc().cancelClosePreferences()}),r.Mc(12,"Cancelar"),r.Wb(),r.Wb(),r.Wb()}}const eut=function(){return{height:"623px"}},nut={PROFILE:1,THEME:2,LANGUAGES:3},iut={spanish:{title:"Espa\xf1ol",id:"es_ES"},english:{title:"English",id:"en_EN"},portuguese:{title:"Portugu\xeas",id:"pt_PT"}};let rut=(()=>{class t{constructor(t,e,n,i){this.authService=t,this.themeService=e,this.i18n=n,this.notificationService=i,this.isVisibleChange=new r.n,this.isVisibleConfirmCancelModal=!1,this.loadingPreferencesModal=!1,this.selectedMenuItem=this.MenuItemType.PROFILE,this.menuItems=new Map([[this.MenuItemType.PROFILE,{icon:"user",title:"Perfil",hidden:!0}],[this.MenuItemType.THEME,{icon:"format-painter",title:"Temas",hidden:!1}],[this.MenuItemType.LANGUAGES,{icon:"translation",title:"Idiomas",hidden:!1}]]),this.selectedOptionThemes=qlt.themeGrassGreen,this.optionThemes=new Map([[qlt.themeGold,{title:"Oro",color:"#bcbe6a"}],[qlt.themeGrassGreen,{title:"Verde c\xe9sped",color:"#7DB46CFF"}],[qlt.themeCyan,{title:"Cian #1",color:"#073642"}],[qlt.themeCyan2,{title:"Cian #2",color:"#073642"}],[qlt.themeGray,{title:"Gray",color:"#606060"}]]),this.selectedOptionLanguage=this.LanguageItemType.spanish.id}get MenuItemType(){return nut}get LanguageItemType(){return iut}ngOnInit(){this.selectedOptionThemes=this.themeService.currentTheme,this.previousPreferencesValue={language:this.selectedOptionLanguage,theme:this.selectedOptionThemes},this.changeUserSubscription=this.authService.changeUserEvent.subscribe(t=>{t&&(this.menuItems.get(this.MenuItemType.PROFILE).hidden=t.isAnonymous,this.selectedMenuItem=t.isAnonymous?this.MenuItemType.THEME:this.MenuItemType.PROFILE)})}ngOnChanges(t){t.isVisible&&t.isVisible.currentValue&&this.authService.user&&(this.selectedMenuItem=this.authService.user.isAnonymous?this.MenuItemType.THEME:this.MenuItemType.PROFILE)}ngOnDestroy(){this.changeUserSubscription.unsubscribe()}ngClassMenuActiveJson(t){return{"theme-primary-background":t==this.selectedMenuItem}}changeSelectedMenuItem(t){this.selectedMenuItem=t}swicthLanguage(t){switch(t){case"es_ES":this.i18n.setLocale(jd);break;case"en_US":this.i18n.setLocale(xd);break;case"pt_PT":this.i18n.setLocale(Nd)}}onClickThemeItem(t){return Object(D_.b)(this,void 0,void 0,function*(){this.loadingPreferencesModal=!0,this.selectedOptionThemes=t,yield this.themeService.loadTheme(t),this.loadingPreferencesModal=!1})}haveChanges(){return this.previousPreferencesValue.theme!=this.selectedOptionThemes||this.previousPreferencesValue.language!=this.selectedOptionLanguage}modalCancel(){this.haveChanges()?this.isVisibleConfirmCancelModal=!0:this.isVisibleChange.emit(!1)}saveChanges(){this.previousPreferencesValue.theme=this.selectedOptionThemes,this.previousPreferencesValue.language=this.selectedOptionLanguage,this.notificationService.createNotificationWithType("success","Cambios realizados","Sus cambios se han realizado satisfactoriamente.","bottomRight")}saveChangesModal(){this.loadingPreferencesModal=!0,this.isVisibleConfirmCancelModal=!1,this.loadingPreferencesModal=!0,this.saveChanges(),this.isVisibleChange.emit(!1),this.loadingPreferencesModal=!1}discardChanges(){return Object(D_.b)(this,void 0,void 0,function*(){this.loadingPreferencesModal=!0,this.isVisibleConfirmCancelModal=!1,this.selectedOptionLanguage=this.previousPreferencesValue.language,this.selectedOptionThemes=this.previousPreferencesValue.theme,yield this.themeService.loadTheme(this.selectedOptionThemes),this.isVisibleChange.emit(!1),this.loadingPreferencesModal=!1})}cancelClosePreferences(){this.isVisibleConfirmCancelModal=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(zL),r.Rb(Blt),r.Rb(Ed),r.Rb(_L))},t.\u0275cmp=r.Lb({type:t,selectors:[["preferences-modal"]],inputs:{isVisible:"isVisible"},outputs:{isVisibleChange:"isVisibleChange"},features:[r.Bb],decls:14,vars:18,consts:[["nzTitle","Preferencias","nzCentered","",3,"nzVisible","nzFooter","nzBodyStyle","nzWidth","nzMaskClosable","nzVisibleChange","nzOnCancel"],[1,"spin-center",2,"width","100%","height","100%",3,"nzSpinning"],[1,"preferences-body-container"],[1,"preferences-menu"],[4,"ngFor","ngForOf"],[1,"preferences-menu-option-body"],[4,"ngIf"],["modalFooterPreferences",""],["nzCentered","",3,"nzTitle","nzContent","nzVisible","nzFooter","nzMaskClosable","nzClosable","nzWidth"],["modalCancelConfirmContent",""],[1,"preferences-menu-item",3,"ngClass","hidden","click"],["nz-icon","","nzTheme","outline",1,"preferences-menu-item-icon",3,"nzType"],[1,"preferences-themes-container"],[1,"preferences-themes-item",3,"ngClass","click"],[1,"preferences-themes-item-color",3,"ngStyle","ngClass"],[1,"preferences-themes-item-footer",3,"ngClass"],[1,"preferences-languages-container"],[1,"preferences-languages-title"],[1,"preferences-languages-select",2,"margin-top","10px",3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[2,"margin-top","9px","color","#737373","font-weight","400","font-size","15px"],[3,"nzValue","nzLabel"],["nz-button","","nzType","primary",2,"border-radius","5px",3,"disabled","click"],[2,"height","120px"],["nz-icon","","nzType","info-circle","nzTheme","twotone","nzTwotoneColor","#faad14",2,"font-size","22px","margin-right","16px"],[2,"font-size","16px"],[2,"font-size","14px","margin","8px 0px 0px 38px"],[2,"margin-top","24px","display","grid","grid-template-columns","repeat(3, 1fr)","gap","6px","padding","0px 30px 0px 30px"],["nz-button","","nzType","default",3,"click"]],template:function(t,e){if(1&t&&(r.Xb(0,"nz-modal",0),r.fc("nzVisibleChange",function(t){return e.isVisible=t})("nzOnCancel",function(){return e.modalCancel()}),r.Xb(1,"nz-spin",1),r.Xb(2,"div",2),r.Xb(3,"div",3),r.Kc(4,Xlt,4,4,"ng-container",4),r.kc(5,"keyvalue"),r.Wb(),r.Xb(6,"div",5),r.Kc(7,Ylt,4,3,"ng-container",6),r.Kc(8,Jlt,9,4,"ng-container",6),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Kc(9,Zlt,2,1,"ng-template",null,7,r.Lc),r.Xb(11,"nz-modal",8),r.Kc(12,tut,13,0,"ng-template",null,9,r.Lc),r.Wb()),2&t){const t=r.Ac(10),n=r.Ac(13);r.qc("nzVisible",e.isVisible)("nzFooter",t)("nzBodyStyle",r.uc(17,eut))("nzWidth",800)("nzMaskClosable",!1),r.Db(1),r.qc("nzSpinning",e.loadingPreferencesModal),r.Db(3),r.qc("ngForOf",r.lc(5,15,e.menuItems)),r.Db(3),r.qc("ngIf",e.selectedMenuItem==e.MenuItemType.THEME),r.Db(1),r.qc("ngIf",e.selectedMenuItem==e.MenuItemType.LANGUAGES),r.Db(3),r.qc("nzContent",n)("nzVisible",e.isVisibleConfirmCancelModal)("nzFooter",null)("nzMaskClosable",!1)("nzClosable",!1)("nzWidth",416)}},directives:[UF,DL,i.m,i.n,vR,i.l,Rf,No,kR,i.o,Gg,bt,ie,Ug,HL,qL],pipes:[i.h],styles:[".preferences-body-container[_ngcontent-%COMP%]{display:flex;gap:10px;height:100%}.preferences-menu[_ngcontent-%COMP%]{width:198px}.preferences-menu-item[_ngcontent-%COMP%]{padding:4px 8px;cursor:pointer;border-radius:5px;font-size:16px;font-weight:550;color:#3d3d3d;margin-bottom:3px}.preferences-menu-item-icon[_ngcontent-%COMP%]{margin-right:8px}.preferences-menu-option-body[_ngcontent-%COMP%]{flex-grow:1}.preferences-themes-container[_ngcontent-%COMP%]{display:grid;-moz-column-gap:12px;column-gap:12px;row-gap:12px;grid-template-columns:repeat(3,1fr);width:100%}.preferences-themes-item[_ngcontent-%COMP%]{width:100%;cursor:pointer}.preferences-themes-item-active[_ngcontent-%COMP%]{box-shadow:0 4px 16px rgba(33,90,255,.2),0 8px 24px rgba(33,90,255,.2),0 16px 56px rgba(33,90,255,.2)}.preferences-themes-item-color[_ngcontent-%COMP%]{height:108px;width:100%;border-top-left-radius:5px;border-top-right-radius:5px}.preferences-themes-item-color-active[_ngcontent-%COMP%]{border-right:3px solid #215aff!important;border-top:3px solid #215aff!important;border-left:3px solid #215aff!important}.preferences-themes-item-footer[_ngcontent-%COMP%]{border-bottom:1px solid #a2a2a2;border-right:1px solid #a2a2a2;border-left:1px solid #a2a2a2;border-bottom-left-radius:5px;border-bottom-right-radius:5px;width:100%;padding:16px;text-align:center}.preferences-themes-item-footer-active[_ngcontent-%COMP%]{border-bottom:3px solid #215aff!important;border-right:3px solid #215aff!important;border-left:3px solid #215aff!important}.preferences-languages-title[_ngcontent-%COMP%]{font-size:15px;font-weight:700}.preferences-languages-select[_ngcontent-%COMP%]{width:100%}  .spin-center>div>.ant-spin-spinning{max-height:none!important}"]}),t})();function out(t,e){if(1&t&&(r.Xb(0,"nz-breadcrumb-item",12),r.Mc(1,"..."),r.Wb()),2&t){r.jc();const t=r.Ac(11);r.qc("nzOverlay",t)}}function sut(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-breadcrumb-item"),r.Xb(1,"a",13),r.fc("click",function(){r.Cc(t);const n=e.ngIf;return r.jc().deleteRoutes(n)}),r.Mc(2),r.Wb(),r.Wb()}if(2&t){const t=e.ngIf;r.Db(1),r.qc("routerLink",t.url)("queryParams",t.queryParams),r.Db(1),r.Nc(t.rawUrl)}}function aut(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-breadcrumb-item"),r.Xb(1,"a",13),r.fc("click",function(){r.Cc(t);const n=e.ngIf;return r.jc().deleteRoutes(n)}),r.Mc(2),r.Wb(),r.Wb()}if(2&t){const t=e.ngIf;r.Db(1),r.qc("routerLink",t.url)("queryParams",t.queryParams),r.Db(1),r.Nc(t.rawUrl)}}function cut(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-breadcrumb-item"),r.Xb(1,"a",13),r.fc("click",function(){r.Cc(t);const n=e.ngIf;return r.jc().deleteRoutes(n)}),r.Mc(2),r.Wb(),r.Wb()}if(2&t){const t=e.ngIf;r.Db(1),r.qc("routerLink",t.url)("queryParams",t.queryParams),r.Db(1),r.Nc(t.rawUrl)}}function lut(t,e){if(1&t){const t=r.Yb();r.Xb(0,"li",14),r.Xb(1,"a",13),r.fc("click",function(){r.Cc(t);const n=e.$implicit;return r.jc().deleteRoutes(n)}),r.Mc(2),r.Wb(),r.Wb()}if(2&t){const t=e.$implicit;r.Db(1),r.qc("routerLink",t.url)("queryParams",t.queryParams),r.Db(1),r.Nc(t.rawUrl)}}function uut(t,e){1&t&&r.Sb(0,"nz-avatar",15)}function hut(t,e){if(1&t){const t=r.Yb();r.Xb(0,"nz-avatar",16),r.fc("click",function(){return r.Cc(t),r.jc().changeUserPopoverState()})("nzPopoverVisibleChange",function(e){return r.Cc(t),r.jc().userPopoverVisible=e}),r.Wb()}if(2&t){const t=r.jc(),e=r.Ac(18);r.qc("nzSrc",t.auth_service.userData[0].photoURL)("nzPopoverVisible",t.userPopoverVisible)("nzPopoverContent",e)}}function dut(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc(2);r.Db(1),r.Oc(" ",t.auth_service.userData[0].displayName," ")}}function put(t,e){1&t&&(r.Vb(0),r.Mc(1," Invitado/a "),r.Ub())}function fut(t,e){if(1&t&&(r.Xb(0,"div",27),r.Xb(1,"div",28),r.Mc(2),r.Wb(),r.Wb()),2&t){const t=r.jc(2);r.Db(2),r.Oc(" ",t.auth_service.userData[0].email," ")}}function gut(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",17),r.Xb(1,"div",18),r.Sb(2,"nz-avatar",19),r.Wb(),r.Xb(3,"div",20),r.Xb(4,"div",21),r.Kc(5,dut,2,1,"ng-container",4),r.Kc(6,put,2,0,"ng-container",4),r.Wb(),r.Wb(),r.Kc(7,fut,3,1,"div",22),r.Sb(8,"div",23),r.Xb(9,"div",24),r.Xb(10,"button",25),r.fc("click",function(){return r.Cc(t),r.jc().openPreferences()}),r.Mc(11,"Preferencias"),r.Wb(),r.Xb(12,"button",26),r.fc("click",function(){return r.Cc(t),r.jc().logout()}),r.Mc(13,"Cerrar sesi\xf3n"),r.Wb(),r.Wb(),r.Wb()}if(2&t){const t=r.jc();r.Db(2),r.qc("nzSize",80)("nzSrc",t.auth_service.userData[0].photoURL),r.Db(3),r.qc("ngIf",!t.auth_service.userData[0].isAnonymous),r.Db(1),r.qc("ngIf",t.auth_service.userData[0].isAnonymous),r.Db(1),r.qc("ngIf",!t.auth_service.userData[0].isAnonymous)}}let mut=(()=>{class t{constructor(t,e,n,i){this.i18n=t,this.auth_service=e,this.route=n,this.route_path=i,this.userPopoverVisible=!1,this.isVisiblePreferencesModal=!1,this.route_path.log.subscribe(t=>{this.breadcrumb=t})}ngOnInit(){this.i18n.setLocale(jd)}switchLanguage(t){switch(t){case"es_ES":this.i18n.setLocale(jd);break;case"en_US":this.i18n.setLocale(xd);break;case"pt_PT":this.i18n.setLocale(Nd)}}deleteRoutes(t){this.route_path.goBack(t)}changeUserPopoverState(t){this.userPopoverVisible=null!=t?t:!this.userPopoverVisible}logout(){this.changeUserPopoverState(!1),this.route.navigate([""]),this.auth_service.logout()}openPreferences(){this.userPopoverVisible=!1,this.isVisiblePreferencesModal=!0}closePreferences(){this.isVisiblePreferencesModal=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Ed),r.Rb(zL),r.Rb(dm.g),r.Rb(Oat))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-top-area"]],decls:20,vars:8,consts:[["src","assets/images/LogoNEXTGENDEM_Color_cropped.png","width","50px","height","50px",2,"margin-right","10px"],[2,"color","white"],["nz-page-header-subtitle","","nzSeparator",">",1,"theme-body-background-color",2,"border-radius","5px","margin-left","10px","padding","3px","padding-left","15px","padding-right","15px"],[3,"nzOverlay",4,"ngIf"],[4,"ngIf"],["overflow","nzDropdownMenu"],["nz-menu","","nzSelectable",""],["nz-menu-item","",4,"ngFor","ngForOf"],["nzSize","large","nzIcon","user","style","cursor: pointer;",4,"ngIf"],["nzSize","large","nzIcon","user","style","cursor: pointer;","nzPopoverTrigger","null","nz-popover","","nzPopoverContent","Content","nzPopoverPlacement","bottomRight",3,"nzSrc","nzPopoverVisible","nzPopoverContent","click","nzPopoverVisibleChange",4,"ngIf"],["userPopoverTemplate",""],[3,"isVisible","isVisibleChange"],[3,"nzOverlay"],[3,"routerLink","queryParams","click"],["nz-menu-item",""],["nzSize","large","nzIcon","user",2,"cursor","pointer"],["nzSize","large","nzIcon","user","nzPopoverTrigger","null","nz-popover","","nzPopoverContent","Content","nzPopoverPlacement","bottomRight",2,"cursor","pointer",3,"nzSrc","nzPopoverVisible","nzPopoverContent","click","nzPopoverVisibleChange"],[2,"width","354px"],[2,"display","flex","justify-content","center","margin-top","10px"],["nzIcon","user",3,"nzSize","nzSrc"],[2,"display","flex","justify-content","center","margin-top","8px"],[2,"display","inline-block","font-size","16px","font-weight","500"],["style","display: flex; justify-content: center;",4,"ngIf"],[2,"background-color","#dfdfdf","width","calc(100% + 32px)","height","1px","margin-top","8px","margin-left","-16px"],[2,"display","flex","justify-content","center","margin-top","15px","padding-bottom","10px","gap","10px"],["nz-button","",3,"click"],["nz-button","","nzDanger","","nzType","primary",3,"click"],[2,"display","flex","justify-content","center"],[2,"display","inline-block","font-size","14px","font-weight","500","color","#5f6368"]],template:function(t,e){1&t&&(r.Xb(0,"nz-page-header"),r.Xb(1,"nz-page-header-title"),r.Sb(2,"img",0),r.Xb(3,"span",1),r.Mc(4,"NEXTGENDEM"),r.Wb(),r.Wb(),r.Xb(5,"nz-breadcrumb",2),r.Kc(6,out,2,1,"nz-breadcrumb-item",3),r.Kc(7,sut,3,3,"nz-breadcrumb-item",4),r.Kc(8,aut,3,3,"nz-breadcrumb-item",4),r.Kc(9,cut,3,3,"nz-breadcrumb-item",4),r.Wb(),r.Xb(10,"nz-dropdown-menu",null,5),r.Xb(12,"ul",6),r.Kc(13,lut,3,3,"li",7),r.Wb(),r.Wb(),r.Xb(14,"nz-page-header-extra"),r.Kc(15,uut,1,0,"nz-avatar",8),r.Kc(16,hut,1,3,"nz-avatar",9),r.Kc(17,gut,14,5,"ng-template",null,10,r.Lc),r.Wb(),r.Wb(),r.Xb(19,"preferences-modal",11),r.fc("isVisibleChange",function(t){return e.isVisiblePreferencesModal=t}),r.Wb()),2&t&&(r.Db(6),r.qc("ngIf",e.breadcrumb.length>3),r.Db(1),r.qc("ngIf",e.breadcrumb[e.breadcrumb.length-3]),r.Db(1),r.qc("ngIf",e.breadcrumb[e.breadcrumb.length-2]),r.Db(1),r.qc("ngIf",e.breadcrumb[e.breadcrumb.length-1]),r.Db(4),r.qc("ngForOf",e.breadcrumb.slice(0,e.breadcrumb.length-3)),r.Db(2),r.qc("ngIf",!e.auth_service.userData[0]),r.Db(1),r.qc("ngIf",e.auth_service.userData[0]),r.Db(3),r.qc("isVisible",e.isVisiblePreferencesModal))},directives:[Lj,Ij,mlt,Dj,i.n,SN,fN,i.m,Rj,rut,blt,dm.j,Rf,cN,FL,Nlt,HL,qL],styles:[".fill-space[_ngcontent-%COMP%]{flex:1 1 auto}"]}),t})();function but(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"li",9),r.Mc(2),r.Wb(),r.Ub()),2&t){const t=e.$implicit,n=r.jc();r.Db(1),r.qc("routerLink",t.value.routerLink)("nzSelected",n.isSelectedItem(t.value))("queryParams",t.value.queryParams),r.Db(1),r.Oc(" ",t.value.name," ")}}function yut(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"li",9),r.Mc(2),r.Wb(),r.Ub()),2&t){const t=e.$implicit,n=r.jc();r.Db(1),r.qc("routerLink",t.value.routerLink)("nzSelected",n.isSelectedItem(t.value))("queryParams",t.value.queryParams),r.Db(1),r.Oc(" ",t.value.name," ")}}function vut(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"li",9),r.Mc(2),r.Wb(),r.Ub()),2&t){const t=e.$implicit,n=r.jc();r.Db(1),r.qc("routerLink",t.value.routerLink)("nzSelected",n.isSelectedItem(t.value))("queryParams",t.value.queryParams),r.Db(1),r.Oc(" ",t.value.name," ")}}function _ut(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"li",9),r.Mc(2),r.Wb(),r.Ub()),2&t){const t=e.$implicit,n=r.jc();r.Db(1),r.qc("routerLink",t.value.routerLink)("nzSelected",n.isSelectedItem(t.value))("queryParams",t.value.queryParams),r.Db(1),r.Oc(" ",t.value.name," ")}}function wut(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"li",9),r.Mc(2),r.Wb(),r.Ub()),2&t){const t=e.$implicit,n=r.jc();r.Db(1),r.qc("routerLink",t.value.routerLink)("nzSelected",n.isSelectedItem(t.value))("queryParams",t.value.queryParams),r.Db(1),r.Oc(" ",t.value.name," ")}}function zut(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"li",9),r.Mc(2),r.Wb(),r.Ub()),2&t){const t=e.$implicit,n=r.jc();r.Db(1),r.qc("routerLink",t.value.routerLink)("nzSelected",n.isSelectedItem(t.value))("queryParams",t.value.queryParams),r.Db(1),r.Oc(" ",t.value.name," ")}}function Cut(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"li",9),r.Mc(2),r.Wb(),r.Ub()),2&t){const t=e.$implicit,n=r.jc();r.Db(1),r.qc("routerLink",t.value.routerLink)("nzSelected",n.isSelectedItem(t.value))("queryParams",t.value.queryParams),r.Db(1),r.Oc(" ",t.value.name," ")}}let Sut=(()=>{class t{constructor(t,e,n){this.activeRoute=t,this.router=e,this.routePathService=n,this.currentUrl="",this.openMap={sub1:!1,sub2:!1,sub3:!1,sub4:!1,sub5:!1,sub6:!1,sub7:!1},this.items={sub1:[{name:"Secuencias",routerLink:"sequencesBrowse",routes:["/sequencesBrowse","/sequencesImport","/sequenceDetail"]},{name:"Alineamientos m\xfaltiples",routerLink:"alignmentsBrowse",routes:["/alignmentsBrowse","/alignmentsImport","/alignmentDetail"]},{name:"\xc1rboles filogen\xe9ticos",routerLink:"phylotreesBrowse",routes:["/phylotreesBrowse","/phylotreesImport","/phylotreeDetail"]},{name:"Matriz discriminante",routerLink:"discriminantMatricesBrowse",routes:["/discriminantMatricesBrowse","/discriminantMatrixDetail"]},{name:"BLAST",routerLink:"blastBrowse",routes:["/blastBrowse","/blastDetail"]},{name:"Supermatrices",routerLink:"supermatricesBrowse",routes:["/supermatricesBrowse","/supermatrixDetail"]},{name:"Colecciones",routerLink:"collectionsBrowse",routes:["/collectionsBrowse"]}],sub2:[{name:"Capas",routerLink:"geolayersBrowse",routes:["/geolayersBrowse","/geolayerImport","/geolayerDetail"]},{name:"PDA",routerLink:"pdaBrowse",routes:["/pdaBrowse","/pdaImport","/pdaDetail"]},{name:"Regiones",routerLink:"georegionsBrowse",routes:["/georegionsBrowse","/georegionImport","/georegionDetail"]}],sub3:[{name:"Lanzar proceso",routerLink:"process/processSetup",routes:["/process/processSetup"]},{name:"Procesos pendientes",routerLink:"process/processesBrowse",routes:["/process/processesBrowse?status=todo"],queryParams:{status:"todo"}},{name:"Procesos completados",routerLink:"process/processesBrowse",routes:["/process/processesBrowse?status=done"],queryParams:{status:"done"}}],sub4:[{name:"Secuencias",routerLink:"jbrowseBrowse",routes:["/jbrowseBrowse"]},{name:"GIS",routerLink:"phylogeographyBrowse",routes:["/phylogeographyBrowse"]}],sub5:[{name:"Ontolog\xedas",routerLink:"ontologiesBrowse",routes:["/ontologiesBrowse","/ontologyDetail","/ontologiesImport"]},{name:"Taxonom\xedas",routerLink:"taxonomiesBrowse",routes:["/taxonomiesBrowse","/taxonomiesImport","/taxonomyDetail"]},{name:"Organismos",routerLink:"organismsBrowse",routes:["/organismsBrowse","/organismsImport","/organismDetail"]},{name:"Individuos",routerLink:"individualsBrowse",routes:["/individualsBrowse","/individualDetail"]},{name:"An\xe1lisis",routerLink:"analysesBrowse",routes:["/analysesBrowse","/analysisDetail"]},{name:"Publicaciones",routerLink:"publicationsBrowse",routes:["/publicationsBrowse"]}],sub6:[{name:"Procesos",routerLink:"processesBrowse",routes:["/processesBrowse"],queryParams:{status:""}},{name:"Tipos de proceso",routerLink:"processTypesBrowse",routes:["/processTypesBrowse"]},{name:"Recursos de c\xf3mputo",routerLink:"computeResourcesBrowse",routes:["/computeResourcesBrowse","/computeResourceDetail"]}],sub7:[{name:"Usuarios",routerLink:"identitiesBrowse",routes:["/identitiesBrowse","/identityDetail","/identityModify"]},{name:"Grupos",routerLink:"groupsBrowse",routes:["/groupsBrowse","/groupDetail","/groupModify"]},{name:"Organizaciones",routerLink:"organizationsBrowse",routes:["/organizationsBrowse","/organizationsDetail","/organizationModify"]},{name:"Roles",routerLink:"rolesBrowse",routes:["/rolesBrowse","/roleDetail","/roleModify"]},{name:"Autenticadores",routerLink:"authenticatorsBrowse",routes:["/authenticatorsBrowse"]},{name:"Tipos de permiso",routerLink:"permissionTypesBrowse",routes:["/permissionTypesBrowse"]},{name:"Funciones del sistema",routerLink:"systemFunctionsBrowse",routes:["/systemFunctionsBrowse"]},{name:"ACLs",routerLink:"aclBrowse",routes:["/aclBrowse"]}]}}openHandler(t){for(const e in this.openMap)e!==t&&(this.openMap[e]=!1)}ngOnInit(){this.router.events.subscribe(t=>{t instanceof dm.c&&(this.currentUrl=this.router.url,this.openMenuDependCurrentView())})}openMenuDependCurrentView(){const t=t=>{this.openMap[t]=!0,this.openHandler(t)};for(const e in this.items)for(const n in this.items[e])for(const i of this.items[e][n].routes)this.currentUrl.startsWith(i)&&t(e)}isSelectedItem(t){if(this.currentUrl.startsWith("/process/processDetail")){const e=this.routePathService.getPreviousPath();if(e)for(const n of t.routes)if(e.rawUrl.startsWith(n))return!0;return!1}for(const e of t.routes)if(this.currentUrl.startsWith(e))return!0;return!1}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(dm.a),r.Rb(dm.g),r.Rb(Oat))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-sidebar"]],decls:30,vars:28,consts:[["nz-menu","","nzMode","inline",2,"height","100%"],["nz-submenu","","nzTitle","Datos moleculares","nzIcon","database","nzOpen","",3,"nzOpen","nzOpenChange"],[4,"ngFor","ngForOf"],["nz-submenu","","nzTitle","Datos geogr\xe1ficos","nzIcon","database","nzOpen","",3,"nzOpen","nzOpenChange"],["nz-submenu","","nzTitle","Procesos","nzIcon","play-circle",3,"nzOpen","nzOpenChange"],["nz-submenu","","nzTitle","Visualizaci\xf3n","nzIcon","eye","nzOpen","",3,"nzOpen","nzOpenChange"],["nz-submenu","","nzTitle","Metadatos","nzIcon","cloud-server",3,"nzOpen","nzOpenChange"],["nz-submenu","","nzTitle","Admin. procesos","nzIcon","setting",3,"nzOpen","nzOpenChange"],["nz-submenu","","nzTitle","Admin. seguridad","nzIcon","lock",3,"nzOpen","nzOpenChange"],["nz-menu-item","",3,"routerLink","nzSelected","queryParams"]],template:function(t,e){1&t&&(r.Xb(0,"ul",0),r.Xb(1,"li",1),r.fc("nzOpenChange",function(t){return e.openMap.sub1=t})("nzOpenChange",function(){return e.openHandler("sub1")}),r.Xb(2,"ul"),r.Kc(3,but,3,4,"ng-container",2),r.kc(4,"keyvalue"),r.Wb(),r.Wb(),r.Xb(5,"li",3),r.fc("nzOpenChange",function(t){return e.openMap.sub2=t})("nzOpenChange",function(){return e.openHandler("sub2")}),r.Xb(6,"ul"),r.Kc(7,yut,3,4,"ng-container",2),r.kc(8,"keyvalue"),r.Wb(),r.Wb(),r.Xb(9,"li",4),r.fc("nzOpenChange",function(t){return e.openMap.sub3=t})("nzOpenChange",function(){return e.openHandler("sub3")}),r.Xb(10,"ul"),r.Kc(11,vut,3,4,"ng-container",2),r.kc(12,"keyvalue"),r.Wb(),r.Wb(),r.Xb(13,"li",5),r.fc("nzOpenChange",function(t){return e.openMap.sub4=t})("nzOpenChange",function(){return e.openHandler("sub4")}),r.Xb(14,"ul"),r.Kc(15,_ut,3,4,"ng-container",2),r.kc(16,"keyvalue"),r.Wb(),r.Wb(),r.Xb(17,"li",6),r.fc("nzOpenChange",function(t){return e.openMap.sub5=t})("nzOpenChange",function(){return e.openHandler("sub5")}),r.Xb(18,"ul"),r.Kc(19,wut,3,4,"ng-container",2),r.kc(20,"keyvalue"),r.Wb(),r.Wb(),r.Xb(21,"li",7),r.fc("nzOpenChange",function(t){return e.openMap.sub6=t})("nzOpenChange",function(){return e.openHandler("sub6")}),r.Xb(22,"ul"),r.Xb(23,"ul"),r.Kc(24,zut,3,4,"ng-container",2),r.kc(25,"keyvalue"),r.Wb(),r.Wb(),r.Wb(),r.Xb(26,"li",8),r.fc("nzOpenChange",function(t){return e.openMap.sub7=t})("nzOpenChange",function(){return e.openHandler("sub7")}),r.Xb(27,"ul"),r.Kc(28,Cut,3,4,"ng-container",2),r.kc(29,"keyvalue"),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.Db(1),r.qc("nzOpen",e.openMap.sub1),r.Db(2),r.qc("ngForOf",r.lc(4,14,e.items.sub1)),r.Db(2),r.qc("nzOpen",e.openMap.sub2),r.Db(2),r.qc("ngForOf",r.lc(8,16,e.items.sub2)),r.Db(2),r.qc("nzOpen",e.openMap.sub3),r.Db(2),r.qc("ngForOf",r.lc(12,18,e.items.sub3)),r.Db(2),r.qc("nzOpen",e.openMap.sub4),r.Db(2),r.qc("ngForOf",r.lc(16,20,e.items.sub4)),r.Db(2),r.qc("nzOpen",e.openMap.sub5),r.Db(2),r.qc("ngForOf",r.lc(20,22,e.items.sub5)),r.Db(2),r.qc("nzOpen",e.openMap.sub6),r.Db(3),r.qc("ngForOf",r.lc(25,24,e.items.sub6)),r.Db(2),r.qc("nzOpen",e.openMap.sub7),r.Db(2),r.qc("ngForOf",r.lc(29,26,e.items.sub7)))},directives:[fN,Rf,hN,i.m,cN,dm.h],pipes:[i.h],styles:[""]}),t})();function xut(t,e){if(1&t&&(r.Xb(0,"tr"),r.Xb(1,"td"),r.Mc(2),r.Wb(),r.Xb(3,"td"),r.Mc(4),r.Wb(),r.Xb(5,"td"),r.Mc(6),r.Wb(),r.Wb()),2&t){const t=e.$implicit;r.Db(2),r.Nc(t.type),r.Db(2),r.Nc(t.message),r.Db(2),r.Nc(t.view)}}let Out=(()=>{class t{constructor(t){this.messages=t,this.showFilter=!1}ngOnInit(){}showDrawer(){this.showFilter=!0,this.messages.alreadySeen()}closeDrawer(){this.showFilter=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(YP))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-message-grid"]],decls:20,vars:6,consts:[["nz-button","",2,"width","100%",3,"click"],["nz-icon","","nzType","up","nzTheme","outline"],[2,"margin","0 10% 10%"],["nzStyle","background-color: olive;",3,"nzCount"],[2,"padding-right","15px"],["nzPlacement","bottom","nzHeight","65vh",3,"nzClosable","nzVisible","nzOnClose"],[3,"nzData","nzFrontPagination"],["basicTable",""],[4,"ngFor","ngForOf"]],template:function(t,e){if(1&t&&(r.Xb(0,"button",0),r.fc("click",function(){return e.showDrawer()}),r.Sb(1,"i",1),r.Xb(2,"span",2),r.Xb(3,"nz-badge",3),r.Xb(4,"span",4),r.Mc(5,"Registro"),r.Wb(),r.Wb(),r.Wb(),r.Sb(6,"i",1),r.Wb(),r.Xb(7,"nz-drawer",5),r.fc("nzOnClose",function(){return e.closeDrawer()}),r.Xb(8,"nz-table",6,7),r.Xb(10,"thead"),r.Xb(11,"tr"),r.Xb(12,"th"),r.Mc(13,"Tipo"),r.Wb(),r.Xb(14,"th"),r.Mc(15,"Mensaje"),r.Wb(),r.Xb(16,"th"),r.Mc(17,"Vista"),r.Wb(),r.Wb(),r.Wb(),r.Xb(18,"tbody"),r.Kc(19,xut,7,3,"tr",8),r.Wb(),r.Wb(),r.Wb()),2&t){const t=r.Ac(9);r.Db(3),r.qc("nzCount",e.messages.notSeen),r.Db(4),r.qc("nzClosable",!1)("nzVisible",e.showFilter),r.Db(1),r.qc("nzData",e.messages.messages)("nzFrontPagination",!1),r.Db(11),r.qc("ngForOf",t.data.slice().reverse())}},directives:[HL,qL,Rf,No,Mlt,EK,XW,HW,$W,MW,PW,UW,i.m],styles:[""]}),t})(),kut=(()=>{class t{constructor(t,e){this.fb=t,this.authService=e,this.desactiveRegister=new r.n,this.loading=!1}ngOnInit(){this.registerFormGroup=this.fb.group({email:[null,this.emailValidator],password:[null,this.passwordValidator]})}emailValidator(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t.value).toLowerCase())?{}:{invalidEmail:!0}}passwordValidator(t){return t.value&&""!=t.value?{}:{invalidPassword:!0}}submitRegister(){return Object(D_.b)(this,void 0,void 0,function*(){for(const t in this.registerFormGroup.controls)this.registerFormGroup.controls[t].markAsDirty(),this.registerFormGroup.controls[t].updateValueAndValidity();this.registerFormGroup.valid&&(this.loading=!0,yield this.authService.createUserWithEmailAndPassword(this.registerFormGroup.get("email").value,this.registerFormGroup.get("password").value),this.loading=!1)})}onClickLinkLogin(){this.desactiveRegister.emit()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(ge),r.Rb(zL))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-registration"]],outputs:{desactiveRegister:"desactiveRegister"},decls:23,vars:4,consts:[[3,"nzSpinning"],[2,"padding","0px 30px 40px 30px"],[2,"display","flex","justify-content","center","margin-top","10px"],["nzIcon","user",3,"nzSize"],["nz-form","","nzLayout","vertical",2,"margin-top","15px",3,"formGroup","keydown.enter"],["type","text","nz-input","","formControlName","email","placeholder","Email"],["type","password","nz-input","","formControlName","password","placeholder","Contrase\xf1a"],[2,"margin-top","-20px","color","#717171"],[1,"link-login",3,"click"],["nz-button","","nzType","primary",2,"width","100%","margin-top","15px",3,"disabled"]],template:function(t,e){1&t&&(r.Xb(0,"nz-spin",0),r.Xb(1,"div",1),r.Xb(2,"div",2),r.Sb(3,"nz-avatar",3),r.Wb(),r.Xb(4,"form",4),r.fc("keydown.enter",function(){return e.submitRegister()}),r.Xb(5,"nz-form-item"),r.Xb(6,"nz-form-label"),r.Mc(7,"Email"),r.Wb(),r.Xb(8,"nz-form-control"),r.Xb(9,"nz-input-group"),r.Sb(10,"input",5),r.Wb(),r.Wb(),r.Wb(),r.Xb(11,"nz-form-item"),r.Xb(12,"nz-form-label"),r.Mc(13,"Contrase\xf1a"),r.Wb(),r.Xb(14,"nz-form-control"),r.Xb(15,"nz-input-group"),r.Sb(16,"input",6),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(17,"div",7),r.Mc(18,"\xbfYa tienes cuenta? "),r.Xb(19,"a",8),r.fc("click",function(){return e.onClickLinkLogin()}),r.Mc(20,"Accede a ella."),r.Wb(),r.Wb(),r.Xb(21,"button",9),r.Mc(22,"Registrarse"),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.qc("nzSpinning",e.loading),r.Db(3),r.qc("nzSize",120),r.Db(1),r.qc("formGroup",e.registerFormGroup),r.Db(17),r.qc("disabled",!e.registerFormGroup.valid))},directives:[DL,FL,re,yt,Qd,le,nr,Jd,ir,np,tp,Rf,Gp,Hp,G,bt,he,HL,qL],styles:[".link-login[_ngcontent-%COMP%]{color:#0067b8}.link-login[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),t})();function Tut(t,e){1&t&&(r.Xb(0,"nz-content",13),r.Sb(1,"nz-spin",14),r.Wb())}function Eut(t,e){1&t&&(r.Xb(0,"nz-content",15),r.Sb(1,"router-outlet"),r.Wb())}function Iut(t,e){if(1&t&&r.Mc(0),2&t){const t=r.jc();r.Oc(" ",t.isActiveRegister?"Registrarse":"Iniciar sesi\xf3n"," ")}}function Dut(t,e){if(1&t&&(r.Xb(0,"button",16),r.Mc(1,"Iniciar sesi\xf3n"),r.Wb()),2&t){const t=r.jc();r.qc("disabled",!t.validateLogin)}}function Mut(t,e){if(1&t){const t=r.Yb();r.Xb(0,"app-login",17),r.fc("validityChange",function(e){return r.Cc(t),r.jc().validateLogin=e})("activeRegister",function(){return r.Cc(t),r.jc().isActiveRegister=!0}),r.Wb()}}function Rut(t,e){if(1&t){const t=r.Yb();r.Xb(0,"app-registration",18),r.fc("desactiveRegister",function(){return r.Cc(t),r.jc().isActiveRegister=!1}),r.Wb()}}let Aut=(()=>{class t{constructor(t,e,n,i){this.auth=t,this.router=e,this.activatedRoute=n,this.themeService=i,this.title="bcs-gui",this.loading=!0,this.validateLogin=!1,this.isActiveRegister=!1,this.titleModal="Iniciar sesi\xf3n",this.router.events.subscribe(t=>{t instanceof dm.e&&(this.loading=!0),(t instanceof dm.c||t instanceof dm.b||t instanceof dm.d)&&(this.loading=!1)})}validateLoginChange(t){console.log(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(zL),r.Rb(dm.g),r.Rb(dm.a),r.Rb(Blt))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-root"]],decls:17,vars:8,consts:[["fxFlexFill","","fxLayout","column","fxLayoutAlign","space-around stretch"],[2,"height","max-content"],["fxFlex",""],["nzWidth","20","nzTheme","light"],["fxFlexFill",""],["style","margin: auto;","class","loading_spinner",4,"ngIf"],["style","padding: 24px; overflow: auto;",4,"ngIf"],[2,"position","fixed","bottom","0","margin","0","padding","0","width","100vw"],["nzCentered","",3,"nzVisible","nzTitle","nzClosable","nzFooter"],["modalTitle",""],["modalFooter",""],[3,"validityChange","activeRegister",4,"ngIf"],[3,"desactiveRegister",4,"ngIf"],[1,"loading_spinner",2,"margin","auto"],["nzTip","Loading..."],[2,"padding","24px","overflow","auto"],["nz-button","","nzType","primary",3,"disabled"],[3,"validityChange","activeRegister"],[3,"desactiveRegister"]],template:function(t,e){if(1&t&&(r.Xb(0,"nz-layout",0),r.Xb(1,"nz-header",1),r.Sb(2,"app-top-area"),r.Wb(),r.Xb(3,"nz-layout",2),r.Xb(4,"nz-sider",3),r.Sb(5,"app-sidebar",4),r.Wb(),r.Kc(6,Tut,2,0,"nz-content",5),r.Kc(7,Eut,2,0,"nz-content",6),r.Wb(),r.Xb(8,"nz-footer",7),r.Sb(9,"app-message-grid"),r.Wb(),r.Wb(),r.Xb(10,"nz-modal",8),r.Kc(11,Iut,1,1,"ng-template",null,9,r.Lc),r.Kc(13,Dut,2,1,"ng-template",null,10,r.Lc),r.Kc(15,Mut,1,0,"app-login",11),r.Kc(16,Rut,1,0,"app-registration",12),r.Wb()),2&t){const t=r.Ac(12);r.Db(6),r.qc("ngIf",e.loading),r.Db(1),r.qc("ngIf",!e.loading&&e.auth.isAuthenticated),r.Db(3),r.qc("nzVisible",!e.loading&&!e.auth.isAuthenticated)("nzTitle",t)("nzClosable",!1)("nzFooter",null),r.Db(5),r.qc("ngIf",!e.isActiveRegister),r.Db(1),r.qc("ngIf",e.isActiveRegister)}},directives:[rlt,eA,NR,aA,nlt,mut,$R,ilt,Sut,i.n,elt,Out,UF,tlt,DL,dm.l,HL,qL,Rf,eF,kut],styles:["",".ant-table.ant-table-bordered>.ant-table-container>.ant-table-body>table>tbody>tr>td,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-body>table>tfoot>tr>t  d,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-body>table>tfoot>tr>th,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-body>table>thead>tr>th,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-content>table>tbody>tr>td,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-content>table>tfoot>tr>td,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-content>table>tfoot>tr>th,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-content>table>thead>tr>th,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-header>table>tbody>tr>td,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-header>table>tfoot>tr>td,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-header>table>tfoot>tr>th{border-right:1px solid #cbcbcb!important}  .ant-table.ant-table-bordered>.ant-table-container>.ant-table-body>table>tbody>tr>td:last-child{border-right:none!important}  .ant-table-thead>tr>th,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-body>table>thead>tr:not(:last-child)>th,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-content>table>thead>tr:not(:last-child)>th,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-header>table>thead>tr:not(:last-child)>th{border-bottom:none!important}  .ant-table.ant-table-bordered>.ant-table-container>.ant-table-body>table>tbody>tr>.ant-table-cell-fix-right-first:after,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-body>table>tfoot>tr>.ant-table-cell-fix-right-first:after,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-body>table>thead>tr>.ant-table-cell-fix-right-first:after,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-content>table>tbody>tr>.ant-table-cell-fix-right-first:after,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-content>table>tfoot>tr>.ant-table-cell-fix-right-first:after,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-content>table>thead>tr>.ant-table-cell-fix-right-first:after,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-header>table>tfoot>tr>.ant-table-cell-fix-right-first:after,   .ant-table.ant-table-bordered>.ant-table-container>.ant-table-header>table>thead>tr>.ant-table-cell-fix-right-first:after{border-right:none}  .ant-table-thead>tr>th{border-right:none!important}  .ant-table-tbody>.ant-table-row:nth-of-type(odd)>.ant-table-cell{background-color:#fff!important}  .ant-table-tbody>.ant-table-row:nth-of-type(2n)>.ant-table-cell{background-color:#f0f0f0!important}  .ant-table-tbody>.ant-table-row:hover>.ant-table-cell{background-color:#e0e0e0!important}  .ant-table-cell>.ant-list-item-action>li>.ant-list-item-action-split{background-color:rgba(0,0,0,.25)}  .ant-modal-content{border-radius:5px}  .ant-modal-close-x:hover{color:red}  .ant-modal-title{font-weight:700;font-size:17px}  .ant-modal-header{border-bottom:1px solid #d8d8d8;border-top-left-radius:5px;border-top-right-radius:5px}"]}),t})();function Put(t,e){1&t&&r.Sb(0,"i",7)}function Lut(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div"),r.Xb(1,"nz-input-group",3),r.Xb(2,"input",4),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc().searchValue=e}),r.Wb(),r.Wb(),r.Kc(3,Put,1,0,"ng-template",null,5,r.Lc),r.Xb(5,"nz-tree",6),r.fc("nzClick",function(e){return r.Cc(t),r.jc().nzEvent(e)})("nzExpandChange",function(e){return r.Cc(t),r.jc().nzEvent(e)})("nzSearchValueChange",function(e){return r.Cc(t),r.jc().nzEvent(e)}),r.Wb(),r.Wb()}if(2&t){const t=r.Ac(4),e=r.jc();r.Db(1),r.qc("nzSuffix",t),r.Db(1),r.qc("ngModel",e.searchValue),r.Db(3),r.qc("nzData",e.tree)("nzSearchValue",e.searchValue)}}let Fut=(()=>{class t extends Je{constructor(t){super(),this.backendService=t,this.searchValue="",this.tree=[],this.fileList=[],this.loading=!0,this.step=0,this.expandFiles=!1,this.selectedProcess={},this.selectedResource={},this.selectedPriority="Media",this.model={},this.jobContext={},this.form=new Yt({}),this.options={},this.beforeUpload=t=>(this.fileList=this.fileList.concat(t),!1),this.removeFile=t=>{for(let e=0;e<this.fileList.length;e++)t.uid==this.fileList[e].uid&&this.fileList.splice(e,1)}}ngOnInit(){let t=[],e={filter:{name:{op:"eq",unary:"taxonomy"}}};this.backendService.getOntologies(void 0,e).subscribe(t=>{e=t.content},t=>{this.loading=!1},()=>{this.backendService.getCvterms(e[0].cv_id).subscribe(e=>{t=e.content},t=>{this.loading=!1},()=>{this.tree=this.item2nztree(t)})})}onIndexChange(t){this.step=t}onExpandChange(t){this.expandFiles=t}cvterm2nztree(t){let e=[],n={};for(const i of t)n={title:i.name,key:i.cvterm_id,children:[]},e.push(n);return e}item2nztree(t){let e=[],n={};for(const i of t)n={title:JSON.stringify(i),key:i.id,children:[]},e.push(n);return e}nzEvent(t){if(console.log(t),"expand"===t.eventName){const e=t.node;0===(null==e?void 0:e.getChildren().length)&&(null==e?void 0:e.isExpanded)&&this.loadNode(e).then(t=>{e.addChildren(t)})}}loadNode(t){return new Promise(e=>{let n;console.log(t),this.backendService.getSequences(void 0,this.backendService.filter({organism_id:t.key})).subscribe(t=>{n=t.content},t=>{},()=>{e(this.item2nztree(n))})})}importFiles(){this.loading=!0;for(const t of this.fileList);this.backendService.importSequences(this.fileList).subscribe(t=>{},t=>{this.loading=!1},()=>{this.loading=!1,this.fileList=[]})}handleChange({file:t,fileList:e}){const n=t.status;"uploading"!==n&&console.log(t,e),"done"===n&&(this.fileList=e)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-wooded-selector"]],inputs:{fields:"fields"},features:[r.Ab],decls:3,vars:2,consts:[[4,"ngIf"],["nz-row","","nzJustify","center",3,"hidden"],["nzSimple",""],[3,"nzSuffix"],["name","search","type","text","nz-input","","placeholder","Search",3,"ngModel","ngModelChange"],["suffixIcon",""],["nzCheckable","","nzAsyncData","","nzVirtualHeight","300px","nzHideUnMatched","true",3,"nzData","nzSearchValue","nzClick","nzExpandChange","nzSearchValueChange"],["nz-icon","","nzType","search"]],template:function(t,e){1&t&&(r.Kc(0,Lut,6,4,"div",0),r.Xb(1,"div",1),r.Sb(2,"nz-spin",2),r.Wb()),2&t&&(r.qc("ngIf",!e.loading),r.Db(1),r.qc("hidden",!e.loading))},directives:[i.n,nr,DL,Rf,Gp,Kp,Hp,G,bt,ie,w9,No],styles:[""]}),t})();function jut(t,e){1&t&&r.oc(0)}const Nut=["*"];let Vut=(()=>{class t{constructor(t){this._elementRef=t}focus(){this._elementRef.nativeElement.focus()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.l))},t.\u0275dir=r.Mb({type:t,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]}),t})(),Wut=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.M))},t.\u0275dir=r.Mb({type:t,selectors:[["","cdkStepLabel",""]]}),t})(),qut=0;const But=new r.r("STEPPER_GLOBAL_OPTIONS");let Xut=(()=>{class t{constructor(t,e){this._stepper=t,this.interacted=!1,this._editable=!0,this._optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=e||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType,this._showError=!!this._stepperOptions.showError}get editable(){return this._editable}set editable(t){this._editable=_n(t)}get optional(){return this._optional}set optional(t){this._optional=_n(t)}get completed(){return null==this._completedOverride?this._getDefaultCompleted():this._completedOverride}set completed(t){this._completedOverride=_n(t)}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return null==this._customError?this._getDefaultError():this._customError}set hasError(t){this._customError=_n(t)}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Object(r.W)(()=>Uut)),r.Rb(But,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["cdk-step"]],contentQueries:function(t,e,n){if(1&t&&r.Kb(n,Wut,1),2&t){let t;r.zc(t=r.gc())&&(e.stepLabel=t.first)}},viewQuery:function(t,e){if(1&t&&r.Qc(r.M,3),2&t){let t;r.zc(t=r.gc())&&(e.content=t.first)}},inputs:{editable:"editable",optional:"optional",completed:"completed",hasError:"hasError",stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],state:"state"},exportAs:["cdkStep"],features:[r.Bb],ngContentSelectors:Nut,decls:1,vars:0,template:function(t,e){1&t&&(r.pc(),r.Kc(0,jut,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),t})(),Uut=(()=>{class t{constructor(t,e,n,i){this._dir=t,this._changeDetectorRef=e,this._elementRef=n,this._destroyed=new xe.a,this.steps=new r.E,this._linear=!1,this._selectedIndex=0,this.selectionChange=new r.n,this._orientation="horizontal",this._groupId=qut++,this._document=i}get linear(){return this._linear}set linear(t){this._linear=_n(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){const e=wn(t);this.steps&&this._steps?(this._isValidIndex(t),this._selectedIndex!==e&&!this._anyControlsInvalidOrPending(e)&&(e>=this._selectedIndex||this.steps.toArray()[e].editable)&&this._updateSelectedItemIndex(t)):this._selectedIndex=e}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(t){this.selectedIndex=this.steps?this.steps.toArray().indexOf(t):-1}ngAfterContentInit(){this._steps.changes.pipe(Object(Mn.a)(this._steps),An(this._destroyed)).subscribe(t=>{this.steps.reset(t.filter(t=>t._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._keyManager=new pp(this._stepHeader).withWrap().withHomeAndEnd().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:Object(wi.a)()).pipe(Object(Mn.a)(this._layoutDirection()),An(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this.steps.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(t=>t.reset()),this._stateChanged()}_getStepLabelId(t){return`cdk-step-label-${this._groupId}-${t}`}_getStepContentId(t){return`cdk-step-content-${this._groupId}-${t}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(t){const e=t-this._selectedIndex;return e<0?"rtl"===this._layoutDirection()?"next":"previous":e>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(t,e="number"){const n=this.steps.toArray()[t],i=this._isCurrentStep(t);return n._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(n,i):this._getGuidelineLogic(n,i,e)}_getDefaultIndicatorLogic(t,e){return t._showError&&t.hasError&&!e?"error":!t.completed||e?"number":t.editable?"edit":"done"}_getGuidelineLogic(t,e,n="number"){return t._showError&&t.hasError&&!e?"error":t.completed&&!e?"done":t.completed&&e?n:t.editable&&e?"edit":n}_isCurrentStep(t){return this._selectedIndex===t}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(t){const e=this.steps.toArray();this.selectionChange.emit({selectedIndex:t,previouslySelectedIndex:this._selectedIndex,selectedStep:e[t],previouslySelectedStep:e[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(t):this._keyManager.updateActiveItem(t),this._selectedIndex=t,this._stateChanged()}_onKeydown(t){const e=_l(t),n=t.keyCode,i=this._keyManager;null==i.activeItemIndex||e||32!==n&&13!==n?i.onKeydown(t):(this.selectedIndex=i.activeItemIndex,t.preventDefault())}_anyControlsInvalidOrPending(t){const e=this.steps.toArray();return e[this._selectedIndex].interacted=!0,!!(this._linear&&t>=0)&&e.slice(0,t).some(t=>{const e=t.stepControl;return(e?e.invalid||e.pending||!t.interacted:!t.completed)&&!t.optional&&!t._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){if(!this._document||!this._elementRef)return!1;const t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}_isValidIndex(t){return t>-1&&(!this.steps||t<this.steps.length)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(bn,8),r.Rb(r.h),r.Rb(r.l),r.Rb(i.d))},t.\u0275dir=r.Mb({type:t,selectors:[["","cdkStepper",""]],contentQueries:function(t,e,n){if(1&t&&(r.Kb(n,Xut,1),r.Kb(n,Vut,1)),2&t){let t;r.zc(t=r.gc())&&(e._steps=t),r.zc(t=r.gc())&&(e._stepHeader=t)}},inputs:{linear:"linear",selectedIndex:"selectedIndex",selected:"selected"},outputs:{selectionChange:"selectionChange"},exportAs:["cdkStepper"]}),t})(),$ut=(()=>{class t{constructor(t){this._stepper=t,this.type="submit"}_handleClick(){this._stepper.next()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Uut))},t.\u0275dir=r.Mb({type:t,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(t,e){1&t&&r.fc("click",function(){return e._handleClick()}),2&t&&r.ac("type",e.type)},inputs:{type:"type"}}),t})(),Hut=(()=>{class t{constructor(t){this._stepper=t,this.type="button"}_handleClick(){this._stepper.previous()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Uut))},t.\u0275dir=r.Mb({type:t,selectors:[["button","cdkStepperPrevious",""]],hostVars:1,hostBindings:function(t,e){1&t&&r.fc("click",function(){return e._handleClick()}),2&t&&r.ac("type",e.type)},inputs:{type:"type"}}),t})(),Kut=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[vn]]}),t})();function Gut(t,e){if(1&t&&r.Tb(0,8),2&t){const t=r.jc();r.qc("ngTemplateOutlet",t.iconOverrides[t.state])("ngTemplateOutletContext",t._getIconContext())}}function Yut(t,e){if(1&t&&(r.Xb(0,"span"),r.Mc(1),r.Wb()),2&t){const t=r.jc(2);r.Db(1),r.Nc(t._getDefaultTextForState(t.state))}}function Qut(t,e){if(1&t&&(r.Xb(0,"mat-icon"),r.Mc(1),r.Wb()),2&t){const t=r.jc(2);r.Db(1),r.Nc(t._getDefaultTextForState(t.state))}}function Jut(t,e){if(1&t&&(r.Vb(0,9),r.Kc(1,Yut,2,1,"span",10),r.Kc(2,Qut,2,1,"mat-icon",11),r.Ub()),2&t){const t=r.jc();r.qc("ngSwitch",t.state),r.Db(1),r.qc("ngSwitchCase","number")}}function Zut(t,e){if(1&t&&(r.Xb(0,"div",12),r.Tb(1,13),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("ngTemplateOutlet",t._templateLabel().template)}}function tht(t,e){if(1&t&&(r.Xb(0,"div",12),r.Mc(1),r.Wb()),2&t){const t=r.jc();r.Db(1),r.Nc(t.label)}}function eht(t,e){if(1&t&&(r.Xb(0,"div",14),r.Mc(1),r.Wb()),2&t){const t=r.jc();r.Db(1),r.Nc(t._intl.optionalLabel)}}function nht(t,e){if(1&t&&(r.Xb(0,"div",15),r.Mc(1),r.Wb()),2&t){const t=r.jc();r.Db(1),r.Nc(t.errorMessage)}}function iht(t,e){1&t&&r.oc(0)}const rht=["*"];function oht(t,e){1&t&&r.Sb(0,"div",6)}function sht(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Xb(1,"mat-step-header",4),r.fc("click",function(){return e.$implicit.select()})("keydown",function(e){return r.Cc(t),r.jc()._onKeydown(e)}),r.Wb(),r.Kc(2,oht,1,0,"div",5),r.Ub()}if(2&t){const t=e.$implicit,n=e.index,i=e.last,o=r.jc();r.Db(1),r.qc("tabIndex",o._getFocusIndex()===n?0:-1)("id",o._getStepLabelId(n))("index",n)("state",o._getIndicatorType(n,t.state))("label",t.stepLabel||t.label)("selected",o.selectedIndex===n)("active",t.completed||o.selectedIndex===n||!o.linear)("optional",t.optional)("errorMessage",t.errorMessage)("iconOverrides",o._iconOverrides)("disableRipple",o.disableRipple)("color",t.color||o.color),r.Eb("aria-posinset",n+1)("aria-setsize",o.steps.length)("aria-controls",o._getStepContentId(n))("aria-selected",o.selectedIndex==n)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),r.Db(1),r.qc("ngIf",!i)}}function aht(t,e){if(1&t){const t=r.Yb();r.Xb(0,"div",7),r.fc("@stepTransition.done",function(e){return r.Cc(t),r.jc()._animationDone.next(e)}),r.Tb(1,8),r.Wb()}if(2&t){const t=e.$implicit,n=e.index,i=r.jc();r.qc("@stepTransition",i._getAnimationDirection(n))("id",i._getStepContentId(n)),r.Eb("aria-labelledby",i._getStepLabelId(n))("aria-expanded",i.selectedIndex===n),r.Db(1),r.qc("ngTemplateOutlet",t.content)}}let cht=(()=>{class t extends Wut{}return t.\u0275fac=function(e){return lht(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["","matStepLabel",""]],features:[r.Ab]}),t})();const lht=r.Zb(cht);let uht=(()=>{class t{constructor(){this.changes=new xe.a,this.optionalLabel="Optional"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Nb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const hht={provide:uht,deps:[[new r.B,new r.K,uht]],useFactory:function(t){return t||new uht}};class dht extends Vut{constructor(t){super(t)}}const pht=mD(dht,"primary");let fht=(()=>{class t extends pht{constructor(t,e,n,i){super(n),this._intl=t,this._focusMonitor=e,this._intlSubscription=t.changes.subscribe(()=>i.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._elementRef,t,e):this._elementRef.nativeElement.focus(e)}_stringLabel(){return this.label instanceof cht?null:this.label}_templateLabel(){return this.label instanceof cht?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(t){return"number"==t?`${this.index+1}`:"edit"==t?"create":"error"==t?"warning":t}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(uht),r.Rb(xp),r.Rb(r.l),r.Rb(r.h))},t.\u0275cmp=r.Lb({type:t,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header","mat-focus-indicator"],inputs:{color:"color",state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple"},features:[r.Ab],decls:10,vars:19,consts:[["matRipple","",1,"mat-step-header-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content",3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"ngSwitch",4,"ngSwitchDefault"],[1,"mat-step-label"],["class","mat-step-text-label",4,"ngIf"],["class","mat-step-optional",4,"ngIf"],["class","mat-step-sub-label-error",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"mat-step-text-label"],[3,"ngTemplateOutlet"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"]],template:function(t,e){1&t&&(r.Sb(0,"div",0),r.Xb(1,"div"),r.Xb(2,"div",1),r.Kc(3,Gut,1,2,"ng-container",2),r.Kc(4,Jut,3,2,"ng-container",3),r.Wb(),r.Wb(),r.Xb(5,"div",4),r.Kc(6,Zut,2,1,"div",5),r.Kc(7,tht,2,1,"div",5),r.Kc(8,eht,2,1,"div",6),r.Kc(9,nht,2,1,"div",7),r.Wb()),2&t&&(r.qc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disableRipple),r.Db(1),r.Gb("mat-step-icon-state-",e.state," mat-step-icon"),r.Jb("mat-step-icon-selected",e.selected),r.Db(1),r.qc("ngSwitch",!(!e.iconOverrides||!e.iconOverrides[e.state])),r.Db(1),r.qc("ngSwitchCase",!0),r.Db(2),r.Jb("mat-step-label-active",e.active)("mat-step-label-selected",e.selected)("mat-step-label-error","error"==e.state),r.Db(1),r.qc("ngIf",e._templateLabel()),r.Db(1),r.qc("ngIf",e._stringLabel()),r.Db(1),r.qc("ngIf",e.optional&&"error"!=e.state),r.Db(1),r.qc("ngIf","error"==e.state))},directives:[OD,i.p,i.q,i.r,i.n,i.s,TM],styles:[".mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:transparent}.mat-step-optional,.mat-step-sub-label-error{font-size:12px}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative}.mat-step-icon-content,.mat-step-icon .mat-icon{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),t})();const ght={horizontalStepTransition:qo("stepTransition",[$o("previous",Uo({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),$o("current",Uo({transform:"none",visibility:"visible"})),$o("next",Uo({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),Ko("* => *",Bo("500ms cubic-bezier(0.35, 0, 0.25, 1)"))]),verticalStepTransition:qo("stepTransition",[$o("previous",Uo({height:"0px",visibility:"hidden"})),$o("next",Uo({height:"0px",visibility:"hidden"})),$o("current",Uo({height:"*",visibility:"visible"})),Ko("* <=> current",Bo("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])};let mht=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.M))},t.\u0275dir=r.Mb({type:t,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:["matStepperIcon","name"]}}),t})(),bht=(()=>{class t extends Xut{constructor(t,e,n){super(t,n),this._errorStateMatcher=e}isErrorState(t,e){return this._errorStateMatcher.isErrorState(t,e)||!!(t&&t.invalid&&this.interacted)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(Object(r.W)(()=>yht)),r.Rb(yD,4),r.Rb(But,8))},t.\u0275cmp=r.Lb({type:t,selectors:[["mat-step"]],contentQueries:function(t,e,n){if(1&t&&r.Kb(n,cht,1),2&t){let t;r.zc(t=r.gc())&&(e.stepLabel=t.first)}},inputs:{color:"color"},exportAs:["matStep"],features:[r.Cb([{provide:yD,useExisting:t},{provide:Xut,useExisting:t}]),r.Ab],ngContentSelectors:rht,decls:1,vars:0,template:function(t,e){1&t&&(r.pc(),r.Kc(0,iht,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),t})(),yht=(()=>{class t extends Uut{constructor(){super(...arguments),this.steps=new r.E,this.animationDone=new r.n,this._iconOverrides={},this._animationDone=new xe.a}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:t,templateRef:e})=>this._iconOverrides[t]=e),this.steps.changes.pipe(An(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe(pi((t,e)=>t.fromState===e.fromState&&t.toState===e.toState),An(this._destroyed)).subscribe(t=>{"current"===t.toState&&this.animationDone.emit()})}}return t.\u0275fac=function(e){return vht(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["","matStepper",""]],contentQueries:function(t,e,n){if(1&t&&(r.Kb(n,bht,1),r.Kb(n,mht,1)),2&t){let t;r.zc(t=r.gc())&&(e._steps=t),r.zc(t=r.gc())&&(e._icons=t)}},viewQuery:function(t,e){if(1&t&&r.Qc(fht,1),2&t){let t;r.zc(t=r.gc())&&(e._stepHeader=t)}},inputs:{disableRipple:"disableRipple",color:"color"},outputs:{animationDone:"animationDone"},features:[r.Cb([{provide:Uut,useExisting:t}]),r.Ab]}),t})();const vht=r.Zb(yht);let _ht=(()=>{class t extends yht{constructor(){super(...arguments),this.labelPosition="end"}}return t.\u0275fac=function(e){return wht(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["mat-horizontal-stepper"]],hostAttrs:["aria-orientation","horizontal","role","tablist",1,"mat-stepper-horizontal"],hostVars:4,hostBindings:function(t,e){2&t&&r.Jb("mat-stepper-label-position-end","end"==e.labelPosition)("mat-stepper-label-position-bottom","bottom"==e.labelPosition)},inputs:{selectedIndex:"selectedIndex",labelPosition:"labelPosition"},exportAs:["matHorizontalStepper"],features:[r.Cb([{provide:yht,useExisting:t},{provide:Uut,useExisting:t}]),r.Ab],decls:4,vars:2,consts:[[1,"mat-horizontal-stepper-header-container"],[4,"ngFor","ngForOf"],[1,"mat-horizontal-content-container"],["class","mat-horizontal-stepper-content","role","tabpanel",3,"id",4,"ngFor","ngForOf"],[1,"mat-horizontal-stepper-header",3,"tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color","click","keydown"],["class","mat-stepper-horizontal-line",4,"ngIf"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.Kc(1,sht,3,19,"ng-container",1),r.Wb(),r.Xb(2,"div",2),r.Kc(3,aht,2,5,"div",3),r.Wb()),2&t&&(r.Db(1),r.qc("ngForOf",e.steps),r.Db(2),r.qc("ngForOf",e.steps))},directives:[i.m,fht,i.n,i.s],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content[aria-expanded=false]{height:0;overflow:hidden}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}\n'],encapsulation:2,data:{animation:[ght.horizontalStepTransition]},changeDetection:0}),t})();const wht=r.Zb(_ht);let zht=(()=>{class t extends $ut{}return t.\u0275fac=function(e){return Cht(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["button","matStepperNext",""]],hostAttrs:[1,"mat-stepper-next"],hostVars:1,hostBindings:function(t,e){2&t&&r.ac("type",e.type)},inputs:{type:"type"},features:[r.Ab]}),t})();const Cht=r.Zb(zht);let Sht=(()=>{class t extends Hut{}return t.\u0275fac=function(e){return xht(e||t)},t.\u0275dir=r.Mb({type:t,selectors:[["button","matStepperPrevious",""]],hostAttrs:[1,"mat-stepper-previous"],hostVars:1,hostBindings:function(t,e){2&t&&r.ac("type",e.type)},inputs:{type:"type"},features:[r.Ab]}),t})();const xht=r.Zb(Sht);let Oht=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[hht,yD],imports:[[fD,i.c,ml,AD,Kut,EM,kD],fD]}),t})();function kht(t,e){if(1&t&&r.Mc(0),2&t){const t=r.jc().$implicit;r.Nc(t.templateOptions.label)}}function Tht(t,e){1&t&&(r.Xb(0,"button",6),r.Mc(1," Back "),r.Wb())}function Eht(t,e){if(1&t&&(r.Xb(0,"button",7),r.Mc(1," Next "),r.Wb()),2&t){const t=r.jc().$implicit,e=r.jc();r.qc("disabled",!e.isValid(t))}}function Iht(t,e){if(1&t&&(r.Xb(0,"button",8),r.Mc(1," Save "),r.Wb()),2&t){const t=r.jc(2);r.qc("disabled",!t.form.valid)}}function Dht(t,e){if(1&t&&(r.Xb(0,"mat-step"),r.Kc(1,kht,1,1,"ng-template",1),r.Sb(2,"formly-field",2),r.Xb(3,"div"),r.Kc(4,Tht,2,0,"button",3),r.Kc(5,Eht,2,1,"button",4),r.Kc(6,Iht,2,1,"button",5),r.Wb(),r.Wb()),2&t){const t=e.$implicit,n=e.index,i=e.last;r.Db(2),r.qc("field",t),r.Db(2),r.qc("ngIf",0!==n),r.Db(1),r.qc("ngIf",!i),r.Db(1),r.qc("ngIf",i)}}let Mht=(()=>{class t extends Je{isValid(t){return t.key?t.formControl.valid:!!t.hideExpression||t.fieldGroup.every(t=>this.isValid(t))}}return t.\u0275fac=function(e){return Rht(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["formly-field-stepper"]],features:[r.Ab],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],["matStepLabel",""],[3,"field"],["matStepperPrevious","","class","btn btn-primary","type","button",4,"ngIf"],["matStepperNext","","class","btn btn-primary","type","button",3,"disabled",4,"ngIf"],["class","btn btn-primary","type","submit",3,"disabled",4,"ngIf"],["matStepperPrevious","","type","button",1,"btn","btn-primary"],["matStepperNext","","type","button",1,"btn","btn-primary",3,"disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(t,e){1&t&&(r.Xb(0,"mat-horizontal-stepper"),r.Kc(1,Dht,7,4,"mat-step",0),r.Wb()),2&t&&(r.Db(1),r.qc("ngForOf",e.field.fieldGroup))},directives:[_ht,i.m,bht,cht,Ye,i.n,Sht,zht],encapsulation:2}),t})();const Rht=r.Zb(Mht);function Aht(t,e){1&t&&(r.Xb(0,"span",7),r.Mc(1,"* "),r.Wb())}function Pht(t,e){if(1&t&&(r.Xb(0,"div",3),r.Xb(1,"label",4),r.Kc(2,Aht,2,0,"span",5),r.Mc(3),r.Xb(4,"div",6),r.Mc(5),r.Wb(),r.Wb(),r.Wb()),2&t){const t=r.jc();r.Db(1),r.qc("for",t.id),r.Db(1),r.qc("ngIf",t.to.required&&!0!==t.to.hideRequiredMarker),r.Db(1),r.Oc(" ",t.to.label,": "),r.Db(1),r.qc("hidden",!t.showError),r.Db(1),r.Oc(" ",t.to.label," should not be empty ")}}const Lht=function(t){return{invalid:t}};let Fht=(()=>{class t extends tn{}return t.\u0275fac=function(e){return jht(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["app-data-wrapper"]],features:[r.Ab],decls:4,vars:4,consts:[["class","form-row__label",4,"ngIf"],[3,"ngClass"],["fieldComponent",""],[1,"form-row__label"],[3,"for"],["class","asterisk",4,"ngIf"],[1,"error_message",3,"hidden"],[1,"asterisk"]],template:function(t,e){1&t&&(r.Kc(0,Pht,6,5,"div",0),r.Xb(1,"div",1),r.Tb(2,null,2),r.Wb()),2&t&&(r.qc("ngIf",e.to.label&&!0!==e.to.hideLabel),r.Db(1),r.qc("ngClass",r.vc(2,Lht,e.showError)))},directives:[i.n,vR,i.l],styles:[".asterisk[_ngcontent-%COMP%]{color:rgba(255,77,79,.85);font-family:SimSun,sans-serif}.error_message[_ngcontent-%COMP%]{color:#ff4d4f;font-size:14px;line-height:1.5715;font-family:Roboto}.invalid[_ngcontent-%COMP%]{border:1px solid #ff4d4f}"]}),t})();const jht=r.Zb(Fht);let Nht=(()=>{class t extends Je{constructor(){super(...arguments),this.preValue=[{},{},{},{}],this.EMPTY_SEQUENCE_BROWSE={filter:[{feature_id:{op:"in",unary:{}}}]}}ngOnInit(){this.type=this.to.extension,this.filename=this.to.filename}setValue(){const t=[];this.preValue.forEach(e=>{0!==Object.entries(e).length&&e.constructor===Object&&t.push(e)}),this.formControl.setValue(t)}receiveSequenceBrowse(t){this.preValue[0]=t!==this.EMPTY_SEQUENCE_BROWSE?{remote_name:this.filename+"."+this.type,selection:t,object_type:{bos:"sequences"},type:this.type}:{},this.setValue()}}return t.\u0275fac=function(e){return Vht(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["app-sequence-selector"]],features:[r.Ab],decls:15,vars:2,consts:[["nzAccordion","",2,"margin-bottom","20px"],["nzHeader","Sequences Selector"],[3,"BrowserType","SetSelectedEvent"],["nzHeader","Super Matrices Selector"],["nzHeader","Collections Selector"],["nzHeader","Selector de ficheros FASTA con secuencias"],["nzType","drag","nzAction","https://www.mocky.io/v2/5cc8019d300000980a055e76",3,"nzMultiple"],[1,"ant-upload-drag-icon"],["nz-icon","","nzType","inbox"],[1,"ant-upload-text"],[1,"ant-upload-hint"]],template:function(t,e){1&t&&(r.Xb(0,"nz-collapse",0),r.Xb(1,"nz-collapse-panel",1),r.Xb(2,"app-dynamic-browse",2),r.fc("SetSelectedEvent",function(t){return e.receiveSequenceBrowse(t)}),r.Wb(),r.Wb(),r.Xb(3,"nz-collapse-panel",3),r.Sb(4,"app-super-matrix-browse"),r.Wb(),r.Xb(5,"nz-collapse-panel",4),r.Sb(6,"app-collections-browse"),r.Wb(),r.Xb(7,"nz-collapse-panel",5),r.Xb(8,"nz-upload",6),r.Xb(9,"p",7),r.Sb(10,"i",8),r.Wb(),r.Xb(11,"p",9),r.Mc(12,"Click or drag file to this area to upload"),r.Wb(),r.Xb(13,"p",10),r.Mc(14," Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files "),r.Wb(),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.Db(2),r.qc("BrowserType","sequences"),r.Db(6),r.qc("nzMultiple",!0))},directives:[DY,MY,GK,Hst,Nst,BH,Rf,No],encapsulation:2}),t})();const Vht=r.Zb(Nht);function Wht(t){return t.value&&t.value!==[]?null:{sequence_validator:!0}}function qht(t,e){return"At least one sequence should be selected."}const Bht=function(t){return{"info-field-error":t}};function Xht(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"td",19),r.Mc(2),r.Wb(),r.Xb(3,"td",19),r.Mc(4),r.Wb(),r.Xb(5,"td",19),r.Mc(6),r.Wb(),r.Ub()),2&t){const t=r.jc().$implicit,e=r.jc();r.Db(1),r.qc("ngClass",r.vc(6,Bht,!e.validateName(t.key))),r.Db(1),r.Nc(t.value.name),r.Db(1),r.qc("ngClass",r.vc(8,Bht,!e.validateTaxons(t.key))),r.Db(1),r.Oc(" ",e.formatTaxonsInfo(t.key),""),r.Db(1),r.qc("ngClass",r.vc(10,Bht,!e.validateType(t.key))),r.Db(1),r.Nc(t.value.type)}}function Uht(t,e){if(1&t&&r.Sb(0,"nz-option",27),2&t){const t=e.$implicit;r.qc("nzLabel",t)("nzValue",t)}}const $ht=function(t){return{"input-error":t}},Hht=function(t){return{"select-error":t}};function Kht(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Xb(1,"td"),r.Xb(2,"input",20),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc().$implicit.value.name=e})("ngModelChange",function(){return r.Cc(t),r.jc(2).activeValueChangeEvent()}),r.Wb(),r.Wb(),r.Xb(3,"td"),r.Xb(4,"nz-select",21),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc().$implicit.value.taxons=e})("ngModelChange",function(){return r.Cc(t),r.jc(2).activeValueChangeEvent()}),r.Kc(5,Uht,1,2,"nz-option",22),r.Wb(),r.Wb(),r.Xb(6,"td"),r.Xb(7,"nz-select",23),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc().$implicit.value.type=e})("ngModelChange",function(e){r.Cc(t);const n=r.jc().$implicit,i=r.jc();return i.onChangeTypeTaxset(n.key,e),i.activeValueChangeEvent()}),r.Sb(8,"nz-option",24),r.Sb(9,"nz-option",25),r.Sb(10,"nz-option",26),r.Wb(),r.Wb(),r.Ub()}if(2&t){const t=r.jc().$implicit,e=r.jc();r.Db(2),r.qc("ngModel",t.value.name)("ngClass",r.vc(8,$ht,!e.validateName(t.key)))("disabled","outgroup"==t.value.type),r.Db(2),r.qc("ngModel",t.value.taxons)("ngClass",r.vc(10,Hht,!e.validateTaxons(t.key))),r.Db(1),r.qc("ngForOf",e.getTaxonOptionTaxset(t.key)),r.Db(2),r.qc("ngModel",t.value.type)("ngClass",r.vc(12,Hht,!e.validateType(t.key)))}}function Ght(t,e){1&t&&r.Sb(0,"i",28),2&t&&r.qc("nzType","check-circle")("nzTheme","twotone")("nzTwotoneColor","#52c41a")}function Yht(t,e){1&t&&r.Sb(0,"i",28),2&t&&r.qc("nzType","close-circle")("nzTheme","twotone")("nzTwotoneColor","#ff0000")}const Qht=function(t){return{cursor:t}};function Jht(t,e){if(1&t){const t=r.Yb();r.Xb(0,"i",29),r.fc("click",function(){r.Cc(t);const e=r.jc().$implicit;return r.jc().onEditTaxset(e.key)}),r.Wb()}if(2&t){const t=r.jc(2);r.qc("ngStyle",r.vc(1,Qht,t.idEditTaxset||t.valueEditConstraints?"not-allowed":"pointer"))}}function Zht(t,e){if(1&t){const t=r.Yb();r.Xb(0,"i",30),r.fc("click",function(){return r.Cc(t),r.jc(2).onEndEditTaxset()}),r.Wb()}}function tdt(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Xb(1,"tr"),r.Kc(2,Xht,7,12,"ng-container",12),r.Kc(3,Kht,11,14,"ng-container",12),r.Xb(4,"td",13),r.Kc(5,Ght,1,3,"i",14),r.Kc(6,Yht,1,3,"i",14),r.Wb(),r.Xb(7,"td",13),r.Xb(8,"ul",15),r.Xb(9,"nz-list-item-action"),r.Kc(10,Jht,1,3,"i",16),r.Kc(11,Zht,1,0,"i",17),r.Wb(),r.Xb(12,"nz-list-item-action"),r.Xb(13,"i",18),r.fc("click",function(){r.Cc(t);const n=e.$implicit;return r.jc().removeTaxset(n.key)}),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Ub()}if(2&t){const t=e.$implicit,n=r.jc();r.Db(2),r.qc("ngIf",n.idEditTaxset!=t.key),r.Db(1),r.qc("ngIf",n.idEditTaxset==t.key),r.Db(2),r.qc("ngIf",n.validateTaxset(t.key)),r.Db(1),r.qc("ngIf",!n.validateTaxset(t.key)),r.Db(4),r.qc("ngIf",n.idEditTaxset!=t.key),r.Db(1),r.qc("ngIf",n.idEditTaxset==t.key)}}function edt(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Xb(1,"td",19),r.Mc(2),r.Wb(),r.Xb(3,"td"),r.Mc(4),r.Wb(),r.Xb(5,"td",2),r.Xb(6,"label",37),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc().$implicit.converse=e})("ngModelChange",function(){return r.Cc(t),r.jc(2).activeValueChangeEvent()}),r.Wb(),r.Wb(),r.Ub()}if(2&t){const t=r.jc().$implicit,e=r.jc();r.Db(1),r.qc("ngClass",r.vc(4,Bht,!e.validateKeyConstraints())),r.Db(1),r.Oc("",t.key," "),r.Db(2),r.Nc(t.type),r.Db(2),r.qc("ngModel",t.converse)}}function ndt(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Xb(1,"td"),r.Xb(2,"input",38),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc().$implicit.key=e})("ngModelChange",function(){return r.Cc(t),r.jc(2).activeValueChangeEvent()}),r.Wb(),r.Wb(),r.Xb(3,"td"),r.Xb(4,"nz-select",39),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc().$implicit.type=e})("ngModelChange",function(){return r.Cc(t),r.jc(2).activeValueChangeEvent()}),r.Sb(5,"nz-option",40),r.Sb(6,"nz-option",41),r.Wb(),r.Wb(),r.Xb(7,"td",2),r.Xb(8,"label",42),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc().$implicit.converse=e})("ngModelChange",function(){return r.Cc(t),r.jc(2).activeValueChangeEvent()}),r.Wb(),r.Wb(),r.Ub()}if(2&t){const t=r.jc().$implicit,e=r.jc();r.Db(2),r.qc("ngModel",t.key)("ngClass",r.vc(4,$ht,!e.validateKeyConstraints())),r.Db(2),r.qc("ngModel",t.type),r.Db(4),r.qc("ngModel",t.converse)}}function idt(t,e){1&t&&r.Sb(0,"i",28),2&t&&r.qc("nzType","check-circle")("nzTheme","twotone")("nzTwotoneColor","#52c41a")}function rdt(t,e){1&t&&r.Sb(0,"i",28),2&t&&r.qc("nzType","close-circle")("nzTheme","twotone")("nzTwotoneColor","#ff0000")}function odt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"i",29),r.fc("click",function(){return r.Cc(t),r.jc(2).onEditConstraints()}),r.Wb()}if(2&t){const t=r.jc(2);r.qc("ngStyle",r.vc(1,Qht,t.idEditTaxset||t.valueEditConstraints?"not-allowed":"pointer"))}}function sdt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"i",30),r.fc("click",function(){return r.Cc(t),r.jc(2).onEndEditConstraints()}),r.Wb()}}function adt(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"td",19),r.Mc(2),r.Wb(),r.Ub()),2&t){const t=r.jc().index,e=r.jc(2);r.Db(1),r.qc("ngClass",r.vc(2,Bht,!e.validateTaxonGroupConstraints(t))),r.Db(1),r.Oc(" ",e.getInfoTaxonsConstraints(t),"")}}function cdt(t,e){if(1&t&&r.Sb(0,"nz-option",52),2&t){const t=r.jc().$implicit;r.qc("nzValue",t.key)("nzLabel",t.value.name)}}function ldt(t,e){if(1&t&&(r.Vb(0),r.Kc(1,cdt,1,2,"nz-option",51),r.Ub()),2&t){const t=e.$implicit;r.Db(1),r.qc("ngIf","constraints"==t.value.type)}}function udt(t,e){if(1&t&&r.Sb(0,"nz-option",52),2&t){const t=e.$implicit;r.qc("nzValue",t)("nzLabel",t)}}function hdt(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Xb(1,"td"),r.Xb(2,"nz-select",47),r.fc("ngModelChange",function(e){r.Cc(t);const n=r.jc().index;return r.jc().$implicit.taxons[n]=e})("ngModelChange",function(){return r.Cc(t),r.jc(3).activeValueChangeEvent()}),r.Xb(3,"nz-option-group",48),r.Kc(4,ldt,2,1,"ng-container",5),r.kc(5,"keyvalue"),r.Wb(),r.Xb(6,"nz-option-group",49),r.Kc(7,udt,1,2,"nz-option",50),r.Wb(),r.Wb(),r.Wb(),r.Ub()}if(2&t){const t=r.jc().index,e=r.jc().$implicit,n=r.jc();r.Db(2),r.qc("ngModel",e.taxons[t])("ngClass",r.vc(6,Hht,!n.validateTaxonGroupConstraints(t))),r.Db(2),r.qc("ngForOf",r.lc(5,4,n.dataTableTaxset)),r.Db(3),r.qc("ngForOf",n.getTaxonOptionTaxset(null))}}function ddt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"tr",43),r.Xb(1,"td",44),r.Sb(2,"i",45),r.Wb(),r.Kc(3,adt,3,4,"ng-container",12),r.Kc(4,hdt,8,8,"ng-container",12),r.Xb(5,"td",46),r.Xb(6,"ul",15),r.Xb(7,"nz-list-item-action"),r.Xb(8,"i",18),r.fc("click",function(){r.Cc(t);const n=e.index;return r.jc(2).removeTaxonConstraints(n)}),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb()}if(2&t){const t=r.jc(2);r.Db(3),r.qc("ngIf",!t.valueEditConstraints),r.Db(1),r.qc("ngIf",t.valueEditConstraints)}}function pdt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"tr"),r.Xb(1,"td",53),r.fc("click",function(){return r.Cc(t),r.jc(2).addTaxonContraints()}),r.Sb(2,"i",54),r.Mc(3," A\xf1adir Grupo "),r.Wb(),r.Wb()}}const fdt=function(){return[""]},gdt=function(t){return{color:t}};function mdt(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Xb(1,"tr"),r.Xb(2,"td",31),r.fc("nzExpandChange",function(e){return r.Cc(t),r.jc().onExpandConstraintsChange(e)}),r.Wb(),r.Kc(3,edt,7,6,"ng-container",12),r.Kc(4,ndt,9,6,"ng-container",12),r.Xb(5,"td",13),r.Kc(6,idt,1,3,"i",14),r.Kc(7,rdt,1,3,"i",14),r.Wb(),r.Xb(8,"td",13),r.Xb(9,"ul",15),r.Xb(10,"nz-list-item-action"),r.Kc(11,odt,1,3,"i",16),r.Kc(12,sdt,1,0,"i",17),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(13,"tr",32),r.Xb(14,"nz-table",33),r.Xb(15,"thead"),r.Xb(16,"tr"),r.Xb(17,"th",34),r.Mc(18,"Grupos "),r.Wb(),r.Wb(),r.Wb(),r.Xb(19,"tbody",35),r.fc("cdkDropListDropped",function(e){return r.Cc(t),r.jc().dropTaxonsConstraints(e)}),r.Kc(20,ddt,9,2,"tr",36),r.Kc(21,pdt,4,0,"tr",12),r.Wb(),r.Wb(),r.Wb(),r.Ub()}if(2&t){const t=e.$implicit,n=r.jc();r.Db(2),r.qc("nzExpand",n.expandConstraint),r.Db(1),r.qc("ngIf",!n.valueEditConstraints),r.Db(1),r.qc("ngIf",n.valueEditConstraints),r.Db(2),r.qc("ngIf",n.validateContraints()),r.Db(1),r.qc("ngIf",!n.validateContraints()),r.Db(4),r.qc("ngIf",!n.valueEditConstraints),r.Db(1),r.qc("ngIf",n.valueEditConstraints),r.Db(1),r.qc("nzExpand",n.expandConstraint),r.Db(1),r.qc("nzData",n.valueEditConstraints?r.uc(13,fdt):t.taxons)("nzShowPagination",!1),r.Db(3),r.qc("ngStyle",r.vc(14,gdt,n.validateContraints()?null:"red")),r.Db(3),r.qc("ngForOf",t.taxons),r.Db(1),r.qc("ngIf",n.valueEditConstraints)}}function bdt(t,e){1&t&&(r.Xb(0,"div",55),r.Mc(1,"Taxset"),r.Wb())}function ydt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",56),r.fc("click",function(){return r.Cc(t),r.jc().addTaxset(!0)}),r.Sb(1,"i",57),r.Mc(2,"A\xf1adir"),r.Wb()}if(2&t){const t=r.jc();r.qc("disabled",t.idEditTaxset||t.valueEditConstraints)}}function vdt(t,e){1&t&&(r.Xb(0,"div",55),r.Mc(1,"Constraints"),r.Wb())}const _dt=function(){return{x:"500px"}};let wdt=(()=>{class t{constructor(){this.valueValidateResult=!1,this.dataTableTaxset=new Map,this.nextIdTaxset=1,this.idEditTaxset=null,this.dataTableConstraints=[{key:"constraint1",taxons:[],converse:!1,type:"backbone"}],this.nextIdConstraints=1,this.valueEditConstraints=!1,this.expandConstraint=!1,this.ValueChangeEvent=new r.n,this.ValidateChangeEvent=new r.n}ngOnInit(){this.initValidateEvent()}ngOnDestroy(){this.ValueChangeEvent.unsubscribe()}initValidateEvent(){this.ValueChangeEvent.subscribe(t=>{this.validateResult()?this.valueValidateResult||(this.ValidateChangeEvent.emit(!0),this.valueValidateResult=!0):this.valueValidateResult&&(this.ValidateChangeEvent.emit(!1),this.valueValidateResult=!1)})}validateResult(){for(const t of this.dataTableTaxset.keys())if(!this.validateTaxset(t))return!1;return!!this.validateContraints()}activeValueChangeEvent(){this.convert2StringResult(),this.ValueChangeEvent.emit(this.convert2StringResult())}convert2StringResult(){const t={sets:"",paup:"",enforce_converse:""};return this.convert2StringSets(t),this.convert2StringPaup(t),t}convert2StringSets(t){for(const e of this.dataTableTaxset.keys()){const n=this.dataTableTaxset.get(e);t.sets+=`\ttaxset ${n.name} =`;for(const e of n.taxons)t.sets+=` ${e}`;t.sets+=";\n"}}convert2StringPaup(t){const e=[],n=[];for(const r of this.dataTableTaxset.keys())switch(this.dataTableTaxset.get(r).type){case"delete":e.push(r);break;case"outgroup":n.push(r)}if(e.length>0){t.paup+="\tdelete";for(const n of e){const e=this.dataTableTaxset.get(n);t.paup+=` ${e.name}`}t.paup+=";\n"}if(n.length>0){t.paup+="\toutgroup";for(const e of n){const n=this.dataTableTaxset.get(e);t.paup+=` ${n.name}`}t.paup+=";\n"}const i=this.dataTableConstraints[0];i.taxons.length>0&&(t.paup+=`\tconstraints ${i.key} ${"monophyly"==i.type?"":i.type} = `,this.convert2StringTaxonsGroupsContraint(t),t.enforce_converse+="enforce=yes ",t.enforce_converse+="converse=",t.enforce_converse+=this.dataTableConstraints[0].converse?"yes":"no")}convert2StringTaxonsGroupsContraint(t){const e=this.dataTableConstraints[0];t.paup+="(";for(let i=0;i<e.taxons.length;i++)t.paup+="(";let n=!0;for(const i of e.taxons.reverse()){n?n=!1:t.paup+="), ";let e=!0;for(const n of i)switch(e?e=!1:t.paup+=", ",typeof n){case"string":t.paup+=n;break;case"number":t.paup+=this.dataTableTaxset.get(n).name}}t.paup+="));\n"}getArrayDataTableTaxset(){return Array.from(this.dataTableTaxset)}getTaxonOptionTaxset(t){const e=Array.from(this.taxons);for(const n of this.dataTableTaxset.keys()){if(t==n)continue;const i=this.dataTableTaxset.get(n);for(const t of i.taxons){const n=e.indexOf(t,0);n>-1&&e.splice(n,1)}}return e}addTaxset(t){this.dataTableTaxset.set(this.nextIdTaxset,{name:`key${this.nextIdTaxset}`,taxons:[],type:"delete"}),t&&(this.idEditTaxset=this.nextIdTaxset),this.nextIdTaxset++,this.activeValueChangeEvent()}onEditTaxset(t){this.valueEditConstraints||this.idEditTaxset||(this.idEditTaxset=t)}onEndEditTaxset(){this.idEditTaxset=null}removeTaxset(t){const e=this.dataTableConstraints[0];for(const n of e.taxons)for(let e=0;e<n.length;e++)t===n[e]&&n.splice(e,1);this.idEditTaxset==t&&(this.idEditTaxset=null),this.dataTableTaxset.delete(t),this.activeValueChangeEvent()}formatTaxonsInfo(t){const e=this.dataTableTaxset.get(t).taxons;let n="",i=!0;for(const r of e)i?(n+=r,i=!1):n+=`, ${r}`;return n}onChangeTypeTaxset(t,e){const n=this.dataTableTaxset.get(t);if("constraints"!=e){const e=this.dataTableConstraints[0];for(const n of e.taxons){const e=n.indexOf(t,0);e>-1&&n.splice(e,1)}}"outgroup"==e&&(n.name="myOutgroup")}validateName(t){const e=this.dataTableTaxset.get(t).name;if(!e||""==e)return!1;if(e.includes(" "))return!1;for(const n of this.dataTableTaxset.keys())if(n!=t&&e==this.dataTableTaxset.get(n).name)return!1;return!0}validateTaxons(t){return!(this.dataTableTaxset.get(t).taxons.length<1)}validateType(t){if("outgroup"==this.dataTableTaxset.get(t).type)for(let e of this.dataTableTaxset.keys())if(e!=t&&"outgroup"==this.dataTableTaxset.get(e).type)return!1;return!0}validateTaxset(t){return!!(this.validateName(t)&&this.validateTaxons(t)&&this.validateType(t))}onExpandConstraintsChange(t){this.expandConstraint=!!t}onEditConstraints(){this.idEditTaxset||this.valueEditConstraints||(this.valueEditConstraints=!0,this.expandConstraint=!0)}onEndEditConstraints(){this.valueEditConstraints=!1}addTaxonContraints(){const t=this.dataTableConstraints[0];t.taxons=[...t.taxons,[]],this.activeValueChangeEvent()}removeTaxonConstraints(t){this.dataTableConstraints[0].taxons.splice(t,1),this.activeValueChangeEvent()}dropTaxonsConstraints(t){t.previousIndex!=t.currentIndex&&(yct(this.dataTableConstraints[0].taxons,t.previousIndex,t.currentIndex),this.activeValueChangeEvent())}getInfoTaxonsConstraints(t){const e=this.dataTableConstraints[0];let n="",i=!0;for(const r of e.taxons[t])i||(n+=", "),"string"==typeof r&&(n+=r),"number"==typeof r&&(n+=this.dataTableTaxset.get(r).name),i=!1;return n}validateKeyConstraints(){const t=this.dataTableConstraints[0].key;return!(!t||""==t||t.includes(" "))}validateTaxonsConstraints(){const t=this.dataTableConstraints[0].taxons;for(let e=0;e<t.length;e++)if(!this.validateTaxonGroupConstraints(e))return!1;return!0}validateTaxonGroupConstraints(t){const e=this.dataTableConstraints[0].taxons;if(e[t].length<1)return!1;for(const n of e[t]){if("string"==typeof n&&this.checkTaxonExistInConstraints(n,t))return!1;if("number"==typeof n&&this.checkTaxsetConflictInConstraints(n,t))return!1}return!0}checkTaxonExistInConstraints(t,e){const n=this.dataTableConstraints[0].taxons;for(let i=0;i<n.length;i++)for(const r of n[i]){if("string"==typeof r){if(e==i)continue;if(r==t)return!0}if("number"==typeof r){const e=this.dataTableTaxset.get(r);for(const n of e.taxons)if(n==t)return!0}}return!1}checkTaxsetConflictInConstraints(t,e){const n=this.dataTableConstraints[0].taxons,i=this.dataTableTaxset.get(t);for(let r=0;r<n.length;r++)for(const o of n[r]){if("string"==typeof o)for(const t of i.taxons)if(o==t)return!0;if("number"==typeof o){if(t==o){if(e==r)continue;return!0}const n=this.dataTableTaxset.get(o);for(const t of i.taxons)for(const e of n.taxons)if(t==e)return!0}}return!1}validateContraints(){return!(!this.validateKeyConstraints()||!this.validateTaxonsConstraints())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["taxset-component"]],inputs:{taxons:"taxons"},outputs:{ValueChangeEvent:"ValueChangeEvent",ValidateChangeEvent:"ValidateChangeEvent"},decls:41,vars:15,consts:[[3,"nzTitle","nzExtra"],["nzBordered","",3,"nzData","nzScroll","nzShowPagination"],["nzAlign","center"],["nzRight","","nzAlign","center","nzWidth","120px"],["nzRight","","nzWidth","100px","nzAlign","center"],[4,"ngFor","ngForOf"],[2,"margin-top","10px",3,"nzTitle"],["nzWidth","60px"],["nzAlign","center","nzWidth","100px"],["titleTaxset",""],["extraTaxset",""],["titleConstraints",""],[4,"ngIf"],["nzRight","","nzAlign","center"],["nz-icon","","style","font-size: 20px;",3,"nzType","nzTheme","nzTwotoneColor",4,"ngIf"],["nz-list-item-actions","",2,"margin-left","6px"],["nz-icon","","nzType","edit","nzTheme","outline",3,"ngStyle","click",4,"ngIf"],["nz-icon","","nzType","check","nzTheme","outline","style","cursor: pointer;",3,"click",4,"ngIf"],["nz-icon","","nzType","delete","nzTheme","outline",2,"cursor","pointer",3,"click"],[3,"ngClass"],["nz-input","","placeholder","Nombre",3,"ngModel","ngClass","disabled","ngModelChange"],["nzMode","multiple","nzPlaceHolder","Taxones",2,"width","100%",3,"ngModel","ngClass","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzPlaceHolder","Tipo",2,"width","100%",3,"ngModel","ngClass","ngModelChange"],["nzLabel","delete","nzValue","delete"],["nzLabel","outgroup","nzValue","outgroup"],["nzLabel","constraints","nzValue","constraints"],[3,"nzLabel","nzValue"],["nz-icon","",2,"font-size","20px",3,"nzType","nzTheme","nzTwotoneColor"],["nz-icon","","nzType","edit","nzTheme","outline",3,"ngStyle","click"],["nz-icon","","nzType","check","nzTheme","outline",2,"cursor","pointer",3,"click"],[3,"nzExpand","nzExpandChange"],[1,"tr-expand",2,"background-color","#fff",3,"nzExpand"],["nzBordered","",3,"nzData","nzShowPagination"],["colspan","3",3,"ngStyle"],["cdkDropList","",3,"cdkDropListDropped"],["cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf"],["nz-checkbox","","nzDisabled","",3,"ngModel","ngModelChange"],["nz-input","","placeholder","Key",3,"ngModel","ngClass","ngModelChange"],["nzPlaceHolder","Type",2,"width","100%",3,"ngModel","ngModelChange"],["nzLabel","backbone","nzValue","backbone"],["nzLabel","monophyly","nzValue","monophyly"],["nz-checkbox","",3,"ngModel","ngModelChange"],["cdkDrag","","cdkDragLockAxis","y"],["nzAlign","center",2,"width","60px"],["nz-icon","","nzType","drag","nzTheme","outline","cdkDragHandle","",2,"cursor","n-resize"],["nzRight","","nzAlign","center",2,"width","100px"],["nzMode","multiple","nzPlaceHolder","Grupo",2,"width","100%",3,"ngModel","ngClass","ngModelChange"],["nzLabel","Taxset"],["nzLabel","Taxones"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzValue","nzLabel",4,"ngIf"],[3,"nzValue","nzLabel"],["colspan","3",2,"cursor","pointer",3,"click"],["nz-icon","","nzType","plus","nzTheme","outline",2,"cursor","pointer"],[2,"font-weight","bold","font-size","1.2em"],["nz-button","","nzType","primary","nzShape","round","type","button",3,"disabled","click"],["nz-icon","","nzType","plus"]],template:function(t,e){if(1&t&&(r.Xb(0,"div"),r.Xb(1,"nz-card",0),r.Xb(2,"nz-table",1),r.Xb(3,"thead"),r.Xb(4,"tr"),r.Xb(5,"th",2),r.Mc(6,"Key"),r.Wb(),r.Xb(7,"th",2),r.Mc(8,"Taxons"),r.Wb(),r.Xb(9,"th",2),r.Mc(10,"Type"),r.Wb(),r.Xb(11,"th",3),r.Mc(12,"Validaci\xf3n"),r.Wb(),r.Xb(13,"th",4),r.Mc(14,"Acciones"),r.Wb(),r.Wb(),r.Wb(),r.Xb(15,"tbody"),r.Kc(16,tdt,14,6,"ng-container",5),r.kc(17,"keyvalue"),r.Wb(),r.Wb(),r.Wb(),r.Xb(18,"nz-card",6),r.Xb(19,"nz-table",1),r.Xb(20,"thead"),r.Xb(21,"tr"),r.Sb(22,"th",7),r.Xb(23,"th",2),r.Mc(24,"Key"),r.Wb(),r.Xb(25,"th",2),r.Mc(26,"Type"),r.Wb(),r.Xb(27,"th",8),r.Mc(28,"Converse"),r.Wb(),r.Xb(29,"th",3),r.Mc(30,"Validaci\xf3n"),r.Wb(),r.Xb(31,"th",4),r.Mc(32,"Acciones"),r.Wb(),r.Wb(),r.Wb(),r.Xb(33,"tbody"),r.Kc(34,mdt,22,16,"ng-container",5),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Kc(35,bdt,2,0,"ng-template",null,9,r.Lc),r.Kc(37,ydt,3,1,"ng-template",null,10,r.Lc),r.Kc(39,vdt,2,0,"ng-template",null,11,r.Lc)),2&t){const t=r.Ac(36),n=r.Ac(38),i=r.Ac(40);r.Db(1),r.qc("nzTitle",t)("nzExtra",n),r.Db(1),r.qc("nzData",e.getArrayDataTableTaxset())("nzScroll",r.uc(13,_dt))("nzShowPagination",!1),r.Db(14),r.qc("ngForOf",r.lc(17,11,e.dataTableTaxset)),r.Db(2),r.qc("nzTitle",i),r.Db(1),r.qc("nzData",e.dataTableConstraints)("nzScroll",r.uc(14,_dt))("nzShowPagination",!1),r.Db(15),r.qc("ngForOf",e.dataTableConstraints)}},directives:[DX,XW,HW,$W,MW,PW,FW,IW,UW,i.m,i.n,Bq,qq,Rf,No,vR,i.l,Hp,G,bt,ie,Gg,Ug,kR,i.o,RW,GW,NW,Pct,Tf,Vct,Fct,Bg,HL,qL],pipes:[i.h],styles:[".input-error[_ngcontent-%COMP%]{border-color:red}.input-error[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 2px rgba(225,24,24,.2)}.info-field-error[_ngcontent-%COMP%]{color:red}  .select-error .ant-select-selector{border-color:red!important}  .select-error:hover .ant-select-selector{border-color:red!important}  .select-error.ant-select-focused:not(.ant-select-disabled).ant-select:not(.ant-select-customize-input) .ant-select-selector{box-shadow:0 0 0 2px rgba(225,24,24,.2)}  .cdk-drag-preview{display:table}  .cdk-drag-placeholder{opacity:0}  tr.ant-table-expanded-row>td{background-color:#fff}  .ant-table-expanded-row-fixed{padding:0!important}  .ant-table-tbody>tr.ant-table-row:hover>td{background-color:#fff!important}  tr.ant-table-expanded-row:hover>td, tr.ant-table-expanded-row[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{background-color:#fff!important}"]}),t})(),zdt=(()=>{class t extends Je{ngOnInit(){this.formControl.setValue({sets:"",assumptions:""})}formControlChangeValue(t){this.formControl.setValue(t)}formControlChangeValidate(t){this.formControl.setErrors(t?null:{charsetError:!0})}}return t.\u0275fac=function(e){return Cdt(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["app-taxset-field"]],features:[r.Ab],decls:3,vars:1,consts:[["nzAccordion","",2,"margin-bottom","20px"],["nzHeader","Taxset"],[3,"taxons","ValueChangeEvent","ValidateChangeEvent"]],template:function(t,e){1&t&&(r.Xb(0,"nz-collapse",0),r.Xb(1,"nz-collapse-panel",1),r.Xb(2,"taxset-component",2),r.fc("ValueChangeEvent",function(t){return e.formControlChangeValue(t)})("ValidateChangeEvent",function(t){return e.formControlChangeValidate(t)}),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.Db(2),r.qc("taxons",e.to.taxons))},directives:[DY,MY,wdt],styles:[""]}),t})();const Cdt=r.Zb(zdt);function Sdt(t,e){if(1&t&&r.Sb(0,"nz-option",5),2&t){const t=e.$implicit;r.qc("nzValue",t)("nzLabel",t.name+" ( ID: "+t.id+" )")}}function xdt(t,e){if(1&t&&r.Sb(0,"nz-option",5),2&t){const t=e.$implicit;r.qc("nzValue",t)("nzLabel",t)}}const Odt=function(){return["matK","rbcL"]};let kdt=(()=>{class t extends Je{constructor(t){super(),this.backendService=t,this.geolayers=[]}ngOnInit(){this.type=this.to.extension,this.filename=this.to.filename,this.backendService.getLayerGIS().subscribe(t=>{console.log(t.content),t.content.forEach(t=>{this.geolayers.push({name:t.name,id:t.id})})})}selectLayer(t){this.formControl.setValue([{remote_name:this.filename+"."+this.type,selection:t.id,object_type:{geo:"layers"},type:this.type}])}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(DP))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-geolayer-selector"]],features:[r.Ab],decls:7,vars:4,consts:[["nz-row","",2,"margin","15px 40px 24px"],["nz-col","","nzFlex","1"],["nzPlaceHolder","Capa Geogr\xe1fica","nzShowSearch","",2,"width","90%",3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzPlaceHolder","Regi\xf3n Gen\xe9tica","nzShowSearch","",2,"width","90%"],[3,"nzValue","nzLabel"]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.Xb(1,"div",1),r.Xb(2,"nz-select",2),r.fc("ngModelChange",function(t){return e.selectedLayer=t})("ngModelChange",function(t){return e.selectLayer(t)}),r.Kc(3,Sdt,1,2,"nz-option",3),r.Wb(),r.Wb(),r.Xb(4,"div",1),r.Xb(5,"nz-select",4),r.Kc(6,xdt,1,2,"nz-option",3),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.Db(2),r.qc("ngModel",e.selectedLayer),r.Db(1),r.qc("ngForOf",e.geolayers),r.Db(3),r.qc("ngForOf",r.uc(3,Odt)))},directives:[nr,ir,Gg,bt,ie,i.m,Ug],styles:[".ant-row>.geolayer-row{padding:20px!important}"]}),t})();function Tdt(t,e){if(1&t&&(r.Xb(0,"td"),r.Mc(1),r.Wb()),2&t){const t=r.jc(2).$implicit;r.Db(1),r.Nc(t.value.type.name)}}function Edt(t,e){if(1&t&&(r.Xb(0,"td"),r.Mc(1),r.Wb()),2&t){const t=r.jc(2).$implicit;r.Db(1),r.Pc("",t.value.type.name," (",t.value.type.numberWeight,")")}}function Idt(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"td"),r.Mc(2),r.Wb(),r.Kc(3,Tdt,2,1,"td",10),r.Kc(4,Edt,2,2,"td",10),r.Ub()),2&t){const t=r.jc().$implicit;r.Db(2),r.Nc(t.value.key),r.Db(1),r.qc("ngIf","exclude"==t.value.type.name),r.Db(1),r.qc("ngIf","weight"==t.value.type.name)}}const Ddt=function(t,e){return{borderColor:t,"box-shadow":e}};function Mdt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"input",30,31),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc(2).$implicit.value.type.numberWeight=e}),r.Wb()}if(2&t){const t=r.Ac(1),e=r.jc(2).$implicit,n=r.jc();r.qc("ngModel",e.value.type.numberWeight)("ngStyle",r.wc(2,Ddt,n.numberWeightInputError(e.key)?"red":null,n.numberWeightInputError(e.key)&&n.document.activeElement==t?"0 0 0 2px rgba(225,24,24,.2)":null))}}function Rdt(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Xb(1,"td"),r.Xb(2,"input",24,25),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc().$implicit.value.key=e}),r.Wb(),r.Wb(),r.Xb(4,"td"),r.Xb(5,"nz-select",26),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc().$implicit.value.type.name=e}),r.Sb(6,"nz-option",27),r.Sb(7,"nz-option",28),r.Wb(),r.Kc(8,Mdt,2,5,"input",29),r.Wb(),r.Ub()}if(2&t){const t=r.Ac(3),e=r.jc().$implicit,n=r.jc();r.Db(2),r.qc("ngModel",e.value.key)("ngStyle",r.wc(4,Ddt,n.keyInputError(e.key)?"red":null,n.keyInputError(e.key)&&n.document.activeElement==t?"0 0 0 2px rgba(225,24,24,.2)":null)),r.Db(3),r.qc("ngModel",e.value.type.name),r.Db(3),r.qc("ngIf","weight"==e.value.type.name)}}function Adt(t,e){1&t&&r.Sb(0,"i",32),2&t&&r.qc("nzType","check-circle")("nzTheme","twotone")("nzTwotoneColor","#52c41a")}function Pdt(t,e){1&t&&r.Sb(0,"i",32),2&t&&r.qc("nzType","close-circle")("nzTheme","twotone")("nzTwotoneColor","#ff0000")}const Ldt=function(t){return{cursor:t}};function Fdt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"i",33),r.fc("click",function(){r.Cc(t);const e=r.jc().$implicit;return r.jc().onEditItemButton(e.key)}),r.Wb()}if(2&t){const t=r.jc(2);r.qc("ngStyle",r.vc(1,Ldt,t.idEdit?"not-allowed":"pointer"))}}function jdt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"i",34),r.fc("click",function(){r.Cc(t);const e=r.jc().$implicit;return r.jc().onEndEditItemButton(e.key)}),r.Wb()}}function Ndt(t,e){if(1&t&&(r.Xb(0,"td"),r.Mc(1),r.Wb()),2&t){const t=r.jc(2).$implicit;r.Db(1),r.Nc(t.value.valueNumeric)}}function Vdt(t,e){if(1&t&&(r.Xb(0,"td"),r.Mc(1),r.Wb()),2&t){const t=r.jc(2).$implicit;r.Db(1),r.Pc("[",t.value.valueRange[0],", ",t.value.valueRange[1],"]")}}function Wdt(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc().$implicit,e=r.jc(5);r.Db(1),r.Oc(" ",e.dataSet.get(t).key," ")}}function qdt(t,e){if(1&t&&(r.Vb(0),r.Mc(1),r.Ub()),2&t){const t=r.jc().$implicit,e=r.jc(5);r.Db(1),r.Oc(" ",e.dataSet.get(t).key,",\xa0 ")}}function Bdt(t,e){if(1&t&&(r.Vb(0),r.Kc(1,Wdt,2,1,"ng-container",10),r.Kc(2,qdt,2,1,"ng-container",10),r.Ub()),2&t){const t=e.index,n=r.jc(3).$implicit;r.Db(1),r.qc("ngIf",n.value.valueCharset.length-1==t),r.Db(1),r.qc("ngIf",n.value.valueCharset.length-1!=t)}}function Xdt(t,e){if(1&t&&(r.Xb(0,"td"),r.Kc(1,Bdt,3,2,"ng-container",6),r.Wb()),2&t){const t=r.jc(2).$implicit;r.Db(1),r.qc("ngForOf",t.value.valueCharset)}}function Udt(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"td"),r.Mc(2),r.Wb(),r.Kc(3,Ndt,2,1,"td",10),r.Kc(4,Vdt,2,2,"td",10),r.Kc(5,Xdt,2,1,"td",10),r.Ub()),2&t){const t=r.jc().$implicit;r.Db(2),r.Nc(t.value.type),r.Db(1),r.qc("ngIf","numeric"==t.value.type),r.Db(1),r.qc("ngIf","range"==t.value.type),r.Db(1),r.qc("ngIf","charset"==t.value.type)}}const $dt=function(t){return{"slider-handle-error ":t}};function Hdt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"td"),r.Xb(1,"div",39),r.Xb(2,"div",40),r.Xb(3,"nz-slider",41),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc(2).$implicit.value.valueNumeric=e}),r.Wb(),r.Wb(),r.Xb(4,"div",42),r.Mc(5),r.Wb(),r.Wb(),r.Wb()}if(2&t){const t=r.jc(2).$implicit,e=r.jc().$implicit,n=r.jc();r.Db(3),r.qc("nzMin",1)("nzMax",n.posMax)("ngModel",t.value.valueNumeric)("ngClass",r.vc(5,$dt,n.valuePositionTypeNumericInputError(e.key,t.key))),r.Db(2),r.Oc(" ",t.value.valueNumeric," ")}}const Kdt=function(t,e){return{"slider-track-error":t,"slider-handle-error ":e}};function Gdt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"td"),r.Xb(1,"div",39),r.Xb(2,"div",40),r.Xb(3,"nz-slider",43),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc(2).$implicit.value.valueRange=e}),r.Wb(),r.Wb(),r.Xb(4,"div",44),r.Mc(5),r.Wb(),r.Xb(6,"div",45),r.Xb(7,"input",46,47),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc(2).$implicit.value.valueCycles=e}),r.Wb(),r.Wb(),r.Wb(),r.Wb()}if(2&t){const t=r.Ac(8),e=r.jc(2).$implicit,n=r.jc().$implicit,i=r.jc();r.Db(3),r.qc("nzMin",1)("nzMax",i.posMax)("ngModel",e.value.valueRange)("nzRange",!0)("ngClass",r.wc(9,Kdt,i.valuePositionTypeRangeInputError(n.key,e.key),i.valuePositionTypeRangeInputError(n.key,e.key))),r.Db(2),r.Pc(" [",e.value.valueRange[0],", ",e.value.valueRange[1],"] "),r.Db(2),r.qc("ngModel",e.value.valueCycles)("ngStyle",r.wc(12,Ddt,i.numberCyclesError(n.key,e.key)?"red":null,i.numberCyclesError(n.key,e.key)&&i.document.activeElement==t?"0 0 0 2px rgba(225,24,24,.2)":null))}}function Ydt(t,e){if(1&t&&r.Sb(0,"nz-option",51),2&t){const t=r.jc().$implicit;r.qc("nzLabel",t.value.key)("nzValue",t.key)}}function Qdt(t,e){if(1&t&&(r.Vb(0),r.Kc(1,Ydt,1,2,"nz-option",50),r.Ub()),2&t){const t=e.$implicit,n=r.jc(4).$implicit;r.Db(1),r.qc("ngIf",t.key<n.key)}}const Jdt=function(t,e){return{"select-error":t,"select-error-box-shadow":e}};function Zdt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"td"),r.Xb(1,"nz-select",48,49),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc(2).$implicit.value.valueCharset=e})("click",function(e){return r.Cc(t),r.jc(4).test(e)}),r.Kc(3,Qdt,2,1,"ng-container",6),r.kc(4,"keyvalue"),r.Wb(),r.Wb()}if(2&t){const t=r.Ac(2),e=r.jc(2).$implicit,n=r.jc().$implicit,i=r.jc();r.Db(1),r.qc("ngModel",e.value.valueCharset)("ngClass",r.wc(5,Jdt,i.positionSelectCharsetError(n.key,e.key),i.positionSelectCharsetError(n.key,e.key)&&t.nzOpen)),r.Db(2),r.qc("ngForOf",r.lc(4,3,i.dataSet))}}function tpt(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Xb(1,"td"),r.Xb(2,"nz-select",35),r.fc("ngModelChange",function(e){return r.Cc(t),r.jc().$implicit.value.type=e}),r.Sb(3,"nz-option",36),r.Sb(4,"nz-option",37),r.Sb(5,"nz-option",38),r.Wb(),r.Wb(),r.Kc(6,Hdt,6,7,"td",10),r.Kc(7,Gdt,9,15,"td",10),r.Kc(8,Zdt,5,8,"td",10),r.Ub()}if(2&t){const t=r.jc().$implicit;r.Db(2),r.qc("ngModel",t.value.type),r.Db(4),r.qc("ngIf","numeric"==t.value.type),r.Db(1),r.qc("ngIf","range"==t.value.type),r.Db(1),r.qc("ngIf","charset"==t.value.type)}}function ept(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Xb(1,"tr"),r.Kc(2,Udt,6,4,"ng-container",10),r.Kc(3,tpt,9,4,"ng-container",10),r.Xb(4,"td",12),r.Xb(5,"ul",13),r.Xb(6,"nz-list-item-action"),r.Xb(7,"i",16),r.fc("click",function(){r.Cc(t);const n=e.$implicit,i=r.jc().$implicit;return r.jc().removePosition(i.key,n.key)}),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Ub()}if(2&t){const t=r.jc().$implicit,e=r.jc();r.Db(2),r.qc("ngIf",e.idEdit!=t.key),r.Db(1),r.qc("ngIf",e.idEdit==t.key)}}function npt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",52),r.fc("click",function(){r.Cc(t);const e=r.jc().$implicit;return r.jc().addPosition(e.key)}),r.Mc(1,"A\xf1adir posici\xf3n"),r.Wb()}}const ipt=function(t){return{color:t}};function rpt(t,e){if(1&t){const t=r.Yb();r.Vb(0),r.Xb(1,"tr"),r.Xb(2,"td",9),r.fc("nzExpandChange",function(n){r.Cc(t);const i=e.$implicit;return r.jc().onExpandChange(i.key,n)}),r.Wb(),r.Kc(3,Idt,5,3,"ng-container",10),r.Kc(4,Rdt,9,7,"ng-container",10),r.Xb(5,"td",3),r.Kc(6,Adt,1,3,"i",11),r.Kc(7,Pdt,1,3,"i",11),r.Wb(),r.Xb(8,"td",12),r.Xb(9,"ul",13),r.Xb(10,"nz-list-item-action"),r.Kc(11,Fdt,1,3,"i",14),r.Kc(12,jdt,1,0,"i",15),r.Wb(),r.Xb(13,"nz-list-item-action"),r.Xb(14,"i",16),r.fc("click",function(){r.Cc(t);const n=e.$implicit;return r.jc().removeCharset(n.key)}),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(15,"tr",17),r.Xb(16,"div",18),r.Mc(17),r.Wb(),r.Xb(18,"div",19),r.Xb(19,"nz-table",20),r.Xb(20,"thead"),r.Xb(21,"tr"),r.Xb(22,"th",21),r.Mc(23,"Type"),r.Wb(),r.Xb(24,"th",3),r.Mc(25,"Value"),r.Wb(),r.Xb(26,"th",22),r.Mc(27,"Acciones"),r.Wb(),r.Wb(),r.Wb(),r.Xb(28,"tbody"),r.Kc(29,ept,8,2,"ng-container",6),r.kc(30,"keyvalue"),r.Wb(),r.Wb(),r.Xb(31,"div"),r.Kc(32,npt,2,0,"button",23),r.Wb(),r.Wb(),r.Wb(),r.Ub()}if(2&t){const t=e.$implicit,n=r.jc();r.Db(2),r.qc("nzExpand",n.expandSet.has(t.key)),r.Db(1),r.qc("ngIf",n.idEdit!=t.key),r.Db(1),r.qc("ngIf",n.idEdit==t.key),r.Db(2),r.qc("ngIf",n.validateCharset(t.key)),r.Db(1),r.qc("ngIf",!n.validateCharset(t.key)),r.Db(4),r.qc("ngIf",n.idEdit!=t.key),r.Db(1),r.qc("ngIf",n.idEdit==t.key),r.Db(3),r.qc("nzExpand",n.expandSet.has(t.key)),r.Db(1),r.qc("ngStyle",r.vc(16,ipt,n.getArrayPosition(t.key).length<1?"red":null)),r.Db(1),r.Oc(" Positions (",t.value.key,")"),r.Db(2),r.qc("nzData",n.getArrayPosition(t.key))("nzShowPagination",!1),r.Db(10),r.qc("ngForOf",r.lc(30,14,t.value.positions)),r.Db(3),r.qc("ngIf",n.idEdit==t.key)}}function opt(t,e){1&t&&(r.Xb(0,"div",53),r.Mc(1,"Charset"),r.Wb())}function spt(t,e){if(1&t){const t=r.Yb();r.Xb(0,"button",54),r.fc("click",function(){return r.Cc(t),r.jc().addCharset(void 0,!0)}),r.Sb(1,"i",55),r.Mc(2,"A\xf1adir"),r.Wb()}if(2&t){const t=r.jc();r.qc("disabled",t.idEdit)}}const apt=function(){return{x:"500px"}};let cpt=(()=>{class t{constructor(t){this.cdRef=t,this.document=document,this.dataSet=new Map,this.expandSet=new Set,this.nextIndex=1,this.idEdit=null,this.posMax=255,this.ConvertToStringEvent=new r.n,this.ValidateEvent=new r.n}ngOnInit(){}ngAfterViewChecked(){this.cdRef.detectChanges()}ngDoCheck(){this.ConvertToStringEvent.next(this.convertToString()),this.ValidateEvent.next(this.validateAll())}getArrayDataSet(){return Array.from(this.dataSet)}getArrayPosition(t){const e=this.dataSet.get(t);return Array.from(e.positions)}addCharset(t,e){t||(t={nextIdPosition:1,key:`key${this.nextIndex}`,type:{name:"exclude"},positions:new Map}),this.dataSet.set(this.nextIndex,t),e&&(this.idEdit=this.nextIndex,this.expandSet.add(this.nextIndex)),this.nextIndex++}addPosition(t){const e=this.dataSet.get(t);e.positions.set(e.nextIdPosition,{type:"numeric",valueNumeric:1,valueRange:[1,20],valueCharset:[]}),e.nextIdPosition++}removeCharset(t){this.dataSet.delete(t),t==this.idEdit&&(this.idEdit=null),this.dataSet.forEach(e=>{e.positions.forEach(e=>{const n=e.valueCharset.indexOf(t,0);n>-1&&e.valueCharset.splice(n,1)})})}removePosition(t,e){this.dataSet.get(t).positions.delete(e)}onExpandChange(t,e){e?this.expandSet.add(t):this.expandSet.delete(t)}onEditItemButton(t){this.idEdit||(this.expandSet.has(t)||this.expandSet.add(t),this.idEdit=t)}onEndEditItemButton(t){this.idEdit=null,this.expandSet.delete(t)}convertToString(){const t={sets:"",assumptions:""},e=new Map,n=[];return this.dataSet.forEach((i,r)=>{switch(i.type.name){case"exclude":n.push(r);break;case"weight":const t=parseInt(i.type.numberWeight);e.has(t)?e.get(t).push(r):e.set(t,[r])}t.sets=this.convertToStringCharsetInitialize(i,t.sets)}),n.length>1||e.size>1?(t.assumptions=this.converToStringCharsetExclude(n,t.assumptions),t.assumptions=this.converToStringCharsetWeight(e,t.assumptions)):t.assumptions="none",this.ConvertToStringEvent.next(t),t}convertToStringCharsetInitialize(t,e){return e+=`\tcharset ${t.key} =`,t.positions.forEach(t=>{switch(t.type){case"numeric":e+=` ${t.valueNumeric}`;break;case"range":e+=` ${t.valueRange[0]}-${t.valueRange[1]}`;const n=t.valueCycles;n&&""!=n&&!isNaN(parseInt(n))&&(e+=`\\${parseInt(n)}`);break;case"charset":for(const i of t.valueCharset)e+=` ${this.dataSet.get(i).key}`}}),e+";\n"}converToStringCharsetExclude(t,e){if(t.length<1)return e;e+="\texset *myExset = ";for(const n of t)e+=` ${this.dataSet.get(n).key}`;return e+";\n"}converToStringCharsetWeight(t,e){if(t.size<1)return e;e+="\twtset *myWtset = ";let n=new Map([...t.entries()].sort());for(const i of n.keys()){let t=!0;e+=` ${i}:`;for(const r of n.get(i))t?(t=!1,e+=`${this.dataSet.get(r).key}`):e+=` ${this.dataSet.get(r).key}`;e+=","}return e.slice(0,-1)+";\n"}keyInputError(t){const e=this.dataSet.get(t);if(!e.key||""==e.key)return!0;if(e.key.split(" ").length>1)return!0;for(const n of this.dataSet.keys()){if(n==t)continue;const i=this.dataSet.get(n);if(e.key==i.key)return!0}return!1}numberWeightInputError(t){const e=this.dataSet.get(t).type.numberWeight;if(!e||""==e)return!0;const n=parseInt(e);return!!(isNaN(n)||e.includes(".")||e.includes(",")||n<1)}valuePositionTypeNumericInputError(t,e){const n=this.dataSet.get(t),i=n.positions.get(e);for(const r of n.positions.keys()){if(e==r)continue;const t=n.positions.get(r);switch(t.type){case"range":if(i.valueNumeric>=t.valueRange[0]&&i.valueNumeric<=t.valueRange[1])return!0;break;case"numeric":if(t.valueNumeric==i.valueNumeric)return!0}}return!1}valuePositionTypeRangeInputError(t,e){const n=this.dataSet.get(t),i=n.positions.get(e);for(const r of n.positions.keys()){if(e==r)continue;const t=n.positions.get(r);switch(t.type){case"range":if(i.valueRange[0]<=t.valueRange[0]&&i.valueRange[1]>=t.valueRange[1])return!0;if(i.valueRange[0]>=t.valueRange[0]&&i.valueRange[0]<=t.valueRange[1])return!0;if(i.valueRange[1]>=t.valueRange[0]&&i.valueRange[1]<=t.valueRange[1])return!0;break;case"numeric":if(t.valueNumeric>=i.valueRange[0]&&t.valueNumeric<=i.valueRange[1])return!0}}return!1}positionSelectCharsetError(t,e){const n=this.dataSet.get(t),i=n.positions.get(e);if(i.valueCharset.length<1)return!0;for(const r of n.positions.keys()){if(r==e)continue;const t=n.positions.get(r);for(const e of i.valueCharset)if(t.valueCharset.includes(e))return!0}return!1}numberCyclesError(t,e){const n=this.dataSet.get(t).positions.get(e);if(!n.valueCycles||""==n.valueCycles)return!1;const i=parseInt(n.valueCycles);return!!(isNaN(i)||n.valueCycles.includes(".")||n.valueCycles.includes(",")||i<1)||n.valueRange[1]-n.valueRange[0]<i-1}validateCharset(t){const e=this.dataSet.get(t);if(this.keyInputError(t))return!1;if("weight"==e.type.name&&this.numberWeightInputError(t))return!1;if(e.positions.size<1)return!1;for(const n of e.positions.keys())switch(e.positions.get(n).type){case"numeric":if(this.valuePositionTypeNumericInputError(t,n))return!1;break;case"range":if(this.valuePositionTypeRangeInputError(t,n))return!1;break;case"charset":if(this.positionSelectCharsetError(t,n))return!1}return!0}validateAll(){if(this.dataSet.size<1)return!1;for(const t of this.dataSet.keys())if(!this.validateCharset(t))return!1;return!0}test(t){}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.h))},t.\u0275cmp=r.Lb({type:t,selectors:[["charset-component"]],inputs:{posMax:"posMax"},outputs:{ConvertToStringEvent:"ConvertToStringEvent",ValidateEvent:"ValidateEvent"},decls:20,vars:9,consts:[[3,"nzTitle","nzExtra"],["nzBordered","",3,"nzData","nzScroll","nzShowPagination"],["nzWidth","60px"],["nzAlign","center"],["nzAlign","center","nzWidth","120px"],["nzRight","","nzWidth","100px","nzAlign","center"],[4,"ngFor","ngForOf"],["titleTemplate",""],["extraTemplate",""],[3,"nzExpand","nzExpandChange"],[4,"ngIf"],["nz-icon","","style","font-size: 20px;",3,"nzType","nzTheme","nzTwotoneColor",4,"ngIf"],["nzRight","","nzAlign","center"],["nz-list-item-actions","",2,"margin-left","6px"],["nz-icon","","nzType","edit","nzTheme","outline",3,"ngStyle","click",4,"ngIf"],["nz-icon","","nzType","check","nzTheme","outline","style","cursor: pointer;",3,"click",4,"ngIf"],["nz-icon","","nzType","delete","nzTheme","outline",2,"cursor","pointer",3,"click"],[1,"tr-expand",2,"background-color","#fff",3,"nzExpand"],[2,"background-color","#fbfbfb","height","55px","text-align","center","line-height","55px","margin-bottom","10px","border-bottom","1px solid #f0f0f0",3,"ngStyle"],[2,"padding","0px 12px 0px 12px"],["nzBordered","",3,"nzData","nzShowPagination"],["nzWidth","180px","nzAlign","center"],["nzRight","","nzWidth","150px","nzAlign","center"],["style","float: right; margin-top: 20px;","nz-button","","nzType","primary","type","button",3,"click",4,"ngIf"],["nz-input","","placeholder","Key",3,"ngModel","ngStyle","ngModelChange"],["keyInput",""],["nzPlaceHolder","Type",2,"width","50%",3,"ngModel","ngModelChange"],["nzLabel","exclude","nzValue","exclude"],["nzLabel","weight","nzValue","weight"],["nz-input","","placeholder","N\xba weight","style","width: 47%; margin-left: 2%",3,"ngModel","ngStyle","ngModelChange",4,"ngIf"],["nz-input","","placeholder","N\xba weight",2,"width","47%","margin-left","2%",3,"ngModel","ngStyle","ngModelChange"],["numberWeightInput",""],["nz-icon","",2,"font-size","20px",3,"nzType","nzTheme","nzTwotoneColor"],["nz-icon","","nzType","edit","nzTheme","outline",3,"ngStyle","click"],["nz-icon","","nzType","check","nzTheme","outline",2,"cursor","pointer",3,"click"],["nzPlaceHolder","Type",2,"width","150px",3,"ngModel","ngModelChange"],["nzLabel","numeric","nzValue","numeric"],["nzLabel","range","nzValue","range"],["nzLabel","charset","nzValue","charset"],["nz-row",""],["nz-col","","nzFlex","auto"],[1,"slider-whithout-color",3,"nzMin","nzMax","ngModel","ngClass","ngModelChange"],["nz-col","","nzFlex","250px",2,"text-align","center"],[3,"nzMin","nzMax","ngModel","nzRange","ngClass","ngModelChange"],["nz-col","","nzFlex","100px",2,"text-align","center"],["nz-col","","nzFlex","150px"],["nz-input","","placeholder","N\xba Cycles",3,"ngModel","ngStyle","ngModelChange"],["inputNumberCycles",""],["nzMode","multiple","nzPlaceHolder","Value",2,"width","100%",3,"ngModel","ngClass","ngModelChange","click"],["selectPostionCharset",""],[3,"nzLabel","nzValue",4,"ngIf"],[3,"nzLabel","nzValue"],["nz-button","","nzType","primary","type","button",2,"float","right","margin-top","20px",3,"click"],[2,"font-weight","bold","font-size","1.2em"],["nz-button","","nzType","primary","nzShape","round","type","button",3,"disabled","click"],["nz-icon","","nzType","plus"]],template:function(t,e){if(1&t&&(r.Xb(0,"nz-card",0),r.Xb(1,"nz-table",1),r.Xb(2,"thead"),r.Xb(3,"tr"),r.Sb(4,"th",2),r.Xb(5,"th",3),r.Mc(6,"Key"),r.Wb(),r.Xb(7,"th",3),r.Mc(8,"Type"),r.Wb(),r.Xb(9,"th",4),r.Mc(10,"Validaci\xf3n"),r.Wb(),r.Xb(11,"th",5),r.Mc(12,"Acciones"),r.Wb(),r.Wb(),r.Wb(),r.Xb(13,"tbody"),r.Kc(14,rpt,33,18,"ng-container",6),r.kc(15,"keyvalue"),r.Wb(),r.Wb(),r.Wb(),r.Kc(16,opt,2,0,"ng-template",null,7,r.Lc),r.Kc(18,spt,3,1,"ng-template",null,8,r.Lc)),2&t){const t=r.Ac(17),n=r.Ac(19);r.qc("nzTitle",t)("nzExtra",n),r.Db(1),r.qc("nzData",e.getArrayDataSet())("nzScroll",r.uc(8,apt))("nzShowPagination",!1),r.Db(13),r.qc("ngForOf",r.lc(15,6,e.dataSet))}},directives:[DX,XW,HW,$W,MW,PW,FW,IW,UW,i.m,RW,i.n,Bq,qq,Rf,No,GW,NW,kR,i.o,Hp,G,bt,ie,Gg,Ug,nr,ir,R9,vR,i.l,HL,qL],pipes:[i.h],styles:["tr.ant-table-expanded-row>td{background-color:#fff}  .ant-table-expanded-row-fixed{padding:0 0 12px!important}  .ant-table-tbody>tr.ant-table-row:hover>td{background-color:#fff!important}  tr.ant-table-expanded-row:hover>td, tr.ant-table-expanded-row[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{background-color:#fff!important}  .slider-whithout-color>.ant-slider>nz-slider-track>.ant-slider-track{background-color:transparent!important}  .select-error nz-select-top-control{border-color:red!important}  .select-error-box-shadow nz-select-top-control{box-shadow:0 0 0 2px rgba(225,24,24,.2)!important}  .slider-track-error>.ant-slider>nz-slider-track>.ant-slider-track{background-color:#ff9191!important}  .slider-track-error>.ant-slider:hover>nz-slider-track>.ant-slider-track{background-color:#ff6969!important}  .slider-handle-error>.ant-slider>nz-slider-handle>.ant-slider-handle{border:2px solid #ff9191!important}  .slider-handle-error>.ant-slider:hover>nz-slider-handle>.ant-slider-handle{border:2px solid #ff6969!important}  .slider-handle-error>.ant-slider>nz-slider-handle>.ant-slider-handle:focus{box-shadow:0 0 0 5px rgba(255,24,24,.12)}"]}),t})(),lpt=(()=>{class t extends Je{ngOnInit(){this.formControl.setValue({sets:"",assumptions:"none"})}formControlChangeValue(t){this.formControl.setValue(t)}}return t.\u0275fac=function(e){return upt(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["app-charset-field"]],features:[r.Ab],decls:3,vars:1,consts:[["nzAccordion","",2,"margin-bottom","20px"],["nzHeader","Charset"],[3,"posMax","ConvertToStringEvent"]],template:function(t,e){1&t&&(r.Xb(0,"nz-collapse",0),r.Xb(1,"nz-collapse-panel",1),r.Xb(2,"charset-component",2),r.fc("ConvertToStringEvent",function(t){return e.formControlChangeValue(t)}),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.Db(2),r.qc("posMax",e.to.posMax))},directives:[DY,MY,cpt],styles:[""]}),t})();const upt=r.Zb(lpt);let hpt=(()=>{class t extends tn{}return t.\u0275fac=function(e){return dpt(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["app-subprocess-wrapper"]],features:[r.Ab],decls:4,vars:1,consts:[[3,"nzTitle"],[1,"card-body"],["fieldComponent",""]],template:function(t,e){1&t&&(r.Xb(0,"nz-card",0),r.Xb(1,"div",1),r.Tb(2,null,2),r.Wb(),r.Wb()),2&t&&r.rc("nzTitle",e.to.label)},directives:[DX],styles:[""]}),t})();const dpt=r.Zb(hpt);var ppt=n("yMB1"),fpt=n.n(ppt);Object(i.B)(fpt.a,"es");let gpt=(()=>{class t{}return t.\u0275mod=r.Pb({type:t,bootstrap:[Aut]}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},providers:[{provide:r.d,useFactory:t=>()=>t.load(),deps:[zL],multi:!0},{provide:r.d,useFactory:t=>()=>t.loadTheme(qlt.themeGold),deps:[Blt],multi:!0},{provide:r.v,useValue:"es-ES"}],imports:[[vA,L,me,be,Oht,gn.forRoot({validators:[{name:"sequence-selector",validation:Wht}],validationMessages:[{name:"required",message:"This field is required"},{name:"sequence-selector",message:qht}],wrappers:[{name:"data-wrapper",component:Fht},{name:"subprocess-wrapper",component:hpt}],types:[{name:"stepper",component:Mht,wrappers:["form-field"]},{name:"wooded-selector",component:Fut},{name:"sequence-selector",component:Nht,wrappers:["data-wrapper"]},{name:"geolayer-selector",component:kdt,wrappers:["data-wrapper"]},{name:"charset-field",component:lpt},{name:"taxset-field",component:zdt}]}),um,Iat,Tc,$at.forRoot(),Xat.register("ngsw-worker.js",{enabled:hm.production}),Uat,EM,nP.forRoot(hm.firebase_config,()=>"NEXTGENDEM",hm.firebaseui_config),slt,rr,GL,xN,yN,Vo,VK,jL,ylt,Qp,nm,Qq,TP,YF,ip,hV,XH,KP,QW,z9,dY,RY,ML,Fj,vf,vlt,uX,GU,pu,pU,RX,Ef,DK,_lt,Alt,N9,ort,E$,bL,tat,Wlt,DM,qct]]}),t})();hm.production&&Object(r.V)(),A().bootstrapModule(gpt).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return c});var i=n("7o/Q"),r=n("HDdC"),o=n("SeVD");class s extends i.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends i.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function c(t,e){if(!e.closed)return t instanceof r.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);